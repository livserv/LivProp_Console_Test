import{r as a,c as v,u as S,j as e,d as w,R as y,h as x}from"./AlertSnackbar-lBoJjy_c.js";import{S as B}from"./delete-Dfw_3a_o.js";import{S as N}from"./download-D5CI_YfG.js";import{S as b}from"./edit-RxqNA5mD.js";import{S as L}from"./link-Ul-d4Acz.js";import{S as A}from"./plus-u7WazedS.js";import{i as k}from"./ajax-C92vMgMI.js";import{c as E,p as _}from"./svg-icons-Dza5ZJeH.js";import{C as D}from"./ConfirmDialog-CUxvc3Gr.js";import{B as r}from"./Button-BUErKIkp.js";import"./index-DDVnIUkz.js";import"./Button-BfGblH0o.js";import{T as f}from"./Toggle-DCZJ05lK.js";import{P}from"./PageHeader-mjWFswKG.js";import{C as R,a as H}from"./CreateBot-DczUhhIV.js";import{u as M,r as O,a as T}from"./bots-CVNImcdq.js";import{s as V}from"./organization-BeqV9dKf.js";import"./env-CmL5wTXD.js";import"./SelectBox-CsK0tKl_.js";import"./LabelWrapper-DJDIkEgu.js";import"./useSelectedBot-CI1XJECK.js";import"./cancel-Czd1xiMc.js";import"./send-D06_uxgX.js";const Z=t=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{d:"M1.66699 18.3333V3.33334C1.66699 2.87501 1.83019 2.48264 2.15658 2.15626C2.48296 1.82987 2.87533 1.66667 3.33366 1.66667H16.667C17.1253 1.66667 17.5177 1.82987 17.8441 2.15626C18.1705 2.48264 18.3337 2.87501 18.3337 3.33334V13.3333C18.3337 13.7917 18.1705 14.184 17.8441 14.5104C17.5177 14.8368 17.1253 15 16.667 15H5.00033L1.66699 18.3333ZM4.29199 13.3333H16.667V3.33334H3.33366V14.2708L4.29199 13.3333Z",fill:"#3A3A3A"})),I=t=>a.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"#37BD33",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.35164 1.3203C8.08377 1.54858 7.94982 1.66274 7.80677 1.75862C7.47886 1.9784 7.11059 2.13093 6.72331 2.20739C6.55436 2.24076 6.37893 2.25475 6.02809 2.28274C5.14657 2.3531 4.7058 2.38827 4.33808 2.51816C3.48756 2.81857 2.81857 3.48756 2.51816 4.33808C2.38827 4.7058 2.3531 5.14657 2.28274 6.02809C2.25475 6.37893 2.24076 6.55436 2.20739 6.72331C2.13093 7.11059 1.9784 7.47886 1.75862 7.80677C1.66274 7.94982 1.54859 8.08376 1.3203 8.35164C0.746716 9.02473 0.459913 9.36122 0.291745 9.71311C-0.0972482 10.527 -0.0972482 11.473 0.291745 12.2869C0.459924 12.6388 0.746716 12.9753 1.3203 13.6484C1.54856 13.9162 1.66274 14.0502 1.75862 14.1932C1.9784 14.5211 2.13093 14.8894 2.20739 15.2767C2.24076 15.4457 2.25475 15.6211 2.28274 15.9719C2.3531 16.8534 2.38827 17.2942 2.51816 17.6619C2.81857 18.5124 3.48756 19.1815 4.33808 19.4819C4.7058 19.6117 5.14657 19.6469 6.02809 19.7173C6.37893 19.7452 6.55436 19.7593 6.72331 19.7926C7.11059 19.8691 7.47886 20.0216 7.80677 20.2414C7.94982 20.3372 8.08376 20.4514 8.35164 20.6797C9.02473 21.2533 9.36122 21.5401 9.71311 21.7083C10.527 22.0972 11.473 22.0972 12.2869 21.7083C12.6388 21.5401 12.9753 21.2533 13.6484 20.6797C13.9162 20.4514 14.0502 20.3372 14.1932 20.2414C14.5211 20.0216 14.8894 19.8691 15.2767 19.7926C15.4457 19.7593 15.6211 19.7452 15.9719 19.7173C16.8534 19.6469 17.2942 19.6117 17.6619 19.4819C18.5124 19.1815 19.1815 18.5124 19.4819 17.6619C19.6117 17.2942 19.6469 16.8534 19.7173 15.9719C19.7452 15.6211 19.7593 15.4457 19.7926 15.2767C19.8691 14.8894 20.0216 14.5211 20.2414 14.1932C20.3372 14.0502 20.4514 13.9162 20.6797 13.6484C21.2533 12.9753 21.5401 12.6388 21.7083 12.2869C22.0972 11.473 22.0972 10.527 21.7083 9.71311C21.5401 9.36122 21.2533 9.02473 20.6797 8.35164C20.4514 8.08376 20.3372 7.94982 20.2414 7.80677C20.0216 7.47886 19.8691 7.11059 19.7926 6.72331C19.7593 6.55436 19.7452 6.37893 19.7173 6.02809C19.6469 5.14657 19.6117 4.7058 19.4819 4.33808C19.1815 3.48756 18.5124 2.81857 17.6619 2.51816C17.2942 2.38827 16.8534 2.3531 15.9719 2.28274C15.6211 2.25475 15.4457 2.24076 15.2767 2.20739C14.8894 2.13093 14.5211 1.9784 14.1932 1.75862C14.0502 1.66274 13.9162 1.54859 13.6484 1.3203C12.9753 0.746716 12.6388 0.459924 12.2869 0.291745C11.473 -0.0972482 10.527 -0.0972482 9.71311 0.291745C9.36122 0.459913 9.02473 0.746716 8.35164 1.3203ZM15.8109 8.64946C16.1604 8.29983 16.1604 7.733 15.8109 7.38338C15.4613 7.03376 14.8943 7.03376 14.5448 7.38338L9.20953 12.7186L7.45521 10.9644C7.10559 10.6148 6.53875 10.6148 6.18914 10.9644C5.83953 11.3139 5.83953 11.8808 6.18914 12.2305L8.57646 14.6178C8.92606 14.9674 9.49289 14.9674 9.84258 14.6178L15.8109 8.64946Z",fill:"inherit"}));function C1(){const t=v(o=>o.isSuperUser),l=S(o=>o.botsList),[n,c]=a.useState(!1),[p,m]=a.useState(1);return a.useEffect(()=>{!t&&l.length===0&&!n&&c(!0)},[l.length,n,t]),e.jsxs("div",{children:[e.jsx(P,{title:"Bots List",icon:A,onClick:()=>{c(!0),m(1)}}),e.jsx("div",{className:"flex flex-col gap-3 pt-6",children:l?.map(o=>e.jsx(U,{bot:o,setIsCreateBotVisible:c,setSetupStep:m},o._id))}),n&&e.jsx(R,{onClose:()=>c(!1),setupStep:p})]})}function U({bot:t,setIsCreateBotVisible:l,setSetupStep:n}){const c=w(),[p,m]=y.useState(!1),[o,C]=a.useState(!1),[u]=a.useState(t.botSettings.botCreationStatus),g=async s=>{await T(t._id,s)?(C(!1),x(!0,"Bot name updated successfully!","success")):x(!0,"Failed to update bot name. Please try again!","error")},h=async()=>{await O(t._id),m(!1)},j=async s=>{V(s);const i=t.botSettings?.botCreationStatus?.step;t.botName&&(i===1||i===void 0)?(n(2),l(!0)):i<3?(n(i+1),l(!0)):i>=3?c("/setup"):(n(1),l(!0))},d=async(s,i)=>await M(t._id,{[i]:s},!1);return e.jsxs("div",{className:"w-full rounded-md bg-white flex flex-col mlg:flex-row gap-6 mlg:gap-0 justify-between mlg:h-[70px] shadow-[0px_1px_4px_0px_#5653534D] p-2 md:py-6 md:px-6 lg:py-0",children:[e.jsxs("div",{className:"flex gap-6 w-full md:w-[25%]",children:[e.jsx("div",{className:"my-auto w-[25px]",children:e.jsx(I,{...t.verificationStatus?{}:{fill:"#bababa"}})}),e.jsxs("div",{className:"my-auto flex flex-col gap-1",children:[e.jsx("span",{className:"text-primary font-semibold text-[16px]",children:t.botName}),e.jsxs("span",{className:"text-[10px] text-[#5D5252]",children:["Created On: ",k(t.createdAt)]})]})]}),e.jsx("div",{className:"my-auto md:w-[200px]",children:e.jsx(f,{checked:t.getPreSaleLeads,label:"Get Presale Lead",className:"font-semibold text-xs text-black",onChange:s=>d(s,"getPreSaleLeads")})}),e.jsx("div",{className:"my-auto md:w-[200px]",children:e.jsx(f,{checked:t.isBotActivate,label:"Is Bot Active",className:"font-semibold text-xs text-black",onChange:s=>d(s,"isBotActivate")})}),e.jsxs("div",{className:"my-auto flex gap-1 md:gap-12 justify-center mlg:justify-normal",children:[u?.status?e.jsx(r,{icon:E,type:"plain"}):e.jsx(r,{icon:_,type:"plain",onClick:()=>j(t._id)}),e.jsx(r,{icon:e.jsx(L,{}),type:"plain"}),e.jsx(r,{icon:e.jsx(Z,{}),type:"plain"}),e.jsx(r,{icon:e.jsx(b,{}),type:"plain",onClick:()=>C(!0)}),e.jsx(r,{icon:e.jsx(N,{className:"text-[#3A3A3A]"}),type:"plain"}),e.jsx(r,{icon:e.jsx(B,{}),type:"plain",onClick:()=>m(!0)}),e.jsxs(D,{title:"Are sure you want to delete the bot ?",open:p,setOpen:m,onConfirm:()=>h(),children:["Confirm the deletion of ",t.botName,"."]})]}),o&&e.jsx(H,{values:t.botName,saveContent:s=>g(s),onClose:()=>C(!1)})]})}export{C1 as default};
