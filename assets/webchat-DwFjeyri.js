import{f as g,j as h}from"./AlertSnackbar-Cu3h0plZ.js";import{C as w}from"./ChatHandler-DBtwViaf.js";import{g as f}from"./KbDocsEditor-BeBaabLO.js";import"./ajax-C92vMgMI.js";import"./env-CmL5wTXD.js";import"./env-DWkyVZs8.js";import"./svg-icons-D74UvC7g.js";import"./Button-CdgpWTFt.js";import"./formik.esm-C5vJFWWq.js";import"./YesNoDropdown-BxF_e5RF.js";import"./SelectBox-BDGweDPH.js";import"./index-Dg8oRa5J.js";import"./LabelWrapper-EgF8sr7h.js";import"./Button-xOGl-aJM.js";import"./ProgressButton-Bv9WgXBa.js";import"./index-CVcrBw65.js";import"./TextBox-5aOHTS0e.js";import"./bots-vzdJkLOI.js";import"./useSelectedBot-Be2ooMzm.js";import"./PopUpDialog-Ckqz9r5A.js";import"./organization-DVIpOgT3.js";import"./PageHeader-DOOQ2yEQ.js";import"./index-C_aPBn5D.js";import"./ChatbotIcons-CUhGyjS-.js";import"./KbDocsList-NUz2tj11.js";import"./delete-C6YpXY0O.js";import"./download-CzRVVFET.js";import"./edit-VrWMFNEh.js";import"./plus-BIc-EsA3.js";import"./TableFooter-BVFgPTOX.js";import"./utils-BPLOM7gE.js";import"./ConfirmDialog-BKi3KCNW.js";import"./trainingDocuments-DcMDnJto.js";import"./send-DHeWFBaW.js";import"./Form-DWA9qjOT.js";const a=document.getElementById("root");if(!a)throw new Error("Root element not found");const x=g.createRoot(a),o=T();let l=null;const i=new URLSearchParams(window.location.search),I=!!i.get("autoLaunch"),L=i.get("recipientId")||void 0,c=i.get("fullscreen")==="true",S=i.get("iscustomchatwindow")==="true",C=i.get("sourceUrl")??o;await f();x.render(h.jsx(w,{onCallback:R,autoLaunch:c?!0:I,recipientId:L,origin:o,fullscreen:c,isCustomChatWindow:S,sourceUrl:C}));function R(e,t){e==="toggleFS"?t.isFullScreen?n("toggleFS_ON",o,void 0):p(!0,l):e==="windowToggle"?p(t.state,t.design):e==="windowOpenedAfterDelay"?U(t.state):n(e,o,t)}function p(e,t){e?(l=t,n("windowToggle",o,{state:e,design:t})):(y(),setTimeout(()=>{F()},t===!0?540:1540))}function U(e){n("handleWindowOpenedAfterDelay",o,{state:e})}function y(){setTimeout(()=>n("moveIFrameForLauncher",o,{}),300)}function F(){const e=document.getElementById("lp-launcher"),t=E(e);if(e){const r=e.querySelector("div.button-tooltip");if(r){const d=window.innerHeight,u=window.innerWidth,s=r.getBoundingClientRect()||{y:0,x:0};t.height=m(parseInt(t.height),parseInt(String(d-s.y)))+"px",t.width=m(parseInt(t.width),parseInt(String(u-s.x)))+"px"}}n("windowToggle",o,{state:!1,design:t})}function E(e){const t=e?.getBoundingClientRect()||{};return{height:`${t.height||62}px`,width:`${t.width||250}px`}}function m(e,t){return!e||!t?e??t??0:e>t?e:t}function n(e,t,r){t&&window.parent.postMessage({source:"lp-webchat",action:e,...r||{}},t)}function T(){if(!window.parent)return;let t=new URLSearchParams(document.location.search).get("sourceUrl")||void 0;return t&&(t=new URL(t).origin),t}
