import{r as h,R as L,i as jf,g as Pg,j as f,b as Dn,c as Ol}from"./index-CCQKC7kY.js";import{_ as Pl,b as ke,c as $a,T as lu,I as On,u as la,P as ca,d as lo,U as Nf,e as Rg,f as Rl,g as Ag,E as Lg,h as Ma,D as fe,i as Al,j as Jt,Z as xr,k as zt,l as Ll,m as Ke,n as Fl,o as $l,O as je,p as Df,q as If,r as In,R as Ko,s as Fg,t as Ba,v as $g,w as Bg,S as Tf,x as Hg,y as zg,z as $s,B as Wg,A as Vg,F as Yg,G as Ug,H as Gg,J as Mf,K as Bl,L as ji,M as qg,N as ns,Q as Xg,V as Zg,a as Kg,W as Qg,C as Jg}from"./index-D8TIwa1e.js";import{r as _f,R as Of}from"./index-Cr1SGxRI.js";import{g as ua,p as Pf,r as ev}from"./ajax-DLEL1G7a.js";import{u as Rf}from"./useSelectedBot-DY2XvfN5.js";import{h as cu}from"./hoist-non-react-statics.cjs-CFgCeNhp.js";import{S as tv}from"./delete-DA38DQbn.js";import{L as rv}from"./LabelWrapper-DRfKGVWW.js";import"./Button-DesRcnRR.js";import{T as nv}from"./Toggle-BCrlh2uH.js";import{S as av}from"./loader-D4qhKJKS.js";import"./utils-BxUv4Y9r.js";function ov(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hl(e,t){var r=function(o){return t&&h.isValidElement(o)?t(o):o},n=Object.create(null);return e&&h.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function iv(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),a=[];for(var o in e)o in t?a.length&&(n[o]=a,a=[]):a.push(o);var i,s={};for(var l in t){if(n[l])for(i=0;i<n[l].length;i++){var c=n[l][i];s[n[l][i]]=r(c)}s[l]=r(l)}for(i=0;i<a.length;i++)s[a[i]]=r(a[i]);return s}function Sn(e,t,r){return r[t]!=null?r[t]:e.props[t]}function sv(e,t){return Hl(e.children,function(r){return h.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Sn(r,"appear",e),enter:Sn(r,"enter",e),exit:Sn(r,"exit",e)})})}function lv(e,t,r){var n=Hl(e.children),a=iv(t,n);return Object.keys(a).forEach(function(o){var i=a[o];if(h.isValidElement(i)){var s=o in t,l=o in n,c=t[o],u=h.isValidElement(c)&&!c.props.in;l&&(!s||u)?a[o]=h.cloneElement(i,{onExited:r.bind(null,i),in:!0,exit:Sn(i,"exit",e),enter:Sn(i,"enter",e)}):!l&&s&&!u?a[o]=h.cloneElement(i,{in:!1}):l&&s&&h.isValidElement(c)&&(a[o]=h.cloneElement(i,{onExited:r.bind(null,i),in:c.props.in,exit:Sn(i,"exit",e),enter:Sn(i,"enter",e)}))}}),a}var cv=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},uv={component:"div",childFactory:function(t){return t}},zl=function(e){Pl(t,e);function t(n,a){var o;o=e.call(this,n,a)||this;var i=o.handleExited.bind(ov(o));return o.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,o){var i=o.children,s=o.handleExited,l=o.firstRender;return{children:l?sv(a,s):lv(a,i,s),firstRender:!1}},r.handleExited=function(a,o){var i=Hl(this.props.children);a.key in i||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(s){var l=ke({},s.children);return delete l[a.key],{children:l}}))},r.render=function(){var a=this.props,o=a.component,i=a.childFactory,s=$a(a,["component","childFactory"]),l=this.state.contextValue,c=cv(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,o===null?L.createElement(lu.Provider,{value:l},c):L.createElement(lu.Provider,{value:l},L.createElement(o,s,c))},t}(L.Component);zl.propTypes={};zl.defaultProps=uv;function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}var Wl=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",Bs({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));Wl.displayName="TimesIcon";function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(null,arguments)}var Af=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",Hs({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"}))}));Af.displayName="WindowMaximizeIcon";function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(null,arguments)}var Lf=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",zs({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"}))}));Lf.displayName="WindowMinimizeIcon";function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(null,arguments)}function Ha(e){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ha(e)}function Vs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function dv(e){if(Array.isArray(e))return Vs(e)}function fv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ff(e,t){if(e){if(typeof e=="string")return Vs(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vs(e,t):void 0}}function mv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pv(e){return dv(e)||fv(e)||Ff(e)||mv()}function hv(e,t){if(Ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gv(e){var t=hv(e,"string");return Ha(t)=="symbol"?t:t+""}function Vl(e,t,r){return(t=gv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vv(e){if(Array.isArray(e))return e}function yv(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function bv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zr(e,t){return vv(e)||yv(e,t)||Ff(e,t)||bv()}var wv="",Ra=lo.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:wv},getProps:function(t){return je.getMergedProps(t,Ra.defaultProps)},getOtherProps:function(t){return je.getDiffProps(t,Ra.defaultProps)}});function uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uu(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Sv=L.memo(L.forwardRef(function(e,t){var r=L.useRef(null),n=L.useRef(null),a=L.useRef(null),o=L.useContext(ca),i=Ra.getProps(e,o),s={props:i};Df(Ra.css.styles,{name:"focustrap"});var l=Ra.setMetaData(xv({},s));l.ptm,L.useImperativeHandle(t,function(){return{props:i,getInk:function(){return n.current},getTarget:function(){return r.current}}}),Al(function(){i.disabled||(r.current=c(),u(r.current))});var c=function(){return n.current&&n.current.parentElement},u=function(S){var w=i||{},j=w.autoFocusSelector,D=j===void 0?"":j,N=w.firstFocusableSelector,I=N===void 0?"":N,M=w.autoFocus,x=M===void 0?!1:M,g="".concat(d(D)),b="[autofocus]".concat(g,", [data-pc-autofocus='true']").concat(g),k=fe.getFirstFocusableElement(S,b);x&&!k&&(k=fe.getFirstFocusableElement(S,d(I))),fe.focus(k)},d=function(S){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(S??"")},m=function(S){var w,j=S.currentTarget,D=S.relatedTarget,N=D===j.$_pfocustrap_lasthiddenfocusableelement||!((w=r.current)!==null&&w!==void 0&&w.contains(D))?fe.getFirstFocusableElement(j.parentElement,d(j.$_pfocustrap_focusableselector)):j.$_pfocustrap_lasthiddenfocusableelement;fe.focus(N)},p=function(S){var w,j=S.currentTarget,D=S.relatedTarget,N=D===j.$_pfocustrap_firsthiddenfocusableelement||!((w=r.current)!==null&&w!==void 0&&w.contains(D))?fe.getLastFocusableElement(j.parentElement,d(j.$_pfocustrap_focusableselector)):j.$_pfocustrap_firsthiddenfocusableelement;fe.focus(N)},v=function(){var S=i||{},w=S.tabIndex,j=w===void 0?0:w,D=function(x,g,b){return L.createElement("span",{ref:x,className:"p-hidden-accessible p-hidden-focusable",tabIndex:j,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:g,"data-pc-section":b})},N=D(n,m,"firstfocusableelement"),I=D(a,p,"lastfocusableelement");return n.current&&a.current&&(n.current.$_pfocustrap_lasthiddenfocusableelement=a.current,a.current.$_pfocustrap_firsthiddenfocusableelement=n.current),L.createElement(L.Fragment,null,N,i.children,I)};return v()})),kv=Sv;function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?du(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ev={closeButtonIcon:"p-dialog-header-close-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",maximizableIcon:"p-dialog-header-maximize-icon",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",header:function(t){var r=t.props;return Ke("p-dialog-header",r.headerClassName)},headerTitle:"p-dialog-title",headerIcons:"p-dialog-header-icons",content:function(t){var r=t.props;return Ke("p-dialog-content",r.contentClassName)},footer:function(t){var r=t.props;return Ke("p-dialog-footer",r.footerClassName)},mask:function(t){var r=t.props,n=t.maskVisibleState,a=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"],o=a.find(function(i){return i===r.position||i.replace("-","")===r.position});return Ke("p-dialog-mask",o?"p-dialog-".concat(o):"",{"p-component-overlay p-component-overlay-enter":r.modal,"p-dialog-visible":n,"p-dialog-draggable":r.draggable,"p-dialog-resizable":r.resizable},r.maskClassName)},root:function(t){var r=t.props,n=t.maximized,a=t.context;return Ke("p-dialog p-component",{"p-dialog-rtl":r.rtl,"p-dialog-maximized":n,"p-dialog-default":!n,"p-input-filled":a&&a.inputStyle==="filled"||zt.inputStyle==="filled","p-ripple-disabled":a&&a.ripple===!1||zt.ripple===!1})},transition:"p-dialog"},jv=`
@layer primereact {
    .p-dialog-mask {
        background-color: transparent;
        transition-property: background-color;
    }

    .p-dialog-visible {
        display: flex;
    }

    .p-dialog-mask.p-component-overlay {
        pointer-events: auto;
    }

    .p-dialog {
        display: flex;
        flex-direction: column;
        pointer-events: auto;
        max-height: 90%;
        transform: scale(1);
        position: relative;
    }

    .p-dialog-content {
        overflow-y: auto;
        flex-grow: 1;
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        flex-shrink: 0;
    }

    .p-dialog-footer {
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icons {
        display: flex;
        align-items: center;
        align-self: flex-start;
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    .p-dialog .p-dialog-title {
        flex-grow: 1;
    }

    /* Fluid */
    .p-fluid .p-dialog-footer .p-button {
        width: auto;
    }

    /* Animation */
    /* Center */
    .p-dialog-enter {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-enter-active {
        opacity: 1;
        transform: scale(1);
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-enter-done {
        transform: none;
    }

    .p-dialog-exit-active {
        opacity: 0;
        transform: scale(0.7);
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Top, Bottom, Left, Right, Top* and Bottom* */
    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-top-left .p-dialog,
    .p-dialog-top-right .p-dialog,
    .p-dialog-bottom-left .p-dialog,
    .p-dialog-bottom-right .p-dialog {
        margin: 0.75em;
    }

    .p-dialog-top .p-dialog-enter,
    .p-dialog-top .p-dialog-exit-active {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter,
    .p-dialog-bottom .p-dialog-exit-active {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-enter,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-enter,
    .p-dialog-bottom-left .p-dialog-exit-active {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-enter,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-enter,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-top-left .p-dialog-enter-active,
    .p-dialog-bottom-left .p-dialog-enter-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-top-right .p-dialog-enter-active,
    .p-dialog-bottom-right .p-dialog-enter-active {
        transform: translate3d(0px, 0px, 0px);
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-exit-active,
    .p-dialog-bottom .p-dialog-exit-active,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-exit-active,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transition: all 0.3s ease-out;
    }

    /* Maximize */
    .p-dialog-maximized {
        transition: none;
        transform: none;
        margin: 0;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }

    .p-confirm-dialog .p-dialog-content {
        display: flex;
        align-items: center;
    }

    /* Resizable */
    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }

    .p-dialog-draggable .p-dialog-header {
        cursor: move;
    }
}
`,Nv={mask:function(t){var r=t.props;return Cv({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:r.position==="left"||r.position==="top-left"||r.position==="bottom-left"?"flex-start":r.position==="right"||r.position==="top-right"||r.position==="bottom-right"?"flex-end":"center",alignItems:r.position==="top"||r.position==="top-left"||r.position==="top-right"?"flex-start":r.position==="bottom"||r.position==="bottom-left"||r.position==="bottom-right"?"flex-end":"center",pointerEvents:!r.modal&&"none"},r.maskStyle)}},So=lo.extend({defaultProps:{__TYPE:"Dialog",__parentMetadata:null,appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeIcon:null,closeOnEscape:!0,content:null,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,footerClassName:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximizeIcon:null,maximized:!1,minX:0,minY:0,minimizeIcon:null,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,showCloseIcon:!0,style:null,transitionOptions:null,visible:!1,children:void 0},css:{classes:Ev,styles:jv,inlineStyles:Nv}});function fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fu(Object(r),!0).forEach(function(n){Vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var co=h.forwardRef(function(e,t){var r=la(),n=h.useContext(ca),a=So.getProps(e,n),o=a.id?a.id:Nf(),i=h.useState(o),s=Zr(i,2),l=s[0];s[1];var c=h.useState(!1),u=Zr(c,2),d=u[0],m=u[1],p=h.useState(!1),v=Zr(p,2),y=v[0],S=v[1],w=h.useState(a.maximized),j=Zr(w,2),D=j[0],N=j[1],I=h.useRef(null),M=h.useRef(null),x=h.useRef(null),g=h.useRef(null),b=h.useRef(null),k=h.useRef(null),E=h.useRef(null),O=h.useRef(!1),_=h.useRef(!1),C=h.useRef(null),T=h.useRef(null),R=h.useRef(null),$=h.useRef(o),A=h.useRef(null),P=a.onMaximize?a.maximized:D,F=y&&(a.blockScroll||a.maximizable&&P),W=a.closable&&a.closeOnEscape&&y,z=Rg("dialog",W),V=So.setMetaData(as(as({props:a},a.__parentMetadata),{},{state:{id:l,maximized:P,containerVisible:d}})),G=V.ptm,H=V.cx,B=V.sx,X=V.isUnstyled;Rl(So.css.styles,X,{name:"dialog"}),Ag({callback:function(K){nt(K)},when:W&&z,priority:[Lg.DIALOG,z]});var Z=Ma({type:"mousemove",target:function(){return window.document},listener:function(K){return yt(K)}}),se=Zr(Z,2),U=se[0],ce=se[1],Ce=Ma({type:"mouseup",target:function(){return window.document},listener:function(K){return bt(K)}}),we=Zr(Ce,2),ae=we[0],Me=we[1],Re=Ma({type:"mousemove",target:function(){return window.document},listener:function(K){return qt(K)}}),Ee=Zr(Re,2),de=Ee[0],Q=Ee[1],Ie=Ma({type:"mouseup",target:function(){return window.document},listener:function(K){return Qe(K)}}),Rt=Zr(Ie,2),At=Rt[0],kt=Rt[1],nt=function(K){a.onHide(K),K.preventDefault()},Lt=function(){var K=document.activeElement,Ne=K&&I.current&&I.current.contains(K);!Ne&&a.closable&&a.showCloseIcon&&a.showHeader&&E.current&&E.current.focus()},pt=function(K){x.current=K.target,a.onPointerDown&&a.onPointerDown(K)},Ct=function(K){a.dismissableMask&&a.modal&&M.current===K.target&&!x.current&&nt(K),a.onMaskClick&&a.onMaskClick(K),x.current=null},Et=function(K){a.onMaximize?a.onMaximize({originalEvent:K,maximized:!P}):N(function(Ne){return!Ne}),K.preventDefault()},jt=function(K){fe.hasClass(K.target,"p-dialog-header-icon")||fe.hasClass(K.target.parentElement,"p-dialog-header-icon")||a.draggable&&(O.current=!0,C.current=K.pageX,T.current=K.pageY,fe.addClass(document.body,"p-unselectable-text"),a.onDragStart&&a.onDragStart(K))},qt=function(K){if(O.current){var Ne=fe.getOuterWidth(I.current),ze=fe.getOuterHeight(I.current),We=K.pageX-C.current,Ft=K.pageY-T.current,It=I.current.getBoundingClientRect(),pe=It.left+We,q=It.top+Ft,re=fe.getViewport(),ie=getComputedStyle(I.current),le=parseFloat(ie.marginLeft),ge=parseFloat(ie.marginTop);I.current.style.position="fixed",a.keepInViewport?(pe>=a.minX&&pe+Ne<re.width&&(C.current=K.pageX,I.current.style.left=pe-le+"px"),q>=a.minY&&q+ze<re.height&&(T.current=K.pageY,I.current.style.top=q-ge+"px")):(C.current=K.pageX,I.current.style.left=pe-le+"px",T.current=K.pageY,I.current.style.top=q-ge+"px"),a.onDrag&&a.onDrag(K)}},Qe=function(K){O.current&&(O.current=!1,fe.removeClass(document.body,"p-unselectable-text"),a.onDragEnd&&a.onDragEnd(K))},at=function(K){a.resizable&&(_.current=!0,C.current=K.pageX,T.current=K.pageY,fe.addClass(document.body,"p-unselectable-text"),a.onResizeStart&&a.onResizeStart(K))},Nt=function(K,Ne,ze){!ze&&(ze=fe.getViewport());var We=parseInt(K);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(K)?We*(ze[Ne]/100):We},yt=function(K){if(_.current){var Ne=K.pageX-C.current,ze=K.pageY-T.current,We=fe.getOuterWidth(I.current),Ft=fe.getOuterHeight(I.current),It=I.current.getBoundingClientRect(),pe=fe.getViewport(),q=!parseInt(I.current.style.top)||!parseInt(I.current.style.left),re=Nt(I.current.style.minWidth,"width",pe),ie=Nt(I.current.style.minHeight,"height",pe),le=We+Ne,ge=Ft+ze;q&&(le=le+Ne,ge=ge+ze),(!re||le>re)&&It.left+le<pe.width&&(I.current.style.width=le+"px"),(!ie||ge>ie)&&It.top+ge<pe.height&&(I.current.style.height=ge+"px"),C.current=K.pageX,T.current=K.pageY,a.onResize&&a.onResize(K)}},bt=function(K){_.current&&(_.current=!1,fe.removeClass(document.body,"p-unselectable-text"),a.onResizeEnd&&a.onResizeEnd(K))},wt=function(){I.current.style.position="",I.current.style.left="",I.current.style.top="",I.current.style.margin=""},ht=function(){I.current.setAttribute($.current,"")},Xt=function(){a.onShow&&a.onShow(),a.focusOnShow&&Lt(),Nr()},Zt=function(){a.modal&&!X()&&fe.addClass(M.current,"p-component-overlay-leave")},ir=function(){O.current=!1,xr.clear(M.current),m(!1),Dr(),fe.focus(A.current),A.current=null},Nr=function(){pn()},Dr=function(){Ir()},Dt=function(){var K=document.primeDialogParams&&document.primeDialogParams.some(function(Ne){return Ne.hasBlockScroll});K?fe.blockBodyScroll():fe.unblockBodyScroll()},vr=function(K){if(K&&y){var Ne={id:l,hasBlockScroll:F};document.primeDialogParams||(document.primeDialogParams=[]);var ze=document.primeDialogParams.findIndex(function(We){return We.id===l});ze===-1?document.primeDialogParams=[].concat(pv(document.primeDialogParams),[Ne]):document.primeDialogParams=document.primeDialogParams.toSpliced(ze,1,Ne)}else document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter(function(We){return We.id!==l});Dt()},pn=function(){a.draggable&&(de(),At()),a.resizable&&(U(),ae())},Ir=function(){Q(),kt(),ce(),Me()},Tr=function(){R.current=fe.createInlineStyle(n&&n.nonce||zt.nonce,n&&n.styleContainer);var K="";for(var Ne in a.breakpoints)K=K+`
                @media screen and (max-width: `.concat(Ne,`) {
                     [data-pc-name="dialog"][`).concat($.current,`] {
                        width: `).concat(a.breakpoints[Ne],` !important;
                    }
                }
            `);R.current.innerHTML=K},Xr=function(){R.current=fe.removeInlineStyle(R.current)};Al(function(){vr(!0),a.visible&&m(!0)}),h.useEffect(function(){return a.breakpoints&&Tr(),function(){Xr()}},[a.breakpoints]),Jt(function(){a.visible&&!d&&m(!0),a.visible!==y&&d&&S(a.visible),a.visible&&(A.current=document.activeElement)},[a.visible,d]),Jt(function(){d&&(xr.set("modal",M.current,n&&n.autoZIndex||zt.autoZIndex,a.baseZIndex||n&&n.zIndex.modal||zt.zIndex.modal),S(!0))},[d]),Jt(function(){vr(!0)},[F,y]),Ll(function(){Dr(),vr(!1),fe.removeInlineStyle(R.current),xr.clear(M.current)}),h.useImperativeHandle(t,function(){return{props:a,resetPosition:wt,getElement:function(){return I.current},getMask:function(){return M.current},getContent:function(){return g.current},getHeader:function(){return b.current},getFooter:function(){return k.current},getCloseButton:function(){return E.current}}});var Mr=function(){if(a.closable&&a.showCloseIcon){var K=a.ariaCloseIconLabel||If("close"),Ne=r({className:H("closeButtonIcon"),"aria-hidden":!0},G("closeButtonIcon")),ze=a.closeIcon||h.createElement(Wl,Ne),We=In.getJSXIcon(ze,as({},Ne),{props:a}),Ft=r({ref:E,type:"button",className:H("closeButton"),"aria-label":K,onClick:nt,onKeyDown:function(pe){pe.key!=="Escape"&&pe.stopPropagation()}},G("closeButton"));return h.createElement("button",Ft,We,h.createElement(Ko,null))}return null},hn=function(){var K,Ne=r({className:H("maximizableIcon")},G("maximizableIcon"));P?K=a.minimizeIcon||h.createElement(Lf,Ne):K=a.maximizeIcon||h.createElement(Af,Ne);var ze=In.getJSXIcon(K,Ne,{props:a});if(a.maximizable){var We=r({type:"button",className:H("maximizableButton"),onClick:Et},G("maximizableButton"));return h.createElement("button",We,ze,h.createElement(Ko,null))}return null},yr=function(){if(a.showHeader){var K=Mr(),Ne=hn(),ze=je.getJSXElement(a.icons,a),We=je.getJSXElement(a.header,a),Ft=l+"_header",It=r({ref:b,style:a.headerStyle,className:H("header"),onMouseDown:jt},G("header")),pe=r({id:Ft,className:H("headerTitle")},G("headerTitle")),q=r({className:H("headerIcons")},G("headerIcons"));return h.createElement("div",It,h.createElement("div",pe,We),h.createElement("div",q,ze,Ne,K))}return null},ye=function(){var K=l+"_content",Ne=r({id:K,ref:g,style:a.contentStyle,className:H("content")},G("content"));return h.createElement("div",Ne,a.children)},Y=function(){var K=je.getJSXElement(a.footer,a),Ne=r({ref:k,className:H("footer")},G("footer"));return K&&h.createElement("div",Ne,K)},J=function(){return a.resizable?h.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:at}):null},_e=function(){var K,Ne={header:a.header,content:a.message,message:a==null||(K=a.children)===null||K===void 0||(K=K[1])===null||K===void 0||(K=K.props)===null||K===void 0?void 0:K.children},ze={headerRef:b,contentRef:g,footerRef:k,closeRef:E,hide:nt,message:Ne};return je.getJSXElement(e.content,ze)},Ue=function(){var K=yr(),Ne=ye(),ze=Y(),We=J();return h.createElement(h.Fragment,null,K,Ne,ze,We)},ut=function(){var K=l+"_header",Ne=l+"_content",ze={enter:a.position==="center"?150:300,exit:a.position==="center"?150:300},We=r({ref:M,style:B("mask"),className:H("mask"),onPointerUp:Ct},G("mask")),Ft=r({ref:I,id:l,className:Ke(a.className,H("root",{props:a,maximized:P,context:n})),style:a.style,onClick:a.onClick,role:"dialog","aria-labelledby":K,"aria-describedby":Ne,"aria-modal":a.modal,onPointerDown:pt},So.getOtherProps(a),G("root")),It=r({classNames:H("transition"),timeout:ze,in:y,options:a.transitionOptions,unmountOnExit:!0,onEnter:ht,onEntered:Xt,onExiting:Zt,onExited:ir},G("transition")),pe=null;e!=null&&e.content?pe=_e():pe=Ue();var q=h.createElement("div",We,h.createElement(Fl,Ws({nodeRef:I},It),h.createElement("div",Ft,h.createElement(kv,{autoFocus:a.focusOnShow},pe))));return h.createElement($l,{element:q,appendTo:a.appendTo,visible:!0})};return d&&ut()});co.displayName="Dialog";function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(null,arguments)}var $f=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",Ys({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));$f.displayName="CheckIcon";function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}var Bf=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",Us({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"}),h.createElement("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"}),h.createElement("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"}))}));Bf.displayName="ExclamationTriangleIcon";function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(null,arguments)}var Hf=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",Gs({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"}))}));Hf.displayName="InfoCircleIcon";function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(null,arguments)}var Yl=h.memo(h.forwardRef(function(e,t){var r=On.getPTI(e);return h.createElement("svg",qs({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));Yl.displayName="TimesCircleIcon";function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xs.apply(null,arguments)}function Zs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Dv(e){if(Array.isArray(e))return Zs(e)}function Iv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zf(e,t){if(e){if(typeof e=="string")return Zs(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zs(e,t):void 0}}function Tv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(e){return Dv(e)||Iv(e)||zf(e)||Tv()}function Mv(e){if(Array.isArray(e))return e}function _v(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function Ov(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ks(e,t){return Mv(e)||_v(e,t)||zf(e,t)||Ov()}function za(e){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Pv(e,t){if(za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rv(e){var t=Pv(e,"string");return za(t)=="symbol"?t:t+""}function Wf(e,t,r){return(t=Rv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Av=`
@layer primereact {
    .p-toast {
        width: calc(100% - var(--toast-indent, 0px));
        max-width: 25rem;
    }
    
    .p-toast-message-icon {
        flex-shrink: 0;
    }
    
    .p-toast-message-content {
        display: flex;
        align-items: flex-start;
    }
    
    .p-toast-message-text {
        flex: 1 1 auto;
    }
    
    .p-toast-summary {
        overflow-wrap: anywhere;
    }
    
    .p-toast-detail {
        overflow-wrap: anywhere;
    }
    
    .p-toast-top-center {
        transform: translateX(-50%);
    }
    
    .p-toast-bottom-center {
        transform: translateX(-50%);
    }
    
    .p-toast-center {
        min-width: 20vw;
        transform: translate(-50%, -50%);
    }
    
    .p-toast-icon-close {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }
    
    .p-toast-icon-close.p-link {
        cursor: pointer;
    }
    
    /* Animations */
    .p-toast-message-enter {
        opacity: 0;
        transform: translateY(50%);
    }
    
    .p-toast-message-enter-active {
        opacity: 1;
        transform: translateY(0);
        transition: transform 0.3s, opacity 0.3s;
    }
    
    .p-toast-message-enter-done {
        transform: none;
    }
    
    .p-toast-message-exit {
        opacity: 1;
        max-height: 1000px;
    }
    
    .p-toast .p-toast-message.p-toast-message-exit-active {
        opacity: 0;
        max-height: 0;
        margin-bottom: 0;
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    }
}
`,Lv={root:function(t){var r=t.props,n=t.context;return Ke("p-toast p-component p-toast-"+r.position,r.className,{"p-input-filled":n&&n.inputStyle==="filled"||zt.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||zt.ripple===!1})},message:{message:function(t){var r=t.severity;return Ke("p-toast-message",Wf({},"p-toast-message-".concat(r),r))},content:"p-toast-message-content",buttonicon:"p-toast-icon-close-icon",closeButton:"p-toast-icon-close p-link",icon:"p-toast-message-icon",text:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail"},transition:"p-toast-message"},Fv={root:function(t){var r=t.props;return{position:"fixed",top:r.position==="top-right"||r.position==="top-left"||r.position==="top-center"?"20px":r.position==="center"?"50%":null,right:(r.position==="top-right"||r.position==="bottom-right")&&"20px",bottom:(r.position==="bottom-left"||r.position==="bottom-right"||r.position==="bottom-center")&&"20px",left:r.position==="top-left"||r.position==="bottom-left"?"20px":r.position==="center"||r.position==="top-center"||r.position==="bottom-center"?"50%":null}}},ko=lo.extend({defaultProps:{__TYPE:"Toast",id:null,className:null,content:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null,children:void 0},css:{classes:Lv,styles:Av,inlineStyles:Fv}});function mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mu(Object(r),!0).forEach(function(n){Wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Vf=h.memo(h.forwardRef(function(e,t){var r=la(),n=e.messageInfo,a=e.metaData,o=e.ptCallbacks,i=o.ptm,s=o.ptmo,l=o.cx,c=e.index,u=n.message,d=u.severity,m=u.content,p=u.summary,v=u.detail,y=u.closable,S=u.life,w=u.sticky,j=u.className,D=u.style,N=u.contentClassName,I=u.contentStyle,M=u.icon,x=u.closeIcon,g=u.pt,b={index:c},k=tt(tt({},a),b),E=h.useState(!1),O=Ks(E,2),_=O[0],C=O[1],T=Fg(function(){P()},S||3e3,!w&&!_),R=Ks(T,1),$=R[0],A=function(U,ce){return i(U,tt({hostName:e.hostName},ce))},P=function(){$(),e.onClose&&e.onClose(n)},F=function(U){e.onClick&&!(fe.hasClass(U.target,"p-toast-icon-close")||fe.hasClass(U.target,"p-toast-icon-close-icon"))&&e.onClick(n.message)},W=function(U){e.onMouseEnter&&e.onMouseEnter(U),!U.defaultPrevented&&(w||($(),C(!0)))},z=function(U){e.onMouseLeave&&e.onMouseLeave(U),!U.defaultPrevented&&(w||C(!1))},V=function(){var U=r({className:l("message.buttonicon")},A("buttonicon",k),s(g,"buttonicon",tt(tt({},b),{},{hostName:e.hostName}))),ce=x||h.createElement(Wl,U),Ce=In.getJSXIcon(ce,tt({},U),{props:e}),we=r({type:"button",className:l("message.closeButton"),onClick:P,"aria-label":e.ariaCloseLabel||If("close")},A("closeButton",k),s(g,"closeButton",tt(tt({},b),{},{hostName:e.hostName})));return y!==!1?h.createElement("div",null,h.createElement("button",we,Ce,h.createElement(Ko,null))):null},G=function(){if(n){var U=je.getJSXElement(m,{message:n.message,onClick:F,onClose:P}),ce=r({className:l("message.icon")},A("icon",k),s(g,"icon",tt(tt({},b),{},{hostName:e.hostName}))),Ce=M;if(!M)switch(d){case"info":Ce=h.createElement(Hf,ce);break;case"warn":Ce=h.createElement(Bf,ce);break;case"error":Ce=h.createElement(Yl,ce);break;case"success":Ce=h.createElement($f,ce);break}var we=In.getJSXIcon(Ce,tt({},ce),{props:e}),ae=r({className:l("message.text")},A("text",k),s(g,"text",tt(tt({},b),{},{hostName:e.hostName}))),Me=r({className:l("message.summary")},A("summary",k),s(g,"summary",tt(tt({},b),{},{hostName:e.hostName}))),Re=r({className:l("message.detail")},A("detail",k),s(g,"detail",tt(tt({},b),{},{hostName:e.hostName})));return U||h.createElement(h.Fragment,null,we,h.createElement("div",ae,h.createElement("span",Me,p),v&&h.createElement("div",Re,v)))}return null},H=G(),B=V(),X=r({ref:t,className:Ke(j,l("message.message",{severity:d})),style:D,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:F,onMouseEnter:W,onMouseLeave:z},A("message",k),s(g,"root",tt(tt({},b),{},{hostName:e.hostName}))),Z=r({className:Ke(N,l("message.content")),style:I},A("content",k),s(g,"content",tt(tt({},b),{},{hostName:e.hostName})));return h.createElement("div",X,h.createElement("div",Z,H,B))}));Vf.displayName="ToastMessage";var pu=0,Yf=h.memo(h.forwardRef(function(e,t){var r=la(),n=h.useContext(ca),a=ko.getProps(e,n),o=h.useState([]),i=Ks(o,2),s=i[0],l=i[1],c=h.useRef(null),u={props:a,state:{messages:s}},d=ko.setMetaData(u);Rl(ko.css.styles,d.isUnstyled,{name:"toast"});var m=function(x){x&&l(function(g){return p(g,x,!0)})},p=function(x,g,b){var k;if(Array.isArray(g)){var E=g.reduce(function(_,C){return _.push({_pId:pu++,message:C}),_},[]);b?k=x?[].concat(os(x),os(E)):E:k=E}else{var O={_pId:pu++,message:g};b?k=x?[].concat(os(x),[O]):[O]:k=[O]}return k},v=function(){xr.clear(c.current),l([])},y=function(x){l(function(g){return p(g,x,!1)})},S=function(x){var g=je.isNotEmpty(x._pId)?x._pId:x.message||x;l(function(b){return b.filter(function(k){return k._pId!==x._pId&&!je.deepEquals(k.message,g)})}),a.onRemove&&a.onRemove(x.message||g)},w=function(x){S(x)},j=function(){a.onShow&&a.onShow()},D=function(){s.length===1&&xr.clear(c.current),a.onHide&&a.onHide()};Jt(function(){xr.set("toast",c.current,n&&n.autoZIndex||zt.autoZIndex,a.baseZIndex||n&&n.zIndex.toast||zt.zIndex.toast)},[s,a.baseZIndex]),Ll(function(){xr.clear(c.current)}),h.useImperativeHandle(t,function(){return{props:a,show:m,replace:y,remove:S,clear:v,getElement:function(){return c.current}}});var N=function(){var x=r({ref:c,id:a.id,className:d.cx("root",{context:n}),style:d.sx("root")},ko.getOtherProps(a),d.ptm("root")),g=r({classNames:d.cx("transition"),timeout:{enter:300,exit:300},options:a.transitionOptions,unmountOnExit:!0,onEntered:j,onExited:D},d.ptm("transition"));return h.createElement("div",x,h.createElement(zl,null,s&&s.map(function(b,k){var E=h.createRef();return h.createElement(Fl,Xs({nodeRef:E,key:b._pId},g),e.content?je.getJSXElement(e.content,{message:b.message}):h.createElement(Vf,{hostName:"Toast",ref:E,messageInfo:b,index:k,onClick:a.onClick,onClose:w,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,closeIcon:a.closeIcon,ptCallbacks:d,metaData:u}))})))},I=N();return h.createElement($l,{element:I,appendTo:a.appendTo})}));Yf.displayName="Toast";function St(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=St(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var is={exports:{}},ss={},ls={exports:{}},cs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu;function $v(){if(hu)return cs;hu=1;var e=jf();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function s(d,m){var p=m(),v=n({inst:{value:p,getSnapshot:m}}),y=v[0].inst,S=v[1];return o(function(){y.value=p,y.getSnapshot=m,l(y)&&S({inst:y})},[d,p,m]),a(function(){return l(y)&&S({inst:y}),d(function(){l(y)&&S({inst:y})})},[d]),i(p),p}function l(d){var m=d.getSnapshot;d=d.value;try{var p=m();return!r(d,p)}catch{return!0}}function c(d,m){return m()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return cs.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,cs}var gu;function Bv(){return gu||(gu=1,ls.exports=$v()),ls.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu;function Hv(){if(vu)return ss;vu=1;var e=jf(),t=Bv();function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return ss.useSyncExternalStoreWithSelector=function(c,u,d,m,p){var v=o(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=s(function(){function w(M){if(!j){if(j=!0,D=M,M=m(M),p!==void 0&&y.hasValue){var x=y.value;if(p(x,M))return N=x}return N=M}if(x=N,n(D,M))return x;var g=m(M);return p!==void 0&&p(x,g)?(D=M,x):(D=M,N=g)}var j=!1,D,N,I=d===void 0?null:d;return[function(){return w(u())},I===null?void 0:function(){return w(I())}]},[u,d,m,p]);var S=a(c,v[0],v[1]);return i(function(){y.hasValue=!0,y.value=S},[S]),l(S),S},ss}var yu;function zv(){return yu||(yu=1,is.exports=Hv()),is.exports}var Wv=zv();const Vv=Pg(Wv),Yv={},bu=e=>{let t;const r=new Set,n=(u,d)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const p=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(v=>v(t,p))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(Yv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,a,l);return l},Uv=e=>e?bu(e):bu,{useDebugValue:Gv}=L,{useSyncExternalStoreWithSelector:qv}=Vv,Xv=e=>e;function Uf(e,t=Xv,r){const n=qv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Gv(n),n}const wu=(e,t)=>{const r=Uv(e),n=(a,o=t)=>Uf(r,a,o);return Object.assign(n,r),n},Zv=(e,t)=>e?wu(e,t):wu;function Pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Kv={value:()=>{}};function Ni(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Wo(r)}function Wo(e){this._=e}function Qv(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Wo.prototype=Ni.prototype={constructor:Wo,on:function(e,t){var r=this._,n=Qv(e+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(e=n[o]).type)&&(a=Jv(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=n[o]).type)r[a]=xu(r[a],e.name,t);else if(t==null)for(a in r)r[a]=xu(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Wo(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function Jv(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function xu(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Kv,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Qs="http://www.w3.org/1999/xhtml";const Su={svg:"http://www.w3.org/2000/svg",xhtml:Qs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Di(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Su.hasOwnProperty(t)?{space:Su[t],local:e}:e}function ey(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Qs&&t.documentElement.namespaceURI===Qs?t.createElement(e):t.createElementNS(r,e)}}function ty(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Gf(e){var t=Di(e);return(t.local?ty:ey)(t)}function ry(){}function Ul(e){return e==null?ry:function(){return this.querySelector(e)}}function ny(e){typeof e!="function"&&(e=Ul(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,s=n[a]=new Array(i),l,c,u=0;u<i;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Ut(n,this._parents)}function ay(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function oy(){return[]}function qf(e){return e==null?oy:function(){return this.querySelectorAll(e)}}function iy(e){return function(){return ay(e.apply(this,arguments))}}function sy(e){typeof e=="function"?e=iy(e):e=qf(e);for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var i=t[o],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(n.push(e.call(l,l.__data__,c,i)),a.push(l));return new Ut(n,a)}function Xf(e){return function(){return this.matches(e)}}function Zf(e){return function(t){return t.matches(e)}}var ly=Array.prototype.find;function cy(e){return function(){return ly.call(this.children,e)}}function uy(){return this.firstElementChild}function dy(e){return this.select(e==null?uy:cy(typeof e=="function"?e:Zf(e)))}var fy=Array.prototype.filter;function my(){return Array.from(this.children)}function py(e){return function(){return fy.call(this.children,e)}}function hy(e){return this.selectAll(e==null?my:py(typeof e=="function"?e:Zf(e)))}function gy(e){typeof e!="function"&&(e=Xf(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,s=n[a]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Ut(n,this._parents)}function Kf(e){return new Array(e.length)}function vy(){return new Ut(this._enter||this._groups.map(Kf),this._parents)}function Qo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qo.prototype={constructor:Qo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function yy(e){return function(){return e}}function by(e,t,r,n,a,o){for(var i=0,s,l=t.length,c=o.length;i<c;++i)(s=t[i])?(s.__data__=o[i],n[i]=s):r[i]=new Qo(e,o[i]);for(;i<l;++i)(s=t[i])&&(a[i]=s)}function wy(e,t,r,n,a,o,i){var s,l,c=new Map,u=t.length,d=o.length,m=new Array(u),p;for(s=0;s<u;++s)(l=t[s])&&(m[s]=p=i.call(l,l.__data__,s,t)+"",c.has(p)?a[s]=l:c.set(p,l));for(s=0;s<d;++s)p=i.call(e,o[s],s,o)+"",(l=c.get(p))?(n[s]=l,l.__data__=o[s],c.delete(p)):r[s]=new Qo(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(m[s])===l&&(a[s]=l)}function xy(e){return e.__data__}function Sy(e,t){if(!arguments.length)return Array.from(this,xy);var r=t?wy:by,n=this._parents,a=this._groups;typeof e!="function"&&(e=yy(e));for(var o=a.length,i=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],d=a[c],m=d.length,p=ky(e.call(u,u&&u.__data__,c,n)),v=p.length,y=s[c]=new Array(v),S=i[c]=new Array(v),w=l[c]=new Array(m);r(u,d,y,S,w,p,t);for(var j=0,D=0,N,I;j<v;++j)if(N=y[j]){for(j>=D&&(D=j+1);!(I=S[D])&&++D<v;);N._next=I||null}}return i=new Ut(i,n),i._enter=s,i._exit=l,i}function ky(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cy(){return new Ut(this._exit||this._groups.map(Kf),this._parents)}function Ey(e,t,r){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),n&&a?n.merge(a).order():a}function jy(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,o=n.length,i=Math.min(a,o),s=new Array(a),l=0;l<i;++l)for(var c=r[l],u=n[l],d=c.length,m=s[l]=new Array(d),p,v=0;v<d;++v)(p=c[v]||u[v])&&(m[v]=p);for(;l<a;++l)s[l]=r[l];return new Ut(s,this._parents)}function Ny(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function Dy(e){e||(e=Iy);function t(d,m){return d&&m?e(d.__data__,m.__data__):!d-!m}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],s=i.length,l=a[o]=new Array(s),c,u=0;u<s;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new Ut(a,this._parents).order()}function Iy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ty(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function My(){return Array.from(this)}function _y(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}function Oy(){let e=0;for(const t of this)++e;return e}function Py(){return!this.node()}function Ry(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,i=a.length,s;o<i;++o)(s=a[o])&&e.call(s,s.__data__,o,a);return this}function Ay(e){return function(){this.removeAttribute(e)}}function Ly(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fy(e,t){return function(){this.setAttribute(e,t)}}function $y(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function By(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Hy(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function zy(e,t){var r=Di(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Ly:Ay:typeof t=="function"?r.local?Hy:By:r.local?$y:Fy)(r,t))}function Qf(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wy(e){return function(){this.style.removeProperty(e)}}function Vy(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Yy(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Uy(e,t,r){return arguments.length>1?this.each((t==null?Wy:typeof t=="function"?Yy:Vy)(e,t,r??"")):ra(this.node(),e)}function ra(e,t){return e.style.getPropertyValue(t)||Qf(e).getComputedStyle(e,null).getPropertyValue(t)}function Gy(e){return function(){delete this[e]}}function qy(e,t){return function(){this[e]=t}}function Xy(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Zy(e,t){return arguments.length>1?this.each((t==null?Gy:typeof t=="function"?Xy:qy)(e,t)):this.node()[e]}function Jf(e){return e.trim().split(/^|\s+/)}function Gl(e){return e.classList||new em(e)}function em(e){this._node=e,this._names=Jf(e.getAttribute("class")||"")}em.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tm(e,t){for(var r=Gl(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function rm(e,t){for(var r=Gl(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function Ky(e){return function(){tm(this,e)}}function Qy(e){return function(){rm(this,e)}}function Jy(e,t){return function(){(t.apply(this,arguments)?tm:rm)(this,e)}}function e0(e,t){var r=Jf(e+"");if(arguments.length<2){for(var n=Gl(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?Jy:t?Ky:Qy)(r,t))}function t0(){this.textContent=""}function r0(e){return function(){this.textContent=e}}function n0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function a0(e){return arguments.length?this.each(e==null?t0:(typeof e=="function"?n0:r0)(e)):this.node().textContent}function o0(){this.innerHTML=""}function i0(e){return function(){this.innerHTML=e}}function s0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function l0(e){return arguments.length?this.each(e==null?o0:(typeof e=="function"?s0:i0)(e)):this.node().innerHTML}function c0(){this.nextSibling&&this.parentNode.appendChild(this)}function u0(){return this.each(c0)}function d0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f0(){return this.each(d0)}function m0(e){var t=typeof e=="function"?e:Gf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function p0(){return null}function h0(e,t){var r=typeof e=="function"?e:Gf(e),n=t==null?p0:typeof t=="function"?t:Ul(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function g0(){var e=this.parentNode;e&&e.removeChild(this)}function v0(){return this.each(g0)}function y0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function b0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function w0(e){return this.select(e?b0:y0)}function x0(e){return arguments.length?this.property("__data__",e):this.node().__data__}function S0(e){return function(t){e.call(this,t,this.__data__)}}function k0(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function C0(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function E0(e,t,r){return function(){var n=this.__on,a,o=S0(t);if(n){for(var i=0,s=n.length;i<s;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(a):this.__on=[a]}}function j0(e,t,r){var n=k0(e+""),a,o=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(a=0,u=s[l];a<o;++a)if((i=n[a]).type===u.type&&i.name===u.name)return u.value}return}for(s=t?E0:C0,a=0;a<o;++a)this.each(s(n[a],t,r));return this}function nm(e,t,r){var n=Qf(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function N0(e,t){return function(){return nm(this,e,t)}}function D0(e,t){return function(){return nm(this,e,t.apply(this,arguments))}}function I0(e,t){return this.each((typeof t=="function"?D0:N0)(e,t))}function*T0(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length,i;a<o;++a)(i=n[a])&&(yield i)}var am=[null];function Ut(e,t){this._groups=e,this._parents=t}function uo(){return new Ut([[document.documentElement]],am)}function M0(){return this}Ut.prototype=uo.prototype={constructor:Ut,select:ny,selectAll:sy,selectChild:dy,selectChildren:hy,filter:gy,data:Sy,enter:vy,exit:Cy,join:Ey,merge:jy,selection:M0,order:Ny,sort:Dy,call:Ty,nodes:My,node:_y,size:Oy,empty:Py,each:Ry,attr:zy,style:Uy,property:Zy,classed:e0,text:a0,html:l0,raise:u0,lower:f0,append:m0,insert:h0,remove:v0,clone:w0,datum:x0,on:j0,dispatch:I0,[Symbol.iterator]:T0};function lr(e){return typeof e=="string"?new Ut([[document.querySelector(e)]],[document.documentElement]):new Ut([[e]],am)}function _0(e){let t;for(;t=e.sourceEvent;)e=t;return e}function br(e,t){if(e=_0(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const O0={passive:!1},Wa={capture:!0,passive:!1};function us(e){e.stopImmediatePropagation()}function Xn(e){e.preventDefault(),e.stopImmediatePropagation()}function om(e){var t=e.document.documentElement,r=lr(e).on("dragstart.drag",Xn,Wa);"onselectstart"in t?r.on("selectstart.drag",Xn,Wa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function im(e,t){var r=e.document.documentElement,n=lr(e).on("dragstart.drag",null);t&&(n.on("click.drag",Xn,Wa),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Co=e=>()=>e;function Js(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:o,x:i,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Js.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function P0(e){return!e.ctrlKey&&!e.button}function R0(){return this.parentNode}function A0(e,t){return t??{x:e.x,y:e.y}}function L0(){return navigator.maxTouchPoints||"ontouchstart"in this}function F0(){var e=P0,t=R0,r=A0,n=L0,a={},o=Ni("start","drag","end"),i=0,s,l,c,u,d=0;function m(N){N.on("mousedown.drag",p).filter(n).on("touchstart.drag",S).on("touchmove.drag",w,O0).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(N,I){if(!(u||!e.call(this,N,I))){var M=D(this,t.call(this,N,I),N,I,"mouse");M&&(lr(N.view).on("mousemove.drag",v,Wa).on("mouseup.drag",y,Wa),om(N.view),us(N),c=!1,s=N.clientX,l=N.clientY,M("start",N))}}function v(N){if(Xn(N),!c){var I=N.clientX-s,M=N.clientY-l;c=I*I+M*M>d}a.mouse("drag",N)}function y(N){lr(N.view).on("mousemove.drag mouseup.drag",null),im(N.view,c),Xn(N),a.mouse("end",N)}function S(N,I){if(e.call(this,N,I)){var M=N.changedTouches,x=t.call(this,N,I),g=M.length,b,k;for(b=0;b<g;++b)(k=D(this,x,N,I,M[b].identifier,M[b]))&&(us(N),k("start",N,M[b]))}}function w(N){var I=N.changedTouches,M=I.length,x,g;for(x=0;x<M;++x)(g=a[I[x].identifier])&&(Xn(N),g("drag",N,I[x]))}function j(N){var I=N.changedTouches,M=I.length,x,g;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),x=0;x<M;++x)(g=a[I[x].identifier])&&(us(N),g("end",N,I[x]))}function D(N,I,M,x,g,b){var k=o.copy(),E=br(b||M,I),O,_,C;if((C=r.call(N,new Js("beforestart",{sourceEvent:M,target:m,identifier:g,active:i,x:E[0],y:E[1],dx:0,dy:0,dispatch:k}),x))!=null)return O=C.x-E[0]||0,_=C.y-E[1]||0,function T(R,$,A){var P=E,F;switch(R){case"start":a[g]=T,F=i++;break;case"end":delete a[g],--i;case"drag":E=br(A||$,I),F=i;break}k.call(R,N,new Js(R,{sourceEvent:$,subject:C,target:m,identifier:g,active:F,x:E[0]+O,y:E[1]+_,dx:E[0]-P[0],dy:E[1]-P[1],dispatch:k}),x)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Co(!!N),m):e},m.container=function(N){return arguments.length?(t=typeof N=="function"?N:Co(N),m):t},m.subject=function(N){return arguments.length?(r=typeof N=="function"?N:Co(N),m):r},m.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:Co(!!N),m):n},m.on=function(){var N=o.on.apply(o,arguments);return N===o?m:N},m.clickDistance=function(N){return arguments.length?(d=(N=+N)*N,m):Math.sqrt(d)},m}function ql(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fo(){}var Va=.7,Jo=1/Va,Zn="\\s*([+-]?\\d+)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$0=/^#([0-9a-f]{3,8})$/,B0=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),H0=new RegExp(`^rgb\\(${Sr},${Sr},${Sr}\\)$`),z0=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Ya}\\)$`),W0=new RegExp(`^rgba\\(${Sr},${Sr},${Sr},${Ya}\\)$`),V0=new RegExp(`^hsl\\(${Ya},${Sr},${Sr}\\)$`),Y0=new RegExp(`^hsla\\(${Ya},${Sr},${Sr},${Ya}\\)$`),ku={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ql(fo,Ua,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cu,formatHex:Cu,formatHex8:U0,formatHsl:G0,formatRgb:Eu,toString:Eu});function Cu(){return this.rgb().formatHex()}function U0(){return this.rgb().formatHex8()}function G0(){return lm(this).formatHsl()}function Eu(){return this.rgb().formatRgb()}function Ua(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$0.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ju(t):r===3?new _t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B0.exec(e))?new _t(t[1],t[2],t[3],1):(t=H0.exec(e))?new _t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=z0.exec(e))?Eo(t[1],t[2],t[3],t[4]):(t=W0.exec(e))?Eo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=V0.exec(e))?Iu(t[1],t[2]/100,t[3]/100,1):(t=Y0.exec(e))?Iu(t[1],t[2]/100,t[3]/100,t[4]):ku.hasOwnProperty(e)?ju(ku[e]):e==="transparent"?new _t(NaN,NaN,NaN,0):null}function ju(e){return new _t(e>>16&255,e>>8&255,e&255,1)}function Eo(e,t,r,n){return n<=0&&(e=t=r=NaN),new _t(e,t,r,n)}function q0(e){return e instanceof fo||(e=Ua(e)),e?(e=e.rgb(),new _t(e.r,e.g,e.b,e.opacity)):new _t}function el(e,t,r,n){return arguments.length===1?q0(e):new _t(e,t,r,n??1)}function _t(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ql(_t,el,sm(fo,{brighter(e){return e=e==null?Jo:Math.pow(Jo,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Va:Math.pow(Va,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _t(jn(this.r),jn(this.g),jn(this.b),ei(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nu,formatHex:Nu,formatHex8:X0,formatRgb:Du,toString:Du}));function Nu(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}`}function X0(){return`#${kn(this.r)}${kn(this.g)}${kn(this.b)}${kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Du(){const e=ei(this.opacity);return`${e===1?"rgb(":"rgba("}${jn(this.r)}, ${jn(this.g)}, ${jn(this.b)}${e===1?")":`, ${e})`}`}function ei(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kn(e){return e=jn(e),(e<16?"0":"")+e.toString(16)}function Iu(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cr(e,t,r,n)}function lm(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof fo||(e=Ua(e)),!e)return new cr;if(e instanceof cr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new cr(i,s,l,e.opacity)}function Z0(e,t,r,n){return arguments.length===1?lm(e):new cr(e,t,r,n??1)}function cr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ql(cr,Z0,sm(fo,{brighter(e){return e=e==null?Jo:Math.pow(Jo,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Va:Math.pow(Va,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new _t(ds(e>=240?e-240:e+120,a,n),ds(e,a,n),ds(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new cr(Tu(this.h),jo(this.s),jo(this.l),ei(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ei(this.opacity);return`${e===1?"hsl(":"hsla("}${Tu(this.h)}, ${jo(this.s)*100}%, ${jo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tu(e){return e=(e||0)%360,e<0?e+360:e}function jo(e){return Math.max(0,Math.min(1,e||0))}function ds(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cm=e=>()=>e;function K0(e,t){return function(r){return e+r*t}}function Q0(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function J0(e){return(e=+e)==1?um:function(t,r){return r-t?Q0(t,r,e):cm(isNaN(t)?r:t)}}function um(e,t){var r=t-e;return r?K0(e,r):cm(isNaN(e)?t:e)}const Mu=function e(t){var r=J0(t);function n(a,o){var i=r((a=el(a)).r,(o=el(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=um(a.opacity,o.opacity);return function(u){return a.r=i(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function Jr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var tl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fs=new RegExp(tl.source,"g");function eb(e){return function(){return e}}function tb(e){return function(t){return e(t)+""}}function rb(e,t){var r=tl.lastIndex=fs.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=tl.exec(e))&&(a=fs.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:Jr(n,a)})),r=fs.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?tb(l[0].x):eb(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var _u=180/Math.PI,rl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dm(e,t,r,n,a,o){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*_u,skewX:Math.atan(l)*_u,scaleX:i,scaleY:s}}var No;function nb(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rl:dm(t.a,t.b,t.c,t.d,t.e,t.f)}function ab(e){return e==null||(No||(No=document.createElementNS("http://www.w3.org/2000/svg","g")),No.setAttribute("transform",e),!(e=No.transform.baseVal.consolidate()))?rl:(e=e.matrix,dm(e.a,e.b,e.c,e.d,e.e,e.f))}function fm(e,t,r,n){function a(c){return c.length?c.pop()+" ":""}function o(c,u,d,m,p,v){if(c!==d||u!==m){var y=p.push("translate(",null,t,null,r);v.push({i:y-4,x:Jr(c,d)},{i:y-2,x:Jr(u,m)})}else(d||m)&&p.push("translate("+d+t+m+r)}function i(c,u,d,m){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),m.push({i:d.push(a(d)+"rotate(",null,n)-2,x:Jr(c,u)})):u&&d.push(a(d)+"rotate("+u+n)}function s(c,u,d,m){c!==u?m.push({i:d.push(a(d)+"skewX(",null,n)-2,x:Jr(c,u)}):u&&d.push(a(d)+"skewX("+u+n)}function l(c,u,d,m,p,v){if(c!==d||u!==m){var y=p.push(a(p)+"scale(",null,",",null,")");v.push({i:y-4,x:Jr(c,d)},{i:y-2,x:Jr(u,m)})}else(d!==1||m!==1)&&p.push(a(p)+"scale("+d+","+m+")")}return function(c,u){var d=[],m=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,m),i(c.rotate,u.rotate,d,m),s(c.skewX,u.skewX,d,m),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,m),c=u=null,function(p){for(var v=-1,y=m.length,S;++v<y;)d[(S=m[v]).i]=S.x(p);return d.join("")}}}var ob=fm(nb,"px, ","px)","deg)"),ib=fm(ab,", ",")",")"),sb=1e-12;function Ou(e){return((e=Math.exp(e))+1/e)/2}function lb(e){return((e=Math.exp(e))-1/e)/2}function cb(e){return((e=Math.exp(2*e))-1)/(e+1)}const ub=function e(t,r,n){function a(o,i){var s=o[0],l=o[1],c=o[2],u=i[0],d=i[1],m=i[2],p=u-s,v=d-l,y=p*p+v*v,S,w;if(y<sb)w=Math.log(m/c)/t,S=function(x){return[s+x*p,l+x*v,c*Math.exp(t*x*w)]};else{var j=Math.sqrt(y),D=(m*m-c*c+n*y)/(2*c*r*j),N=(m*m-c*c-n*y)/(2*m*r*j),I=Math.log(Math.sqrt(D*D+1)-D),M=Math.log(Math.sqrt(N*N+1)-N);w=(M-I)/t,S=function(x){var g=x*w,b=Ou(I),k=c/(r*j)*(b*cb(t*g+I)-lb(I));return[s+k*p,l+k*v,c*b/Ou(t*g+I)]}}return S.duration=w*1e3*t/Math.SQRT2,S}return a.rho=function(o){var i=Math.max(.001,+o),s=i*i,l=s*s;return e(i,s,l)},a}(Math.SQRT2,2,4);var na=0,_a=0,wa=0,mm=1e3,ti,Oa,ri=0,Tn=0,Ii=0,Ga=typeof performance=="object"&&performance.now?performance:Date,pm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xl(){return Tn||(pm(db),Tn=Ga.now()+Ii)}function db(){Tn=0}function ni(){this._call=this._time=this._next=null}ni.prototype=hm.prototype={constructor:ni,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Xl():+r)+(t==null?0:+t),!this._next&&Oa!==this&&(Oa?Oa._next=this:ti=this,Oa=this),this._call=e,this._time=r,nl()},stop:function(){this._call&&(this._call=null,this._time=1/0,nl())}};function hm(e,t,r){var n=new ni;return n.restart(e,t,r),n}function fb(){Xl(),++na;for(var e=ti,t;e;)(t=Tn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--na}function Pu(){Tn=(ri=Ga.now())+Ii,na=_a=0;try{fb()}finally{na=0,pb(),Tn=0}}function mb(){var e=Ga.now(),t=e-ri;t>mm&&(Ii-=t,ri=e)}function pb(){for(var e,t=ti,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ti=r);Oa=e,nl(n)}function nl(e){if(!na){_a&&(_a=clearTimeout(_a));var t=e-Tn;t>24?(e<1/0&&(_a=setTimeout(Pu,e-Ga.now()-Ii)),wa&&(wa=clearInterval(wa))):(wa||(ri=Ga.now(),wa=setInterval(mb,mm)),na=1,pm(Pu))}}function Ru(e,t,r){var n=new ni;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var hb=Ni("start","end","cancel","interrupt"),gb=[],gm=0,Au=1,al=2,Vo=3,Lu=4,ol=5,Yo=6;function Ti(e,t,r,n,a,o){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;vb(e,r,{name:t,index:n,group:a,on:hb,tween:gb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gm})}function Zl(e,t){var r=hr(e,t);if(r.state>gm)throw new Error("too late; already scheduled");return r}function Cr(e,t){var r=hr(e,t);if(r.state>Vo)throw new Error("too late; already running");return r}function hr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function vb(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=hm(o,0,r.time);function o(c){r.state=Au,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var u,d,m,p;if(r.state!==Au)return l();for(u in n)if(p=n[u],p.name===r.name){if(p.state===Vo)return Ru(i);p.state===Lu?(p.state=Yo,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<t&&(p.state=Yo,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(Ru(function(){r.state===Vo&&(r.state=Lu,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=al,r.on.call("start",e,e.__data__,r.index,r.group),r.state===al){for(r.state=Vo,a=new Array(m=r.tween.length),u=0,d=-1;u<m;++u)(p=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(a[++d]=p);a.length=d+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=ol,1),d=-1,m=a.length;++d<m;)a[d].call(e,u);r.state===ol&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Yo,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Uo(e,t){var r=e.__transition,n,a,o=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){o=!1;continue}a=n.state>al&&n.state<ol,n.state=Yo,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}o&&delete e.__transition}}function yb(e){return this.each(function(){Uo(this,e)})}function bb(e,t){var r,n;return function(){var a=Cr(this,e),o=a.tween;if(o!==r){n=r=o;for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function wb(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var o=Cr(this,e),i=o.tween;if(i!==n){a=(n=i).slice();for(var s={name:t,value:r},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}o.tween=a}}function xb(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=hr(this.node(),r).tween,a=0,o=n.length,i;a<o;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?bb:wb)(r,e,t))}function Kl(e,t,r){var n=e._id;return e.each(function(){var a=Cr(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return hr(a,n).value[t]}}function vm(e,t){var r;return(typeof t=="number"?Jr:t instanceof Ua?Mu:(r=Ua(t))?(t=r,Mu):rb)(e,t)}function Sb(e){return function(){this.removeAttribute(e)}}function kb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cb(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===n?o:o=t(n=i,r)}}function Eb(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?o:o=t(n=i,r)}}function jb(e,t,r){var n,a,o;return function(){var i,s=r(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,s)))}}function Nb(e,t,r){var n,a,o;return function(){var i,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,s)))}}function Db(e,t){var r=Di(e),n=r==="transform"?ib:vm;return this.attrTween(e,typeof t=="function"?(r.local?Nb:jb)(r,n,Kl(this,"attr."+e,t)):t==null?(r.local?kb:Sb)(r):(r.local?Eb:Cb)(r,n,t))}function Ib(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Tb(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Mb(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Tb(e,o)),r}return a._value=t,a}function _b(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Ib(e,o)),r}return a._value=t,a}function Ob(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Di(e);return this.tween(r,(n.local?Mb:_b)(n,t))}function Pb(e,t){return function(){Zl(this,e).delay=+t.apply(this,arguments)}}function Rb(e,t){return t=+t,function(){Zl(this,e).delay=t}}function Ab(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pb:Rb)(t,e)):hr(this.node(),t).delay}function Lb(e,t){return function(){Cr(this,e).duration=+t.apply(this,arguments)}}function Fb(e,t){return t=+t,function(){Cr(this,e).duration=t}}function $b(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Lb:Fb)(t,e)):hr(this.node(),t).duration}function Bb(e,t){if(typeof t!="function")throw new Error;return function(){Cr(this,e).ease=t}}function Hb(e){var t=this._id;return arguments.length?this.each(Bb(t,e)):hr(this.node(),t).ease}function zb(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Cr(this,e).ease=r}}function Wb(e){if(typeof e!="function")throw new Error;return this.each(zb(this._id,e))}function Vb(e){typeof e!="function"&&(e=Xf(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,s=n[a]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Vr(n,this._parents,this._name,this._id)}function Yb(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),i=new Array(n),s=0;s<o;++s)for(var l=t[s],c=r[s],u=l.length,d=i[s]=new Array(u),m,p=0;p<u;++p)(m=l[p]||c[p])&&(d[p]=m);for(;s<n;++s)i[s]=t[s];return new Vr(i,this._parents,this._name,this._id)}function Ub(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Gb(e,t,r){var n,a,o=Ub(t)?Zl:Cr;return function(){var i=o(this,e),s=i.on;s!==n&&(a=(n=s).copy()).on(t,r),i.on=a}}function qb(e,t){var r=this._id;return arguments.length<2?hr(this.node(),r).on.on(e):this.each(Gb(r,e,t))}function Xb(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Zb(){return this.on("end.remove",Xb(this._id))}function Kb(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ul(e));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var s=n[i],l=s.length,c=o[i]=new Array(l),u,d,m=0;m<l;++m)(u=s[m])&&(d=e.call(u,u.__data__,m,s))&&("__data__"in u&&(d.__data__=u.__data__),c[m]=d,Ti(c[m],t,r,m,c,hr(u,r)));return new Vr(o,this._parents,t,r)}function Qb(e){var t=this._name,r=this._id;typeof e!="function"&&(e=qf(e));for(var n=this._groups,a=n.length,o=[],i=[],s=0;s<a;++s)for(var l=n[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var m=e.call(u,u.__data__,d,l),p,v=hr(u,r),y=0,S=m.length;y<S;++y)(p=m[y])&&Ti(p,t,r,y,m,v);o.push(m),i.push(u)}return new Vr(o,i,t,r)}var Jb=uo.prototype.constructor;function ew(){return new Jb(this._groups,this._parents)}function tw(e,t){var r,n,a;return function(){var o=ra(this,e),i=(this.style.removeProperty(e),ra(this,e));return o===i?null:o===r&&i===n?a:a=t(r=o,n=i)}}function ym(e){return function(){this.style.removeProperty(e)}}function rw(e,t,r){var n,a=r+"",o;return function(){var i=ra(this,e);return i===a?null:i===n?o:o=t(n=i,r)}}function nw(e,t,r){var n,a,o;return function(){var i=ra(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ra(this,e))),i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,s))}}function aw(e,t){var r,n,a,o="style."+t,i="end."+o,s;return function(){var l=Cr(this,e),c=l.on,u=l.value[o]==null?s||(s=ym(t)):void 0;(c!==r||a!==u)&&(n=(r=c).copy()).on(i,a=u),l.on=n}}function ow(e,t,r){var n=(e+="")=="transform"?ob:vm;return t==null?this.styleTween(e,tw(e,n)).on("end.style."+e,ym(e)):typeof t=="function"?this.styleTween(e,nw(e,n,Kl(this,"style."+e,t))).each(aw(this._id,e)):this.styleTween(e,rw(e,n,t),r).on("end.style."+e,null)}function iw(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function sw(e,t,r){var n,a;function o(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&iw(e,i,r)),n}return o._value=t,o}function lw(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,sw(e,t,r??""))}function cw(e){return function(){this.textContent=e}}function uw(e){return function(){var t=e(this);this.textContent=t??""}}function dw(e){return this.tween("text",typeof e=="function"?uw(Kl(this,"text",e)):cw(e==null?"":e+""))}function fw(e){return function(t){this.textContent=e.call(this,t)}}function mw(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&fw(a)),t}return n._value=e,n}function pw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,mw(e))}function hw(){for(var e=this._name,t=this._id,r=bm(),n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var u=hr(l,t);Ti(l,e,r,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Vr(n,this._parents,e,r)}function gw(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(o,i){var s={value:i},l={value:function(){--a===0&&o()}};r.each(function(){var c=Cr(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),a===0&&o()})}var vw=0;function Vr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function bm(){return++vw}var Pr=uo.prototype;Vr.prototype={constructor:Vr,select:Kb,selectAll:Qb,selectChild:Pr.selectChild,selectChildren:Pr.selectChildren,filter:Vb,merge:Yb,selection:ew,transition:hw,call:Pr.call,nodes:Pr.nodes,node:Pr.node,size:Pr.size,empty:Pr.empty,each:Pr.each,on:qb,attr:Db,attrTween:Ob,style:ow,styleTween:lw,text:dw,textTween:pw,remove:Zb,tween:xb,delay:Ab,duration:$b,ease:Hb,easeVarying:Wb,end:gw,[Symbol.iterator]:Pr[Symbol.iterator]};function yw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bw={time:null,delay:0,duration:250,ease:yw};function ww(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function xw(e){var t,r;e instanceof Vr?(t=e._id,e=e._name):(t=bm(),(r=bw).time=Xl(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],s=i.length,l,c=0;c<s;++c)(l=i[c])&&Ti(l,e,t,c,i,r||ww(l,t));return new Vr(n,this._parents,e,t)}uo.prototype.interrupt=yb;uo.prototype.transition=xw;const Do=e=>()=>e;function Sw(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function $r(e,t,r){this.k=e,this.x=t,this.y=r}$r.prototype={constructor:$r,scale:function(e){return e===1?this:new $r(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var an=new $r(1,0,0);$r.prototype;function ms(e){e.stopImmediatePropagation()}function xa(e){e.preventDefault(),e.stopImmediatePropagation()}function kw(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Cw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fu(){return this.__zoom||an}function Ew(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function jw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nw(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function Dw(){var e=kw,t=Cw,r=Nw,n=Ew,a=jw,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,l=ub,c=Ni("start","zoom","end"),u,d,m,p=500,v=150,y=0,S=10;function w(C){C.property("__zoom",Fu).on("wheel.zoom",g,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",_).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(C,T,R,$){var A=C.selection?C.selection():C;A.property("__zoom",Fu),C!==A?I(C,T,R,$):A.interrupt().each(function(){M(this,arguments).event($).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},w.scaleBy=function(C,T,R,$){w.scaleTo(C,function(){var A=this.__zoom.k,P=typeof T=="function"?T.apply(this,arguments):T;return A*P},R,$)},w.scaleTo=function(C,T,R,$){w.transform(C,function(){var A=t.apply(this,arguments),P=this.__zoom,F=R==null?N(A):typeof R=="function"?R.apply(this,arguments):R,W=P.invert(F),z=typeof T=="function"?T.apply(this,arguments):T;return r(D(j(P,z),F,W),A,i)},R,$)},w.translateBy=function(C,T,R,$){w.transform(C,function(){return r(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),i)},null,$)},w.translateTo=function(C,T,R,$,A){w.transform(C,function(){var P=t.apply(this,arguments),F=this.__zoom,W=$==null?N(P):typeof $=="function"?$.apply(this,arguments):$;return r(an.translate(W[0],W[1]).scale(F.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof R=="function"?-R.apply(this,arguments):-R),P,i)},$,A)};function j(C,T){return T=Math.max(o[0],Math.min(o[1],T)),T===C.k?C:new $r(T,C.x,C.y)}function D(C,T,R){var $=T[0]-R[0]*C.k,A=T[1]-R[1]*C.k;return $===C.x&&A===C.y?C:new $r(C.k,$,A)}function N(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function I(C,T,R,$){C.on("start.zoom",function(){M(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event($).end()}).tween("zoom",function(){var A=this,P=arguments,F=M(A,P).event($),W=t.apply(A,P),z=R==null?N(W):typeof R=="function"?R.apply(A,P):R,V=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),G=A.__zoom,H=typeof T=="function"?T.apply(A,P):T,B=l(G.invert(z).concat(V/G.k),H.invert(z).concat(V/H.k));return function(X){if(X===1)X=H;else{var Z=B(X),se=V/Z[2];X=new $r(se,z[0]-Z[0]*se,z[1]-Z[1]*se)}F.zoom(null,X)}})}function M(C,T,R){return!R&&C.__zooming||new x(C,T)}function x(C,T){this.that=C,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,T),this.taps=0}x.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,T){return this.mouse&&C!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var T=lr(this.that).datum();c.call(C,this.that,new Sw(C,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),T)}};function g(C,...T){if(!e.apply(this,arguments))return;var R=M(this,T).event(C),$=this.__zoom,A=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,n.apply(this,arguments)))),P=br(C);if(R.wheel)(R.mouse[0][0]!==P[0]||R.mouse[0][1]!==P[1])&&(R.mouse[1]=$.invert(R.mouse[0]=P)),clearTimeout(R.wheel);else{if($.k===A)return;R.mouse=[P,$.invert(P)],Uo(this),R.start()}xa(C),R.wheel=setTimeout(F,v),R.zoom("mouse",r(D(j($,A),R.mouse[0],R.mouse[1]),R.extent,i));function F(){R.wheel=null,R.end()}}function b(C,...T){if(m||!e.apply(this,arguments))return;var R=C.currentTarget,$=M(this,T,!0).event(C),A=lr(C.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",V,!0),P=br(C,R),F=C.clientX,W=C.clientY;om(C.view),ms(C),$.mouse=[P,this.__zoom.invert(P)],Uo(this),$.start();function z(G){if(xa(G),!$.moved){var H=G.clientX-F,B=G.clientY-W;$.moved=H*H+B*B>y}$.event(G).zoom("mouse",r(D($.that.__zoom,$.mouse[0]=br(G,R),$.mouse[1]),$.extent,i))}function V(G){A.on("mousemove.zoom mouseup.zoom",null),im(G.view,$.moved),xa(G),$.event(G).end()}}function k(C,...T){if(e.apply(this,arguments)){var R=this.__zoom,$=br(C.changedTouches?C.changedTouches[0]:C,this),A=R.invert($),P=R.k*(C.shiftKey?.5:2),F=r(D(j(R,P),$,A),t.apply(this,T),i);xa(C),s>0?lr(this).transition().duration(s).call(I,F,$,C):lr(this).call(w.transform,F,$,C)}}function E(C,...T){if(e.apply(this,arguments)){var R=C.touches,$=R.length,A=M(this,T,C.changedTouches.length===$).event(C),P,F,W,z;for(ms(C),F=0;F<$;++F)W=R[F],z=br(W,this),z=[z,this.__zoom.invert(z),W.identifier],A.touch0?!A.touch1&&A.touch0[2]!==z[2]&&(A.touch1=z,A.taps=0):(A.touch0=z,P=!0,A.taps=1+!!u);u&&(u=clearTimeout(u)),P&&(A.taps<2&&(d=z[0],u=setTimeout(function(){u=null},p)),Uo(this),A.start())}}function O(C,...T){if(this.__zooming){var R=M(this,T).event(C),$=C.changedTouches,A=$.length,P,F,W,z;for(xa(C),P=0;P<A;++P)F=$[P],W=br(F,this),R.touch0&&R.touch0[2]===F.identifier?R.touch0[0]=W:R.touch1&&R.touch1[2]===F.identifier&&(R.touch1[0]=W);if(F=R.that.__zoom,R.touch1){var V=R.touch0[0],G=R.touch0[1],H=R.touch1[0],B=R.touch1[1],X=(X=H[0]-V[0])*X+(X=H[1]-V[1])*X,Z=(Z=B[0]-G[0])*Z+(Z=B[1]-G[1])*Z;F=j(F,Math.sqrt(X/Z)),W=[(V[0]+H[0])/2,(V[1]+H[1])/2],z=[(G[0]+B[0])/2,(G[1]+B[1])/2]}else if(R.touch0)W=R.touch0[0],z=R.touch0[1];else return;R.zoom("touch",r(D(F,W,z),R.extent,i))}}function _(C,...T){if(this.__zooming){var R=M(this,T).event(C),$=C.changedTouches,A=$.length,P,F;for(ms(C),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),P=0;P<A;++P)F=$[P],R.touch0&&R.touch0[2]===F.identifier?delete R.touch0:R.touch1&&R.touch1[2]===F.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(F=br(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<S)){var W=lr(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return w.wheelDelta=function(C){return arguments.length?(n=typeof C=="function"?C:Do(+C),w):n},w.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Do(!!C),w):e},w.touchable=function(C){return arguments.length?(a=typeof C=="function"?C:Do(!!C),w):a},w.extent=function(C){return arguments.length?(t=typeof C=="function"?C:Do([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),w):t},w.scaleExtent=function(C){return arguments.length?(o[0]=+C[0],o[1]=+C[1],w):[o[0],o[1]]},w.translateExtent=function(C){return arguments.length?(i[0][0]=+C[0][0],i[1][0]=+C[1][0],i[0][1]=+C[0][1],i[1][1]=+C[1][1],w):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},w.constrain=function(C){return arguments.length?(r=C,w):r},w.duration=function(C){return arguments.length?(s=+C,w):s},w.interpolate=function(C){return arguments.length?(l=C,w):l},w.on=function(){var C=c.on.apply(c,arguments);return C===c?w:C},w.clickDistance=function(C){return arguments.length?(y=(C=+C)*C,w):Math.sqrt(y)},w.tapDistance=function(C){return arguments.length?(S=+C,w):S},w}const Mi=h.createContext(null),Iw=Mi.Provider,Yr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},wm=Yr.error001();function Ze(e,t){const r=h.useContext(Mi);if(r===null)throw new Error(wm);return Uf(r,e,t)}const ct=()=>{const e=h.useContext(Mi);if(e===null)throw new Error(wm);return h.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Tw=e=>e.userSelectionActive?"none":"all";function Ql({position:e,children:t,className:r,style:n,...a}){const o=Ze(Tw),i=`${e}`.split("-");return L.createElement("div",{className:St(["react-flow__panel",r,...i]),style:{...n,pointerEvents:o},...a},t)}function Mw({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:L.createElement(Ql,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},L.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const _w=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:i=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const d=h.useRef(null),[m,p]=h.useState({x:0,y:0,width:0,height:0}),v=St(["react-flow__edge-textwrapper",c]);return h.useEffect(()=>{if(d.current){const y=d.current.getBBox();p({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),typeof r>"u"||!r?null:L.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...u},a&&L.createElement("rect",{width:m.width+2*i[0],x:-i[0],y:-i[1],height:m.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),L.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:d,style:n},r),l)};var Ow=h.memo(_w);const Jl=e=>({width:e.offsetWidth,height:e.offsetHeight}),aa=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),ec=(e={x:0,y:0},t)=>({x:aa(e.x,t[0][0],t[1][0]),y:aa(e.y,t[0][1],t[1][1])}),$u=(e,t,r)=>e<t?aa(Math.abs(e-t),1,50)/50:e>r?-aa(Math.abs(e-r),1,50)/50:0,xm=(e,t)=>{const r=$u(e.x,35,t.width-35)*20,n=$u(e.y,35,t.height-35)*20;return[r,n]},Sm=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Pw=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),tc=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Rw=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Bu=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),il=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Aw=e=>tr(e.width)&&tr(e.height)&&tr(e.x)&&tr(e.y),tr=e=>!isNaN(e)&&isFinite(e),Je=Symbol.for("internals"),km=["Enter"," ","Escape"],Lw=(e,t)=>{},Fw=e=>"nativeEvent"in e;function sl(e){var a,o;const t=Fw(e)?e.nativeEvent:e,r=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const Cm=e=>"clientX"in e,on=(e,t)=>{var o,i;const r=Cm(e),n=r?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},ai=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},da=({id:e,path:t,labelX:r,labelY:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:m,interactionWidth:p=20})=>L.createElement(L.Fragment,null,L.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:m}),p&&L.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),a&&tr(r)&&tr(n)?L.createElement(Ow,{x:r,y:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null);da.displayName="BaseEdge";function Sa(e,t,r){return r===void 0?r:n=>{const a=t().edges.find(o=>o.id===e);a&&r(n,{...a})}}function Em({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,o=r<e?r+a:r-a,i=Math.abs(n-t)/2,s=n<t?n+i:n-i;return[o,s,a,i]}function jm({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:s}){const l=e*.125+a*.375+i*.375+r*.125,c=t*.125+o*.375+s*.375+n*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var Mn;(function(e){e.Strict="strict",e.Loose="loose"})(Mn||(Mn={}));var Cn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Cn||(Cn={}));var qa;(function(e){e.Partial="partial",e.Full="full"})(qa||(qa={}));var tn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(tn||(tn={}));var oi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(oi||(oi={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function Hu({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===oe.Left||e===oe.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function Nm({sourceX:e,sourceY:t,sourcePosition:r=oe.Bottom,targetX:n,targetY:a,targetPosition:o=oe.Top}){const[i,s]=Hu({pos:r,x1:e,y1:t,x2:n,y2:a}),[l,c]=Hu({pos:o,x1:n,y1:a,x2:e,y2:t}),[u,d,m,p]=jm({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${s} ${l},${c} ${n},${a}`,u,d,m,p]}const rc=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:v,interactionWidth:y})=>{const[S,w,j]=Nm({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:o});return L.createElement(da,{path:S,labelX:w,labelY:j,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:v,interactionWidth:y})});rc.displayName="SimpleBezierEdge";const zu={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},$w=({source:e,sourcePosition:t=oe.Bottom,target:r})=>t===oe.Left||t===oe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Wu=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Bw({source:e,sourcePosition:t=oe.Bottom,target:r,targetPosition:n=oe.Top,center:a,offset:o}){const i=zu[t],s=zu[n],l={x:e.x+i.x*o,y:e.y+i.y*o},c={x:r.x+s.x*o,y:r.y+s.y*o},u=$w({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",m=u[d];let p=[],v,y;const S={x:0,y:0},w={x:0,y:0},[j,D,N,I]=Em({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[d]*s[d]===-1){v=a.x??j,y=a.y??D;const x=[{x:v,y:l.y},{x:v,y:c.y}],g=[{x:l.x,y},{x:c.x,y}];i[d]===m?p=d==="x"?x:g:p=d==="x"?g:x}else{const x=[{x:l.x,y:c.y}],g=[{x:c.x,y:l.y}];if(d==="x"?p=i.x===m?g:x:p=i.y===m?x:g,t===n){const _=Math.abs(e[d]-r[d]);if(_<=o){const C=Math.min(o-1,o-_);i[d]===m?S[d]=(l[d]>e[d]?-1:1)*C:w[d]=(c[d]>r[d]?-1:1)*C}}if(t!==n){const _=d==="x"?"y":"x",C=i[d]===s[_],T=l[_]>c[_],R=l[_]<c[_];(i[d]===1&&(!C&&T||C&&R)||i[d]!==1&&(!C&&R||C&&T))&&(p=d==="x"?x:g)}const b={x:l.x+S.x,y:l.y+S.y},k={x:c.x+w.x,y:c.y+w.y},E=Math.max(Math.abs(b.x-p[0].x),Math.abs(k.x-p[0].x)),O=Math.max(Math.abs(b.y-p[0].y),Math.abs(k.y-p[0].y));E>=O?(v=(b.x+k.x)/2,y=p[0].y):(v=p[0].x,y=(b.y+k.y)/2)}return[[e,{x:l.x+S.x,y:l.y+S.y},...p,{x:c.x+w.x,y:c.y+w.y},r],v,y,N,I]}function Hw(e,t,r,n){const a=Math.min(Wu(e,t)/2,Wu(t,r)/2,n),{x:o,y:i}=t;if(e.x===o&&o===r.x||e.y===i&&i===r.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<r.x?-1:1,u=e.y<r.y?1:-1;return`L ${o+a*c},${i}Q ${o},${i} ${o},${i+a*u}`}const s=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${o},${i+a*l}Q ${o},${i} ${o+a*s},${i}`}function ii({sourceX:e,sourceY:t,sourcePosition:r=oe.Bottom,targetX:n,targetY:a,targetPosition:o=oe.Top,borderRadius:i=5,centerX:s,centerY:l,offset:c=20}){const[u,d,m,p,v]=Bw({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:o,center:{x:s,y:l},offset:c});return[u.reduce((S,w,j)=>{let D="";return j>0&&j<u.length-1?D=Hw(u[j-1],w,u[j+1],i):D=`${j===0?"M":"L"}${w.x} ${w.y}`,S+=D,S},""),d,m,p,v]}const _i=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=oe.Bottom,targetPosition:m=oe.Top,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:S})=>{const[w,j,D]=ii({sourceX:e,sourceY:t,sourcePosition:d,targetX:r,targetY:n,targetPosition:m,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return L.createElement(da,{path:w,labelX:j,labelY:D,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:p,markerStart:v,interactionWidth:S})});_i.displayName="SmoothStepEdge";const nc=h.memo(e=>{var t;return L.createElement(_i,{...e,pathOptions:h.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});nc.displayName="StepEdge";function zw({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,o,i,s]=Em({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,o,i,s]}const ac=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:m,interactionWidth:p})=>{const[v,y,S]=zw({sourceX:e,sourceY:t,targetX:r,targetY:n});return L.createElement(da,{path:v,labelX:y,labelY:S,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:m,interactionWidth:p})});ac.displayName="StraightEdge";function Io(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Vu({pos:e,x1:t,y1:r,x2:n,y2:a,c:o}){switch(e){case oe.Left:return[t-Io(t-n,o),r];case oe.Right:return[t+Io(n-t,o),r];case oe.Top:return[t,r-Io(r-a,o)];case oe.Bottom:return[t,r+Io(a-r,o)]}}function Dm({sourceX:e,sourceY:t,sourcePosition:r=oe.Bottom,targetX:n,targetY:a,targetPosition:o=oe.Top,curvature:i=.25}){const[s,l]=Vu({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[c,u]=Vu({pos:o,x1:n,y1:a,x2:e,y2:t,c:i}),[d,m,p,v]=jm({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${n},${a}`,d,m,p,v]}const si=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:v,pathOptions:y,interactionWidth:S})=>{const[w,j,D]=Dm({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:o,curvature:y==null?void 0:y.curvature});return L.createElement(da,{path:w,labelX:j,labelY:D,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:m,markerEnd:p,markerStart:v,interactionWidth:S})});si.displayName="BezierEdge";const oc=h.createContext(null),Ww=oc.Provider;oc.Consumer;const Vw=()=>h.useContext(oc),Yw=e=>"id"in e&&"source"in e&&"target"in e,Im=e=>"id"in e&&!("source"in e)&&!("target"in e),Uw=(e,t,r)=>{if(!Im(e))return[];const n=r.filter(a=>a.source===e.id).map(a=>a.target);return t.filter(a=>n.includes(a.id))},Gw=(e,t,r)=>{if(!Im(e))return[];const n=r.filter(a=>a.target===e.id).map(a=>a.source);return t.filter(a=>n.includes(a.id))},qw=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,ll=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,Xw=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Tm=(e,t)=>{if(!e.source||!e.target)return t;let r;return Yw(e)?r={...e}:r={...e,id:qw(e)},Xw(r,t)?t:t.concat(r)},cl=({x:e,y:t},[r,n,a],o,[i,s])=>{const l={x:(e-r)/a,y:(t-n)/a};return o?{x:i*Math.round(l.x/i),y:s*Math.round(l.y/s)}:l},Mm=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n}),Kn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],a={x:e.position.x-r,y:e.position.y-n};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:a}},Oi=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const{x:o,y:i}=Kn(a,t).positionAbsolute;return Pw(n,tc({x:o,y:i,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Rw(r)},_m=(e,t,[r,n,a]=[0,0,1],o=!1,i=!1,s=[0,0])=>{const l={x:(t.x-r)/a,y:(t.y-n)/a,width:t.width/a,height:t.height/a},c=[];return e.forEach(u=>{const{width:d,height:m,selectable:p=!0,hidden:v=!1}=u;if(i&&!p||v)return!1;const{positionAbsolute:y}=Kn(u,s),S={x:y.x,y:y.y,width:d||0,height:m||0},w=il(l,S),j=typeof d>"u"||typeof m>"u"||d===null||m===null,D=o&&w>0,N=(d||0)*(m||0);(j||D||w>=N||u.dragging)&&c.push(u)}),c},ic=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},sc=(e,t,r,n,a,o=.1)=>{const i=t/(e.width*(1+o)),s=r/(e.height*(1+o)),l=Math.min(i,s),c=aa(l,n,a),u=e.x+e.width/2,d=e.y+e.height/2,m=t/2-u*c,p=r/2-d*c;return{x:m,y:p,zoom:c}},wn=(e,t=0)=>e.transition().duration(t);function Yu(e,t,r,n){return(t[r]||[]).reduce((a,o)=>{var i,s;return`${e.id}-${o.id}-${r}`!==n&&a.push({id:o.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+o.x+o.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+o.y+o.height/2}),a},[])}function Zw(e,t,r,n,a,o){const{x:i,y:s}=on(e),c=t.elementsFromPoint(i,s).find(v=>v.classList.contains("react-flow__handle"));if(c){const v=c.getAttribute("data-nodeid");if(v){const y=lc(void 0,c),S=c.getAttribute("data-handleid"),w=o({nodeId:v,id:S,type:y});if(w){const j=a.find(D=>D.nodeId===v&&D.type===y&&D.id===S);return{handle:{id:S,type:y,nodeId:v,x:(j==null?void 0:j.x)||r.x,y:(j==null?void 0:j.y)||r.y},validHandleResult:w}}}}let u=[],d=1/0;if(a.forEach(v=>{const y=Math.sqrt((v.x-r.x)**2+(v.y-r.y)**2);if(y<=n){const S=o(v);y<=d&&(y<d?u=[{handle:v,validHandleResult:S}]:y===d&&u.push({handle:v,validHandleResult:S}),d=y)}}),!u.length)return{handle:null,validHandleResult:Om()};if(u.length===1)return u[0];const m=u.some(({validHandleResult:v})=>v.isValid),p=u.some(({handle:v})=>v.type==="target");return u.find(({handle:v,validHandleResult:y})=>p?v.type==="target":m?y.isValid:!0)||u[0]}const Kw={source:null,target:null,sourceHandle:null,targetHandle:null},Om=()=>({handleDomNode:null,isValid:!1,connection:Kw,endHandle:null});function Pm(e,t,r,n,a,o,i){const s=a==="target",l=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...Om(),handleDomNode:l};if(l){const u=lc(void 0,l),d=l.getAttribute("data-nodeid"),m=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),y={source:s?d:r,sourceHandle:s?m:n,target:s?r:d,targetHandle:s?n:m};c.connection=y,p&&v&&(t===Mn.Strict?s&&u==="source"||!s&&u==="target":d!==r||m!==n)&&(c.endHandle={nodeId:d,handleId:m,type:u},c.isValid=o(y))}return c}function Qw({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((a,o)=>{if(o[Je]){const{handleBounds:i}=o[Je];let s=[],l=[];i&&(s=Yu(o,i,"source",`${t}-${r}-${n}`),l=Yu(o,i,"target",`${t}-${r}-${n}`)),a.push(...s,...l)}return a},[])}function lc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function ps(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Jw(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function Rm({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:a,getState:o,setState:i,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:c}){const u=Sm(e.target),{connectionMode:d,domNode:m,autoPanOnConnect:p,connectionRadius:v,onConnectStart:y,panBy:S,getNodes:w,cancelConnection:j}=o();let D=0,N;const{x:I,y:M}=on(e),x=u==null?void 0:u.elementFromPoint(I,M),g=lc(l,x),b=m==null?void 0:m.getBoundingClientRect();if(!b||!g)return;let k,E=on(e,b),O=!1,_=null,C=!1,T=null;const R=Qw({nodes:w(),nodeId:r,handleId:t,handleType:g}),$=()=>{if(!p)return;const[F,W]=xm(E,b);S({x:F,y:W}),D=requestAnimationFrame($)};i({connectionPosition:E,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:g,connectionStartHandle:{nodeId:r,handleId:t,type:g},connectionEndHandle:null}),y==null||y(e,{nodeId:r,handleId:t,handleType:g});function A(F){const{transform:W}=o();E=on(F,b);const{handle:z,validHandleResult:V}=Zw(F,u,cl(E,W,!1,[1,1]),v,R,G=>Pm(G,d,r,t,a?"target":"source",s,u));if(N=z,O||($(),O=!0),T=V.handleDomNode,_=V.connection,C=V.isValid,i({connectionPosition:N&&C?Mm({x:N.x,y:N.y},W):E,connectionStatus:Jw(!!N,C),connectionEndHandle:V.endHandle}),!N&&!C&&!T)return ps(k);_.source!==_.target&&T&&(ps(k),k=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",C),T.classList.toggle("react-flow__handle-valid",C))}function P(F){var W,z;(N||T)&&_&&C&&(n==null||n(_)),(z=(W=o()).onConnectEnd)==null||z.call(W,F),l&&(c==null||c(F)),ps(k),j(),cancelAnimationFrame(D),O=!1,C=!1,_=null,T=null,u.removeEventListener("mousemove",A),u.removeEventListener("mouseup",P),u.removeEventListener("touchmove",A),u.removeEventListener("touchend",P)}u.addEventListener("mousemove",A),u.addEventListener("mouseup",P),u.addEventListener("touchmove",A),u.addEventListener("touchend",P)}const Uu=()=>!0,ex=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),tx=(e,t,r)=>n=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:i}=n;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},Am=h.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...m},p)=>{var b,k;const v=i||null,y=e==="target",S=ct(),w=Vw(),{connectOnClick:j,noPanClassName:D}=Ze(ex,Pt),{connecting:N,clickConnecting:I}=Ze(tx(w,v,e),Pt);w||(k=(b=S.getState()).onError)==null||k.call(b,"010",Yr.error010());const M=E=>{const{defaultEdgeOptions:O,onConnect:_,hasDefaultEdges:C}=S.getState(),T={...O,...E};if(C){const{edges:R,setEdges:$}=S.getState();$(Tm(T,R))}_==null||_(T),s==null||s(T)},x=E=>{if(!w)return;const O=Cm(E);a&&(O&&E.button===0||!O)&&Rm({event:E,handleId:v,nodeId:w,onConnect:M,isTarget:y,getState:S.getState,setState:S.setState,isValidConnection:r||S.getState().isValidConnection||Uu}),O?u==null||u(E):d==null||d(E)},g=E=>{const{onClickConnectStart:O,onClickConnectEnd:_,connectionClickStartHandle:C,connectionMode:T,isValidConnection:R}=S.getState();if(!w||!C&&!a)return;if(!C){O==null||O(E,{nodeId:w,handleId:v,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:w,type:e,handleId:v}});return}const $=Sm(E.target),A=r||R||Uu,{connection:P,isValid:F}=Pm({nodeId:w,id:v,type:e},T,C.nodeId,C.handleId||null,C.type,A,$);F&&M(P),_==null||_(E),S.setState({connectionClickStartHandle:null})};return L.createElement("div",{"data-handleid":v,"data-nodeid":w,"data-handlepos":t,"data-id":`${w}-${v}-${e}`,className:St(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",D,c,{source:!y,target:y,connectable:n,connectablestart:a,connectableend:o,connecting:I,connectionindicator:n&&(a&&!N||o&&N)}]),onMouseDown:x,onTouchStart:x,onClick:j?g:void 0,ref:p,...m},l)});Am.displayName="Handle";var He=h.memo(Am);const Lm=({data:e,isConnectable:t,targetPosition:r=oe.Top,sourcePosition:n=oe.Bottom})=>L.createElement(L.Fragment,null,L.createElement(He,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,L.createElement(He,{type:"source",position:n,isConnectable:t}));Lm.displayName="DefaultNode";var ul=h.memo(Lm);const Fm=({data:e,isConnectable:t,sourcePosition:r=oe.Bottom})=>L.createElement(L.Fragment,null,e==null?void 0:e.label,L.createElement(He,{type:"source",position:r,isConnectable:t}));Fm.displayName="InputNode";var $m=h.memo(Fm);const Bm=({data:e,isConnectable:t,targetPosition:r=oe.Top})=>L.createElement(L.Fragment,null,L.createElement(He,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);Bm.displayName="OutputNode";var Hm=h.memo(Bm);const cc=()=>null;cc.displayName="GroupNode";const rx=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),To=e=>e.id;function nx(e,t){return Pt(e.selectedNodes.map(To),t.selectedNodes.map(To))&&Pt(e.selectedEdges.map(To),t.selectedEdges.map(To))}const zm=h.memo(({onSelectionChange:e})=>{const t=ct(),{selectedNodes:r,selectedEdges:n}=Ze(rx,nx);return h.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[r,n,e]),null});zm.displayName="SelectionListener";const ax=e=>!!e.onSelectionChange;function ox({onSelectionChange:e}){const t=Ze(ax);return e||t?L.createElement(zm,{onSelectionChange:e}):null}const ix=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function An(e,t){h.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Te(e,t,r){h.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const sx=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:a,onConnectStart:o,onConnectEnd:i,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:m,edgesUpdatable:p,elevateNodesOnSelect:v,minZoom:y,maxZoom:S,nodeExtent:w,onNodesChange:j,onEdgesChange:D,elementsSelectable:N,connectionMode:I,snapGrid:M,snapToGrid:x,translateExtent:g,connectOnClick:b,defaultEdgeOptions:k,fitView:E,fitViewOptions:O,onNodesDelete:_,onEdgesDelete:C,onNodeDrag:T,onNodeDragStart:R,onNodeDragStop:$,onSelectionDrag:A,onSelectionDragStart:P,onSelectionDragStop:F,noPanClassName:W,nodeOrigin:z,rfId:V,autoPanOnConnect:G,autoPanOnNodeDrag:H,onError:B,connectionRadius:X,isValidConnection:Z,nodeDragThreshold:se})=>{const{setNodes:U,setEdges:ce,setDefaultNodesAndEdges:Ce,setMinZoom:we,setMaxZoom:ae,setTranslateExtent:Me,setNodeExtent:Re,reset:Ee}=Ze(ix,Pt),de=ct();return h.useEffect(()=>{const Q=n==null?void 0:n.map(Ie=>({...Ie,...k}));return Ce(r,Q),()=>{Ee()}},[]),Te("defaultEdgeOptions",k,de.setState),Te("connectionMode",I,de.setState),Te("onConnect",a,de.setState),Te("onConnectStart",o,de.setState),Te("onConnectEnd",i,de.setState),Te("onClickConnectStart",s,de.setState),Te("onClickConnectEnd",l,de.setState),Te("nodesDraggable",c,de.setState),Te("nodesConnectable",u,de.setState),Te("nodesFocusable",d,de.setState),Te("edgesFocusable",m,de.setState),Te("edgesUpdatable",p,de.setState),Te("elementsSelectable",N,de.setState),Te("elevateNodesOnSelect",v,de.setState),Te("snapToGrid",x,de.setState),Te("snapGrid",M,de.setState),Te("onNodesChange",j,de.setState),Te("onEdgesChange",D,de.setState),Te("connectOnClick",b,de.setState),Te("fitViewOnInit",E,de.setState),Te("fitViewOnInitOptions",O,de.setState),Te("onNodesDelete",_,de.setState),Te("onEdgesDelete",C,de.setState),Te("onNodeDrag",T,de.setState),Te("onNodeDragStart",R,de.setState),Te("onNodeDragStop",$,de.setState),Te("onSelectionDrag",A,de.setState),Te("onSelectionDragStart",P,de.setState),Te("onSelectionDragStop",F,de.setState),Te("noPanClassName",W,de.setState),Te("nodeOrigin",z,de.setState),Te("rfId",V,de.setState),Te("autoPanOnConnect",G,de.setState),Te("autoPanOnNodeDrag",H,de.setState),Te("onError",B,de.setState),Te("connectionRadius",X,de.setState),Te("isValidConnection",Z,de.setState),Te("nodeDragThreshold",se,de.setState),An(e,U),An(t,ce),An(y,we),An(S,ae),An(g,Me),An(w,Re),null},Gu={display:"none"},lx={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Wm="react-flow__node-desc",Vm="react-flow__edge-desc",cx="react-flow__aria-live",ux=e=>e.ariaLiveMessage;function dx({rfId:e}){const t=Ze(ux);return L.createElement("div",{id:`${cx}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:lx},t)}function fx({rfId:e,disableKeyboardA11y:t}){return L.createElement(L.Fragment,null,L.createElement("div",{id:`${Wm}-${e}`,style:Gu},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),L.createElement("div",{id:`${Vm}-${e}`,style:Gu},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&L.createElement(dx,{rfId:e}))}var Xa=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=h.useState(!1),a=h.useRef(!1),o=h.useRef(new Set([])),[i,s]=h.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,m)=>d.concat(...m),[]);return[c,u]}return[[],[]]},[e]);return h.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const u=p=>{if(a.current=p.ctrlKey||p.metaKey||p.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&sl(p))return!1;const y=Xu(p.code,s);o.current.add(p[y]),qu(i,o.current,!1)&&(p.preventDefault(),n(!0))},d=p=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&sl(p))return!1;const y=Xu(p.code,s);qu(i,o.current,!0)?(n(!1),o.current.clear()):o.current.delete(p[y]),p.key==="Meta"&&o.current.clear(),a.current=!1},m=()=>{o.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",m),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",m)}}},[e,n]),r};function qu(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function Xu(e,t){return t.includes(e)?"code":"key"}function Ym(e,t,r,n){var s,l;const a=e.parentNode||e.parentId;if(!a)return r;const o=t.get(a),i=Kn(o,n);return Ym(o,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((s=o[Je])==null?void 0:s.z)??0)>(r.z??0)?((l=o[Je])==null?void 0:l.z)??0:r.z??0},n)}function Um(e,t,r){e.forEach(n=>{var o;const a=n.parentNode||n.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||r!=null&&r[n.id]){const{x:i,y:s,z:l}=Ym(n,e,{...n.position,z:((o=n[Je])==null?void 0:o.z)??0},t);n.positionAbsolute={x:i,y:s},n[Je].z=l,r!=null&&r[n.id]&&(n[Je].isParent=!0)}})}function hs(e,t,r,n){const a=new Map,o={},i=n?1e3:0;return e.forEach(s=>{var p;const l=(tr(s.zIndex)?s.zIndex:0)+(s.selected?i:0),c=t.get(s.id),u={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},d=s.parentNode||s.parentId;d&&(o[d]=!0);const m=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==s.type;Object.defineProperty(u,Je,{enumerable:!1,value:{handleBounds:m||(p=c==null?void 0:c[Je])==null?void 0:p.handleBounds,z:l}}),a.set(s.id,u)}),Um(a,r,o),a}function Gm(e,t={}){const{getNodes:r,width:n,height:a,minZoom:o,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),m=t.initial&&!c&&u;if(s&&l&&(m||!t.initial)){const v=r().filter(S=>{var j;const w=t.includeHiddenNodes?S.width&&S.height:!S.hidden;return(j=t.nodes)!=null&&j.length?w&&t.nodes.some(D=>D.id===S.id):w}),y=v.every(S=>S.width&&S.height);if(v.length>0&&y){const S=Oi(v,d),{x:w,y:j,zoom:D}=sc(S,n,a,t.minZoom??o,t.maxZoom??i,t.padding??.1),N=an.translate(w,j).scale(D);return typeof t.duration=="number"&&t.duration>0?s.transform(wn(l,t.duration),N):s.transform(l,N),!0}}return!1}function mx(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[Je]:n[Je],selected:r.selected})}),new Map(t)}function px(e,t){return t.map(r=>{const n=e.find(a=>a.id===r.id);return n&&(r.selected=n.selected),r})}function Mo({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:a,edges:o,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=r();e!=null&&e.length&&(l&&n({nodeInternals:mx(e,a)}),i==null||i(e)),t!=null&&t.length&&(c&&n({edges:px(t,o)}),s==null||s(t))}const Ln=()=>{},hx={zoomIn:Ln,zoomOut:Ln,zoomTo:Ln,getZoom:()=>1,setViewport:Ln,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ln,fitBounds:Ln,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},gx=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),vx=()=>{const e=ct(),{d3Zoom:t,d3Selection:r}=Ze(gx,Pt);return h.useMemo(()=>r&&t?{zoomIn:a=>t.scaleBy(wn(r,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(wn(r,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(wn(r,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[i,s,l]=e.getState().transform,c=an.translate(a.x??i,a.y??s).scale(a.zoom??l);t.transform(wn(r,o==null?void 0:o.duration),c)},getViewport:()=>{const[a,o,i]=e.getState().transform;return{x:a,y:o,zoom:i}},fitView:a=>Gm(e.getState,a),setCenter:(a,o,i)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:c,d=s/2-a*u,m=l/2-o*u,p=an.translate(d,m).scale(u);t.transform(wn(r,i==null?void 0:i.duration),p)},fitBounds:(a,o)=>{const{width:i,height:s,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:m}=sc(a,i,s,l,c,(o==null?void 0:o.padding)??.1),p=an.translate(u,d).scale(m);t.transform(wn(r,o==null?void 0:o.duration),p)},project:a=>{const{transform:o,snapToGrid:i,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),cl(a,o,i,s)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:i,snapGrid:s,domNode:l}=e.getState();if(!l)return a;const{x:c,y:u}=l.getBoundingClientRect(),d={x:a.x-c,y:a.y-u};return cl(d,o,i,s)},flowToScreenPosition:a=>{const{transform:o,domNode:i}=e.getState();if(!i)return a;const{x:s,y:l}=i.getBoundingClientRect(),c=Mm(a,o);return{x:c.x+s,y:c.y+l}},viewportInitialized:!0}:hx,[t,r])};function mo(){const e=vx(),t=ct(),r=h.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),n=h.useCallback(y=>t.getState().nodeInternals.get(y),[]),a=h.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(S=>({...S}))},[]),o=h.useCallback(y=>{const{edges:S=[]}=t.getState();return S.find(w=>w.id===y)},[]),i=h.useCallback(y=>{const{getNodes:S,setNodes:w,hasDefaultNodes:j,onNodesChange:D}=t.getState(),N=S(),I=typeof y=="function"?y(N):y;if(j)w(I);else if(D){const M=I.length===0?N.map(x=>({type:"remove",id:x.id})):I.map(x=>({item:x,type:"reset"}));D(M)}},[]),s=h.useCallback(y=>{const{edges:S=[],setEdges:w,hasDefaultEdges:j,onEdgesChange:D}=t.getState(),N=typeof y=="function"?y(S):y;if(j)w(N);else if(D){const I=N.length===0?S.map(M=>({type:"remove",id:M.id})):N.map(M=>({item:M,type:"reset"}));D(I)}},[]),l=h.useCallback(y=>{const S=Array.isArray(y)?y:[y],{getNodes:w,setNodes:j,hasDefaultNodes:D,onNodesChange:N}=t.getState();if(D){const M=[...w(),...S];j(M)}else if(N){const I=S.map(M=>({item:M,type:"add"}));N(I)}},[]),c=h.useCallback(y=>{const S=Array.isArray(y)?y:[y],{edges:w=[],setEdges:j,hasDefaultEdges:D,onEdgesChange:N}=t.getState();if(D)j([...w,...S]);else if(N){const I=S.map(M=>({item:M,type:"add"}));N(I)}},[]),u=h.useCallback(()=>{const{getNodes:y,edges:S=[],transform:w}=t.getState(),[j,D,N]=w;return{nodes:y().map(I=>({...I})),edges:S.map(I=>({...I})),viewport:{x:j,y:D,zoom:N}}},[]),d=h.useCallback(({nodes:y,edges:S})=>{const{nodeInternals:w,getNodes:j,edges:D,hasDefaultNodes:N,hasDefaultEdges:I,onNodesDelete:M,onEdgesDelete:x,onNodesChange:g,onEdgesChange:b}=t.getState(),k=(y||[]).map(T=>T.id),E=(S||[]).map(T=>T.id),O=j().reduce((T,R)=>{const $=R.parentNode||R.parentId,A=!k.includes(R.id)&&$&&T.find(F=>F.id===$);return(typeof R.deletable=="boolean"?R.deletable:!0)&&(k.includes(R.id)||A)&&T.push(R),T},[]),_=D.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),C=_.filter(T=>E.includes(T.id));if(O||C){const T=ic(O,_),R=[...C,...T],$=R.reduce((A,P)=>(A.includes(P.id)||A.push(P.id),A),[]);if((I||N)&&(I&&t.setState({edges:D.filter(A=>!$.includes(A.id))}),N&&(O.forEach(A=>{w.delete(A.id)}),t.setState({nodeInternals:new Map(w)}))),$.length>0&&(x==null||x(R),b&&b($.map(A=>({id:A,type:"remove"})))),O.length>0&&(M==null||M(O),g)){const A=O.map(P=>({id:P.id,type:"remove"}));g(A)}}},[]),m=h.useCallback(y=>{const S=Aw(y),w=S?null:t.getState().nodeInternals.get(y.id);return!S&&!w?[null,null,S]:[S?y:Bu(w),w,S]},[]),p=h.useCallback((y,S=!0,w)=>{const[j,D,N]=m(y);return j?(w||t.getState().getNodes()).filter(I=>{if(!N&&(I.id===D.id||!I.positionAbsolute))return!1;const M=Bu(I),x=il(M,j);return S&&x>0||x>=j.width*j.height}):[]},[]),v=h.useCallback((y,S,w=!0)=>{const[j]=m(y);if(!j)return!1;const D=il(j,S);return w&&D>0||D>=j.width*j.height},[]);return h.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:a,getEdge:o,setNodes:i,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:v}),[e,r,n,a,o,i,s,l,c,u,d,p,v])}const yx={actInsideInputWithModifier:!1};var bx=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=ct(),{deleteElements:n}=mo(),a=Xa(e,yx),o=Xa(t);h.useEffect(()=>{if(a){const{edges:i,getNodes:s}=r.getState(),l=s().filter(u=>u.selected),c=i.filter(u=>u.selected);n({nodes:l,edges:c}),r.setState({nodesSelectionActive:!1})}},[a]),h.useEffect(()=>{r.setState({multiSelectionActive:o})},[o])};function wx(e){const t=ct();h.useEffect(()=>{let r;const n=()=>{var o,i;if(!e.current)return;const a=Jl(e.current);(a.height===0||a.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",Yr.error004())),t.setState({width:a.width||500,height:a.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const uc={position:"absolute",width:"100%",height:"100%",top:0,left:0},xx=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,_o=e=>({x:e.x,y:e.y,zoom:e.k}),Fn=(e,t)=>e.target.closest(`.${t}`),Zu=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Ku=e=>{const t=e.ctrlKey&&ai()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Sx=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),kx=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Cn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:m,translateExtent:p,minZoom:v,maxZoom:y,zoomActivationKeyCode:S,preventScrolling:w=!0,children:j,noWheelClassName:D,noPanClassName:N})=>{const I=h.useRef(),M=ct(),x=h.useRef(!1),g=h.useRef(!1),b=h.useRef(null),k=h.useRef({x:0,y:0,zoom:0}),{d3Zoom:E,d3Selection:O,d3ZoomHandler:_,userSelectionActive:C}=Ze(Sx,Pt),T=Xa(S),R=h.useRef(0),$=h.useRef(!1),A=h.useRef();return wx(b),h.useEffect(()=>{if(b.current){const P=b.current.getBoundingClientRect(),F=Dw().scaleExtent([v,y]).translateExtent(p),W=lr(b.current).call(F),z=an.translate(m.x,m.y).scale(aa(m.zoom,v,y)),V=[[0,0],[P.width,P.height]],G=F.constrain()(z,V,p);F.transform(W,G),F.wheelDelta(Ku),M.setState({d3Zoom:F,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:b.current.closest(".react-flow")})}},[]),h.useEffect(()=>{O&&E&&(i&&!T&&!C?O.on("wheel.zoom",P=>{if(Fn(P,D))return!1;P.preventDefault(),P.stopImmediatePropagation();const F=O.property("__zoom").k||1;if(P.ctrlKey&&o){const Z=br(P),se=Ku(P),U=F*Math.pow(2,se);E.scaleTo(O,U,Z,P);return}const W=P.deltaMode===1?20:1;let z=l===Cn.Vertical?0:P.deltaX*W,V=l===Cn.Horizontal?0:P.deltaY*W;!ai()&&P.shiftKey&&l!==Cn.Vertical&&(z=P.deltaY*W,V=0),E.translateBy(O,-(z/F)*s,-(V/F)*s,{internal:!0});const G=_o(O.property("__zoom")),{onViewportChangeStart:H,onViewportChange:B,onViewportChangeEnd:X}=M.getState();clearTimeout(A.current),$.current||($.current=!0,t==null||t(P,G),H==null||H(G)),$.current&&(e==null||e(P,G),B==null||B(G),A.current=setTimeout(()=>{r==null||r(P,G),X==null||X(G),$.current=!1},150))},{passive:!1}):typeof _<"u"&&O.on("wheel.zoom",function(P,F){if(!w&&P.type==="wheel"&&!P.ctrlKey||Fn(P,D))return null;P.preventDefault(),_.call(this,P,F)},{passive:!1}))},[C,i,l,O,E,_,T,o,w,D,t,e,r]),h.useEffect(()=>{E&&E.on("start",P=>{var z,V;if(!P.sourceEvent||P.sourceEvent.internal)return null;R.current=(z=P.sourceEvent)==null?void 0:z.button;const{onViewportChangeStart:F}=M.getState(),W=_o(P.transform);x.current=!0,k.current=W,((V=P.sourceEvent)==null?void 0:V.type)==="mousedown"&&M.setState({paneDragging:!0}),F==null||F(W),t==null||t(P.sourceEvent,W)})},[E,t]),h.useEffect(()=>{E&&(C&&!x.current?E.on("zoom",null):C||E.on("zoom",P=>{var W;const{onViewportChange:F}=M.getState();if(M.setState({transform:[P.transform.x,P.transform.y,P.transform.k]}),g.current=!!(n&&Zu(d,R.current??0)),(e||F)&&!((W=P.sourceEvent)!=null&&W.internal)){const z=_o(P.transform);F==null||F(z),e==null||e(P.sourceEvent,z)}}))},[C,E,e,d,n]),h.useEffect(()=>{E&&E.on("end",P=>{if(!P.sourceEvent||P.sourceEvent.internal)return null;const{onViewportChangeEnd:F}=M.getState();if(x.current=!1,M.setState({paneDragging:!1}),n&&Zu(d,R.current??0)&&!g.current&&n(P.sourceEvent),g.current=!1,(r||F)&&xx(k.current,P.transform)){const W=_o(P.transform);k.current=W,clearTimeout(I.current),I.current=setTimeout(()=>{F==null||F(W),r==null||r(P.sourceEvent,W)},i?150:0)}})},[E,i,d,r,n]),h.useEffect(()=>{E&&E.filter(P=>{const F=T||a,W=o&&P.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&P.button===1&&P.type==="mousedown"&&(Fn(P,"react-flow__node")||Fn(P,"react-flow__edge")))return!0;if(!d&&!F&&!i&&!c&&!o||C||!c&&P.type==="dblclick"||Fn(P,D)&&P.type==="wheel"||Fn(P,N)&&(P.type!=="wheel"||i&&P.type==="wheel"&&!T)||!o&&P.ctrlKey&&P.type==="wheel"||!F&&!i&&!W&&P.type==="wheel"||!d&&(P.type==="mousedown"||P.type==="touchstart")||Array.isArray(d)&&!d.includes(P.button)&&P.type==="mousedown")return!1;const z=Array.isArray(d)&&d.includes(P.button)||!P.button||P.button<=1;return(!P.ctrlKey||P.type==="wheel")&&z})},[C,E,a,o,i,c,d,u,T]),L.createElement("div",{className:"react-flow__renderer",ref:b,style:uc},j)},Cx=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Ex(){const{userSelectionActive:e,userSelectionRect:t}=Ze(Cx,Pt);return e&&t?L.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Qu(e,t){const r=t.parentNode||t.parentId,n=e.find(a=>a.id===r);if(n){const a=t.position.x+t.width-n.width,o=t.position.y+t.height-n.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),o>0&&(n.style.height+=o),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function qm(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,a)=>{const o=e.filter(s=>s.id===a.id);if(o.length===0)return n.push(a),n;const i={...a};for(const s of o)if(s)switch(s.type){case"select":{i.selected=s.selected;break}case"position":{typeof s.position<"u"&&(i.position=s.position),typeof s.positionAbsolute<"u"&&(i.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(i.dragging=s.dragging),i.expandParent&&Qu(n,i);break}case"dimensions":{typeof s.dimensions<"u"&&(i.width=s.dimensions.width,i.height=s.dimensions.height),typeof s.updateStyle<"u"&&(i.style={...i.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(i.resizing=s.resizing),i.expandParent&&Qu(n,i);break}case"remove":return n}return n.push(i),n},r)}function Xm(e,t){return qm(e,t)}function Ju(e,t){return qm(e,t)}const en=(e,t)=>({id:e,type:"select",selected:t});function Un(e,t){return e.reduce((r,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,r.push(en(n.id,!0))):n.selected&&!a&&(n.selected=!1,r.push(en(n.id,!1))),r},[])}const gs=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},jx=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Zm=h.memo(({isSelecting:e,selectionMode:t=qa.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:i,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const m=h.useRef(null),p=ct(),v=h.useRef(0),y=h.useRef(0),S=h.useRef(),{userSelectionActive:w,elementsSelectable:j,dragging:D}=Ze(jx,Pt),N=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},I=_=>{o==null||o(_),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},M=_=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){_.preventDefault();return}i==null||i(_)},x=s?_=>s(_):void 0,g=_=>{const{resetSelectedElements:C,domNode:T}=p.getState();if(S.current=T==null?void 0:T.getBoundingClientRect(),!j||!e||_.button!==0||_.target!==m.current||!S.current)return;const{x:R,y:$}=on(_,S.current);C(),p.setState({userSelectionRect:{width:0,height:0,startX:R,startY:$,x:R,y:$}}),n==null||n(_)},b=_=>{const{userSelectionRect:C,nodeInternals:T,edges:R,transform:$,onNodesChange:A,onEdgesChange:P,nodeOrigin:F,getNodes:W}=p.getState();if(!e||!S.current||!C)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=on(_,S.current),V=C.startX??0,G=C.startY??0,H={...C,x:z.x<V?z.x:V,y:z.y<G?z.y:G,width:Math.abs(z.x-V),height:Math.abs(z.y-G)},B=W(),X=_m(T,H,$,t===qa.Partial,!0,F),Z=ic(X,R).map(U=>U.id),se=X.map(U=>U.id);if(v.current!==se.length){v.current=se.length;const U=Un(B,se);U.length&&(A==null||A(U))}if(y.current!==Z.length){y.current=Z.length;const U=Un(R,Z);U.length&&(P==null||P(U))}p.setState({userSelectionRect:H})},k=_=>{if(_.button!==0)return;const{userSelectionRect:C}=p.getState();!w&&C&&_.target===m.current&&(I==null||I(_)),p.setState({nodesSelectionActive:v.current>0}),N(),a==null||a(_)},E=_=>{w&&(p.setState({nodesSelectionActive:v.current>0}),a==null||a(_)),N()},O=j&&(e||w);return L.createElement("div",{className:St(["react-flow__pane",{dragging:D,selection:e}]),onClick:O?void 0:gs(I,m),onContextMenu:gs(M,m),onWheel:gs(x,m),onMouseEnter:O?void 0:l,onMouseDown:O?g:void 0,onMouseMove:O?b:c,onMouseUp:O?k:void 0,onMouseLeave:O?E:u,ref:m,style:uc},d,L.createElement(Ex,null))});Zm.displayName="Pane";function Km(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:Km(n,t):!1}function ed(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function Nx(e,t,r,n){return Array.from(e.values()).filter(a=>(a.selected||a.id===n)&&(!a.parentNode||a.parentId||!Km(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,i;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:r.y-(((i=a.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function Dx(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Qm(e,t,r,n,a=[0,0],o){const i=Dx(e,e.extent||n);let s=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=r.get(l),{x:m,y:p}=Kn(d,a).positionAbsolute;s=d&&tr(m)&&tr(p)&&tr(d.width)&&tr(d.height)?[[m+e.width*a[0],p+e.height*a[1]],[m+d.width-e.width+e.width*a[0],p+d.height-e.height+e.height*a[1]]]:s}else o==null||o("005",Yr.error005()),s=i;else if(e.extent&&l&&e.extent!=="parent"){const d=r.get(l),{x:m,y:p}=Kn(d,a).positionAbsolute;s=[[e.extent[0][0]+m,e.extent[0][1]+p],[e.extent[1][0]+m,e.extent[1][1]+p]]}let c={x:0,y:0};if(l){const d=r.get(l);c=Kn(d,a).positionAbsolute}const u=s&&s!=="parent"?ec(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function vs({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(a=>({...r.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?n.find(a=>a.id===e):n[0],n]}const td=(e,t,r,n)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),i=t.getBoundingClientRect(),s={x:i.width*n[0],y:i.height*n[1]};return o.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-i.left-s.x)/r,y:(c.top-i.top-s.y)/r,...Jl(l)}})};function ka(e,t,r){return r===void 0?r:n=>{const a=t().nodeInternals.get(e);a&&r(n,{...a})}}function dl({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeInternals:s,onError:l}=t.getState(),c=s.get(e);if(!c){l==null||l("012",Yr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=n==null?void 0:n.current)==null?void 0:u.blur()})):a([e])}function Ix(){const e=ct();return h.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:a,snapToGrid:o}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,l={x:(i-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function ys(e){return(t,r,n)=>e==null?void 0:e(t,n)}function Jm({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:o,selectNodesOnDrag:i}){const s=ct(),[l,c]=h.useState(!1),u=h.useRef([]),d=h.useRef({x:null,y:null}),m=h.useRef(0),p=h.useRef(null),v=h.useRef({x:0,y:0}),y=h.useRef(null),S=h.useRef(!1),w=h.useRef(!1),j=h.useRef(!1),D=Ix();return h.useEffect(()=>{if(e!=null&&e.current){const N=lr(e.current),I=({x:g,y:b})=>{const{nodeInternals:k,onNodeDrag:E,onSelectionDrag:O,updateNodePositions:_,nodeExtent:C,snapGrid:T,snapToGrid:R,nodeOrigin:$,onError:A}=s.getState();d.current={x:g,y:b};let P=!1,F={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&C){const z=Oi(u.current,$);F=tc(z)}if(u.current=u.current.map(z=>{const V={x:g-z.distance.x,y:b-z.distance.y};R&&(V.x=T[0]*Math.round(V.x/T[0]),V.y=T[1]*Math.round(V.y/T[1]));const G=[[C[0][0],C[0][1]],[C[1][0],C[1][1]]];u.current.length>1&&C&&!z.extent&&(G[0][0]=z.positionAbsolute.x-F.x+C[0][0],G[1][0]=z.positionAbsolute.x+(z.width??0)-F.x2+C[1][0],G[0][1]=z.positionAbsolute.y-F.y+C[0][1],G[1][1]=z.positionAbsolute.y+(z.height??0)-F.y2+C[1][1]);const H=Qm(z,V,k,G,$,A);return P=P||z.position.x!==H.position.x||z.position.y!==H.position.y,z.position=H.position,z.positionAbsolute=H.positionAbsolute,z}),!P)return;_(u.current,!0,!0),c(!0);const W=a?E:ys(O);if(W&&y.current){const[z,V]=vs({nodeId:a,dragItems:u.current,nodeInternals:k});W(y.current,z,V)}},M=()=>{if(!p.current)return;const[g,b]=xm(v.current,p.current);if(g!==0||b!==0){const{transform:k,panBy:E}=s.getState();d.current.x=(d.current.x??0)-g/k[2],d.current.y=(d.current.y??0)-b/k[2],E({x:g,y:b})&&I(d.current)}m.current=requestAnimationFrame(M)},x=g=>{var $;const{nodeInternals:b,multiSelectionActive:k,nodesDraggable:E,unselectNodesAndEdges:O,onNodeDragStart:_,onSelectionDragStart:C}=s.getState();w.current=!0;const T=a?_:ys(C);(!i||!o)&&!k&&a&&(($=b.get(a))!=null&&$.selected||O()),a&&o&&i&&dl({id:a,store:s,nodeRef:e});const R=D(g);if(d.current=R,u.current=Nx(b,E,R,a),T&&u.current){const[A,P]=vs({nodeId:a,dragItems:u.current,nodeInternals:b});T(g.sourceEvent,A,P)}};if(t)N.on(".drag",null);else{const g=F0().on("start",b=>{const{domNode:k,nodeDragThreshold:E}=s.getState();E===0&&x(b),j.current=!1;const O=D(b);d.current=O,p.current=(k==null?void 0:k.getBoundingClientRect())||null,v.current=on(b.sourceEvent,p.current)}).on("drag",b=>{var _,C;const k=D(b),{autoPanOnNodeDrag:E,nodeDragThreshold:O}=s.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(j.current=!0),!j.current){if(!S.current&&w.current&&E&&(S.current=!0,M()),!w.current){const T=k.xSnapped-(((_=d==null?void 0:d.current)==null?void 0:_.x)??0),R=k.ySnapped-(((C=d==null?void 0:d.current)==null?void 0:C.y)??0);Math.sqrt(T*T+R*R)>O&&x(b)}(d.current.x!==k.xSnapped||d.current.y!==k.ySnapped)&&u.current&&w.current&&(y.current=b.sourceEvent,v.current=on(b.sourceEvent,p.current),I(k))}}).on("end",b=>{if(!(!w.current||j.current)&&(c(!1),S.current=!1,w.current=!1,cancelAnimationFrame(m.current),u.current)){const{updateNodePositions:k,nodeInternals:E,onNodeDragStop:O,onSelectionDragStop:_}=s.getState(),C=a?O:ys(_);if(k(u.current,!1,!1),C){const[T,R]=vs({nodeId:a,dragItems:u.current,nodeInternals:E});C(b.sourceEvent,T,R)}}}).filter(b=>{const k=b.target;return!b.button&&(!r||!ed(k,`.${r}`,e))&&(!n||ed(k,n,e))});return N.call(g),()=>{N.on(".drag",null)}}}},[e,t,r,n,o,s,a,i,D]),l}function ep(){const e=ct();return h.useCallback(r=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:o,getNodes:i,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=i().filter(j=>j.selected&&(j.draggable||u&&typeof j.draggable>"u")),m=s?l[0]:5,p=s?l[1]:5,v=r.isShiftPressed?4:1,y=r.x*m*v,S=r.y*p*v,w=d.map(j=>{if(j.positionAbsolute){const D={x:j.positionAbsolute.x+y,y:j.positionAbsolute.y+S};s&&(D.x=l[0]*Math.round(D.x/l[0]),D.y=l[1]*Math.round(D.y/l[1]));const{positionAbsolute:N,position:I}=Qm(j,D,n,a,void 0,c);j.position=I,j.positionAbsolute=N}return j});o(w,!0,!1)},[])}const Qn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ca=e=>{const t=({id:r,type:n,data:a,xPos:o,yPos:i,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:m,onMouseLeave:p,onContextMenu:v,onDoubleClick:y,style:S,className:w,isDraggable:j,isSelectable:D,isConnectable:N,isFocusable:I,selectNodesOnDrag:M,sourcePosition:x,targetPosition:g,hidden:b,resizeObserver:k,dragHandle:E,zIndex:O,isParent:_,noDragClassName:C,noPanClassName:T,initialized:R,disableKeyboardA11y:$,ariaLabel:A,rfId:P,hasHandleBounds:F})=>{const W=ct(),z=h.useRef(null),V=h.useRef(null),G=h.useRef(x),H=h.useRef(g),B=h.useRef(n),X=D||j||u||d||m||p,Z=ep(),se=ka(r,W.getState,d),U=ka(r,W.getState,m),ce=ka(r,W.getState,p),Ce=ka(r,W.getState,v),we=ka(r,W.getState,y),ae=Ee=>{const{nodeDragThreshold:de}=W.getState();if(D&&(!M||!j||de>0)&&dl({id:r,store:W,nodeRef:z}),u){const Q=W.getState().nodeInternals.get(r);Q&&u(Ee,{...Q})}},Me=Ee=>{if(!sl(Ee)&&!$)if(km.includes(Ee.key)&&D){const de=Ee.key==="Escape";dl({id:r,store:W,unselect:de,nodeRef:z})}else j&&c&&Object.prototype.hasOwnProperty.call(Qn,Ee.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${Ee.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~i}`}),Z({x:Qn[Ee.key].x,y:Qn[Ee.key].y,isShiftPressed:Ee.shiftKey}))};h.useEffect(()=>()=>{V.current&&(k==null||k.unobserve(V.current),V.current=null)},[]),h.useEffect(()=>{if(z.current&&!b){const Ee=z.current;(!R||!F||V.current!==Ee)&&(V.current&&(k==null||k.unobserve(V.current)),k==null||k.observe(Ee),V.current=Ee)}},[b,R,F]),h.useEffect(()=>{const Ee=B.current!==n,de=G.current!==x,Q=H.current!==g;z.current&&(Ee||de||Q)&&(Ee&&(B.current=n),de&&(G.current=x),Q&&(H.current=g),W.getState().updateNodeDimensions([{id:r,nodeElement:z.current,forceUpdate:!0}]))},[r,n,x,g]);const Re=Jm({nodeRef:z,disabled:b||!j,noDragClassName:C,handleSelector:E,nodeId:r,isSelectable:D,selectNodesOnDrag:M});return b?null:L.createElement("div",{className:St(["react-flow__node",`react-flow__node-${n}`,{[T]:j},w,{selected:c,selectable:D,parent:_,dragging:Re}]),ref:z,style:{zIndex:O,transform:`translate(${s}px,${l}px)`,pointerEvents:X?"all":"none",visibility:R?"visible":"hidden",...S},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:se,onMouseMove:U,onMouseLeave:ce,onContextMenu:Ce,onClick:ae,onDoubleClick:we,onKeyDown:I?Me:void 0,tabIndex:I?0:void 0,role:I?"button":void 0,"aria-describedby":$?void 0:`${Wm}-${P}`,"aria-label":A},L.createElement(Ww,{value:r},L.createElement(e,{id:r,data:a,type:n,xPos:o,yPos:i,selected:c,isConnectable:N,sourcePosition:x,targetPosition:g,dragging:Re,dragHandle:E,zIndex:O})))};return t.displayName="NodeWrapper",h.memo(t)};const Tx=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Oi(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Mx({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=ct(),{width:a,height:o,x:i,y:s,transformString:l,userSelectionActive:c}=Ze(Tx,Pt),u=ep(),d=h.useRef(null);if(h.useEffect(()=>{var v;r||(v=d.current)==null||v.focus({preventScroll:!0})},[r]),Jm({nodeRef:d}),c||!a||!o)return null;const m=e?v=>{const y=n.getState().getNodes().filter(S=>S.selected);e(v,y)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(Qn,v.key)&&u({x:Qn[v.key].x,y:Qn[v.key].y,isShiftPressed:v.shiftKey})};return L.createElement("div",{className:St(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},L.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:a,height:o,top:s,left:i}}))}var _x=h.memo(Mx);const Ox=e=>e.nodesSelectionActive,tp=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:m,selectionMode:p,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:S,panActivationKeyCode:w,zoomActivationKeyCode:j,elementsSelectable:D,zoomOnScroll:N,zoomOnPinch:I,panOnScroll:M,panOnScrollSpeed:x,panOnScrollMode:g,zoomOnDoubleClick:b,panOnDrag:k,defaultViewport:E,translateExtent:O,minZoom:_,maxZoom:C,preventScrolling:T,onSelectionContextMenu:R,noWheelClassName:$,noPanClassName:A,disableKeyboardA11y:P})=>{const F=Ze(Ox),W=Xa(d),z=Xa(w),V=z||k,G=z||M,H=W||m&&V!==!0;return bx({deleteKeyCode:s,multiSelectionKeyCode:S}),L.createElement(kx,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:o,elementsSelectable:D,zoomOnScroll:N,zoomOnPinch:I,panOnScroll:G,panOnScrollSpeed:x,panOnScrollMode:g,zoomOnDoubleClick:b,panOnDrag:!W&&V,defaultViewport:E,translateExtent:O,minZoom:_,maxZoom:C,zoomActivationKeyCode:j,preventScrolling:T,noWheelClassName:$,noPanClassName:A},L.createElement(Zm,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:V,isSelecting:!!H,selectionMode:p},e,F&&L.createElement(_x,{onSelectionContextMenu:R,noPanClassName:A,disableKeyboardA11y:P})))};tp.displayName="FlowRenderer";var Px=h.memo(tp);function Rx(e){return Ze(h.useCallback(r=>e?_m(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Ax(e){const t={input:Ca(e.input||$m),default:Ca(e.default||ul),output:Ca(e.output||Hm),group:Ca(e.group||cc)},r={},n=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=Ca(e[o]||ul),a),r);return{...t,...n}}const Lx=({x:e,y:t,width:r,height:n,origin:a})=>!r||!n?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-r*a[0],y:t-n*a[1]},Fx=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),rp=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,updateNodeDimensions:o,onError:i}=Ze(Fx,Pt),s=Rx(e.onlyRenderVisibleElements),l=h.useRef(),c=h.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const m=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(m)});return l.current=u,u},[]);return h.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),L.createElement("div",{className:"react-flow__nodes",style:uc},s.map(u=>{var I,M,x;let d=u.type||"default";e.nodeTypes[d]||(i==null||i("003",Yr.error003(d)),d="default");const m=e.nodeTypes[d]||e.nodeTypes.default,p=!!(u.draggable||t&&typeof u.draggable>"u"),v=!!(u.selectable||a&&typeof u.selectable>"u"),y=!!(u.connectable||r&&typeof u.connectable>"u"),S=!!(u.focusable||n&&typeof u.focusable>"u"),w=e.nodeExtent?ec(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,j=(w==null?void 0:w.x)??0,D=(w==null?void 0:w.y)??0,N=Lx({x:j,y:D,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return L.createElement(m,{key:u.id,id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||oe.Bottom,targetPosition:u.targetPosition||oe.Top,hidden:u.hidden,xPos:j,yPos:D,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:p,isSelectable:v,isConnectable:y,isFocusable:S,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((I=u[Je])==null?void 0:I.z)??0,isParent:!!((M=u[Je])!=null&&M.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((x=u[Je])!=null&&x.handleBounds)})}))};rp.displayName="NodeRenderer";var $x=h.memo(rp);const Bx=(e,t,r)=>r===oe.Left?e-t:r===oe.Right?e+t:e,Hx=(e,t,r)=>r===oe.Top?e-t:r===oe.Bottom?e+t:e,rd="react-flow__edgeupdater",nd=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:s})=>L.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:St([rd,`${rd}-${s}`]),cx:Bx(t,n,e),cy:Hx(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),zx=()=>!0;var $n=e=>{const t=({id:r,className:n,type:a,data:o,onClick:i,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:y,style:S,source:w,target:j,sourceX:D,sourceY:N,targetX:I,targetY:M,sourcePosition:x,targetPosition:g,elementsSelectable:b,hidden:k,sourceHandleId:E,targetHandleId:O,onContextMenu:_,onMouseEnter:C,onMouseMove:T,onMouseLeave:R,reconnectRadius:$,onReconnect:A,onReconnectStart:P,onReconnectEnd:F,markerEnd:W,markerStart:z,rfId:V,ariaLabel:G,isFocusable:H,isReconnectable:B,pathOptions:X,interactionWidth:Z,disableKeyboardA11y:se})=>{const U=h.useRef(null),[ce,Ce]=h.useState(!1),[we,ae]=h.useState(!1),Me=ct(),Re=h.useMemo(()=>`url('#${ll(z,V)}')`,[z,V]),Ee=h.useMemo(()=>`url('#${ll(W,V)}')`,[W,V]);if(k)return null;const de=Qe=>{var ht;const{edges:at,addSelectedEdges:Nt,unselectNodesAndEdges:yt,multiSelectionActive:bt}=Me.getState(),wt=at.find(Xt=>Xt.id===r);wt&&(b&&(Me.setState({nodesSelectionActive:!1}),wt.selected&&bt?(yt({nodes:[],edges:[wt]}),(ht=U.current)==null||ht.blur()):Nt([r])),i&&i(Qe,wt))},Q=Sa(r,Me.getState,s),Ie=Sa(r,Me.getState,_),Rt=Sa(r,Me.getState,C),At=Sa(r,Me.getState,T),kt=Sa(r,Me.getState,R),nt=(Qe,at)=>{if(Qe.button!==0)return;const{edges:Nt,isValidConnection:yt}=Me.getState(),bt=at?j:w,wt=(at?O:E)||null,ht=at?"target":"source",Xt=yt||zx,Zt=at,ir=Nt.find(Dt=>Dt.id===r);ae(!0),P==null||P(Qe,ir,ht);const Nr=Dt=>{ae(!1),F==null||F(Dt,ir,ht)};Rm({event:Qe,handleId:wt,nodeId:bt,onConnect:Dt=>A==null?void 0:A(ir,Dt),isTarget:Zt,getState:Me.getState,setState:Me.setState,isValidConnection:Xt,edgeUpdaterType:ht,onReconnectEnd:Nr})},Lt=Qe=>nt(Qe,!0),pt=Qe=>nt(Qe,!1),Ct=()=>Ce(!0),Et=()=>Ce(!1),jt=!b&&!i,qt=Qe=>{var at;if(!se&&km.includes(Qe.key)&&b){const{unselectNodesAndEdges:Nt,addSelectedEdges:yt,edges:bt}=Me.getState();Qe.key==="Escape"?((at=U.current)==null||at.blur(),Nt({edges:[bt.find(ht=>ht.id===r)]})):yt([r])}};return L.createElement("g",{className:St(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:l,animated:c,inactive:jt,updating:ce}]),onClick:de,onDoubleClick:Q,onContextMenu:Ie,onMouseEnter:Rt,onMouseMove:At,onMouseLeave:kt,onKeyDown:H?qt:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":G===null?void 0:G||`Edge from ${w} to ${j}`,"aria-describedby":H?`${Vm}-${V}`:void 0,ref:U},!we&&L.createElement(e,{id:r,source:w,target:j,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:y,data:o,style:S,sourceX:D,sourceY:N,targetX:I,targetY:M,sourcePosition:x,targetPosition:g,sourceHandleId:E,targetHandleId:O,markerStart:Re,markerEnd:Ee,pathOptions:X,interactionWidth:Z}),B&&L.createElement(L.Fragment,null,(B==="source"||B===!0)&&L.createElement(nd,{position:x,centerX:D,centerY:N,radius:$,onMouseDown:Lt,onMouseEnter:Ct,onMouseOut:Et,type:"source"}),(B==="target"||B===!0)&&L.createElement(nd,{position:g,centerX:I,centerY:M,radius:$,onMouseDown:pt,onMouseEnter:Ct,onMouseOut:Et,type:"target"})))};return t.displayName="EdgeWrapper",h.memo(t)};function Wx(e){const t={default:$n(e.default||si),straight:$n(e.bezier||ac),step:$n(e.step||nc),smoothstep:$n(e.step||_i),simplebezier:$n(e.simplebezier||rc)},r={},n=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=$n(e[o]||si),a),r);return{...t,...n}}function ad(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,a=((r==null?void 0:r.y)||0)+t.y,o=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case oe.Top:return{x:n+o/2,y:a};case oe.Right:return{x:n+o,y:a+i/2};case oe.Bottom:return{x:n+o/2,y:a+i};case oe.Left:return{x:n,y:a+i/2}}}function od(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const Vx=(e,t,r,n,a,o)=>{const i=ad(r,e,t),s=ad(o,n,a);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}};function Yx({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:a,targetHeight:o,width:i,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+a),y2:Math.max(e.y+n,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=tc({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),m=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*m)>0}function id(e){var n,a,o,i,s;const t=((n=e==null?void 0:e[Je])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const Ux=[{level:0,isMaxLevel:!0,edges:[]}];function Gx(e,t,r=!1){let n=-1;const a=e.reduce((i,s)=>{var u,d;const l=tr(s.zIndex);let c=l?s.zIndex:0;if(r){const m=t.get(s.target),p=t.get(s.source),v=s.selected||(m==null?void 0:m.selected)||(p==null?void 0:p.selected),y=Math.max(((u=p==null?void 0:p[Je])==null?void 0:u.z)||0,((d=m==null?void 0:m[Je])==null?void 0:d.z)||0,1e3);c=(l?s.zIndex:0)+(v?y:0)}return i[c]?i[c].push(s):i[c]=[s],n=c>n?c:n,i},{}),o=Object.entries(a).map(([i,s])=>{const l=+i;return{edges:s,level:l,isMaxLevel:l===n}});return o.length===0?Ux:o}function qx(e,t,r){const n=Ze(h.useCallback(a=>e?a.edges.filter(o=>{const i=t.get(o.source),s=t.get(o.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&Yx({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:s.width,targetHeight:s.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return Gx(n,t,r)}const Xx=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Zx=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),sd={[oi.Arrow]:Xx,[oi.ArrowClosed]:Zx};function Kx(e){const t=ct();return h.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(sd,e)?sd[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",Yr.error009(e)),null)},[e])}const Qx=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:s="auto-start-reverse"})=>{const l=Kx(t);return l?L.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0"},L.createElement(l,{color:r,strokeWidth:i})):null},Jx=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const s=ll(i,t);n.includes(s)||(a.push({id:s,color:i.color||e,...i}),n.push(s))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},np=({defaultColor:e,rfId:t})=>{const r=Ze(h.useCallback(Jx({defaultColor:e,rfId:t}),[e,t]),(n,a)=>!(n.length!==a.length||n.some((o,i)=>o.id!==a[i].id)));return L.createElement("defs",null,r.map(n=>L.createElement(Qx,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};np.displayName="MarkerDefinitions";var e1=h.memo(np);const t1=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),ap=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:i,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:d,onReconnect:m,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:y,children:S,disableKeyboardA11y:w})=>{const{edgesFocusable:j,edgesUpdatable:D,elementsSelectable:N,width:I,height:M,connectionMode:x,nodeInternals:g,onError:b}=Ze(t1,Pt),k=qx(t,g,r);return I?L.createElement(L.Fragment,null,k.map(({level:E,edges:O,isMaxLevel:_})=>L.createElement("svg",{key:E,style:{zIndex:E},width:I,height:M,className:"react-flow__edges react-flow__container"},_&&L.createElement(e1,{defaultColor:e,rfId:n}),L.createElement("g",null,O.map(C=>{const[T,R,$]=id(g.get(C.source)),[A,P,F]=id(g.get(C.target));if(!$||!F)return null;let W=C.type||"default";a[W]||(b==null||b("011",Yr.error011(W)),W="default");const z=a[W]||a.default,V=x===Mn.Strict?P.target:(P.target??[]).concat(P.source??[]),G=od(R.source,C.sourceHandle),H=od(V,C.targetHandle),B=(G==null?void 0:G.position)||oe.Bottom,X=(H==null?void 0:H.position)||oe.Top,Z=!!(C.focusable||j&&typeof C.focusable>"u"),se=C.reconnectable||C.updatable,U=typeof m<"u"&&(se||D&&typeof se>"u");if(!G||!H)return b==null||b("008",Yr.error008(G,C)),null;const{sourceX:ce,sourceY:Ce,targetX:we,targetY:ae}=Vx(T,G,B,A,H,X);return L.createElement(z,{key:C.id,id:C.id,className:St([C.className,o]),type:W,data:C.data,selected:!!C.selected,animated:!!C.animated,hidden:!!C.hidden,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,style:C.style,source:C.source,target:C.target,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerEnd:C.markerEnd,markerStart:C.markerStart,sourceX:ce,sourceY:Ce,targetX:we,targetY:ae,sourcePosition:B,targetPosition:X,elementsSelectable:N,onContextMenu:i,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:d,onReconnect:m,onReconnectStart:p,onReconnectEnd:v,reconnectRadius:y,rfId:n,ariaLabel:C.ariaLabel,isFocusable:Z,isReconnectable:U,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth,disableKeyboardA11y:w})})))),S):null};ap.displayName="EdgeRenderer";var r1=h.memo(ap);const n1=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function a1({children:e}){const t=Ze(n1);return L.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function o1(e){const t=mo(),r=h.useRef(!1);h.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const i1={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},op=({nodeId:e,handleType:t,style:r,type:n=tn.Bezier,CustomComponent:a,connectionStatus:o})=>{var M,x,g;const{fromNode:i,handleId:s,toX:l,toY:c,connectionMode:u}=Ze(h.useCallback(b=>({fromNode:b.nodeInternals.get(e),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[e]),Pt),d=(M=i==null?void 0:i[Je])==null?void 0:M.handleBounds;let m=d==null?void 0:d[t];if(u===Mn.Loose&&(m=m||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!m)return null;const p=s?m.find(b=>b.id===s):m[0],v=p?p.x+p.width/2:(i.width??0)/2,y=p?p.y+p.height/2:i.height??0,S=(((x=i.positionAbsolute)==null?void 0:x.x)??0)+v,w=(((g=i.positionAbsolute)==null?void 0:g.y)??0)+y,j=p==null?void 0:p.position,D=j?i1[j]:null;if(!j||!D)return null;if(a)return L.createElement(a,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:p,fromX:S,fromY:w,toX:l,toY:c,fromPosition:j,toPosition:D,connectionStatus:o});let N="";const I={sourceX:S,sourceY:w,sourcePosition:j,targetX:l,targetY:c,targetPosition:D};return n===tn.Bezier?[N]=Dm(I):n===tn.Step?[N]=ii({...I,borderRadius:0}):n===tn.SmoothStep?[N]=ii(I):n===tn.SimpleBezier?[N]=Nm(I):N=`M${S},${w} ${l},${c}`,L.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:r})};op.displayName="ConnectionLine";const s1=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function l1({containerStyle:e,style:t,type:r,component:n}){const{nodeId:a,handleType:o,nodesConnectable:i,width:s,height:l,connectionStatus:c}=Ze(s1,Pt);return!(a&&o&&s&&i)?null:L.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},L.createElement("g",{className:St(["react-flow__connection",c])},L.createElement(op,{nodeId:a,handleType:o,style:t,type:r,CustomComponent:n,connectionStatus:c})))}function ld(e,t){return h.useRef(null),ct(),h.useMemo(()=>t(e),[e])}const ip=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:a,onInit:o,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:S,connectionLineType:w,connectionLineStyle:j,connectionLineComponent:D,connectionLineContainerStyle:N,selectionKeyCode:I,selectionOnDrag:M,selectionMode:x,multiSelectionKeyCode:g,panActivationKeyCode:b,zoomActivationKeyCode:k,deleteKeyCode:E,onlyRenderVisibleElements:O,elementsSelectable:_,selectNodesOnDrag:C,defaultViewport:T,translateExtent:R,minZoom:$,maxZoom:A,preventScrolling:P,defaultMarkerColor:F,zoomOnScroll:W,zoomOnPinch:z,panOnScroll:V,panOnScrollSpeed:G,panOnScrollMode:H,zoomOnDoubleClick:B,panOnDrag:X,onPaneClick:Z,onPaneMouseEnter:se,onPaneMouseMove:U,onPaneMouseLeave:ce,onPaneScroll:Ce,onPaneContextMenu:we,onEdgeContextMenu:ae,onEdgeMouseEnter:Me,onEdgeMouseMove:Re,onEdgeMouseLeave:Ee,onReconnect:de,onReconnectStart:Q,onReconnectEnd:Ie,reconnectRadius:Rt,noDragClassName:At,noWheelClassName:kt,noPanClassName:nt,elevateEdgesOnSelect:Lt,disableKeyboardA11y:pt,nodeOrigin:Ct,nodeExtent:Et,rfId:jt})=>{const qt=ld(e,Ax),Qe=ld(t,Wx);return o1(o),L.createElement(Px,{onPaneClick:Z,onPaneMouseEnter:se,onPaneMouseMove:U,onPaneMouseLeave:ce,onPaneContextMenu:we,onPaneScroll:Ce,deleteKeyCode:E,selectionKeyCode:I,selectionOnDrag:M,selectionMode:x,onSelectionStart:y,onSelectionEnd:S,multiSelectionKeyCode:g,panActivationKeyCode:b,zoomActivationKeyCode:k,elementsSelectable:_,onMove:r,onMoveStart:n,onMoveEnd:a,zoomOnScroll:W,zoomOnPinch:z,zoomOnDoubleClick:B,panOnScroll:V,panOnScrollSpeed:G,panOnScrollMode:H,panOnDrag:X,defaultViewport:T,translateExtent:R,minZoom:$,maxZoom:A,onSelectionContextMenu:v,preventScrolling:P,noDragClassName:At,noWheelClassName:kt,noPanClassName:nt,disableKeyboardA11y:pt},L.createElement(a1,null,L.createElement(r1,{edgeTypes:Qe,onEdgeClick:s,onEdgeDoubleClick:c,onlyRenderVisibleElements:O,onEdgeContextMenu:ae,onEdgeMouseEnter:Me,onEdgeMouseMove:Re,onEdgeMouseLeave:Ee,onReconnect:de,onReconnectStart:Q,onReconnectEnd:Ie,reconnectRadius:Rt,defaultMarkerColor:F,noPanClassName:nt,elevateEdgesOnSelect:!!Lt,disableKeyboardA11y:pt,rfId:jt},L.createElement(l1,{style:j,type:w,component:D,containerStyle:N})),L.createElement("div",{className:"react-flow__edgelabel-renderer"}),L.createElement($x,{nodeTypes:qt,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:C,onlyRenderVisibleElements:O,noPanClassName:nt,noDragClassName:At,disableKeyboardA11y:pt,nodeOrigin:Ct,nodeExtent:Et,rfId:jt})))};ip.displayName="GraphView";var c1=h.memo(ip);const fl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Kr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:fl,nodeExtent:fl,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Mn.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Lw,isValidConnection:void 0},u1=()=>Zv((e,t)=>({...Kr,setNodes:r=>{const{nodeInternals:n,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:hs(r,n,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(a=>({...n,...a}))})},setDefaultNodesAndEdges:(r,n)=>{const a=typeof r<"u",o=typeof n<"u",i=a?hs(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:o?n:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(d.transform),p=r.reduce((y,S)=>{const w=a.get(S.id);if(w!=null&&w.hidden)a.set(w.id,{...w,[Je]:{...w[Je],handleBounds:void 0}});else if(w){const j=Jl(S.nodeElement);!!(j.width&&j.height&&(w.width!==j.width||w.height!==j.height||S.forceUpdate))&&(a.set(w.id,{...w,[Je]:{...w[Je],handleBounds:{source:td(".source",S.nodeElement,m,c),target:td(".target",S.nodeElement,m,c)}},...j}),y.push({id:w.id,type:"dimensions",dimensions:j}))}return y},[]);Um(a,c);const v=i||o&&!i&&Gm(t,{initial:!0,...s});e({nodeInternals:new Map(a),fitViewOnInitDone:v}),(p==null?void 0:p.length)>0&&(n==null||n(p))},updateNodePositions:(r,n=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),i=r.map(s=>{const l={id:s.id,type:"position",dragging:a};return n&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});o(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();if(r!=null&&r.length){if(o){const c=Xm(r,s()),u=hs(c,a,i,l);e({nodeInternals:u})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:a,getNodes:o}=t();let i,s=null;n?i=r.map(l=>en(l,!0)):(i=Un(o(),r),s=Un(a,[])),Mo({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:a,getNodes:o}=t();let i,s=null;n?i=r.map(l=>en(l,!0)):(i=Un(a,r),s=Un(o(),[])),Mo({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:a,getNodes:o}=t(),i=r||o(),s=n||a,l=i.map(u=>(u.selected=!1,en(u.id,!1))),c=s.map(u=>en(u.id,!1));Mo({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:a}=t();n==null||n.scaleExtent([r,a]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:a}=t();n==null||n.scaleExtent([a,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),o=n().filter(s=>s.selected).map(s=>en(s.id,!1)),i=r.filter(s=>s.selected).map(s=>en(s.id,!1));Mo({changedNodes:o,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(a=>{a.positionAbsolute=ec(a.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:a,height:o,d3Zoom:i,d3Selection:s,translateExtent:l}=t();if(!i||!s||!r.x&&!r.y)return!1;const c=an.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),u=[[0,0],[a,o]],d=i==null?void 0:i.constrain()(c,u,l);return i.transform(s,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Kr.connectionNodeId,connectionHandleId:Kr.connectionHandleId,connectionHandleType:Kr.connectionHandleType,connectionStatus:Kr.connectionStatus,connectionStartHandle:Kr.connectionStartHandle,connectionEndHandle:Kr.connectionEndHandle}),reset:()=>e({...Kr})}),Object.is),dc=({children:e})=>{const t=h.useRef(null);return t.current||(t.current=u1()),L.createElement(Iw,{value:t.current},e)};dc.displayName="ReactFlowProvider";const sp=({children:e})=>h.useContext(Mi)?L.createElement(L.Fragment,null,e):L.createElement(dc,null,e);sp.displayName="ReactFlowWrapper";const d1={input:$m,default:ul,output:Hm,group:cc},f1={default:si,straight:ac,step:nc,smoothstep:_i,simplebezier:rc},m1=[0,0],p1=[15,15],h1={x:0,y:0,zoom:1},g1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},lp=h.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:o=d1,edgeTypes:i=f1,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:m,onConnect:p,onConnectStart:v,onConnectEnd:y,onClickConnectStart:S,onClickConnectEnd:w,onNodeMouseEnter:j,onNodeMouseMove:D,onNodeMouseLeave:N,onNodeContextMenu:I,onNodeDoubleClick:M,onNodeDragStart:x,onNodeDrag:g,onNodeDragStop:b,onNodesDelete:k,onEdgesDelete:E,onSelectionChange:O,onSelectionDragStart:_,onSelectionDrag:C,onSelectionDragStop:T,onSelectionContextMenu:R,onSelectionStart:$,onSelectionEnd:A,connectionMode:P=Mn.Strict,connectionLineType:F=tn.Bezier,connectionLineStyle:W,connectionLineComponent:z,connectionLineContainerStyle:V,deleteKeyCode:G="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:B=!1,selectionMode:X=qa.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:se=ai()?"Meta":"Control",zoomActivationKeyCode:U=ai()?"Meta":"Control",snapToGrid:ce=!1,snapGrid:Ce=p1,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:ae=!0,nodesDraggable:Me,nodesConnectable:Re,nodesFocusable:Ee,nodeOrigin:de=m1,edgesFocusable:Q,edgesUpdatable:Ie,elementsSelectable:Rt,defaultViewport:At=h1,minZoom:kt=.5,maxZoom:nt=2,translateExtent:Lt=fl,preventScrolling:pt=!0,nodeExtent:Ct,defaultMarkerColor:Et="#b1b1b7",zoomOnScroll:jt=!0,zoomOnPinch:qt=!0,panOnScroll:Qe=!1,panOnScrollSpeed:at=.5,panOnScrollMode:Nt=Cn.Free,zoomOnDoubleClick:yt=!0,panOnDrag:bt=!0,onPaneClick:wt,onPaneMouseEnter:ht,onPaneMouseMove:Xt,onPaneMouseLeave:Zt,onPaneScroll:ir,onPaneContextMenu:Nr,children:Dr,onEdgeContextMenu:Dt,onEdgeDoubleClick:vr,onEdgeMouseEnter:pn,onEdgeMouseMove:Ir,onEdgeMouseLeave:Tr,onEdgeUpdate:Xr,onEdgeUpdateStart:Mr,onEdgeUpdateEnd:hn,onReconnect:yr,onReconnectStart:ye,onReconnectEnd:Y,reconnectRadius:J=10,edgeUpdaterRadius:_e=10,onNodesChange:Ue,onEdgesChange:ut,noDragClassName:me="nodrag",noWheelClassName:K="nowheel",noPanClassName:Ne="nopan",fitView:ze=!1,fitViewOptions:We,connectOnClick:Ft=!0,attributionPosition:It,proOptions:pe,defaultEdgeOptions:q,elevateNodesOnSelect:re=!0,elevateEdgesOnSelect:ie=!1,disableKeyboardA11y:le=!1,autoPanOnConnect:ge=!0,autoPanOnNodeDrag:he=!0,connectionRadius:xe=20,isValidConnection:Fe,onError:Ae,style:et,id:it,nodeDragThreshold:gt,...$t},_r)=>{const gn=it||"1";return L.createElement("div",{...$t,style:{...et,...g1},ref:_r,className:St(["react-flow",a]),"data-testid":"rf__wrapper",id:it},L.createElement(sp,null,L.createElement(c1,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:m,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:j,onNodeMouseMove:D,onNodeMouseLeave:N,onNodeContextMenu:I,onNodeDoubleClick:M,nodeTypes:o,edgeTypes:i,connectionLineType:F,connectionLineStyle:W,connectionLineComponent:z,connectionLineContainerStyle:V,selectionKeyCode:H,selectionOnDrag:B,selectionMode:X,deleteKeyCode:G,multiSelectionKeyCode:se,panActivationKeyCode:Z,zoomActivationKeyCode:U,onlyRenderVisibleElements:we,selectNodesOnDrag:ae,defaultViewport:At,translateExtent:Lt,minZoom:kt,maxZoom:nt,preventScrolling:pt,zoomOnScroll:jt,zoomOnPinch:qt,zoomOnDoubleClick:yt,panOnScroll:Qe,panOnScrollSpeed:at,panOnScrollMode:Nt,panOnDrag:bt,onPaneClick:wt,onPaneMouseEnter:ht,onPaneMouseMove:Xt,onPaneMouseLeave:Zt,onPaneScroll:ir,onPaneContextMenu:Nr,onSelectionContextMenu:R,onSelectionStart:$,onSelectionEnd:A,onEdgeContextMenu:Dt,onEdgeDoubleClick:vr,onEdgeMouseEnter:pn,onEdgeMouseMove:Ir,onEdgeMouseLeave:Tr,onReconnect:yr??Xr,onReconnectStart:ye??Mr,onReconnectEnd:Y??hn,reconnectRadius:J??_e,defaultMarkerColor:Et,noDragClassName:me,noWheelClassName:K,noPanClassName:Ne,elevateEdgesOnSelect:ie,rfId:gn,disableKeyboardA11y:le,nodeOrigin:de,nodeExtent:Ct}),L.createElement(sx,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:v,onConnectEnd:y,onClickConnectStart:S,onClickConnectEnd:w,nodesDraggable:Me,nodesConnectable:Re,nodesFocusable:Ee,edgesFocusable:Q,edgesUpdatable:Ie,elementsSelectable:Rt,elevateNodesOnSelect:re,minZoom:kt,maxZoom:nt,nodeExtent:Ct,onNodesChange:Ue,onEdgesChange:ut,snapToGrid:ce,snapGrid:Ce,connectionMode:P,translateExtent:Lt,connectOnClick:Ft,defaultEdgeOptions:q,fitView:ze,fitViewOptions:We,onNodesDelete:k,onEdgesDelete:E,onNodeDragStart:x,onNodeDrag:g,onNodeDragStop:b,onSelectionDrag:C,onSelectionDragStart:_,onSelectionDragStop:T,noPanClassName:Ne,nodeOrigin:de,rfId:gn,autoPanOnConnect:ge,autoPanOnNodeDrag:he,onError:Ae,connectionRadius:xe,isValidConnection:Fe,nodeDragThreshold:gt}),L.createElement(ox,{onSelectionChange:O}),Dr,L.createElement(Mw,{proOptions:pe,position:It}),L.createElement(fx,{rfId:gn,disableKeyboardA11y:le})))});lp.displayName="ReactFlow";const v1=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function y1({children:e}){const t=Ze(v1);return t?_f.createPortal(e,t):null}function b1(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}function w1(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},L.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function x1(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},L.createElement("path",{d:"M0 0h32v4.2H0z"}))}function S1(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},L.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function k1(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function C1(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Pa=({children:e,className:t,...r})=>L.createElement("button",{type:"button",className:St(["react-flow__controls-button",t]),...r},e);Pa.displayName="ControlButton";const E1=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),cp=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const m=ct(),[p,v]=h.useState(!1),{isInteractive:y,minZoomReached:S,maxZoomReached:w}=Ze(E1,b1),{zoomIn:j,zoomOut:D,fitView:N}=mo();if(h.useEffect(()=>{v(!0)},[]),!p)return null;const I=()=>{j(),o==null||o()},M=()=>{D(),i==null||i()},x=()=>{N(a),s==null||s()},g=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return L.createElement(Ql,{className:St(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls"},t&&L.createElement(L.Fragment,null,L.createElement(Pa,{onClick:I,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},L.createElement(w1,null)),L.createElement(Pa,{onClick:M,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},L.createElement(x1,null))),r&&L.createElement(Pa,{className:"react-flow__controls-fitview",onClick:x,title:"fit view","aria-label":"fit view"},L.createElement(S1,null)),n&&L.createElement(Pa,{className:"react-flow__controls-interactive",onClick:g,title:"toggle interactivity","aria-label":"toggle interactivity"},y?L.createElement(C1,null):L.createElement(k1,null)),u)};cp.displayName="Controls";var j1=h.memo(cp);function N1(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var fr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(fr||(fr={}));function D1({color:e,dimensions:t,lineWidth:r}){return L.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function I1({color:e,radius:t}){return L.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const T1={[fr.Dots]:"#91919a",[fr.Lines]:"#eee",[fr.Cross]:"#e2e2e2"},M1={[fr.Dots]:1,[fr.Lines]:1,[fr.Cross]:6},_1=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function up({id:e,variant:t=fr.Dots,gap:r=20,size:n,lineWidth:a=1,offset:o=2,color:i,style:s,className:l}){const c=h.useRef(null),{transform:u,patternId:d}=Ze(_1,N1),m=i||T1[t],p=n||M1[t],v=t===fr.Dots,y=t===fr.Cross,S=Array.isArray(r)?r:[r,r],w=[S[0]*u[2]||1,S[1]*u[2]||1],j=p*u[2],D=y?[j,j]:w,N=v?[j/o,j/o]:[D[0]/o,D[1]/o];return L.createElement("svg",{className:St(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},L.createElement("pattern",{id:d+e,x:u[0]%w[0],y:u[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},v?L.createElement(I1,{color:m,radius:j/o}):L.createElement(D1,{dimensions:D,color:m,lineWidth:a})),L.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}up.displayName="Background";var O1=h.memo(up);const P1=({onAccept:e,onReject:t})=>f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx("button",{className:"text-white px-2 bg-green-500 hover:bg-green-700 rounded h-8 flex items-center justify-center",onClick:t,children:"No"}),f.jsx("button",{className:"text-white bg-red-500 px-2 hover:bg-red-700 rounded h-8 flex items-center justify-center",onClick:e,autoFocus:!0,children:"Yes"})]}),R1=({flowList:e,value:t,onChange:r})=>{h.useEffect(()=>{if(!t&&(e!=null&&e.length)){const a=e.find(o=>o.label.includes("Draft"));a&&r(a.value)}},[t,e,r]);const n=a=>r(a.target.value);return f.jsxs("div",{className:"pb-3",children:[f.jsx("label",{htmlFor:"dropdown",className:"text-xs",children:"Flows"}),f.jsxs("select",{id:"dropdown",className:"border w-full","aria-label":"Select Draft or Version to View and Modify",onChange:n,value:t||"",children:[f.jsx("option",{value:"",children:"Select a flow"}),e==null?void 0:e.map(a=>f.jsx("option",{value:a.value,children:a.label},a.value))]})]})},A1=h.memo(R1),L1=({onDragStart:e,clearFlow:t,onSave:r,errors:n,nodes:a,flowList:o,onFlowSelectionChange:i,onDelete:s,flowId:l,isSaveDisabled:c})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flow-tools",children:[f.jsx("button",{className:"button",onDragStart:u=>e(u,"message"),draggable:!0,children:"Message"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"options"),draggable:!0,children:"Options"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"leadForm"),draggable:!0,children:"Lead Form"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"file"),draggable:!0,children:"File"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"map"),draggable:!0,children:"Maps"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"question"),draggable:!0,children:"Question"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"callConnect"),draggable:!0,children:"CallConnect"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"otp"),draggable:!0,children:"OTP"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"customForm"),draggable:!0,children:"Custom Form"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"http"),draggable:!0,children:"HTTP"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"gpt"),draggable:!0,children:"GPT Handler"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"stop"),draggable:!0,children:"Stop"})]}),f.jsxs("div",{className:"flow-actions",children:[f.jsx(A1,{flowList:o,onChange:i,value:l}),f.jsx("button",{disabled:c,className:"px-2 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded items-center text-center",onClick:()=>r(),children:"Save"}),f.jsx("button",{disabled:Object.keys(n).length>0||a.length<2,className:"px-2 py-2 bg-blue-500 hover:bg-blue-700 text-white font-bold rounded items-center text-center",onClick:()=>r(!0),children:"Deploy"}),f.jsx("button",{disabled:a.length<2,title:"Clear Board - Will delete all Nodes and Edges",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center",onClick:()=>t(),children:"Clear"}),f.jsx("button",{disabled:!l,title:"Delete Flow",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center hidden",onClick:()=>s(l),children:"Delete"})]})]}),F1=L.memo(L1);function $1(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const B1=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function sn(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Bn=null;function dp(e={}){return Bn||(e.includeStyleProperties?(Bn=e.includeStyleProperties,Bn):(Bn=sn(window.getComputedStyle(document.documentElement)),Bn))}function li(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function H1(e){const t=li(e,"border-left-width"),r=li(e,"border-right-width");return e.clientWidth+t+r}function z1(e){const t=li(e,"border-top-width"),r=li(e,"border-bottom-width");return e.clientHeight+t+r}function fp(e,t={}){const r=t.width||H1(e),n=t.height||z1(e);return{width:r,height:n}}function W1(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Bt=16384;function V1(e){(e.width>Bt||e.height>Bt)&&(e.width>Bt&&e.height>Bt?e.width>e.height?(e.height*=Bt/e.width,e.width=Bt):(e.width*=Bt/e.height,e.height=Bt):e.width>Bt?(e.height*=Bt/e.width,e.width=Bt):(e.width*=Bt/e.height,e.height=Bt))}function ci(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Y1(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function U1(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(e),Y1(a)}const Ot=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||Ot(r,t)};function G1(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function q1(e,t){return dp(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function X1(e,t,r,n){const a=`.${e}:${t}`,o=r.cssText?G1(r):q1(r,n);return document.createTextNode(`${a}{${o}}`)}function cd(e,t,r,n){const a=window.getComputedStyle(e,r),o=a.getPropertyValue("content");if(o===""||o==="none")return;const i=B1();try{t.className=`${t.className} ${i}`}catch{return}const s=document.createElement("style");s.appendChild(X1(i,r,a,n)),t.appendChild(s)}function Z1(e,t,r){cd(e,t,":before",r),cd(e,t,":after",r)}const ud="application/font-woff",dd="image/jpeg",K1={woff:ud,woff2:ud,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:dd,jpeg:dd,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Q1(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function fc(e){const t=Q1(e).toLowerCase();return K1[t]||""}function J1(e){return e.split(/,/)[1]}function ml(e){return e.search(/^(data:)/)!==-1}function e2(e,t){return`data:${t};base64,${e}`}async function mp(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((o,i)=>{const s=new FileReader;s.onerror=i,s.onloadend=()=>{try{o(r({res:n,result:s.result}))}catch(l){i(l)}},s.readAsDataURL(a)})}const bs={};function t2(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function mc(e,t,r){const n=t2(e,t,r.includeQueryParams);if(bs[n]!=null)return bs[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const o=await mp(e,r.fetchRequestInit,({res:i,result:s})=>(t||(t=i.headers.get("Content-Type")||""),J1(s)));a=e2(o,t)}catch(o){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;o&&(i=typeof o=="string"?o:o.message),i&&console.warn(i)}return bs[n]=a,a}async function r2(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):ci(t)}async function n2(e,t){if(e.currentSrc){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,i==null||i.drawImage(e,0,0,o.width,o.height);const s=o.toDataURL();return ci(s)}const r=e.poster,n=fc(r),a=await mc(r,n,t);return ci(a)}async function a2(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await Pi(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function o2(e,t){return Ot(e,HTMLCanvasElement)?r2(e):Ot(e,HTMLVideoElement)?n2(e,t):Ot(e,HTMLIFrameElement)?a2(e,t):e.cloneNode(pp(e))}const i2=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",pp=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function s2(e,t,r){var n,a;if(pp(t))return t;let o=[];return i2(e)&&e.assignedNodes?o=sn(e.assignedNodes()):Ot(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?o=sn(e.contentDocument.body.childNodes):o=sn(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),o.length===0||Ot(e,HTMLVideoElement)||await o.reduce((i,s)=>i.then(()=>Pi(s,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function l2(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):dp(r).forEach(o=>{let i=a.getPropertyValue(o);o==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),Ot(e,HTMLIFrameElement)&&o==="display"&&i==="inline"&&(i="block"),o==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(o,i,a.getPropertyPriority(o))})}function c2(e,t){Ot(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ot(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function u2(e,t){if(Ot(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function d2(e,t,r){return Ot(t,Element)&&(l2(e,t,r),Z1(e,t,r),c2(e,t),u2(e,t)),t}async function f2(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let o=0;o<r.length;o++){const s=r[o].getAttribute("xlink:href");if(s){const l=e.querySelector(s),c=document.querySelector(s);!l&&c&&!n[s]&&(n[s]=await Pi(c,t,!0))}}const a=Object.values(n);if(a.length){const o="http://www.w3.org/1999/xhtml",i=document.createElementNS(o,"svg");i.setAttribute("xmlns",o),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const s=document.createElementNS(o,"defs");i.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(i)}return e}async function Pi(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>o2(n,t)).then(n=>s2(e,n,t)).then(n=>d2(e,n,t)).then(n=>f2(n,t))}const hp=/url\((['"]?)([^'"]+?)\1\)/g,m2=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,p2=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function h2(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function g2(e){const t=[];return e.replace(hp,(r,n,a)=>(t.push(a),r)),t.filter(r=>!ml(r))}async function v2(e,t,r,n,a){try{const o=r?$1(t,r):t,i=fc(t);let s;return a||(s=await mc(o,i,n)),e.replace(h2(t),`$1${s}$3`)}catch{}return e}function y2(e,{preferredFontFormat:t}){return t?e.replace(p2,r=>{for(;;){const[n,,a]=m2.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function gp(e){return e.search(hp)!==-1}async function vp(e,t,r){if(!gp(e))return e;const n=y2(e,r);return g2(n).reduce((o,i)=>o.then(s=>v2(s,i,t,r)),Promise.resolve(n))}async function Hn(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const o=await vp(a,null,r);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function b2(e,t){await Hn("background",e,t)||await Hn("background-image",e,t),await Hn("mask",e,t)||await Hn("-webkit-mask",e,t)||await Hn("mask-image",e,t)||await Hn("-webkit-mask-image",e,t)}async function w2(e,t){const r=Ot(e,HTMLImageElement);if(!(r&&!ml(e.src))&&!(Ot(e,SVGImageElement)&&!ml(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await mc(n,fc(n),t);await new Promise((o,i)=>{e.onload=o,e.onerror=t.onImageErrorHandler?(...l)=>{try{o(t.onImageErrorHandler(...l))}catch(c){i(c)}}:i;const s=e;s.decode&&(s.decode=o),s.loading==="lazy"&&(s.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function x2(e,t){const n=sn(e.childNodes).map(a=>yp(a,t));await Promise.all(n).then(()=>e)}async function yp(e,t){Ot(e,Element)&&(await b2(e,t),await w2(e,t),await x2(e,t))}function S2(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const fd={};async function md(e){let t=fd[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},fd[e]=t,t}async function pd(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let s=i.replace(n,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),mp(s,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(o).then(()=>r)}function hd(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(i,"gi");for(;;){let l=o.exec(n);if(l===null){if(l=s.exec(n),l===null)break;o.lastIndex=s.lastIndex}else s.lastIndex=o.lastIndex;t.push(l[0])}return t}async function k2(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{sn(a.cssRules||[]).forEach((o,i)=>{if(o.type===CSSRule.IMPORT_RULE){let s=i+1;const l=o.href,c=md(l).then(u=>pd(u,t)).then(u=>hd(u).forEach(d=>{try{a.insertRule(d,d.startsWith("@import")?s+=1:a.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:d,error:m})}})).catch(u=>{console.error("Error loading remote css",u.toString())});n.push(c)}})}catch(o){const i=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&n.push(md(a.href).then(s=>pd(s,t)).then(s=>hd(s).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{sn(a.cssRules||[]).forEach(o=>{r.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),r))}function C2(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>gp(t.style.getPropertyValue("src")))}async function E2(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=sn(e.ownerDocument.styleSheets),n=await k2(r,t);return C2(n)}function bp(e){return e.trim().replace(/["']/g,"")}function j2(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(o=>{t.add(bp(o))}),Array.from(n.children).forEach(o=>{o instanceof HTMLElement&&r(o)})}return r(e),t}async function N2(e,t){const r=await E2(e,t),n=j2(e);return(await Promise.all(r.filter(o=>n.has(bp(o.style.fontFamily))).map(o=>{const i=o.parentStyleSheet?o.parentStyleSheet.href:null;return vp(o.cssText,i,t)}))).join(`
`)}async function D2(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await N2(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function I2(e,t={}){const{width:r,height:n}=fp(e,t),a=await Pi(e,t,!0);return await D2(a,t),await yp(a,t),S2(a,t),await U1(a,r,n)}async function T2(e,t={}){const{width:r,height:n}=fp(e,t),a=await I2(e,t),o=await ci(a),i=document.createElement("canvas"),s=i.getContext("2d"),l=t.pixelRatio||W1(),c=t.canvasWidth||r,u=t.canvasHeight||n;return i.width=c*l,i.height=u*l,t.skipAutoScale||V1(i),i.style.width=`${c}`,i.style.height=`${u}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(o,0,0,i.width,i.height),i}async function M2(e,t={}){return(await T2(e,t)).toDataURL()}function _2(e){const t=document.createElement("a");t.setAttribute("download","reactflow.png"),t.setAttribute("href",e),t.click()}const ws=1024,xs=768;function O2(){const{getNodes:e}=mo(),t=()=>{const r=Oi(e()),n=sc(r,ws,xs,.5,2,20);M2(document.querySelector(".react-flow__viewport"),{backgroundColor:"#1a365d",width:ws,height:xs,style:{width:`${ws}px`,height:`${xs}px`,transform:`translate(${n.x}px, ${n.y}px) scale(${n.zoom})`}}).then(_2)};return f.jsx(Ql,{position:"top-right",children:f.jsx("button",{className:"download-btn",onClick:t,children:"Download Image"})})}function P2({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:o,targetPosition:i,style:s={}}){const{setEdges:l}=mo(),[c,u,d]=ii({sourceX:t,sourceY:r,sourcePosition:o,targetX:n,targetY:a,targetPosition:i}),m=()=>{l(p=>p.filter(v=>v.id!==e))};return f.jsxs(f.Fragment,{children:[f.jsx("svg",{style:{position:"absolute"},children:f.jsx("defs",{children:f.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"10",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#ff0073"})})})}),f.jsx(da,{path:c,markerEnd:"url(#arrowhead)",style:s}),f.jsx(y1,{children:f.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${u}px,${d}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:f.jsx("button",{className:"w-4 h-4 bg-gray-300 border border-gray-500 rounded-full text-xs font-bold text-gray-800 flex items-baseline justify-center hover:bg-red-600 hover:border-red-700 hover:text-white hover:shadow-md",onClick:m,children:"×"})})})]})}const R2={Smileys:[{emoji:"😀",keywords:["grinning","happy","smile"]},{emoji:"😁",keywords:["grin","smiley","cheerful"]},{emoji:"😂",keywords:["joy","tears","laugh"]},{emoji:"🤣",keywords:["rofl","roll","laughing"]},{emoji:"😃",keywords:["smile","happy","joy"]},{emoji:"😄",keywords:["smiling","joy","happy"]},{emoji:"😅",keywords:["sweat","relief","nervous"]},{emoji:"😆",keywords:["laugh","happy","joy"]},{emoji:"😉",keywords:["wink","flirt","playful"]},{emoji:"😊",keywords:["blush","happy","smile"]},{emoji:"😋",keywords:["yum","delicious","tasty"]},{emoji:"😎",keywords:["cool","sunglasses","chill"]},{emoji:"😍",keywords:["love","heart","eyes","romantic"]},{emoji:"😘",keywords:["kiss","heart","love"]},{emoji:"😗",keywords:["kiss","face","blowing"]},{emoji:"😙",keywords:["kiss","smiling","love"]},{emoji:"😚",keywords:["kiss","closed","eyes"]},{emoji:"🙂",keywords:["smile","slight","happy"]},{emoji:"🤗",keywords:["hug","face","smile","embrace"]},{emoji:"🤩",keywords:["star","struck","amazed"]},{emoji:"🤔",keywords:["thinking","hmm","curious"]},{emoji:"🤨",keywords:["face","eyebrow","raised"]},{emoji:"😐",keywords:["neutral","meh","blank"]},{emoji:"😑",keywords:["expressionless","blank","deadpan"]},{emoji:"😶",keywords:["silence","no","mouth"]},{emoji:"🙄",keywords:["eye","roll","annoyed"]},{emoji:"😏",keywords:["smirk","sly","looking"]},{emoji:"😣",keywords:["persevere","struggling","face"]},{emoji:"😥",keywords:["relieved","sweat","exhaled"]},{emoji:"😮",keywords:["face","surprise","wow"]},{emoji:"🤤",keywords:["drooling","yum","delicious"]},{emoji:"😪",keywords:["sleepy","tired","exhausted"]},{emoji:"😯",keywords:["hushed","quiet","speechless"]},{emoji:"😫",keywords:["tired","sleepy","exhausted"]},{emoji:"😴",keywords:["sleeping","zzz","sleep"]},{emoji:"🤢",keywords:["nauseated","sick","face"]},{emoji:"🥵",keywords:["hot","sweating","face"]},{emoji:"🥶",keywords:["cold","freezing","face"]},{emoji:"😓",keywords:["sweat","sad","disappointed"]},{emoji:"😠",keywords:["angry","mad","annoyed"]},{emoji:"😡",keywords:["rage","pout","angry"]},{emoji:"🤬",keywords:["swearing","angry","censored"]},{emoji:"😔",keywords:["sad","disappointed","down"]},{emoji:"😕",keywords:["confused","meh","puzzled"]},{emoji:"🙁",keywords:["frowning","sad","unhappy"]},{emoji:"😟",keywords:["worried","anxious","concerned"]},{emoji:"😖",keywords:["confounded","distressed","upset"]},{emoji:"😢",keywords:["crying","sad","tears"]},{emoji:"😭",keywords:["sob","cry","tear"]},{emoji:"😩",keywords:["weary","tired","exhausted"]},{emoji:"😣",keywords:["persevere","struggle","sad"]},{emoji:"😞",keywords:["disappointed","sad","upset"]},{emoji:"😤",keywords:["triumph","proud","smug"]},{emoji:"😫",keywords:["tired","exhausted","sad"]},{emoji:"😰",keywords:["anxious","sad","worried"]},{emoji:"😱",keywords:["screaming","shock","scared"]},{emoji:"😳",keywords:["flushed","embarrassed","shocked"]},{emoji:"🤯",keywords:["mind","blown","shock"]},{emoji:"🤠",keywords:["cowboy","hat","cheerful"]},{emoji:"🥳",keywords:["party","celebrating","fun"]},{emoji:"😎",keywords:["cool","shade","sunglasses"]},{emoji:"🤓",keywords:["nerd","smart","studious"]},{emoji:"🧐",keywords:["monocle","curious","inspect"]},{emoji:"😦",keywords:["frowning","sad","upset"]},{emoji:"😧",keywords:["anguished","distressed","sad"]},{emoji:"😲",keywords:["astonished","surprised","shocked"]},{emoji:"🥺",keywords:["pleading","sad","cute"]},{emoji:"😵",keywords:["dizzy","confused","woozy"]},{emoji:"🤐",keywords:["zipper","mouth","shutup"]},{emoji:"🤕",keywords:["head","injury","sick"]}],Animals:[{emoji:"🐱",keywords:["cat","pet","feline"]},{emoji:"🐶",keywords:["dog","pet","puppy"]},{emoji:"🐭",keywords:["mouse","rodent","small"]},{emoji:"🐹",keywords:["hamster","pet","small"]},{emoji:"🐰",keywords:["rabbit","bunny","pet"]},{emoji:"🦊",keywords:["fox","wild","animal"]},{emoji:"🐻",keywords:["bear","wild","animal"]},{emoji:"🐼",keywords:["panda","bear","animal"]},{emoji:"🐨",keywords:["koala","bear","animal"]},{emoji:"🐯",keywords:["tiger","wild","bigcat"]},{emoji:"🦁",keywords:["lion","wild","king"]},{emoji:"🐮",keywords:["cow","farm","animal"]},{emoji:"🐷",keywords:["pig","farm","animal"]},{emoji:"🐸",keywords:["frog","amphibian","animal"]},{emoji:"🐵",keywords:["monkey","animal","primate"]},{emoji:"🦄",keywords:["unicorn","mythical","animal"]},{emoji:"🐴",keywords:["horse","equine","animal"]},{emoji:"🐤",keywords:["chick","baby","bird"]},{emoji:"🦜",keywords:["parrot","bird","talking"]},{emoji:"🦢",keywords:["swan","bird","majestic"]},{emoji:"🦉",keywords:["owl","bird","night"]},{emoji:"🦇",keywords:["bat","night","animal"]},{emoji:"🐺",keywords:["wolf","animal","wild"]},{emoji:"🐗",keywords:["boar","wild","animal"]},{emoji:"🐹",keywords:["hamster","animal","pet"]},{emoji:"🦔",keywords:["hedgehog","animal","cute"]},{emoji:"🐦",keywords:["bird","animal","flying"]},{emoji:"🐧",keywords:["penguin","bird","cold"]},{emoji:"🦀",keywords:["crab","sea","animal"]},{emoji:"🦞",keywords:["lobster","sea","animal"]},{emoji:"🦐",keywords:["shrimp","sea","animal"]},{emoji:"🐢",keywords:["turtle","reptile","animal"]},{emoji:"🦎",keywords:["lizard","reptile","animal"]},{emoji:"🐍",keywords:["snake","reptile","animal"]},{emoji:"🦕",keywords:["sauropod","dinosaur","extinct"]},{emoji:"🦖",keywords:["T-Rex","dinosaur","extinct"]},{emoji:"🐙",keywords:["octopus","sea","animal"]},{emoji:"🐬",keywords:["dolphin","sea","animal"]},{emoji:"🐳",keywords:["whale","sea","animal"]},{emoji:"🐟",keywords:["fish","sea","animal"]},{emoji:"🐠",keywords:["tropical","fish","sea"]},{emoji:"🐡",keywords:["blowfish","sea","animal"]},{emoji:"🐬",keywords:["dolphin","sea","animal"]},{emoji:"🦈",keywords:["shark","sea","animal"]},{emoji:"🐊",keywords:["crocodile","reptile","animal"]},{emoji:"🐅",keywords:["tiger","wild","animal"]},{emoji:"🐆",keywords:["leopard","wild","animal"]},{emoji:"🦓",keywords:["zebra","wild","animal"]},{emoji:"🦍",keywords:["gorilla","wild","animal"]},{emoji:"🦧",keywords:["orangutan","wild","animal"]},{emoji:"🦏",keywords:["rhinoceros","wild","animal"]},{emoji:"🦛",keywords:["hippopotamus","wild","animal"]},{emoji:"🐃",keywords:["water buffalo","wild","animal"]},{emoji:"🐂",keywords:["ox","farm","animal"]},{emoji:"🦒",keywords:["giraffe","wild","animal"]},{emoji:"🐘",keywords:["elephant","wild","animal"]},{emoji:"🦏",keywords:["rhinoceros","wild","animal"]},{emoji:"🦇",keywords:["bat","wild","animal"]},{emoji:"🐫",keywords:["camel","desert","animal"]},{emoji:"🦙",keywords:["llama","animal","farm"]},{emoji:"🦘",keywords:["kangaroo","wild","animal"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🐩",keywords:["poodle","dog","animal"]},{emoji:"🐕",keywords:["dog","animal","pet"]},{emoji:"🐈",keywords:["cat","animal","pet"]},{emoji:"🐓",keywords:["rooster","farm","bird"]},{emoji:"🐈‍⬛",keywords:["black cat","animal","pet"]},{emoji:"🐖",keywords:["pig","farm","animal"]},{emoji:"🐉",keywords:["dragon","mythical","animal"]},{emoji:"🐇",keywords:["rabbit","animal","pet"]},{emoji:"🦢",keywords:["swan","bird","majestic"]},{emoji:"🐕‍🦺",keywords:["service dog","animal","service"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🐖",keywords:["pig","animal","farm"]},{emoji:"🦨",keywords:["skunk","wild","animal"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🦦",keywords:["otter","wild","animal"]},{emoji:"🦨",keywords:["skunk","wild","animal"]},{emoji:"🦦",keywords:["otter","wild","animal"]},{emoji:"🦥",keywords:["sloth","wild","animal"]},{emoji:"🦩",keywords:["flamingo","wild","bird"]},{emoji:"🦩",keywords:["flamingo","wild","bird"]},{emoji:"🦒",keywords:["giraffe","wild","animal"]}],Food:[{emoji:"🍏",keywords:["apple","green apple","fruit"]},{emoji:"🍎",keywords:["apple","red apple","fruit"]},{emoji:"🍐",keywords:["pear","fruit"]},{emoji:"🍊",keywords:["tangerine","orange","fruit"]},{emoji:"🍋",keywords:["lemon","fruit"]},{emoji:"🍌",keywords:["banana","fruit"]},{emoji:"🍉",keywords:["watermelon","fruit"]},{emoji:"🍇",keywords:["grapes","fruit","vineyard"]},{emoji:"🍓",keywords:["strawberry","fruit"]},{emoji:"🍈",keywords:["melon","fruit"]},{emoji:"🍒",keywords:["cherries","fruit"]},{emoji:"🍑",keywords:["peach","fruit"]},{emoji:"🍍",keywords:["pineapple","fruit"]},{emoji:"🥭",keywords:["mango","fruit"]},{emoji:"🥥",keywords:["coconut","fruit"]},{emoji:"🥝",keywords:["kiwi","fruit"]},{emoji:"🍅",keywords:["tomato","vegetable"]},{emoji:"🍆",keywords:["eggplant","vegetable"]},{emoji:"🥑",keywords:["avocado","fruit"]},{emoji:"🥒",keywords:["cucumber","vegetable"]},{emoji:"🥬",keywords:["leafy greens","vegetable","lettuce"]},{emoji:"🥦",keywords:["broccoli","vegetable"]},{emoji:"🌽",keywords:["corn","vegetable"]},{emoji:"🌶",keywords:["hot pepper","vegetable","spicy"]},{emoji:"🥕",keywords:["carrot","vegetable"]},{emoji:"🧄",keywords:["garlic","vegetable"]},{emoji:"🧅",keywords:["onion","vegetable"]},{emoji:"🥔",keywords:["potato","vegetable"]},{emoji:"🍠",keywords:["yam","vegetable","sweet potato"]},{emoji:"🥐",keywords:["croissant","bread"]},{emoji:"🍞",keywords:["bread","loaf"]},{emoji:"🥖",keywords:["baguette","bread"]},{emoji:"🥨",keywords:["pretzel","bread","snack"]},{emoji:"🥯",keywords:["bagel","bread"]},{emoji:"🥞",keywords:["pancakes","breakfast"]},{emoji:"🧇",keywords:["waffle","breakfast"]},{emoji:"🧀",keywords:["cheese","dairy"]},{emoji:"🍖",keywords:["meat","bone","food"]},{emoji:"🍗",keywords:["poultry leg","chicken leg","food"]},{emoji:"🥩",keywords:["cut of meat","steak","food"]},{emoji:"🍤",keywords:["fried shrimp","seafood"]},{emoji:"🥚",keywords:["egg","food","breakfast"]},{emoji:"🍳",keywords:["cooking","egg","fried egg"]},{emoji:"🥓",keywords:["bacon","meat","breakfast"]},{emoji:"🥗",keywords:["salad","food","healthy"]},{emoji:"🍲",keywords:["pot of food","soup","stew"]},{emoji:"🍿",keywords:["popcorn","snack","movies"]},{emoji:"🧈",keywords:["butter","food"]},{emoji:"🍱",keywords:["bento box","sushi","Japanese food"]},{emoji:"🍣",keywords:["sushi","Japanese food"]},{emoji:"🍛",keywords:["curry","rice","food"]},{emoji:"🍜",keywords:["noodles","ramen","bowl"]},{emoji:"🍝",keywords:["spaghetti","pasta","food"]},{emoji:"🥟",keywords:["dumpling","food"]},{emoji:"🍠",keywords:["sweet potato","food","roasted"]},{emoji:"🍤",keywords:["shrimp","food","fried"]},{emoji:"🍢",keywords:["oden","food","skewer"]},{emoji:"🍵",keywords:["tea","cup"]},{emoji:"🥛",keywords:["milk","glass"]},{emoji:"☕",keywords:["coffee","cup"]},{emoji:"🍰",keywords:["cake","dessert","birthday"]},{emoji:"🎂",keywords:["birthday cake","dessert"]},{emoji:"🍩",keywords:["doughnut","dessert"]},{emoji:"🍪",keywords:["cookie","dessert"]},{emoji:"🍭",keywords:["lollipop","candy"]},{emoji:"🍫",keywords:["chocolate","bar","dessert"]},{emoji:"🍬",keywords:["candy","sweet"]},{emoji:"🍯",keywords:["honey","honey pot","sweet"]},{emoji:"🧂",keywords:["salt","condiment"]}],Activity:[{emoji:"⚽",keywords:["soccer","football","goal"]},{emoji:"🏀",keywords:["basketball","hoops","dunk"]},{emoji:"🏈",keywords:["football","rugby","gridiron"]},{emoji:"⚾",keywords:["baseball","pitch","bat"]},{emoji:"🎾",keywords:["tennis","racket","serve"]},{emoji:"🏐",keywords:["volleyball","spike","serve"]},{emoji:"🏉",keywords:["rugby","ball","scrum"]},{emoji:"🎱",keywords:["pool","billiards","eight ball"]},{emoji:"🏓",keywords:["ping pong","table tennis","paddle"]},{emoji:"🏸",keywords:["badminton","shuttlecock","racket"]},{emoji:"🥅",keywords:["goal","net","hockey"]},{emoji:"🏒",keywords:["hockey","ice hockey","puck"]},{emoji:"🏑",keywords:["field hockey","stick","ball"]},{emoji:"🥍",keywords:["lacrosse","stick","ball"]},{emoji:"🏏",keywords:["cricket","bat","ball"]},{emoji:"⛳",keywords:["golf","flag","hole in one"]},{emoji:"🏹",keywords:["archery","bow","arrow"]},{emoji:"🎣",keywords:["fishing","fish","rod"]},{emoji:"🤿",keywords:["scuba","diving","snorkeling"]},{emoji:"🛷",keywords:["sled","sledge","toboggan"]},{emoji:"🥌",keywords:["curling","stone","sweep"]},{emoji:"🛹",keywords:["skateboard","skating","skate"]},{emoji:"🛼",keywords:["roller skate","skating","rolling"]},{emoji:"⛸️",keywords:["ice skate","skating","ice"]},{emoji:"🛶",keywords:["canoe","kayak","paddle"]},{emoji:"⚽",keywords:["soccer","football","goal"]},{emoji:"🏋️‍♂️",keywords:["weight lifting","gym","workout"]},{emoji:"🏋️‍♀️",keywords:["weight lifting","gym","workout"]},{emoji:"🏋️",keywords:["weight lifting","gym","workout"]},{emoji:"🤺",keywords:["fencing","sword","duel"]},{emoji:"🤼‍♂️",keywords:["wrestling","grappling","fight"]},{emoji:"🤼‍♀️",keywords:["wrestling","grappling","fight"]},{emoji:"🤸‍♂️",keywords:["gymnastics","flip","somersault"]},{emoji:"🤸‍♀️",keywords:["gymnastics","flip","somersault"]},{emoji:"🤾‍♂️",keywords:["handball","goalie","ball"]},{emoji:"🤾‍♀️",keywords:["handball","goalie","ball"]},{emoji:"🤹‍♂️",keywords:["juggle","performance","circus"]},{emoji:"🤹‍♀️",keywords:["juggle","performance","circus"]},{emoji:"🧘‍♂️",keywords:["yoga","meditation","relax"]},{emoji:"🧘‍♀️",keywords:["yoga","meditation","relax"]},{emoji:"🧘",keywords:["yoga","meditation","relax"]},{emoji:"🏄‍♂️",keywords:["surfing","waves","ocean"]},{emoji:"🏄‍♀️",keywords:["surfing","waves","ocean"]},{emoji:"🏂",keywords:["snowboarding","snowboard","snow"]},{emoji:"⛷️",keywords:["skiing","snow","slope"]},{emoji:"🏇",keywords:["horse racing","jockey","race"]},{emoji:"🚴‍♂️",keywords:["biking","cycling","bicycle"]},{emoji:"🚴‍♀️",keywords:["biking","cycling","bicycle"]},{emoji:"🚵‍♂️",keywords:["mountain biking","cycling","bike"]},{emoji:"🚵‍♀️",keywords:["mountain biking","cycling","bike"]},{emoji:"🏇",keywords:["horse racing","jockey","race"]},{emoji:"🥇",keywords:["gold medal","winner","first place"]},{emoji:"🥈",keywords:["silver medal","second place","runner-up"]},{emoji:"🥉",keywords:["bronze medal","third place","winner"]},{emoji:"🏆",keywords:["trophy","winner","champion"]},{emoji:"🏅",keywords:["medal","reward","achievement"]},{emoji:"🎖️",keywords:["military","decoration","award"]},{emoji:"🏵️",keywords:["rosette","badge","award"]},{emoji:"🎗️",keywords:["ribbon","cause","support"]}],Travel:[{emoji:"🚗",keywords:["car","automobile","travel","vehicle"]},{emoji:"🚕",keywords:["taxi","cab","transport","vehicle"]},{emoji:"🚙",keywords:["suv","vehicle","travel","transportation"]},{emoji:"🚌",keywords:["bus","transport","vehicle","travel"]},{emoji:"🚎",keywords:["trolleybus","public transport","vehicle"]},{emoji:"🏎️",keywords:["racecar","racing","vehicle","sport"]},{emoji:"🚓",keywords:["police car","law enforcement","vehicle"]},{emoji:"🚑",keywords:["ambulance","emergency","hospital","vehicle"]},{emoji:"🚒",keywords:["fire truck","firefighter","emergency","vehicle"]},{emoji:"🚐",keywords:["minibus","van","transport","vehicle"]},{emoji:"🚚",keywords:["delivery truck","cargo","shipping","vehicle"]},{emoji:"🚛",keywords:["articulated lorry","semi truck","transport"]},{emoji:"🚜",keywords:["tractor","farming","vehicle","agriculture"]},{emoji:"🏍️",keywords:["motorcycle","bike","riding","vehicle"]},{emoji:"🚲",keywords:["bicycle","bike","cycling","vehicle"]},{emoji:"🛴",keywords:["kick scooter","scooter","ride","vehicle"]},{emoji:"🛵",keywords:["motor scooter","vespa","vehicle","ride"]},{emoji:"🚏",keywords:["bus stop","transport","station","public transport"]},{emoji:"🛤️",keywords:["railway track","train","rail","travel"]},{emoji:"⛽",keywords:["fuel pump","gas station","fuel","transport"]},{emoji:"🚨",keywords:["police light","emergency","alarm","vehicle"]},{emoji:"🚥",keywords:["horizontal traffic light","stoplight","signal"]},{emoji:"🚦",keywords:["vertical traffic light","stoplight","signal"]},{emoji:"🛑",keywords:["stop sign","warning","traffic"]},{emoji:"🚧",keywords:["construction","roadwork","warning"]},{emoji:"⚓",keywords:["anchor","sailing","maritime","nautical"]},{emoji:"⛵",keywords:["sailboat","boat","sailing","watercraft"]},{emoji:"🛶",keywords:["canoe","kayak","paddling","boat"]},{emoji:"🚤",keywords:["speedboat","boat","speed","watercraft"]},{emoji:"🛳️",keywords:["passenger ship","cruise","travel","boat"]},{emoji:"⛴️",keywords:["ferry","boat","nautical","sea"]},{emoji:"🛥️",keywords:["motor boat","yacht","boat","watercraft"]},{emoji:"🚢",keywords:["ship","ocean liner","travel","boating"]},{emoji:"✈️",keywords:["airplane","flight","travel","plane"]},{emoji:"🛩️",keywords:["small airplane","flight","aviation","plane"]},{emoji:"🛫",keywords:["airplane departure","airport","takeoff","flight"]},{emoji:"🛬",keywords:["airplane arrival","landing","airport","flight"]},{emoji:"🪂",keywords:["parachute","skydiving","falling","activity"]},{emoji:"💺",keywords:["seat","sitting","airline","travel"]},{emoji:"🚁",keywords:["helicopter","chopper","aviation","vehicle"]},{emoji:"🚟",keywords:["suspension railway","train","transport","public transit"]},{emoji:"🚠",keywords:["mountain cableway","cable car","transport"]},{emoji:"🚡",keywords:["aerial tramway","cable car","transport","travel"]},{emoji:"🛰️",keywords:["satellite","space station","orbit","communication"]},{emoji:"🚀",keywords:["rocket","space","launch","spaceship"]},{emoji:"🛸",keywords:["flying saucer","UFO","vehicle","alien"]},{emoji:"🛳️",keywords:["passenger ship","cruise","voyage","boat"]},{emoji:"🪂",keywords:["parachute","skydiving","falling","sport"]},{emoji:"🛬",keywords:["landing","airplane","arrival","airport"]},{emoji:"🛫",keywords:["takeoff","airplane","departure","airport"]},{emoji:"✈️",keywords:["airplane","flight","travel","plane"]},{emoji:"🚉",keywords:["station","train","subway","transport"]},{emoji:"🚂",keywords:["locomotive","steam train","rail","engine"]},{emoji:"🚃",keywords:["railway car","train car","public transport"]},{emoji:"🚄",keywords:["high-speed train","shinkansen","transport"]},{emoji:"🚅",keywords:["bullet train","high-speed rail","transport"]},{emoji:"🚆",keywords:["train","rail","commuter","public transport"]},{emoji:"🚇",keywords:["subway","metro","underground","public transport"]},{emoji:"🚈",keywords:["light rail","tram","train","public transport"]},{emoji:"🚊",keywords:["tram","streetcar","public transport","rail"]}],Objects:[{emoji:"📦",'"keywords':["box","package"]},{emoji:"📪",keywords:["mailbox","closed"]},{emoji:"📫",keywords:["mailbox","open","mail"]},{emoji:"📬",keywords:["mail","incoming"]},{emoji:"📭",keywords:["mail","outgoing"]},{emoji:"📮",keywords:["postbox","mail"]},{emoji:"📯",keywords:["postal horn"]},{emoji:"📜",keywords:["scroll","paper"]},{emoji:"📃",keywords:["page","curl","document"]},{emoji:"📑",keywords:["bookmark","tabs"]},{emoji:"📈",keywords:["chart","graph","up"]},{emoji:"📉",keywords:["chart","graph","down"]},{emoji:"📊",keywords:["bar chart","graph"]},{emoji:"📇",keywords:["index card"]},{emoji:"📁",keywords:["file folder"]},{emoji:"📂",keywords:["open file folder"]},{emoji:"🗂️",keywords:["card","file","folders"]},{emoji:"📋",keywords:["clipboard"]},{emoji:"📤",keywords:["outbox","mail"]},{emoji:"📥",keywords:["inbox","mail"]},{emoji:"📦",keywords:["package","box"]},{emoji:"📧",keywords:["email","envelope"]},{emoji:"📨",keywords:["incoming mail"]},{emoji:"📩",keywords:["envelope","arrow"]},{emoji:"📤",keywords:["outbox","tray"]},{emoji:"📥",keywords:["inbox","tray"]},{emoji:"📦",keywords:["package"]},{emoji:"📥",keywords:["inbox"]},{emoji:"📧",keywords:["email"]},{emoji:"📨",keywords:["incoming"]},{emoji:"📩",keywords:["envelope"]},{emoji:"📤",keywords:["outbox"]},{emoji:"📡",keywords:["satellite","antenna"]},{emoji:"🔋",keywords:["battery"]},{emoji:"🔌",keywords:["plug"]},{emoji:"💡",keywords:["bulb"]},{emoji:"🔦",keywords:["flashlight"]},{emoji:"🕯️",keywords:["candle"]},{emoji:"🩺",keywords:["stethoscope","doctor"]},{emoji:"🔑",keywords:["key"]},{emoji:"🔒",keywords:["lock"]},{emoji:"🔓",keywords:["unlock"]},{emoji:"🔐",keywords:["lock","key"]},{emoji:"🔏",keywords:["lock","pen"]},{emoji:"📎",keywords:["paperclip"]},{emoji:"🖇️",keywords:["linked","paperclips"]},{emoji:"✂️",keywords:["scissors"]},{emoji:"🗃️",keywords:["file box"]},{emoji:"🗳️",keywords:["ballot box"]},{emoji:"🗄️",keywords:["file cabinet"]},{emoji:"📅",keywords:["calendar"]},{emoji:"📆",keywords:["tear-off calendar"]},{emoji:"🗓️",keywords:["spiral calendar"]},{emoji:"📇",keywords:["card index"]},{emoji:"📈",keywords:["chart increasing"]},{emoji:"📉",keywords:["chart decreasing"]},{emoji:"📊",keywords:["bar chart"]},{emoji:"📌",keywords:["pushpin"]},{emoji:"📍",keywords:["round pushpin"]},{emoji:"📏",keywords:["straight edge"]},{emoji:"📐",keywords:["triangular ruler"]},{emoji:"✏️",keywords:["pencil"]},{emoji:"🖍️",keywords:["crayon"]},{emoji:"🖌️",keywords:["paintbrush"]},{emoji:"🖊️",keywords:["pen"]},{emoji:"🖋️",keywords:["fountain pen"]},{emoji:"📏",keywords:["straight edge"]},{emoji:"📐",keywords:["triangular ruler"]}],Symbols:[{emoji:"👉🏻",keywords:["point right","hand","gesture"]},{emoji:"👈🏻",keywords:["point left","hand","gesture"]},{emoji:"👆🏻",keywords:["point up","hand","gesture"]},{emoji:"👇🏻",keywords:["point down","hand","gesture"]},{emoji:"👍🏻",keywords:["thumbs up","approval","hand","gesture"]},{emoji:"👎🏻",keywords:["thumbs down","disapproval","hand","gesture"]},{emoji:"👌🏻",keywords:["okay","hand","gesture","perfect"]},{emoji:"✌🏻",keywords:["victory","peace","hand","gesture"]},{emoji:"🤞🏻",keywords:["crossed fingers","luck","hand","gesture"]},{emoji:"🖐🏻",keywords:["raised hand","hi","hand","gesture"]},{emoji:"🤚🏻",keywords:["raised back hand","hi","hand","gesture"]},{emoji:"🖖🏻",keywords:["vulcan salute","hand","gesture","Spock"]},{emoji:"👋🏻",keywords:["waving hand","hello","goodbye","gesture"]},{emoji:"👏🏻",keywords:["clapping hands","applause","gesture"]},{emoji:"🙌🏻",keywords:["raising hands","praise","gesture"]},{emoji:"👐🏻",keywords:["open hands","gesture","offering"]},{emoji:"🤲🏻",keywords:["palms up together","offering","asking"]},{emoji:"🤝🏻",keywords:["handshake","agreement","partnership","gesture"]},{emoji:"🙏🏻",keywords:["folded hands","prayer","thanks","gesture"]},{emoji:"✋🏻",keywords:["raised hand","stop","gesture"]},{emoji:"➡️",keywords:["right arrow","direction","next"]},{emoji:"⬅️",keywords:["left arrow","direction","previous"]},{emoji:"⬆️",keywords:["up arrow","direction","above"]},{emoji:"⬇️",keywords:["down arrow","direction","below"]},{emoji:"↔️",keywords:["left-right arrow","direction"]},{emoji:"↕️",keywords:["up-down arrow","direction"]},{emoji:"🔼",keywords:["up triangle","arrow","direction"]},{emoji:"🔽",keywords:["down triangle","arrow","direction"]},{emoji:"🔻",keywords:["red down triangle","arrow","direction"]},{emoji:"🔺",keywords:["red up triangle","arrow","direction"]},{emoji:"⚫",keywords:["black circle","bullet","point"]},{emoji:"🔴",keywords:["red circle","bullet","point"]},{emoji:"🔵",keywords:["blue circle","bullet","point"]},{emoji:"🟢",keywords:["green circle","bullet","point"]},{emoji:"🟡",keywords:["yellow circle","bullet","point"]},{emoji:"🟣",keywords:["purple circle","bullet","point"]},{emoji:"🟠",keywords:["orange circle","bullet","point"]},{emoji:"🟤",keywords:["brown circle","bullet","point"]},{emoji:"🔸",keywords:["orange diamond","bullet"]},{emoji:"🔹",keywords:["blue diamond","bullet"]},{emoji:"♦️",keywords:["diamonds","card suit"]},{emoji:"♥️",keywords:["hearts","card suit"]},{emoji:"♣️",keywords:["clubs","card suit"]},{emoji:"♠️",keywords:["spades","card suit"]},{emoji:"🔲",keywords:["black square","bullet","point"]},{emoji:"🔳",keywords:["white square","bullet","point"]},{emoji:"▪️",keywords:["small black square","bullet"]},{emoji:"▫️",keywords:["small white square","bullet"]},{emoji:"▪",keywords:["large black square","bullet"]},{emoji:"▫",keywords:["large white square","bullet"]},{emoji:"🔘",keywords:["radio button","bullet","point"]},{emoji:"⭐",keywords:["star","highlight","point"]},{emoji:"💠",keywords:["diamond shape","point"]},{emoji:"✳️",keywords:["eight-pointed star","highlight","bullet"]},{emoji:"❇️",keywords:["sparkle","highlight","point"]},{emoji:"❤️",keywords:["love","heart","red","passion","valentine"]},{emoji:"💛",keywords:["love","heart","yellow","friendship","sunshine"]},{emoji:"💚",keywords:["love","heart","green","environment","jealousy"]},{emoji:"💙",keywords:["love","heart","blue","calm","loyalty"]},{emoji:"💜",keywords:["love","heart","purple","royalty","romance"]},{emoji:"🖤",keywords:["love","heart","black","mystery","gothic"]},{emoji:"💔",keywords:["broken","heartbreak","sad","love"]},{emoji:"❣️",keywords:["exclamation","heart","love","emotion"]},{emoji:"💕",keywords:["two hearts","love","affection","romance"]},{emoji:"💞",keywords:["revolving hearts","love","romance","affection"]},{emoji:"💓",keywords:["beating heart","love","heartbeat","emotion"]},{emoji:"💗",keywords:["growing heart","love","affection","emotion"]},{emoji:"💖",keywords:["sparkling heart","love","affection","emotion"]},{emoji:"💘",keywords:["heart with arrow","love","cupid","valentine"]},{emoji:"💝",keywords:["heart with ribbon","love","gift","present"]},{emoji:"💟",keywords:["heart decoration","love","affection","decoration"]},{emoji:"☮️",keywords:["peace","symbol","pacifism"]},{emoji:"✝️",keywords:["cross","christianity","religion","faith"]},{emoji:"☪️",keywords:["star","crescent","islam","religion"]},{emoji:"🕉️",keywords:["om","hinduism","religion","chant"]},{emoji:"☸️",keywords:["wheel of dharma","buddhism","religion","spirituality"]},{emoji:"✡️",keywords:["star of david","judaism","religion"]},{emoji:"🔯",keywords:["star","hexagram","religion","jewish"]},{emoji:"🕎",keywords:["menorah","hanukkah","religion","jewish"]},{emoji:"☯️",keywords:["yin","yang","balance","taoism"]},{emoji:"☦️",keywords:["orthodox cross","christianity","religion","faith"]},{emoji:"🛐",keywords:["place of worship","religion","faith","prayer"]},{emoji:"⛎",keywords:["ophiuchus","zodiac","astrology","sign"]},{emoji:"♈",keywords:["aries","zodiac","astrology","sign"]},{emoji:"♉",keywords:["taurus","zodiac","astrology","sign"]},{emoji:"♊",keywords:["gemini","zodiac","astrology","sign"]},{emoji:"♋",keywords:["cancer","zodiac","astrology","sign"]},{emoji:"♌",keywords:["leo","zodiac","astrology","sign"]},{emoji:"♍",keywords:["virgo","zodiac","astrology","sign"]},{emoji:"♎",keywords:["libra","zodiac","astrology","sign"]},{emoji:"♏",keywords:["scorpio","zodiac","astrology","sign"]},{emoji:"♐",keywords:["sagittarius","zodiac","astrology","sign"]},{emoji:"♑",keywords:["capricorn","zodiac","astrology","sign"]},{emoji:"♒",keywords:["aquarius","zodiac","astrology","sign"]},{emoji:"♓",keywords:["pisces","zodiac","astrology","sign"]},{emoji:"🆔",keywords:["ID","identification","label"]},{emoji:"⚛️",keywords:["atom","science","chemistry"]},{emoji:"🉑",keywords:["acceptable","kanji","japanese"]},{emoji:"☢️",keywords:["radioactive","hazard","warning"]},{emoji:"☣️",keywords:["biohazard","hazard","warning"]},{emoji:"📴",keywords:["mobile","off","phone"]},{emoji:"📳",keywords:["mobile","vibration","mode"]},{emoji:"🈶",keywords:["have","kanji","japanese"]},{emoji:"🈚",keywords:["free","not","kanji"]},{emoji:"🈷️",keywords:["monthly","kanji","japanese"]},{emoji:"🈸",keywords:["application","kanji","japanese"]},{emoji:"🈺",keywords:["open","kanji","japanese"]},{emoji:"🈯",keywords:["reserved","kanji","japanese"]},{emoji:"㊙️",keywords:["secret","kanji","japanese"]},{emoji:"㊗️",keywords:["congratulations","kanji","japanese"]},{emoji:"🈴",keywords:["passing","kanji","japanese"]},{emoji:"🈵",keywords:["full","kanji","japanese"]},{emoji:"🈹",keywords:["discount","kanji","japanese"]},{emoji:"🈲",keywords:["prohibited","kanji","japanese"]},{emoji:"🅰️",keywords:["A","blood type","letter"]},{emoji:"🅱️",keywords:["B","blood type","letter"]},{emoji:"🆎",keywords:["AB","blood type","letter"]},{emoji:"🆑",keywords:["CL","clear","letter"]},{emoji:"🅾️",keywords:["O","blood type","letter"]},{emoji:"🆘",keywords:["SOS","help","emergency"]},{emoji:"⛔",keywords:["no","entry","forbidden","stop"]},{emoji:"📛",keywords:["badge","label","name"]},{emoji:"🚫",keywords:["no","prohibited","forbidden"]},{emoji:"💯",keywords:["100","score","perfect"]},{emoji:"🔞",keywords:["18","age","restriction"]},{emoji:"🅿️",keywords:["P","parking","letter"]},{emoji:"🆓",keywords:["free","available","letter"]},{emoji:"♻️",keywords:["recycle","environment","symbol"]},{emoji:"‼️",keywords:["exclamation","mark","important"]},{emoji:"⁉️",keywords:["exclamation","question","confusion"]},{emoji:"❗",keywords:["exclamation","mark"]},{emoji:"❕",keywords:["white exclamation","mark"]},{emoji:"❓",keywords:["question","mark"]},{emoji:"❔",keywords:["white question","mark"]},{emoji:"🔅",keywords:["dim","brightness","low"]},{emoji:"🔆",keywords:["bright","brightness","high"]},{emoji:"〽️",keywords:["part alternation","mark"]},{emoji:"⚜️",keywords:["fleur-de-lis"]},{emoji:"🔱",keywords:["trident","emblem","symbol"]},{emoji:"⚠️",keywords:["warning","caution"]},{emoji:"🚸",keywords:["children","crossing","school"]},{emoji:"🔰",keywords:["beginner","japanese"]},{emoji:"♿",keywords:["wheelchair","accessible","disability"]},{emoji:"🚭",keywords:["no smoking","cigarette","prohibited"]}]};function A2({onSelect:e}){const[t,r]=h.useState(""),n=L.useMemo(()=>Object.entries(R2).reduce((a,[o,i])=>{const s=i.filter(l=>Array.isArray(l.keywords)).filter(l=>l.keywords.some(c=>c.toLowerCase().includes(t.toLowerCase())));return s.length>0&&(a[o]=s),a},{}),[t]);return f.jsxs("div",{className:"emoji-picker",children:[f.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:a=>r(a.target.value),className:"emoji-search"}),f.jsx("div",{className:"emoji-categories",children:Object.entries(n).map(([a,o])=>f.jsxs("div",{className:"emoji-category",children:[f.jsx("h3",{className:"emoji-category-title",children:a}),f.jsx("div",{className:"emoji-list",children:o.map((i,s)=>f.jsx("span",{onClick:()=>e(i.emoji),title:i.keywords.join(", "),className:"emoji-item",children:i.emoji},s))})]},a))})]})}function gd(e,t){const r=e.selectionStart,n=e.selectionEnd;e.setRangeText(t,r,n,"end")}function Wt({message:e,onChange:t,onClick:r,minLength:n=2,maxLength:a=1500,placeHolder:o}){const[i,s]=L.useState(e),[l,c]=L.useState(!1),u=L.useRef(null);h.useEffect(()=>{u.current&&(u.current.style.height="auto",u.current.style.height=`${u.current.scrollHeight+2}px`)},[i]);const d=y=>{s(y.target.value),t(y.target.value)},m=y=>{s(y.target.value),t(y.target.value)},p=y=>{const S=u.current;let w="";switch(y){case"bold":w=`*${S.value.substring(S.selectionStart,S.selectionEnd)}*`;break;case"italic":w=`_${S.value.substring(S.selectionStart,S.selectionEnd)}_`;break;case"strikethrough":w=`~${S.value.substring(S.selectionStart,S.selectionEnd)}~`;break;case"bullet":w=`• ${S.value.substring(S.selectionStart,S.selectionEnd)}`;break;case"numbered":w=`
1. ${S.value.substring(S.selectionStart,S.selectionEnd)}`;break}gd(S,w),d({target:S})},v=y=>{const S=u.current;gd(S,y),d({target:S})};return f.jsxs("div",{className:"message-editor",title:"Message",children:[f.jsxs("div",{className:"toolbar",children:[f.jsx("button",{title:"Bold","data-format":"bold",onClick:()=>p("bold"),children:"B"}),f.jsx("button",{title:"Italic","data-format":"italic",onClick:()=>p("italic"),children:"I"}),f.jsx("button",{title:"Strikethrough","data-format":"strikethrough",onClick:()=>p("strikethrough"),children:"S"}),f.jsx("button",{title:"Bullet","data-format":"bullet",onClick:()=>p("bullet"),children:"⚫"}),f.jsx("button",{title:"Numbered","data-format":"numbered",onClick:()=>p("numbered"),children:"🔢"}),f.jsx("button",{title:"Smiley","data-format":"smiley",onClick:()=>c(y=>!y),children:"😀"})]}),f.jsx("textarea",{ref:u,value:i,onChange:d,placeholder:o,onClick:r,className:"nodrag rounded-md",onBlur:m,minLength:n,maxLength:a}),l&&f.jsx(A2,{onSelect:v})]})}async function L2(e){const t=await ua(`/integrations/${e.organizationId}/${e.botId}/list`),{botId:r}=e;((a,o)=>{Dn.setState(i=>{const s=i.botsList.map(l=>l._id===a?{...l,integrations:o}:l);return{...i,botsList:s}})})(r,t)}const F2=({id:e,data:t})=>{var M,x;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i}=t,[s]=Rf(),l=Dn(g=>g.botsList),c=Dn(g=>g.organizationId),[u,d]=h.useState([]),[m,p]=h.useState({}),[v,y]=h.useState({}),S=h.useRef({container:!1,callAccepted:!1,callRejected:!1}),w=()=>{o(i.map(g=>({...g,selected:!1})))},j=(g,b)=>{var k;p(E=>({...E,[g]:b})),(k=S.current[g])==null||k.focus()},D=(g,b)=>{delete r.data.errors,y({});const k={...r.data,[g]:b};a(r.id,k)},N=g=>{delete r.data.errors,g.target.value?v.callConnectId&&y(k=>{const E={...k};return delete E.callConnectId,E}):y(k=>({...k,callConnectId:"Call Connect Name is Mandatory"}));const b=g.target.value;D("callConnectId",b)},I=h.useCallback(g=>{S.current.container&&!S.current.container.contains(g.target)?p(b=>({...b,successMessage:!1,failureMessage:!1})):S.current.callAccepted&&!S.current.callAccepted.contains(g.target)?p(b=>({...b,callAccepted:!1})):S.current.callRejected&&!S.current.callRejected.contains(g.target)&&p(b=>({...b,callRejected:!1}))},[p]);return h.useEffect(()=>(document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)),[I]),h.useEffect(()=>{var k;const g=l.find(E=>E._id===s),b=g?(k=g.integrations)==null?void 0:k.filter(E=>E.channelId==="callConnect_123"):[];if(b&&b.length>0){const E=b.map(O=>({name:O.serviceDetails.name,_id:O._id}));d(E)}else L2({botId:s,organizationId:c})},[s,l,c]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Call Connect Node"}),f.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsxs("select",{title:"callConnectId",value:r.data.callConnectId,onClick:w,onChange:N,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Call Connect Name"}),u.map((g,b)=>f.jsx("option",{value:g._id,children:g.name},`${g._id}-${b}`))]}),r.data.errors&&((M=Object.keys(r.data.errors))==null?void 0:M.length)>0&&r.data.errors.callConnectId&&f.jsx("small",{className:"text-red-500",children:r.data.errors.callConnectId})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx(Wt,{maxLength:500,message:r.data.message,onChange:g=>D("message",g)}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{children:[f.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:f.jsxs("div",{className:"col-span-10 flex items-center ",children:[f.jsx(Oo,{onClick:()=>j("callAccepted",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),f.jsx("input",{type:"text",ref:g=>S.current.callAccepted=g,readOnly:!m.callAccepted,value:r.data.callAccepted,placeholder:"Enter call accepted massage",autoFocus:m.callAccepted,onClick:m.callAccepted?void 0:w,onChange:g=>D("callAccepted",g.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})]})}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.callAccepted})]}),f.jsxs("div",{ref:g=>S.current.container=g,children:[f.jsxs("div",{className:"space-y-2 py-2 px-2 min-w-36",children:[m.successMessage?f.jsx(Wt,{maxLength:500,message:r.data.successMessage,onChange:g=>D("successMessage",g)}):f.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[f.jsx("span",{children:r.data.successMessage||"Enter your success message"}),f.jsx(Oo,{onClick:()=>j("successMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.successMessage})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[m.failureMessage?f.jsx(Wt,{maxLength:500,message:r.data.failureMessage,onChange:g=>D("failureMessage",g)}):f.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[f.jsx("span",{children:r.data.failureMessage||"Enter your failure message"}),f.jsx(Oo,{onClick:()=>j("failureMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.failureMessage})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:f.jsxs("div",{className:"col-span-10 flex items-center ",children:[f.jsx(Oo,{onClick:()=>j("callRejected",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),f.jsx("input",{type:"text",readOnly:!m.callRejected,placeholder:"Enter call rejected massage",ref:g=>S.current.callRejected=g,value:r.data.callRejected,onClick:m.callRejected?void 0:w,onChange:g=>D("callRejected",g.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700  rounded capitalize"})]})}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.callRejected})]})]})]}),f.jsx(He,{id:"target",type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{id:"source",type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"})]})},$2=h.memo(F2),Oo=({onClick:e,className:t=""})=>f.jsx("svg",{onClick:e,className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})});function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function B2(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H2(e){var t=B2(e,"string");return Za(t)=="symbol"?t:t+""}function z2(e,t,r){return(t=H2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vd(Object(r),!0).forEach(function(n){z2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var bd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wd=function(){return Math.random().toString(36).substring(7).split("").join(".")},xd={INIT:"@@redux/INIT"+wd(),REPLACE:"@@redux/REPLACE"+wd()};function W2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wp(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tt(1));return r(wp)(e,t)}if(typeof e!="function")throw new Error(Tt(2));var a=e,o=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function u(){if(l)throw new Error(Tt(3));return o}function d(y){if(typeof y!="function")throw new Error(Tt(4));if(l)throw new Error(Tt(5));var S=!0;return c(),s.push(y),function(){if(S){if(l)throw new Error(Tt(6));S=!1,c();var j=s.indexOf(y);s.splice(j,1),i=null}}}function m(y){if(!W2(y))throw new Error(Tt(7));if(typeof y.type>"u")throw new Error(Tt(8));if(l)throw new Error(Tt(9));try{l=!0,o=a(o,y)}finally{l=!1}for(var S=i=s,w=0;w<S.length;w++){var j=S[w];j()}return y}function p(y){if(typeof y!="function")throw new Error(Tt(10));a=y,m({type:xd.REPLACE})}function v(){var y,S=d;return y={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(Tt(11));function D(){j.next&&j.next(u())}D();var N=S(D);return{unsubscribe:N}}},y[bd]=function(){return this},y}return m({type:xd.INIT}),n={dispatch:m,subscribe:d,getState:u,replaceReducer:p},n[bd]=v,n}function Sd(e,t){return function(){return t(e.apply(this,arguments))}}function kd(e,t){if(typeof e=="function")return Sd(e,t);if(typeof e!="object"||e===null)throw new Error(Tt(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=Sd(a,t))}return r}function xp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function V2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),o=function(){throw new Error(Tt(15))},i={getState:a.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(l){return l(i)});return o=xp.apply(void 0,s)(a.dispatch),yd(yd({},a),{},{dispatch:o})}}}var Sp=L.createContext(null);function Y2(e){e()}var kp=Y2,U2=function(t){return kp=t},G2=function(){return kp};function q2(){var e=G2(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],o=t;o;)a.push(o),o=o.next;return a},subscribe:function(a){var o=!0,i=r={callback:a,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Cd={notify:function(){},get:function(){return[]}};function Cp(e,t){var r,n=Cd;function a(d){return l(),n.subscribe(d)}function o(){n.notify()}function i(){u.onStateChange&&u.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=q2())}function c(){r&&(r(),r=void 0,n.clear(),n=Cd)}var u={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return n}};return u}var Ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect;function X2(e){var t=e.store,r=e.context,n=e.children,a=h.useMemo(function(){var s=Cp(t);return{store:t,subscription:s}},[t]),o=h.useMemo(function(){return t.getState()},[t]);Ep(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,o]);var i=r||Sp;return L.createElement(i.Provider,{value:a},n)}var Ss={exports:{}},Ve={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Z2(){if(Ed)return Ve;Ed=1;var e=60103,t=60106,r=60107,n=60108,a=60114,o=60109,i=60110,s=60112,l=60113,c=60120,u=60115,d=60116,m=60121,p=60122,v=60117,y=60129,S=60131;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;e=w("react.element"),t=w("react.portal"),r=w("react.fragment"),n=w("react.strict_mode"),a=w("react.profiler"),o=w("react.provider"),i=w("react.context"),s=w("react.forward_ref"),l=w("react.suspense"),c=w("react.suspense_list"),u=w("react.memo"),d=w("react.lazy"),m=w("react.block"),p=w("react.server.block"),v=w("react.fundamental"),y=w("react.debug_trace_mode"),S=w("react.legacy_hidden")}function j(_){if(typeof _=="object"&&_!==null){var C=_.$$typeof;switch(C){case e:switch(_=_.type,_){case r:case a:case n:case l:case c:return _;default:switch(_=_&&_.$$typeof,_){case i:case s:case d:case u:case o:return _;default:return C}}case t:return C}}}var D=o,N=e,I=s,M=r,x=d,g=u,b=t,k=a,E=n,O=l;return Ve.ContextConsumer=i,Ve.ContextProvider=D,Ve.Element=N,Ve.ForwardRef=I,Ve.Fragment=M,Ve.Lazy=x,Ve.Memo=g,Ve.Portal=b,Ve.Profiler=k,Ve.StrictMode=E,Ve.Suspense=O,Ve.isAsyncMode=function(){return!1},Ve.isConcurrentMode=function(){return!1},Ve.isContextConsumer=function(_){return j(_)===i},Ve.isContextProvider=function(_){return j(_)===o},Ve.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Ve.isForwardRef=function(_){return j(_)===s},Ve.isFragment=function(_){return j(_)===r},Ve.isLazy=function(_){return j(_)===d},Ve.isMemo=function(_){return j(_)===u},Ve.isPortal=function(_){return j(_)===t},Ve.isProfiler=function(_){return j(_)===a},Ve.isStrictMode=function(_){return j(_)===n},Ve.isSuspense=function(_){return j(_)===l},Ve.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===y||_===n||_===l||_===c||_===S||typeof _=="object"&&_!==null&&(_.$$typeof===d||_.$$typeof===u||_.$$typeof===o||_.$$typeof===i||_.$$typeof===s||_.$$typeof===v||_.$$typeof===m||_[0]===p)},Ve.typeOf=j,Ve}var jd;function K2(){return jd||(jd=1,Ss.exports=Z2()),Ss.exports}var Q2=K2(),J2=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],eS=["reactReduxForwardedRef"],tS=[],rS=[null,null];function nS(e,t){var r=e[1];return[t.payload,r+1]}function Nd(e,t,r){Ep(function(){return e.apply(void 0,t)},r)}function aS(e,t,r,n,a,o,i){e.current=n,t.current=a,r.current=!1,o.current&&(o.current=null,i())}function oS(e,t,r,n,a,o,i,s,l,c){if(e){var u=!1,d=null,m=function(){if(!u){var y=t.getState(),S,w;try{S=n(y,a.current)}catch(j){w=j,d=j}w||(d=null),S===o.current?i.current||l():(o.current=S,s.current=S,i.current=!0,c({type:"STORE_UPDATED",payload:{error:w}}))}};r.onStateChange=m,r.trySubscribe(),m();var p=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return p}}var iS=function(){return[null,0]};function sS(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(D){return"ConnectAdvanced("+D+")"}:n,o=r.methodName,i=o===void 0?"connectAdvanced":o,s=r.renderCountProp,l=s===void 0?void 0:s,c=r.shouldHandleStateChanges,u=c===void 0?!0:c,d=r.storeKey,m=d===void 0?"store":d;r.withRef;var p=r.forwardRef,v=p===void 0?!1:p,y=r.context,S=y===void 0?Sp:y,w=$a(r,J2),j=S;return function(N){var I=N.displayName||N.name||"Component",M=a(I),x=ke({},w,{getDisplayName:a,methodName:i,renderCountProp:l,shouldHandleStateChanges:u,storeKey:m,displayName:M,wrappedComponentName:I,WrappedComponent:N}),g=w.pure;function b(C){return e(C.dispatch,x)}var k=g?h.useMemo:function(C){return C()};function E(C){var T=h.useMemo(function(){var Q=C.reactReduxForwardedRef,Ie=$a(C,eS);return[C.context,Q,Ie]},[C]),R=T[0],$=T[1],A=T[2],P=h.useMemo(function(){return R&&R.Consumer&&Q2.isContextConsumer(L.createElement(R.Consumer,null))?R:j},[R,j]),F=h.useContext(P),W=!!C.store&&!!C.store.getState&&!!C.store.dispatch;F&&F.store;var z=W?C.store:F.store,V=h.useMemo(function(){return b(z)},[z]),G=h.useMemo(function(){if(!u)return rS;var Q=Cp(z,W?null:F.subscription),Ie=Q.notifyNestedSubs.bind(Q);return[Q,Ie]},[z,W,F]),H=G[0],B=G[1],X=h.useMemo(function(){return W?F:ke({},F,{subscription:H})},[W,F,H]),Z=h.useReducer(nS,tS,iS),se=Z[0],U=se[0],ce=Z[1];if(U&&U.error)throw U.error;var Ce=h.useRef(),we=h.useRef(A),ae=h.useRef(),Me=h.useRef(!1),Re=k(function(){return ae.current&&A===we.current?ae.current:V(z.getState(),A)},[z,U,A]);Nd(aS,[we,Ce,Me,A,Re,ae,B]),Nd(oS,[u,z,H,V,we,Ce,Me,ae,B,ce],[z,H,V]);var Ee=h.useMemo(function(){return L.createElement(N,ke({},Re,{ref:$}))},[$,N,Re]),de=h.useMemo(function(){return u?L.createElement(P.Provider,{value:X},Ee):Ee},[P,Ee,X]);return de}var O=g?L.memo(E):E;if(O.WrappedComponent=N,O.displayName=E.displayName=M,v){var _=L.forwardRef(function(T,R){return L.createElement(O,ke({},T,{reactReduxForwardedRef:R}))});return _.displayName=M,_.WrappedComponent=N,cu(_,N)}return cu(O,N)}}function Dd(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ks(e,t){if(Dd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Dd(e[r[a]],t[r[a]]))return!1;return!0}function lS(e,t){var r={},n=function(i){var s=e[i];typeof s=="function"&&(r[i]=function(){return t(s.apply(void 0,arguments))})};for(var a in e)n(a);return r}function pc(e){return function(r,n){var a=e(r,n);function o(){return a}return o.dependsOnOwnProps=!1,o}}function Id(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function jp(e,t){return function(n,a){a.displayName;var o=function(s,l){return o.dependsOnOwnProps?o.mapToProps(s,l):o.mapToProps(s)};return o.dependsOnOwnProps=!0,o.mapToProps=function(s,l){o.mapToProps=e,o.dependsOnOwnProps=Id(e);var c=o(s,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=Id(c),c=o(s,l)),c},o}}function cS(e){return typeof e=="function"?jp(e):void 0}function uS(e){return e?void 0:pc(function(t){return{dispatch:t}})}function dS(e){return e&&typeof e=="object"?pc(function(t){return lS(e,t)}):void 0}const fS=[cS,uS,dS];function mS(e){return typeof e=="function"?jp(e):void 0}function pS(e){return e?void 0:pc(function(){return{}})}const hS=[mS,pS];function gS(e,t,r){return ke({},r,e,t)}function vS(e){return function(r,n){n.displayName;var a=n.pure,o=n.areMergedPropsEqual,i=!1,s;return function(c,u,d){var m=e(c,u,d);return i?(!a||!o(m,s))&&(s=m):(i=!0,s=m),s}}}function yS(e){return typeof e=="function"?vS(e):void 0}function bS(e){return e?void 0:function(){return gS}}const wS=[yS,bS];var xS=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function SS(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function kS(e,t,r,n,a){var o=a.areStatesEqual,i=a.areOwnPropsEqual,s=a.areStatePropsEqual,l=!1,c,u,d,m,p;function v(D,N){return c=D,u=N,d=e(c,u),m=t(n,u),p=r(d,m,u),l=!0,p}function y(){return d=e(c,u),t.dependsOnOwnProps&&(m=t(n,u)),p=r(d,m,u),p}function S(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(m=t(n,u)),p=r(d,m,u),p}function w(){var D=e(c,u),N=!s(D,d);return d=D,N&&(p=r(d,m,u)),p}function j(D,N){var I=!i(N,u),M=!o(D,c,N,u);return c=D,u=N,I&&M?y():I?S():M?w():p}return function(N,I){return l?j(N,I):v(N,I)}}function CS(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=$a(t,xS),i=r(e,o),s=n(e,o),l=a(e,o),c=o.pure?kS:SS;return c(i,s,l,e,o)}var ES=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Cs(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(o,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function jS(e,t){return e===t}function NS(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?sS:r,a=t.mapStateToPropsFactories,o=a===void 0?hS:a,i=t.mapDispatchToPropsFactories,s=i===void 0?fS:i,l=t.mergePropsFactories,c=l===void 0?wS:l,u=t.selectorFactory,d=u===void 0?CS:u;return function(p,v,y,S){S===void 0&&(S={});var w=S,j=w.pure,D=j===void 0?!0:j,N=w.areStatesEqual,I=N===void 0?jS:N,M=w.areOwnPropsEqual,x=M===void 0?ks:M,g=w.areStatePropsEqual,b=g===void 0?ks:g,k=w.areMergedPropsEqual,E=k===void 0?ks:k,O=$a(w,ES),_=Cs(p,o,"mapStateToProps"),C=Cs(v,s,"mapDispatchToProps"),T=Cs(y,c,"mergeProps");return n(d,ke({methodName:"connect",getDisplayName:function($){return"Connect("+$+")"},shouldHandleStateChanges:!!p,initMapStateToProps:_,initMapDispatchToProps:C,initMergeProps:T,pure:D,areStatesEqual:I,areOwnPropsEqual:x,areStatePropsEqual:b,areMergedPropsEqual:E},O))}}const Np=NS();U2(_f.unstable_batchedUpdates);function DS(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Dp(e,t){var r=h.useState(function(){return{inputs:t,result:e()}})[0],n=h.useRef(!0),a=h.useRef(r),o=n.current||!!(t&&a.current.inputs&&DS(t,a.current.inputs)),i=o?a.current:{inputs:t,result:e()};return h.useEffect(function(){n.current=!1,a.current=i},[i]),i.result}function IS(e,t){return Dp(function(){return e},t)}var Le=Dp,ve=IS,TS="Invariant failed";function MS(e,t){throw new Error(TS)}var ur=function(t){var r=t.top,n=t.right,a=t.bottom,o=t.left,i=n-o,s=a-r,l={top:r,right:n,bottom:a,left:o,width:i,height:s,x:o,y:r,center:{x:(n+o)/2,y:(a+r)/2}};return l},hc=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Td=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},_S=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Es={top:0,right:0,bottom:0,left:0},gc=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Es:n,o=t.border,i=o===void 0?Es:o,s=t.padding,l=s===void 0?Es:s,c=ur(hc(r,a)),u=ur(Td(r,i)),d=ur(Td(u,l));return{marginBox:c,borderBox:ur(r),paddingBox:u,contentBox:d,margin:a,border:i,padding:l}},Kt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&MS(),a},OS=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ui=function(t,r){var n=t.borderBox,a=t.border,o=t.margin,i=t.padding,s=_S(n,r);return gc({borderBox:s,border:a,margin:o,padding:i})},di=function(t,r){return r===void 0&&(r=OS()),ui(t,r)},Ip=function(t,r){var n={top:Kt(r.marginTop),right:Kt(r.marginRight),bottom:Kt(r.marginBottom),left:Kt(r.marginLeft)},a={top:Kt(r.paddingTop),right:Kt(r.paddingRight),bottom:Kt(r.paddingBottom),left:Kt(r.paddingLeft)},o={top:Kt(r.borderTopWidth),right:Kt(r.borderRightWidth),bottom:Kt(r.borderBottomWidth),left:Kt(r.borderLeftWidth)};return gc({borderBox:t,margin:n,padding:a,border:o})},Tp=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Ip(r,n)},Md=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function PS(e,t){return!!(e===t||Md(e)&&Md(t))}function RS(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!PS(e[r],t[r]))return!1;return!0}function st(e,t){t===void 0&&(t=RS);var r,n=[],a,o=!1;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o&&r===this&&t(s,n)||(a=e.apply(this,s),o=!0,r=this,n=s),a}return i}var Ka=function(t){var r=[],n=null,a=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function Mp(e,t){}Mp.bind(null,"warn");Mp.bind(null,"error");function ln(){}function AS(e,t){return ke({},e,{},t)}function rr(e,t,r){var n=t.map(function(a){var o=AS(r,a.options);return e.addEventListener(a.eventName,a.fn,o),function(){e.removeEventListener(a.eventName,a.fn,o)}});return function(){n.forEach(function(o){o()})}}var LS="Invariant failed";function fi(e){this.message=e}fi.prototype.toString=function(){return this.message};function te(e,t){throw new fi(LS)}var FS=function(e){Pl(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.callbacks=null,n.unbind=ln,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var c=s.error;c instanceof fi&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=rr(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof fi){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(L.Component),$S=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,mi=function(t){return t+1},BS=function(t){return`
  You have lifted an item in position `+mi(t.source.index)+`
`},_p=function(t,r){var n=t.droppableId===r.droppableId,a=mi(t.index),o=mi(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+o+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+o+`
  `},Op=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},HS=function(t){var r=t.destination;if(r)return _p(t.source,r);var n=t.combine;return n?Op(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},_d=function(t){return`
  The item has returned to its starting position
  of `+mi(t.index)+`
`},zS=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+_d(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+_p(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+Op(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+_d(t.source)+`
  `},Go={dragHandleUsageInstructions:$S,onDragStart:BS,onDragUpdate:HS,onDragEnd:zS},lt={x:0,y:0},mt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Ht=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},cn=function(t,r){return t.x===r.x&&t.y===r.y},fa=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},_n=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},Qa=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Od=function(t,r){return Math.min.apply(Math,r.map(function(n){return Qa(t,n)}))},Pp=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},WS=function(e,t){var r=ur({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},po=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Pd=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},VS={top:0,right:0,bottom:0,left:0},YS=function(t,r){return r?po(t,r.scroll.diff.displacement):t},US=function(t,r,n){if(n&&n.increasedBy){var a;return ke({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},GS=function(t,r){return r&&r.shouldClipSubject?WS(r.pageMarginBox,t):ur(t)},oa=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,o=YS(t.marginBox,a),i=US(o,n,r),s=GS(i,a);return{page:t,withPlaceholder:r,active:s}},vc=function(e,t){e.frame||te();var r=e.frame,n=Ht(t,r.scroll.initial),a=fa(n),o=ke({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),i=oa({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),s=ke({},e,{frame:o,subject:i});return s};function pi(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function yc(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function mn(e,t){if(e.find)return e.find(t);var r=yc(e,t);if(r!==-1)return e[r]}function Rp(e){return Array.prototype.slice.call(e)}var Ap=st(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Lp=st(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Ri=st(function(e){return pi(e)}),qS=st(function(e){return pi(e)}),ma=st(function(e,t){var r=qS(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function bc(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Ai(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Li=st(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),XS=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,o=e.previousImpact;if(!n.isCombineEnabled)return null;var i=bc(o);if(!i)return null;function s(y){var S={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return ke({},o,{at:S})}var l=o.displaced.all,c=l.length?l[0]:null;if(t)return c?s(c):null;var u=Li(r,a);if(!c){if(!u.length)return null;var d=u[u.length-1];return s(d.descriptor.id)}var m=yc(u,function(y){return y.descriptor.id===c});m===-1&&te();var p=m-1;if(p<0)return null;var v=u[p];return s(v.descriptor.id)},pa=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Fp={point:lt,value:0},Ja={invisible:{},visible:{},all:[]},ZS={displaced:Ja,displacedBy:Fp,at:null},nr=function(e,t){return function(r){return e<=r&&r<=t}},$p=function(e){var t=nr(e.top,e.bottom),r=nr(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),s=o&&i;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,u=l&&c;if(u)return!0;var d=l&&i||c&&o;return d}},KS=function(e){var t=nr(e.top,e.bottom),r=nr(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},wc={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Bp={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},QS=function(e){return function(t){var r=nr(t.top,t.bottom),n=nr(t.left,t.right);return function(a){return e===wc?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},JS=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:lt;return po(t,n)},ek=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},tk=function(t,r,n){return n(r)(t)},xc=function(t){var r=t.target,n=t.destination,a=t.viewport,o=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,s=o?JS(r,n):r;return ek(s,n,i)&&tk(s,a,i)},rk=function(t){return xc(ke({},t,{isVisibleThroughFrameFn:$p}))},Hp=function(t){return xc(ke({},t,{isVisibleThroughFrameFn:KS}))},nk=function(t){return xc(ke({},t,{isVisibleThroughFrameFn:QS(t.destination.axis)}))},ak=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,o=r.visible;if(a[t])return!1;var i=o[t];return i?i.shouldAnimate:!0};function ok(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return ur(hc(r,n))}function eo(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce(function(l,c){var u=ok(c,n),d=c.descriptor.id;l.all.push(d);var m=rk({target:u,destination:r,viewport:a,withDroppableDisplacement:!0});if(!m)return l.invisible[c.descriptor.id]=!0,l;var p=ak(d,i,o),v={draggableId:d,shouldAnimate:p};return l.visible[d]=v,l},{all:[],visible:{},invisible:{}})}function ik(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Rd(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,o=ik(t,{inHomeList:r});return{displaced:Ja,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function hi(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,o=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,c=pa(t,n);if(s==null)return Rd({insideDestination:r,inHomeList:c,displacedBy:o,destination:n});var u=mn(r,function(y){return y.descriptor.index===s});if(!u)return Rd({insideDestination:r,inHomeList:c,displacedBy:o,destination:n});var d=Li(t,r),m=r.indexOf(u),p=d.slice(m),v=eo({afterDragging:p,destination:n,displacedBy:o,last:i,viewport:a.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function fn(e,t){return!!t.effected[e]}var sk=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,o=e.afterCritical;if(!r.isCombineEnabled)return null;var i=a.draggableId,s=n[i],l=s.descriptor.index,c=fn(i,o);return c?t?l:l-1:t?l+1:l},lk=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var o=a.index,i=t?o+1:o-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=r?l:l+1;return i<s||i>c?null:i},ck=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,o=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||te(),u.type==="REORDER"){var d=lk({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:i});return d==null?null:hi({draggable:n,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var m=sk({isMovingForward:t,destination:o,displaced:s.displaced,draggables:a,combine:u.combine,afterCritical:c});return m==null?null:hi({draggable:n,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:m})},uk=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,o=!!(t.visible[n]||t.invisible[n]);return fn(n,r)?o?lt:fa(a.point):o?a.point:lt},dk=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=Ai(r);a||te();var o=a.draggableId,i=n[o].page.borderBox.center,s=uk({displaced:r.displaced,afterCritical:t,combineWith:o,displacedBy:r.displacedBy});return mt(i,s)},zp=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},fk=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Sc=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Ad=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return _n(r.line,n.marginBox[r.end]+zp(r,a),Sc(r,n.marginBox,a))},Ld=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return _n(r.line,n.marginBox[r.start]-fk(r,a),Sc(r,n.marginBox,a))},mk=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return _n(r.line,n.contentBox[r.start]+zp(r,a),Sc(r,n.contentBox,a))},pk=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,o=e.afterCritical,i=ma(a.descriptor.id,n),s=r.page,l=a.axis;if(!i.length)return mk({axis:l,moveInto:a.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var m=n[d];if(fn(d,o))return Ld({axis:l,moveRelativeTo:m.page,isMoving:s});var p=ui(m.page,u.point);return Ld({axis:l,moveRelativeTo:p,isMoving:s})}var v=i[i.length-1];if(v.descriptor.id===r.descriptor.id)return s.borderBox.center;if(fn(v.descriptor.id,o)){var y=ui(v.page,fa(o.displacedBy.point));return Ad({axis:l,moveRelativeTo:y,isMoving:s})}return Ad({axis:l,moveRelativeTo:v.page,isMoving:s})},pl=function(e,t){var r=e.frame;return r?mt(t,r.scroll.diff.displacement):t},hk=function(t){var r=t.impact,n=t.draggable,a=t.droppable,o=t.draggables,i=t.afterCritical,s=n.page.borderBox.center,l=r.at;return!a||!l?s:l.type==="REORDER"?pk({impact:r,draggable:n,draggables:o,droppable:a,afterCritical:i}):dk({impact:r,draggables:o,afterCritical:i})},Fi=function(e){var t=hk(e),r=e.droppable,n=r?pl(r,t):t;return n},Wp=function(e,t){var r=Ht(t,e.scroll.initial),n=fa(r),a=ur({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return o};function Fd(e,t){return e.map(function(r){return t[r]})}function gk(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var vk=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,o=e.maxScrollChange,i=Wp(r,mt(r.scroll.current,o)),s=n.frame?vc(n,mt(n.frame.scroll.current,o)):n,l=t.displaced,c=eo({afterDragging:Fd(l.all,a),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=eo({afterDragging:Fd(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},m={},p=[l,c,u];l.all.forEach(function(y){var S=gk(y,p);if(S){m[y]=S;return}d[y]=!0});var v=ke({},t,{displaced:{all:l.all,invisible:d,visible:m}});return v},yk=function(e,t){return mt(e.scroll.diff.displacement,t)},kc=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=yk(n,t),o=Ht(a,r.page.borderBox.center);return mt(r.client.borderBox.center,o)},Vp=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=i===void 0?!1:i,l=Ht(n,t.page.borderBox.center),c=po(t.page.borderBox,l),u={target:c,destination:r,withDroppableDisplacement:o,viewport:a};return s?nk(u):Hp(u)},bk=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,o=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var u=ma(n.descriptor.id,a),d=pa(r,n),m=XS({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:o})||ck({isMovingForward:t,isInHomeList:d,draggable:r,draggables:a,destination:n,insideDestination:u,previousImpact:o,viewport:i,afterCritical:c});if(!m)return null;var p=Fi({impact:m,draggable:r,droppable:n,draggables:a,afterCritical:c}),v=Vp({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var y=kc({pageBorderBoxCenter:p,draggable:r,viewport:i});return{clientSelection:y,impact:m,scrollJumpRequest:null}}var S=Ht(p,s),w=vk({impact:m,viewport:i,destination:n,draggables:a,maxScrollChange:S});return{clientSelection:l,impact:w,scrollJumpRequest:S}},xt=function(t){var r=t.subject.active;return r||te(),r},wk=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,o=e.viewport,i=n.subject.active;if(!i)return null;var s=n.axis,l=nr(i[s.start],i[s.end]),c=Ri(a).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return $p(o.frame)(xt(d))}).filter(function(d){var m=xt(d);return t?i[s.crossAxisEnd]<m[s.crossAxisEnd]:m[s.crossAxisStart]<i[s.crossAxisStart]}).filter(function(d){var m=xt(d),p=nr(m[s.start],m[s.end]);return l(m[s.start])||l(m[s.end])||p(i[s.start])||p(i[s.end])}).sort(function(d,m){var p=xt(d)[s.crossAxisStart],v=xt(m)[s.crossAxisStart];return t?p-v:v-p}).filter(function(d,m,p){return xt(d)[s.crossAxisStart]===xt(p[0])[s.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var u=c.filter(function(d){var m=nr(xt(d)[s.start],xt(d)[s.end]);return m(r[s.line])});return u.length===1?u[0]:u.length>1?u.sort(function(d,m){return xt(d)[s.start]-xt(m)[s.start]})[0]:c.sort(function(d,m){var p=Od(r,Pd(xt(d))),v=Od(r,Pd(xt(m)));return p!==v?p-v:xt(d)[s.start]-xt(m)[s.start]})[0]},$d=function(t,r){var n=t.page.borderBox.center;return fn(t.descriptor.id,r)?Ht(n,r.displacedBy.point):n},xk=function(t,r){var n=t.page.borderBox;return fn(t.descriptor.id,r)?po(n,fa(r.displacedBy.point)):n},Sk=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,o=e.afterCritical,i=a.filter(function(s){return Hp({target:xk(s,o),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var c=Qa(t,pl(n,$d(s,o))),u=Qa(t,pl(n,$d(l,o)));return c<u?-1:u<c?1:s.descriptor.index-l.descriptor.index});return i[0]||null},ho=st(function(t,r){var n=r[t.line];return{value:n,point:_n(t.line,n)}}),kk=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return _n(a.line,r[a.line]);var o=t.subject.page.contentBox[a.size],i=ma(t.descriptor.id,n),s=i.reduce(function(u,d){return u+d.client.marginBox[a.size]},0),l=s+r[a.line],c=l-o;return c<=0?null:_n(a.line,c)},Yp=function(t,r){return ke({},t,{scroll:ke({},t.scroll,{max:r})})},Up=function(t,r,n){var a=t.frame;pa(r,t)&&te(),t.subject.withPlaceholder&&te();var o=ho(t.axis,r.displaceBy).point,i=kk(t,o,n),s={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var l=oa({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return ke({},t,{subject:l})}var c=i?mt(a.scroll.max,i):a.scroll.max,u=Yp(a,c),d=oa({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:u});return ke({},t,{subject:d,frame:u})},Ck=function(t){var r=t.subject.withPlaceholder;r||te();var n=t.frame;if(!n){var a=oa({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ke({},t,{subject:a})}var o=r.oldFrameMaxScroll;o||te();var i=Yp(n,o),s=oa({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return ke({},t,{subject:s,frame:i})},Ek=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,o=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:Ja,displacedBy:Fp,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=Fi({impact:c,draggable:a,droppable:i,draggables:o,afterCritical:l}),d=pa(a,i)?i:Up(i,a,o),m=Vp({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return m?c:null}var p=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],v=function(){var S=r.descriptor.index;return r.descriptor.id===a.descriptor.id||p?S:S+1}(),y=ho(i.axis,a.displaceBy);return hi({draggable:a,insideDestination:n,destination:i,viewport:s,displacedBy:y,last:Ja,index:v})},jk=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,o=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,c=wk({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:i,viewport:s});if(!c)return null;var u=ma(c.descriptor.id,o),d=Sk({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:u,afterCritical:l}),m=Ek({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!m)return null;var p=Fi({impact:m,draggable:n,droppable:c,draggables:o,afterCritical:l}),v=kc({pageBorderBoxCenter:p,draggable:n,viewport:s});return{clientSelection:v,impact:m,scrollJumpRequest:null}},Vt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Nk=function(t,r){var n=Vt(t);return n?r[n]:null},Dk=function(e){var t=e.state,r=e.type,n=Nk(t.impact,t.dimensions.droppables),a=!!n,o=t.dimensions.droppables[t.critical.droppable.id],i=n||o,s=i.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!a)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,m=t.dimensions,p=m.draggables,v=m.droppables;return l?bk({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):jk({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:p,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function xn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Gp(e){var t=nr(e.top,e.bottom),r=nr(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function Ik(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Tk(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,o=n.map(function(i){var s=i.axis,l=_n(i.axis.line,t.center[s.line],i.page.borderBox.center[s.crossAxisLine]);return{id:i.descriptor.id,distance:Qa(a,l)}}).sort(function(i,s){return s.distance-i.distance});return o[0]?o[0].id:null}function Mk(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=Ri(n).filter(function(o){if(!o.isEnabled)return!1;var i=o.subject.active;if(!i||!Ik(t,i))return!1;if(Gp(i)(t.center))return!0;var s=o.axis,l=i.center[s.crossAxisLine],c=t[s.crossAxisStart],u=t[s.crossAxisEnd],d=nr(i[s.crossAxisStart],i[s.crossAxisEnd]),m=d(c),p=d(u);return!m&&!p?!0:m?c<l:u>l});return a.length?a.length===1?a[0].descriptor.id:Tk({pageBorderBox:t,draggable:r,candidates:a}):null}var qp=function(t,r){return ur(po(t,r))},_k=function(e,t){var r=e.frame;return r?qp(t,r.scroll.diff.value):t};function Xp(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Ok(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Pk=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,o=e.last,i=e.viewport,s=e.afterCritical,l=n.axis,c=ho(n.axis,r.displaceBy),u=c.value,d=t[l.start],m=t[l.end],p=Li(r,a),v=mn(p,function(S){var w=S.descriptor.id,j=S.page.borderBox.center[l.line],D=fn(w,s),N=Xp({displaced:o,id:w});return D?N?m<=j:d<j-u:N?m<=j+u:d<j}),y=Ok({draggable:r,closest:v,inHomeList:pa(r,n)});return hi({draggable:r,insideDestination:a,destination:n,viewport:i,last:o,displacedBy:c,index:y})},Rk=4,Ak=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,o=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=ho(a.axis,t.displaceBy),c=l.value,u=r[s.start],d=r[s.end],m=Li(t,o),p=mn(m,function(y){var S=y.descriptor.id,w=y.page.borderBox,j=w[s.size],D=j/Rk,N=fn(S,i),I=Xp({displaced:n.displaced,id:S});return N?I?d>w[s.start]+D&&d<w[s.end]-D:u>w[s.start]-c+D&&u<w[s.end]-c-D:I?d>w[s.start]+c+D&&d<w[s.end]+c-D:u>w[s.start]+D&&u<w[s.end]-D});if(!p)return null;var v={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}};return v},Zp=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,o=e.previousImpact,i=e.viewport,s=e.afterCritical,l=qp(r.page.borderBox,t),c=Mk({pageBorderBox:l,draggable:r,droppables:a});if(!c)return ZS;var u=a[c],d=ma(u.descriptor.id,n),m=_k(u,l);return Ak({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||Pk({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:u,insideDestination:d,last:o.displaced,viewport:i,afterCritical:s})},Cc=function(e,t){var r;return ke({},e,(r={},r[t.descriptor.id]=t,r))},Lk=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,o=Vt(r),i=Vt(n);if(!o||o===i)return a;var s=a[o];if(!s.subject.withPlaceholder)return a;var l=Ck(s);return Cc(a,l)},Fk=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,o=e.impact,i=Lk({previousImpact:a,impact:o,droppables:n}),s=Vt(o);if(!s)return i;var l=n[s];if(pa(t,l)||l.subject.withPlaceholder)return i;var c=Up(l,t,r);return Cc(i,c)},Aa=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,o=e.impact,i=e.scrollJumpRequest,s=a||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,u=Ht(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:mt(t.initial.client.borderBoxCenter,u)},m={selection:mt(d.selection,s.scroll.current),borderBoxCenter:mt(d.borderBoxCenter,s.scroll.current),offset:mt(d.offset,s.scroll.diff.value)},p={client:d,page:m};if(t.phase==="COLLECTING")return ke({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:p});var v=l.draggables[t.critical.draggable.id],y=o||Zp({pageOffset:m.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),S=Fk({draggable:v,impact:y,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),w=ke({},t,{current:p,dimensions:{draggables:l.draggables,droppables:S},impact:y,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return w};function $k(e,t){return e.map(function(r){return t[r]})}var Kp=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,o=e.forceShouldAnimate,i=t.displaced,s=$k(i.all,n),l=eo({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:o,last:i});return ke({},t,{displaced:l})},Qp=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,o=e.viewport,i=e.afterCritical,s=Fi({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:i});return kc({pageBorderBoxCenter:s,draggable:r,viewport:o})},Jp=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&te();var a=t.impact,o=n||t.viewport,i=r||t.dimensions,s=i.draggables,l=i.droppables,c=s[t.critical.draggable.id],u=Vt(a);u||te();var d=l[u],m=Kp({impact:a,viewport:o,destination:d,draggables:s}),p=Qp({impact:m,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return Aa({impact:m,clientSelection:p,state:t,dimensions:i,viewport:o})},Bk=function(e){return{index:e.index,droppableId:e.droppableId}},eh=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,o=ho(r.axis,t.displaceBy),i=ma(r.descriptor.id,n),s=i.indexOf(t);s===-1&&te();var l=i.slice(s+1),c=l.reduce(function(p,v){return p[v.descriptor.id]=!0,p},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:o,effected:c},d=eo({afterDragging:l,destination:r,displacedBy:o,last:null,viewport:a.frame,forceShouldAnimate:!1}),m={displaced:d,displacedBy:o,at:{type:"REORDER",destination:Bk(t.descriptor)}};return{impact:m,afterCritical:u}},Hk=function(e,t){return{draggables:e.draggables,droppables:Cc(e.droppables,t)}},zk=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=ui(t.client,r),o=di(a,n),i=ke({},t,{placeholder:ke({},t.placeholder,{client:a}),client:a,page:o});return i},Wk=function(e){var t=e.frame;return t||te(),t},Vk=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(o){var i=o.descriptor.droppableId,s=r[i],l=Wk(s),c=l.scroll.diff.value,u=mt(a,c),d=zk({draggable:o,offset:u,initialWindowScroll:n.scroll.initial});return d})},Yk=function(e){var t=e.state,r=e.published,n=r.modified.map(function(D){var N=t.dimensions.droppables[D.droppableId],I=vc(N,D.scroll);return I}),a=ke({},t.dimensions.droppables,{},Ap(n)),o=Lp(Vk({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),i=ke({},t.dimensions.draggables,{},o);r.removals.forEach(function(D){delete i[D]});var s={droppables:a,draggables:i},l=Vt(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],m=eh({draggable:u,home:d,draggables:i,viewport:t.viewport}),p=m.impact,v=m.afterCritical,y=c&&c.isCombineEnabled?t.impact:p,S=Zp({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:y,viewport:t.viewport,afterCritical:v}),w=ke({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:S,onLiftImpact:p,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return w;var j=ke({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return j},hl=function(t){return t.movementMode==="SNAP"},js=function(t,r,n){var a=Hk(t.dimensions,r);return!hl(t)||n?Aa({state:t,dimensions:a}):Jp({state:t,dimensions:a})};function Ns(e){return e.isDragging&&e.movementMode==="SNAP"?ke({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Bd={phase:"IDLE",completed:null,shouldFlush:!1},Uk=function(e,t){if(e===void 0&&(e=Bd),t.type==="FLUSH")return ke({},Bd,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&te();var r=t.payload,n=r.critical,a=r.clientSelection,o=r.viewport,i=r.dimensions,s=r.movementMode,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:a,borderBoxCenter:l.client.borderBox.center,offset:lt},d={client:u,page:{selection:mt(u.selection,o.scroll.initial),borderBoxCenter:mt(u.selection,o.scroll.initial),offset:mt(u.selection,o.scroll.diff.value)}},m=Ri(i.droppables).every(function(ce){return!ce.isFixedOnPage}),p=eh({draggable:l,home:c,draggables:i.draggables,viewport:o}),v=p.impact,y=p.afterCritical,S={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:i,initial:d,current:d,isWindowScrollAllowed:m,impact:v,afterCritical:y,onLiftImpact:v,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return S}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&te();var w=ke({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||te(),Yk({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;xn(e)||te();var j=t.payload.client;return cn(j,e.current.client.selection)?e:Aa({state:e,clientSelection:j,impact:hl(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ns(e);xn(e)||te();var D=t.payload,N=D.id,I=D.newScroll,M=e.dimensions.droppables[N];if(!M)return e;var x=vc(M,I);return js(e,x,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;xn(e)||te();var g=t.payload,b=g.id,k=g.isEnabled,E=e.dimensions.droppables[b];E||te(),E.isEnabled===k&&te();var O=ke({},E,{isEnabled:k});return js(e,O,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;xn(e)||te();var _=t.payload,C=_.id,T=_.isCombineEnabled,R=e.dimensions.droppables[C];R||te(),R.isCombineEnabled===T&&te();var $=ke({},R,{isCombineEnabled:T});return js(e,$,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;xn(e)||te(),e.isWindowScrollAllowed||te();var A=t.payload.newScroll;if(cn(e.viewport.scroll.current,A))return Ns(e);var P=Wp(e.viewport,A);return hl(e)?Jp({state:e,viewport:P}):Aa({state:e,viewport:P})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!xn(e))return e;var F=t.payload.maxScroll;if(cn(F,e.viewport.scroll.max))return e;var W=ke({},e.viewport,{scroll:ke({},e.viewport.scroll,{max:F})});return ke({phase:"DRAGGING"},e,{viewport:W})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&te();var z=Dk({state:e,type:t.type});return z?Aa({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var V=t.payload.reason;e.phase!=="COLLECTING"&&te();var G=ke({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:V});return G}if(t.type==="DROP_ANIMATE"){var H=t.payload,B=H.completed,X=H.dropDuration,Z=H.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||te();var se={phase:"DROP_ANIMATING",completed:B,dropDuration:X,newHomeClientOffset:Z,dimensions:e.dimensions};return se}if(t.type==="DROP_COMPLETE"){var U=t.payload.completed;return{phase:"IDLE",completed:U,shouldFlush:!1}}return e},Gk=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},qk=function(t){return{type:"LIFT",payload:t}},Xk=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Zk=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Kk=function(){return{type:"COLLECTION_STARTING",payload:null}},Qk=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Jk=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},eC=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},th=function(t){return{type:"MOVE",payload:t}},tC=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},rC=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},nC=function(){return{type:"MOVE_UP",payload:null}},aC=function(){return{type:"MOVE_DOWN",payload:null}},oC=function(){return{type:"MOVE_RIGHT",payload:null}},iC=function(){return{type:"MOVE_LEFT",payload:null}},Ec=function(){return{type:"FLUSH",payload:null}},sC=function(t){return{type:"DROP_ANIMATE",payload:t}},jc=function(t){return{type:"DROP_COMPLETE",payload:t}},rh=function(t){return{type:"DROP",payload:t}},lC=function(t){return{type:"DROP_PENDING",payload:t}},nh=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},cC=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(o){if(o.type!=="LIFT"){a(o);return}var i=o.payload,s=i.id,l=i.clientSelection,c=i.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(jc({completed:u.completed})),r().phase!=="IDLE"&&te(),n(Ec()),n(Gk({draggableId:s,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},m={draggableId:s,scrollOptions:d},p=e.startPublishing(m),v=p.critical,y=p.dimensions,S=p.viewport;n(Xk({critical:v,dimensions:y,clientSelection:l,movementMode:c,viewport:S}))}}}},uC=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Nc={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},to={opacity:{drop:0,combining:.7},scale:{drop:.75}},Dc={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},yn=Dc.outOfTheWay+"s "+Nc.outOfTheWay,La={fluid:"opacity "+yn,snap:"transform "+yn+", opacity "+yn,drop:function(t){var r=t+"s "+Nc.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+yn,placeholder:"height "+yn+", width "+yn+", margin "+yn},Hd=function(t){return cn(t,lt)?null:"translate("+t.x+"px, "+t.y+"px)"},gl={moveTo:Hd,drop:function(t,r){var n=Hd(t);return n?r?n+" scale("+to.scale.drop+")":n:null}},vl=Dc.minDropTime,ah=Dc.maxDropTime,dC=ah-vl,zd=1500,fC=.6,mC=function(e){var t=e.current,r=e.destination,n=e.reason,a=Qa(t,r);if(a<=0)return vl;if(a>=zd)return ah;var o=a/zd,i=vl+dC*o,s=n==="CANCEL"?i*fC:i;return Number(s.toFixed(2))},pC=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,o=e.afterCritical,i=n.draggables,s=n.droppables,l=Vt(t),c=l?s[l]:null,u=s[r.descriptor.droppableId],d=Qp({impact:t,draggable:r,draggables:i,afterCritical:o,droppable:c||u,viewport:a}),m=Ht(d,r.client.borderBox.center);return m},hC=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,o=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=Kp({draggables:t,impact:i,destination:a,viewport:o,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=ke({},n,{displaced:Ja});return{impact:l,didDropInsideDroppable:!0}},gC=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var o=t(),i=a.payload.reason;if(o.phase==="COLLECTING"){r(lC({reason:i}));return}if(o.phase!=="IDLE"){var s=o.phase==="DROP_PENDING"&&o.isWaiting;s&&te(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||te();var l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],d=hC({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),m=d.impact,p=d.didDropInsideDroppable,v=p?bc(m):null,y=p?Ai(m):null,S={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:u.descriptor.id,type:u.descriptor.type,source:S,reason:i,mode:o.movementMode,destination:v,combine:y},j=pC({impact:m,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),D={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:m},N=!cn(o.current.client.offset,j)||!!w.combine;if(!N){r(jc({completed:D}));return}var I=mC({current:o.current.client.offset,destination:j,reason:i}),M={newHomeClientOffset:j,dropDuration:I,completed:D};r(sC(M))}}}},oh=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function vC(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function yC(e){var t=e.onWindowScroll;function r(){t(oh())}var n=Ka(r),a=vC(n),o=ln;function i(){return o!==ln}function s(){i()&&te(),o=rr(window,[a])}function l(){i()||te(),n.cancel(),o(),o=ln}return{start:s,stop:l,isActive:i}}var bC=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},wC=function(e){var t=yC({onWindowScroll:function(n){e.dispatch(tC({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&bC(n)&&t.stop(),r(n)}}},xC=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return a.wasCalled=function(){return t},a},SC=function(){var e=[],t=function(o){var i=yc(e,function(c){return c.timerId===o});i===-1&&te();var s=e.splice(i,1),l=s[0];l.callback()},r=function(o){var i=setTimeout(function(){return t(i)}),s={timerId:i,callback:o};e.push(s)},n=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},kC=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},CC=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},EC=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},Ea=function(t,r){r()},Po=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Ds=function(t,r,n,a){if(!t){n(a(r));return}var o=xC(n),i={announce:o};t(r,i),o.wasCalled()||n(a(r))},jC=function(e,t){var r=SC(),n=null,a=function(m,p){n&&te(),Ea("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var y={draggableId:m,mode:p};v(y)}})},o=function(m,p){n&&te(),Ea("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Po(m,p))})},i=function(m,p){n&&te();var v=Po(m,p);n={mode:p,lastCritical:m,lastLocation:v.source,lastCombine:null},r.add(function(){Ea("onDragStart",function(){return Ds(e().onDragStart,v,t,Go.onDragStart)})})},s=function(m,p){var v=bc(p),y=Ai(p);n||te();var S=!EC(m,n.lastCritical);S&&(n.lastCritical=m);var w=!kC(n.lastLocation,v);w&&(n.lastLocation=v);var j=!CC(n.lastCombine,y);if(j&&(n.lastCombine=y),!(!S&&!w&&!j)){var D=ke({},Po(m,n.mode),{combine:y,destination:v});r.add(function(){Ea("onDragUpdate",function(){return Ds(e().onDragUpdate,D,t,Go.onDragUpdate)})})}},l=function(){n||te(),r.flush()},c=function(m){n||te(),n=null,Ea("onDragEnd",function(){return Ds(e().onDragEnd,m,t,Go.onDragEnd)})},u=function(){if(n){var m=ke({},Po(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(m)}};return{beforeCapture:a,beforeStart:o,start:i,update:s,flush:l,drop:c,abort:u}},NC=function(e,t){var r=jC(e,t);return function(n){return function(a){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var i=o.payload.critical;r.beforeStart(i,o.payload.movementMode),a(o),r.start(i,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var s=o.payload.completed.result;r.flush(),a(o),r.drop(s);return}if(a(o),o.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},DC=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&te(),e.dispatch(jc({completed:n.completed}))}}},IC=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),a(o),o.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(nh())}};r=requestAnimationFrame(function(){r=null,t=rr(window,[i])})}}}},TC=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},MC=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},_C=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},OC=function(e){return function(t){return function(r){return function(n){if(_C(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&te(),e.start(a);return}r(n),e.scroll(t.getState())}}}},PC=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(rh({reason:n.reason})))}}}},RC=xp,AC=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,o=e.announce,i=e.autoScroller;return wp(Uk,RC(V2(uC(n),TC(t),cC(t),gC,DC,IC,PC,OC(i),wC,MC(r),NC(a,o))))},Is=function(){return{additions:{},removals:{},modified:{}}};function LC(e){var t=e.registry,r=e.callbacks,n=Is(),a=null,o=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var u=n,d=u.additions,m=u.removals,p=u.modified,v=Object.keys(d).map(function(w){return t.draggable.getById(w).getDimension(lt)}).sort(function(w,j){return w.descriptor.index-j.descriptor.index}),y=Object.keys(p).map(function(w){var j=t.droppable.getById(w),D=j.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:D}}),S={additions:v,removals:Object.keys(m),modified:y};n=Is(),r.publish(S)}))},i=function(u){var d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],o()},s=function(u){var d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],o()},l=function(){a&&(cancelAnimationFrame(a),a=null,n=Is())};return{add:i,remove:s,stop:l}}var ih=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,o=Ht({x:r,y:t},{x:a,y:n}),i={x:Math.max(0,o.x),y:Math.max(0,o.y)};return i},sh=function(){var e=document.documentElement;return e||te(),e},lh=function(){var e=sh(),t=ih({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},FC=function(){var e=oh(),t=lh(),r=e.y,n=e.x,a=sh(),o=a.clientWidth,i=a.clientHeight,s=n+o,l=r+i,c=ur({top:r,left:n,right:s,bottom:l}),u={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:lt,displacement:lt}}};return u},$C=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=FC(),o=a.scroll.current,i=t.droppable,s=n.droppable.getAllByType(i.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(o)}),c={draggables:Lp(l),droppables:Ap(s)},u={dimensions:c,critical:t,viewport:a};return u};function Wd(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var BC=function(e,t){var r=null,n=LC({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(p,v){e.droppable.exists(p)||te(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:v})},o=function(p,v){r&&(e.droppable.exists(p)||te(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:v}))},i=function(p,v){r&&(e.droppable.exists(p)||te(),t.updateDroppableScroll({id:p,newScroll:v}))},s=function(p,v){r&&e.droppable.getById(p).callbacks.scroll(v)},l=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(p){r||te();var v=r.critical.draggable;p.type==="ADDITION"&&Wd(e,v,p.value)&&n.add(p.value),p.type==="REMOVAL"&&Wd(e,v,p.value)&&n.remove(p.value)},u=function(p){r&&te();var v=e.draggable.getById(p.draggableId),y=e.droppable.getById(v.descriptor.droppableId),S={draggable:v.descriptor,droppable:y.descriptor},w=e.subscribe(c);return r={critical:S,unsubscribe:w},$C({critical:S,registry:e,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:o,scrollDroppable:s,updateDroppableScroll:i,startPublishing:u,stopPublishing:l};return d},ch=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},HC=function(e){window.scrollBy(e.x,e.y)},zC=st(function(e){return Ri(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),WC=function(t,r){var n=mn(zC(r),function(a){return a.frame||te(),Gp(a.frame.pageMarginBox)(t)});return n},VC=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var o=WC(t,n);return o},un={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},YC=function(e,t){var r=e[t.size]*un.startFromPercentage,n=e[t.size]*un.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},uh=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var o=n-t,i=o/a;return i},Ic=1,UC=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return un.maxPixelScroll;if(e===t.startScrollingFrom)return Ic;var r=uh({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=un.maxPixelScroll*un.ease(n);return Math.ceil(a)},Vd=un.durationDampening.accelerateAt,Yd=un.durationDampening.stopDampeningAt,GC=function(e,t){var r=t,n=Yd,a=Date.now(),o=a-r;if(o>=Yd)return e;if(o<Vd)return Ic;var i=uh({startOfRange:Vd,endOfRange:n,current:o}),s=e*un.ease(i);return Math.ceil(s)},Ud=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,o=UC(t,r);return o===0?0:a?Math.max(GC(o,n),Ic):o},Gd=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,o=e.shouldUseTimeDampening,i=YC(t,a),s=r[a.end]<r[a.start];return s?Ud({distanceToEdge:r[a.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o}):-1*Ud({distanceToEdge:r[a.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o})},qC=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,o=r.width>t.width;return!o&&!a?n:o&&a?null:{x:o?0:n.x,y:a?0:n.y}},XC=Pp(function(e){return e===0?0:e}),dh=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,o=e.shouldUseTimeDampening,i={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},s=Gd({container:r,distanceToEdges:i,dragStartTime:t,axis:wc,shouldUseTimeDampening:o}),l=Gd({container:r,distanceToEdges:i,dragStartTime:t,axis:Bp,shouldUseTimeDampening:o}),c=XC({x:l,y:s});if(cn(c,lt))return null;var u=qC({container:r,subject:n,proposedScroll:c});return u?cn(u,lt)?null:u:null},ZC=Pp(function(e){return e===0?0:e>0?1:-1}),Tc=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,o=mt(r,a),i={x:e(o.x,n.x),y:e(o.y,n.y)};return cn(i,lt)?null:i}}(),fh=function(t){var r=t.max,n=t.current,a=t.change,o={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=ZC(a),s=Tc({max:o,current:n,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},Mc=function(t,r){return fh({current:t.scroll.current,max:t.scroll.max,change:r})},KC=function(t,r){if(!Mc(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return Tc({current:a,max:n,change:r})},_c=function(t,r){var n=t.frame;return n?fh({current:n.scroll.current,max:n.scroll.max,change:r}):!1},QC=function(t,r){var n=t.frame;return!n||!_c(t,r)?null:Tc({current:n.scroll.current,max:n.scroll.max,change:r})},JC=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=dh({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:o});return i&&Mc(t,i)?i:null},eE=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=dh({dragStartTime:a,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:o});return s&&_c(t,s)?s:null},qd=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],l=s.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,u=JC({dragStartTime:r,viewport:c,subject:l,center:i,shouldUseTimeDampening:n});if(u){a(u);return}}var d=VC({center:i,destination:Vt(t.impact),droppables:t.dimensions.droppables});if(d){var m=eE({dragStartTime:r,droppable:d,subject:l,center:i,shouldUseTimeDampening:n});m&&o(d.descriptor.id,m)}},tE=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Ka(t),a=Ka(r),o=null,i=function(u){o||te();var d=o,m=d.shouldUseTimeDampening,p=d.dragStartTime;qd({state:u,scrollWindow:n,scrollDroppable:a,dragStartTime:p,shouldUseTimeDampening:m})},s=function(u){o&&te();var d=Date.now(),m=!1,p=function(){m=!0};qd({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),o={dragStartTime:d,shouldUseTimeDampening:m},m&&i(u)},l=function(){o&&(n.cancel(),a.cancel(),o=null)};return{start:s,stop:l,scroll:i}},rE=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(c,u){var d=mt(c.current.client.selection,u);t({client:d})},o=function(c,u){if(!_c(c,u))return u;var d=QC(c,u);if(!d)return r(c.descriptor.id,u),null;var m=Ht(u,d);r(c.descriptor.id,m);var p=Ht(u,m);return p},i=function(c,u,d){if(!c||!Mc(u,d))return d;var m=KC(u,d);if(!m)return n(d),null;var p=Ht(d,m);n(p);var v=Ht(d,p);return v},s=function(c){var u=c.scrollJumpRequest;if(u){var d=Vt(c.impact);d||te();var m=o(c.dimensions.droppables[d],u);if(m){var p=c.viewport,v=i(c.isWindowScrollAllowed,p,m);v&&a(c,v)}}};return s},nE=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=tE({scrollWindow:r,scrollDroppable:t}),o=rE({move:n,scrollWindow:r,scrollDroppable:t}),i=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&o(c)}},s={scroll:i,start:a.start,stop:a.stop};return s},ia="data-rbd",sa=function(){var e=ia+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),yl=function(){var e=ia+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),aE=function(){var e=ia+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Xd={contextId:ia+"-scroll-container-context-id"},oE=function(t){return function(r){return"["+r+'="'+t+'"]'}},ja=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},iE="pointer-events: none;",sE=function(e){var t=oE(e),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(sa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:iE,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+La.outOfTheWay+`;
    `;return{selector:t(yl.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:t(aE.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,a,o];return{always:ja(i,"always"),resting:ja(i,"resting"),dragging:ja(i,"dragging"),dropAnimating:ja(i,"dropAnimating"),userCancel:ja(i,"userCancel")}},Yt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect,Ts=function(){var t=document.querySelector("head");return t||te(),t},Zd=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function lE(e,t){var r=Le(function(){return sE(e)},[e]),n=h.useRef(null),a=h.useRef(null),o=ve(st(function(d){var m=a.current;m||te(),m.textContent=d}),[]),i=ve(function(d){var m=n.current;m||te(),m.textContent=d},[]);Yt(function(){!n.current&&!a.current||te();var d=Zd(t),m=Zd(t);return n.current=d,a.current=m,d.setAttribute(ia+"-always",e),m.setAttribute(ia+"-dynamic",e),Ts().appendChild(d),Ts().appendChild(m),i(r.always),o(r.resting),function(){var p=function(y){var S=y.current;S||te(),Ts().removeChild(S),y.current=null};p(n),p(a)}},[t,i,o,r.always,r.resting,e]);var s=ve(function(){return o(r.dragging)},[o,r.dragging]),l=ve(function(d){if(d==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),c=ve(function(){a.current&&o(r.resting)},[o,r.resting]),u=Le(function(){return{dragging:s,dropping:l,resting:c}},[s,l,c]);return u}var mh=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function $i(e){return e instanceof mh(e).HTMLElement}function cE(e,t){var r="["+sa.contextId+'="'+e+'"]',n=Rp(document.querySelectorAll(r));if(!n.length)return null;var a=mn(n,function(o){return o.getAttribute(sa.draggableId)===t});return!a||!$i(a)?null:a}function uE(e){var t=h.useRef({}),r=h.useRef(null),n=h.useRef(null),a=h.useRef(!1),o=ve(function(m,p){var v={id:m,focus:p};return t.current[m]=v,function(){var S=t.current,w=S[m];w!==v&&delete S[m]}},[]),i=ve(function(m){var p=cE(e,m);p&&p!==document.activeElement&&p.focus()},[e]),s=ve(function(m,p){r.current===m&&(r.current=p)},[]),l=ve(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var m=r.current;m&&i(m)}))},[i]),c=ve(function(m){r.current=null;var p=document.activeElement;p&&p.getAttribute(sa.draggableId)===m&&(r.current=m)},[]);Yt(function(){return a.current=!0,function(){a.current=!1;var m=n.current;m&&cancelAnimationFrame(m)}},[]);var u=Le(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[o,c,l,s]);return u}function dE(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function n(d){t.length&&t.forEach(function(m){return m(d)})}function a(d){return e.draggables[d]||null}function o(d){var m=a(d);return m||te(),m}var i={register:function(m){e.draggables[m.descriptor.id]=m,n({type:"ADDITION",value:m})},update:function(m,p){var v=e.draggables[p.descriptor.id];v&&v.uniqueId===m.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:function(m){var p=m.descriptor.id,v=a(p);v&&m.uniqueId===v.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:m}))},getById:o,findById:a,exists:function(m){return!!a(m)},getAllByType:function(m){return pi(e.draggables).filter(function(p){return p.descriptor.type===m})}};function s(d){return e.droppables[d]||null}function l(d){var m=s(d);return m||te(),m}var c={register:function(m){e.droppables[m.descriptor.id]=m},unregister:function(m){var p=s(m.descriptor.id);p&&m.uniqueId===p.uniqueId&&delete e.droppables[m.descriptor.id]},getById:l,findById:s,exists:function(m){return!!s(m)},getAllByType:function(m){return pi(e.droppables).filter(function(p){return p.descriptor.type===m})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:c,subscribe:r,clean:u}}function fE(){var e=Le(dE,[]);return h.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Oc=L.createContext(null),gi=function(){var e=document.body;return e||te(),e},mE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},pE=function(t){return"rbd-announcement-"+t};function hE(e){var t=Le(function(){return pE(e)},[e]),r=h.useRef(null);h.useEffect(function(){var o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ke(o.style,mE),gi().appendChild(o),function(){setTimeout(function(){var l=gi();l.contains(o)&&l.removeChild(o),o===r.current&&(r.current=null)})}},[t]);var n=ve(function(a){var o=r.current;if(o){o.textContent=a;return}},[]);return n}var gE=0,vE={separator:"::"};function Pc(e,t){return t===void 0&&(t=vE),Le(function(){return""+e+t.separator+gE++},[t.separator,e])}function yE(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function bE(e){var t=e.contextId,r=e.text,n=Pc("hidden-text",{separator:"-"}),a=Le(function(){return yE({contextId:t,uniqueId:n})},[n,t]);return h.useEffect(function(){var i=document.createElement("div");return i.id=a,i.textContent=r,i.style.display="none",gi().appendChild(i),function(){var l=gi();l.contains(i)&&l.removeChild(i)}},[a,r]),a}var Bi=L.createContext(null);function ph(e){var t=h.useRef(e);return h.useEffect(function(){t.current=e}),t}function wE(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&te();var s={abandon:i};return e=s,s}function a(){e||te(),e=null}function o(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:o}}var xE=9,SE=13,Rc=27,hh=32,kE=33,CE=34,EE=35,jE=36,NE=37,DE=38,IE=39,TE=40,Ro,ME=(Ro={},Ro[SE]=!0,Ro[xE]=!0,Ro),gh=function(e){ME[e.keyCode]&&e.preventDefault()},Hi=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=mn(t,function(n){return"on"+n in document});return r||e}(),vh=0,Kd=5;function _E(e,t){return Math.abs(t.x-e.x)>=Kd||Math.abs(t.y-e.y)>=Kd}var Qd={type:"IDLE"};function OE(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(i){var s=i.button,l=i.clientX,c=i.clientY;if(s===vh){var u={x:l,y:c},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&te();var m=d.point;if(_E(m,u)){i.preventDefault();var p=d.actions.fluidLift(u);a({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var s=n();if(s.type==="PENDING"){t();return}if(i.keyCode===Rc){i.preventDefault(),t();return}gh(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var s=n();if(s.type==="IDLE"&&te(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Hi,fn:t}]}function PE(e){var t=h.useRef(Qd),r=h.useRef(ln),n=Le(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===vh&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var m=e.findClosestDraggableId(d);if(m){var p=e.tryGetLock(m,i,{sourceEvent:d});if(p){d.preventDefault();var v={x:d.clientX,y:d.clientY};r.current(),c(p,v)}}}}}},[e]),a=Le(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var m=e.findClosestDraggableId(d);if(m){var p=e.findOptionsForDraggable(m);p&&(p.shouldRespectForcePress||e.canGetLock(m)&&d.preventDefault())}}}}},[e]),o=ve(function(){var d={passive:!1,capture:!0};r.current=rr(window,[a,n],d)},[a,n]),i=ve(function(){var u=t.current;u.type!=="IDLE"&&(t.current=Qd,r.current(),o())},[o]),s=ve(function(){var u=t.current;i(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[i]),l=ve(function(){var d={capture:!0,passive:!1},m=OE({cancel:s,completed:i,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=rr(window,m,d)},[s,i]),c=ve(function(d,m){t.current.type!=="IDLE"&&te(),t.current={type:"PENDING",point:m,actions:d},l()},[l]);Yt(function(){return o(),function(){r.current()}},[o])}var zn;function RE(){}var AE=(zn={},zn[CE]=!0,zn[kE]=!0,zn[jE]=!0,zn[EE]=!0,zn);function LE(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===Rc){o.preventDefault(),r();return}if(o.keyCode===hh){o.preventDefault(),n();return}if(o.keyCode===TE){o.preventDefault(),e.moveDown();return}if(o.keyCode===DE){o.preventDefault(),e.moveUp();return}if(o.keyCode===IE){o.preventDefault(),e.moveRight();return}if(o.keyCode===NE){o.preventDefault(),e.moveLeft();return}if(AE[o.keyCode]){o.preventDefault();return}gh(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Hi,fn:r}]}function FE(e){var t=h.useRef(RE),r=Le(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==hh)return;var i=e.findClosestDraggableId(o);if(!i)return;var s=e.tryGetLock(i,u,{sourceEvent:o});if(!s)return;o.preventDefault();var l=!0,c=s.snapLift();t.current();function u(){l||te(),l=!1,t.current(),n()}t.current=rr(window,LE(c,u),{capture:!0,passive:!1})}}},[e]),n=ve(function(){var o={passive:!1,capture:!0};t.current=rr(window,[r],o)},[r]);Yt(function(){return n(),function(){t.current()}},[n])}var Ms={type:"IDLE"},$E=120,BE=.15;function HE(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===Rc&&a.preventDefault(),t()}},{eventName:Hi,fn:t}]}function zE(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var s=o.touches[0],l=s.clientX,c=s.clientY,u={x:l,y:c};o.preventDefault(),i.actions.move(u)}},{eventName:"touchend",fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(o){if(n().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var i=n();i.type==="IDLE"&&te();var s=o.touches[0];if(s){var l=s.force>=BE;if(l){var c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&t();return}if(c){if(i.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:Hi,fn:t}]}function WE(e){var t=h.useRef(Ms),r=h.useRef(ln),n=ve(function(){return t.current},[]),a=ve(function(p){t.current=p},[]),o=Le(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var v=e.findClosestDraggableId(p);if(v){var y=e.tryGetLock(v,s,{sourceEvent:p});if(y){var S=p.touches[0],w=S.clientX,j=S.clientY,D={x:w,y:j};r.current(),d(y,D)}}}}}},[e]),i=ve(function(){var p={capture:!0,passive:!1};r.current=rr(window,[o],p)},[o]),s=ve(function(){var m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(Ms),r.current(),i())},[i,a]),l=ve(function(){var m=t.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),c=ve(function(){var p={capture:!0,passive:!1},v={cancel:l,completed:s,getPhase:n},y=rr(window,zE(v),p),S=rr(window,HE(v),p);r.current=function(){y(),S()}},[l,n,s]),u=ve(function(){var p=n();p.type!=="PENDING"&&te();var v=p.actions.fluidLift(p.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),d=ve(function(p,v){n().type!=="IDLE"&&te();var y=setTimeout(u,$E);a({type:"PENDING",point:v,actions:p,longPressTimerId:y}),c()},[c,n,a,u]);Yt(function(){return i(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(Ms))}},[n,i,a]),Yt(function(){var p=rr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var VE={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function yh(e,t){if(t==null)return!1;var r=!!VE[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:yh(e,t.parentElement)}function YE(e,t){var r=t.target;return $i(r)?yh(e,r):!1}var UE=function(e){return ur(e.getBoundingClientRect()).center};function GE(e){return e instanceof mh(e).Element}var qE=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=mn(t,function(n){return n in Element.prototype});return r||e}();function bh(e,t){return e==null?null:e[qE](t)?e:bh(e.parentElement,t)}function XE(e,t){return e.closest?e.closest(t):bh(e,t)}function ZE(e){return"["+sa.contextId+'="'+e+'"]'}function KE(e,t){var r=t.target;if(!GE(r))return null;var n=ZE(e),a=XE(r,n);return!a||!$i(a)?null:a}function QE(e,t){var r=KE(e,t);return r?r.getAttribute(sa.draggableId):null}function JE(e,t){var r="["+yl.contextId+'="'+e+'"]',n=Rp(document.querySelectorAll(r)),a=mn(n,function(o){return o.getAttribute(yl.id)===t});return!a||!$i(a)?null:a}function ej(e){e.preventDefault()}function Ao(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function wh(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var o=n.draggable.findById(a);return!(!o||!o.options.isEnabled||!ch(r.getState(),a))}function tj(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,o=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent,l=wh({lockAPI:t,store:n,registry:a,draggableId:o});if(!l)return null;var c=a.draggable.getById(o),u=JE(r,c.descriptor.id);if(!u||s&&!c.options.canDragInteractiveElements&&YE(u,s))return null;var d=t.claim(i||ln),m="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function v(){return t.isActive(d)}function y(M,x){Ao({expected:M,phase:m,isLockActive:v,shouldWarn:!0})&&n.dispatch(x())}var S=y.bind(null,"DRAGGING");function w(M){function x(){t.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(x(),m!=="PRE_DRAG"&&te()),n.dispatch(qk(M.liftActionArgs)),m="DRAGGING";function g(b,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),M.cleanup(),k.shouldBlockNextClick){var E=rr(window,[{eventName:"click",fn:ej,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(E)}x(),n.dispatch(rh({reason:b}))}return ke({isActive:function(){return Ao({expected:"DRAGGING",phase:m,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(k){return g("DROP",k)},cancel:function(k){return g("CANCEL",k)}},M.actions)}function j(M){var x=Ka(function(b){S(function(){return th({client:b})})}),g=w({liftActionArgs:{id:o,clientSelection:M,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return ke({},g,{move:x})}function D(){var M={moveUp:function(){return S(nC)},moveRight:function(){return S(oC)},moveDown:function(){return S(aC)},moveLeft:function(){return S(iC)}};return w({liftActionArgs:{id:o,clientSelection:UE(u),movementMode:"SNAP"},cleanup:ln,actions:M})}function N(){var M=Ao({expected:"PRE_DRAG",phase:m,isLockActive:v,shouldWarn:!0});M&&t.release()}var I={isActive:function(){return Ao({expected:"PRE_DRAG",phase:m,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:j,snapLift:D,abort:N};return I}var rj=[PE,FE,WE];function nj(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,o=e.enableDefaultSensors,i=[].concat(o?rj:[],a||[]),s=h.useState(function(){return wE()})[0],l=ve(function(j,D){j.isDragging&&!D.isDragging&&s.tryAbandon()},[s]);Yt(function(){var j=r.getState(),D=r.subscribe(function(){var N=r.getState();l(j,N),j=N});return D},[s,r,l]),Yt(function(){return s.tryAbandon},[s.tryAbandon]);for(var c=ve(function(w){return wh({lockAPI:s,registry:n,store:r,draggableId:w})},[s,n,r]),u=ve(function(w,j,D){return tj({lockAPI:s,registry:n,contextId:t,store:r,draggableId:w,forceSensorStop:j,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null})},[t,s,n,r]),d=ve(function(w){return QE(t,w)},[t]),m=ve(function(w){var j=n.draggable.findById(w);return j?j.options:null},[n.draggable]),p=ve(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Ec()))},[s,r]),v=ve(s.isClaimed,[s]),y=Le(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:m,tryReleaseLock:p,isLockClaimed:v}},[c,u,d,m,p,v]),S=0;S<i.length;S++)i[S](y)}var aj=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Na(e){return e.current||te(),e.current}function oj(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,o=e.dragHandleUsageInstructions,i=h.useRef(null),s=ph(e),l=ve(function(){return aj(s.current)},[s]),c=hE(t),u=bE({contextId:t,text:o}),d=lE(t,a),m=ve(function(b){Na(i).dispatch(b)},[]),p=Le(function(){return kd({publishWhileDragging:Zk,updateDroppableScroll:Qk,updateDroppableIsEnabled:Jk,updateDroppableIsCombineEnabled:eC,collectionStarting:Kk},m)},[m]),v=fE(),y=Le(function(){return BC(v,p)},[v,p]),S=Le(function(){return nE(ke({scrollWindow:HC,scrollDroppable:y.scrollDroppable},kd({move:th},m)))},[y.scrollDroppable,m]),w=uE(t),j=Le(function(){return AC({announce:c,autoScroller:S,dimensionMarshal:y,focusMarshal:w,getResponders:l,styleMarshal:d})},[c,S,y,w,l,d]);i.current=j;var D=ve(function(){var b=Na(i),k=b.getState();k.phase!=="IDLE"&&b.dispatch(Ec())},[]),N=ve(function(){var b=Na(i).getState();return b.isDragging||b.phase==="DROP_ANIMATING"},[]),I=Le(function(){return{isDragging:N,tryAbort:D}},[N,D]);r(I);var M=ve(function(b){return ch(Na(i).getState(),b)},[]),x=ve(function(){return xn(Na(i).getState())},[]),g=Le(function(){return{marshal:y,focus:w,contextId:t,canLift:M,isMovementAllowed:x,dragHandleUsageInstructionsId:u,registry:v}},[t,y,u,w,M,x,v]);return nj({contextId:t,store:j,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),h.useEffect(function(){return D},[D]),L.createElement(Bi.Provider,{value:g},L.createElement(X2,{context:Oc,store:j},e.children))}var ij=0;function sj(){return Le(function(){return""+ij++},[])}function xh(e){var t=sj(),r=e.dragHandleUsageInstructions||Go.dragHandleUsageInstructions;return L.createElement(FS,null,function(n){return L.createElement(oj,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Sh=function(t){return function(r){return t===r}},lj=Sh("scroll"),cj=Sh("auto"),Jd=function(t,r){return r(t.overflowX)||r(t.overflowY)},uj=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Jd(n,lj)||Jd(n,cj)},dj=function(){return!1},fj=function e(t){return t==null?null:t===document.body?dj()?t:null:t===document.documentElement?null:uj(t)?t:e(t.parentElement)},bl=function(e){return{x:e.scrollLeft,y:e.scrollTop}},mj=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},pj=function(e){var t=fj(e),r=mj(e);return{closestScrollable:t,isFixedOnPage:r}},hj=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,o=e.direction,i=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var p=l.scrollSize,v=l.client,y=ih({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:lt,displacement:lt}}}}(),u=o==="vertical"?wc:Bp,d=oa({page:s,withPlaceholder:null,axis:u,frame:c}),m={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:r,client:i,page:s,frame:c,subject:d};return m},gj=function(t,r){var n=Tp(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,o=n.paddingBox.left-r.scrollLeft,i=a+r.scrollHeight,s=o+r.scrollWidth,l={top:a,right:s,bottom:i,left:o},c=hc(l,n.border),u=gc({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return u},vj=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,o=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=gj(t,c),d=di(u,a),m=function(){if(!c)return null;var v=Tp(c),y={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:di(v,a),scroll:bl(c),scrollSize:y,shouldClipSubject:l}}(),p=hj({descriptor:r,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:d,closest:m});return p},yj={passive:!1},bj={passive:!0},ef=function(e){return e.shouldPublishImmediately?yj:bj};function vi(e){var t=h.useContext(e);return t||te(),t}var Lo=function(t){return t&&t.env.closestScrollable||null};function wj(e){var t=h.useRef(null),r=vi(Bi),n=Pc("droppable"),a=r.registry,o=r.marshal,i=ph(e),s=Le(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=h.useRef(s),c=Le(function(){return st(function(N,I){t.current||te();var M={x:N,y:I};o.updateDroppableScroll(s.id,M)})},[s.id,o]),u=ve(function(){var N=t.current;return!N||!N.env.closestScrollable?lt:bl(N.env.closestScrollable)},[]),d=ve(function(){var N=u();c(N.x,N.y)},[u,c]),m=Le(function(){return Ka(d)},[d]),p=ve(function(){var N=t.current,I=Lo(N);N&&I||te();var M=N.scrollOptions;if(M.shouldPublishImmediately){d();return}m()},[m,d]),v=ve(function(N,I){t.current&&te();var M=i.current,x=M.getDroppableRef();x||te();var g=pj(x),b={ref:x,descriptor:s,env:g,scrollOptions:I};t.current=b;var k=vj({ref:x,descriptor:s,env:g,windowScroll:N,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),E=g.closestScrollable;return E&&(E.setAttribute(Xd.contextId,r.contextId),E.addEventListener("scroll",p,ef(b.scrollOptions))),k},[r.contextId,s,p,i]),y=ve(function(){var N=t.current,I=Lo(N);return N&&I||te(),bl(I)},[]),S=ve(function(){var N=t.current;N||te();var I=Lo(N);t.current=null,I&&(m.cancel(),I.removeAttribute(Xd.contextId),I.removeEventListener("scroll",p,ef(N.scrollOptions)))},[p,m]),w=ve(function(N){var I=t.current;I||te();var M=Lo(I);M||te(),M.scrollTop+=N.y,M.scrollLeft+=N.x},[]),j=Le(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:y,dragStopped:S,scroll:w}},[S,v,y,w]),D=Le(function(){return{uniqueId:n,descriptor:s,callbacks:j}},[j,s,n]);Yt(function(){return l.current=D.descriptor,a.droppable.register(D),function(){t.current&&S(),a.droppable.unregister(D)}},[j,s,S,D,o,a.droppable]),Yt(function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Yt(function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function _s(){}var tf={width:0,height:0,margin:VS},xj=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?tf:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Sj=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,o=xj({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?La.placeholder:null}};function kj(e){var t=h.useRef(null),r=ve(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,o=e.onClose,i=e.contextId,s=h.useState(e.animate==="open"),l=s[0],c=s[1];h.useEffect(function(){return l?n!=="open"?(r(),c(!1),_s):t.current?_s:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):_s},[n,l,r]);var u=ve(function(m){m.propertyName==="height"&&(a(),n==="close"&&o())},[n,o,a]),d=Sj({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return L.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})}var Cj=L.memo(kj),Ac=L.createContext(null),Ej=function(e){Pl(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,o){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(L.PureComponent),rf={dragging:5e3,dropAnimating:4500},jj=function(t,r){return r?La.drop(r.duration):t?La.snap:La.fluid},Nj=function(t,r){return t?r?to.opacity.drop:to.opacity.combining:null},Dj=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Ij(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,o=e.dropping,i=!!a,s=Dj(e),l=!!o,c=l?gl.drop(n,i):gl.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:jj(s,o),transform:c,opacity:Nj(i,l),zIndex:l?rf.dropAnimating:rf.dragging,pointerEvents:"none"};return u}function Tj(e){return{transform:gl.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Mj(e){return e.type==="DRAGGING"?Ij(e):Tj(e)}function _j(e,t,r){r===void 0&&(r=lt);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=Ip(a,n),i=di(o,r),s={client:o,tagName:t.tagName.toLowerCase(),display:n.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:e,placeholder:s,displaceBy:l,client:o,page:i};return c}function Oj(e){var t=Pc("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,o=e.canDragInteractiveElements,i=e.shouldRespectForcePress,s=e.isEnabled,l=Le(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:s}},[o,s,i]),c=ve(function(p){var v=a();return v||te(),_j(r,v,p)},[r,a]),u=Le(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:c}},[r,c,l,t]),d=h.useRef(u),m=h.useRef(!0);Yt(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),Yt(function(){if(m.current){m.current=!1;return}var p=d.current;d.current=u,n.draggable.update(u,p)},[u,n.draggable])}function Pj(e){e.preventDefault()}function Rj(e){var t=h.useRef(null),r=ve(function(b){t.current=b},[]),n=ve(function(){return t.current},[]),a=vi(Bi),o=a.contextId,i=a.dragHandleUsageInstructionsId,s=a.registry,l=vi(Ac),c=l.type,u=l.droppableId,d=Le(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:u}},[e.draggableId,e.index,c,u]),m=e.children,p=e.draggableId,v=e.isEnabled,y=e.shouldRespectForcePress,S=e.canDragInteractiveElements,w=e.isClone,j=e.mapped,D=e.dropAnimationFinished;if(!w){var N=Le(function(){return{descriptor:d,registry:s,getDraggableRef:n,canDragInteractiveElements:S,shouldRespectForcePress:y,isEnabled:v}},[d,s,n,S,y,v]);Oj(N)}var I=Le(function(){return v?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:Pj}:null},[o,i,p,v]),M=ve(function(b){j.type==="DRAGGING"&&j.dropping&&b.propertyName==="transform"&&D()},[D,j]),x=Le(function(){var b=Mj(j),k=j.type==="DRAGGING"&&j.dropping?M:null,E={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:b,onTransitionEnd:k},dragHandleProps:I};return E},[o,I,p,j,M,r]),g=Le(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return m(x,j.snapshot,g)}var kh=function(e,t){return e===t},Ch=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Aj=function(t){return t.combine?t.combine.draggableId:null},Lj=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Fj(){var e=st(function(a,o){return{x:a,y:o}}),t=st(function(a,o,i,s,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:a,draggingOver:i,combineWith:s,combineTargetFor:null}}),r=st(function(a,o,i,s,l,c,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:a,dimension:i,forceShouldAnimate:u,snapshot:t(o,s,l,c,null)}}}),n=function(o,i){if(o.isDragging){if(o.critical.draggable.id!==i.draggableId)return null;var s=o.current.client.offset,l=o.dimensions.draggables[i.draggableId],c=Vt(o.impact),u=Lj(o.impact),d=o.forceShouldAnimate;return r(e(s.x,s.y),o.movementMode,l,i.isClone,c,u,d)}if(o.phase==="DROP_ANIMATING"){var m=o.completed;if(m.result.draggableId!==i.draggableId)return null;var p=i.isClone,v=o.dimensions.draggables[i.draggableId],y=m.result,S=y.mode,w=Ch(y),j=Aj(y),D=o.dropDuration,N={duration:D,curve:Nc.drop,moveTo:o.newHomeClientOffset,opacity:j?to.opacity.drop:null,scale:j?to.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:v,dropping:N,draggingOver:w,combineWith:j,mode:S,forceShouldAnimate:null,snapshot:t(S,p,w,j,N)}}}return null};return n}function Eh(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var $j={mapped:{type:"SECONDARY",offset:lt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Eh(null)}};function Bj(){var e=st(function(i,s){return{x:i,y:s}}),t=st(Eh),r=st(function(i,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:t(s)}}}),n=function(s){return s?r(lt,s,!0):null},a=function(s,l,c,u){var d=c.displaced.visible[s],m=!!(u.inVirtualList&&u.effected[s]),p=Ai(c),v=p&&p.draggableId===s?l:null;if(!d){if(!m)return n(v);if(c.displaced.invisible[s])return null;var y=fa(u.displacedBy.point),S=e(y.x,y.y);return r(S,v,!0)}if(m)return n(v);var w=c.displacedBy.point,j=e(w.x,w.y);return r(j,v,d.shouldAnimate)},o=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:a(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var c=s.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var Hj=function(){var t=Fj(),r=Bj(),n=function(o,i){return t(o,i)||r(o,i)||$j};return n},zj={dropAnimationFinished:nh},Wj=Np(Hj,zj,null,{context:Oc,pure:!0,areStatePropsEqual:kh})(Rj);function jh(e){var t=vi(Ac),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:L.createElement(Wj,e)}function Nh(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return L.createElement(jh,ke({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function Vj(e){var t=h.useContext(Bi);t||te();var r=t.contextId,n=t.isMovementAllowed,a=h.useRef(null),o=h.useRef(null),i=e.children,s=e.droppableId,l=e.type,c=e.mode,u=e.direction,d=e.ignoreContainerClipping,m=e.isDropDisabled,p=e.isCombineEnabled,v=e.snapshot,y=e.useClone,S=e.updateViewportMaxScroll,w=e.getContainerForClone,j=ve(function(){return a.current},[]),D=ve(function(E){a.current=E},[]);ve(function(){return o.current},[]);var N=ve(function(E){o.current=E},[]),I=ve(function(){n()&&S({maxScroll:lh()})},[n,S]);wj({droppableId:s,type:l,mode:c,direction:u,isDropDisabled:m,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:j});var M=L.createElement(Ej,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(E){var O=E.onClose,_=E.data,C=E.animate;return L.createElement(Cj,{placeholder:_,onClose:O,innerRef:N,animate:C,contextId:r,onTransitionEnd:I})}),x=Le(function(){return{innerRef:D,placeholder:M,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,M,D]),g=y?y.dragging.draggableId:null,b=Le(function(){return{droppableId:s,type:l,isUsingCloneFor:g}},[s,g,l]);function k(){if(!y)return null;var E=y.dragging,O=y.render,_=L.createElement(jh,{draggableId:E.draggableId,index:E.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(C,T){return O(C,T,E)});return Of.createPortal(_,w())}return L.createElement(Ac.Provider,{value:b},i(x,v),k())}var Os=function(t,r){return t===r.droppable.type},nf=function(t,r){return r.draggables[t.draggable.id]},Yj=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ke({},t,{shouldAnimatePlaceholder:!1}),n=st(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),a=st(function(i,s,l,c,u,d){var m=u.descriptor.id,p=u.descriptor.droppableId===i;if(p){var v=d?{render:d,dragging:n(u.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:v}}if(!s)return r;if(!c)return t;var S={isDraggingOver:l,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:S,useClone:null}}),o=function(s,l){var c=l.droppableId,u=l.type,d=!l.isDropDisabled,m=l.renderClone;if(s.isDragging){var p=s.critical;if(!Os(u,p))return r;var v=nf(p,s.dimensions),y=Vt(s.impact)===c;return a(c,d,y,y,v,m)}if(s.phase==="DROP_ANIMATING"){var S=s.completed;if(!Os(u,S.critical))return r;var w=nf(S.critical,s.dimensions);return a(c,d,Ch(S.result)===c,Vt(S.impact)===c,w,m)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var j=s.completed;if(!Os(u,j.critical))return r;var D=Vt(j.impact)===c,N=!!(j.impact.at&&j.impact.at.type==="COMBINE"),I=j.critical.droppable.id===c;return D?N?t:r:I?t:r}return r};return o},Uj={updateViewportMaxScroll:rC};function Gj(){return document.body||te(),document.body}var qj={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Gj},Dh=Np(Yj,Uj,null,{context:Oc,pure:!0,areStatePropsEqual:kh})(Vj);Dh.defaultProps=qj;const Xj=({customField:e,index:t,onDelete:r,expandToEdit:n,length:a})=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Custom Field"})]})}),a>1&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:o=>{o.stopPropagation(),r(t)},children:"×"})})]})}),Zj=h.memo(Xj),Se={STRING:"string",NUMBER:"number",DATE:"date",DATETIME:"datetime",TIME:"time",PHONE_NUMBER:"phone",EMAIL:"email",CUSTOM:"custom"},Kj=["GET","POST","PUT"],Qj=["text","number","date","param","header"],Ih=[{value:Se.STRING,label:"Any Text"},{value:Se.NUMBER,label:"Number"},{value:Se.DATE,label:"Date"},{value:Se.DATETIME,label:"Date & time"},{value:Se.TIME,label:"Time only"},{value:Se.PHONE_NUMBER,label:"Phone number"},{value:Se.EMAIL,label:"Email Address"},{value:Se.CUSTOM,label:"Custom value"}],Th=["YYYY-MM-DD","DD-MM-YYYY","MM-DD-YYYY","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],Jj={jpg:"image/*",jpeg:"image/*",png:"image/*",gif:"image/*",mp4:"video/*",avi:"video/*",mov:"video/*",wmv:"video/*",mp3:"audio/*",wav:"audio/*",pdf:"application/pdf"},yi=[{id:ft(),type:"start",data:{message:"Chat Window Opened"},position:{x:10,y:10}}],eN=ft(),tN=ft();function ft(e=12){const t="abcdefghijklmnopqrstuvwxyz0123456789";let r="";const n=t.length,a=Date.now().toString(36);for(let o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*n));return a+r}const af=e=>{if(e&&e.flows.length>0){let t=rN(e);const r=lN(e);return t=[...yi,...t],{flowNodes:t,flowEdges:r}}return{flowNodes:[...yi],flowEdges:[]}},rN=e=>e.flows.map((r,n)=>({id:r.flowId,type:r.type,data:nN(r),position:sN(r,n,e)})),nN=e=>{var n,a,o,i,s,l,c,u,d,m,p,v,y,S,w,j,D,N,I,M,x,g,b,k;const t={};switch(["message","leadForm","gpt","leadFlow","stop","file","map","question","callConnect","otp","customForm","options"].includes(e.type)&&(t.message=typeof e.content=="string"?e.content:e.content[0]),e.type){case"options":t.fieldLabel=e.fieldLabel,t.fallback=e.fallback?e.fallback:(n=e.meta)==null?void 0:n.fallback,t.dataSource=e.dataSource?e.dataSource:(a=e.meta)==null?void 0:a.dataSource,t.property=e.property,t.subOptions=iN(e.children);break;case"file":t.fileType=(o=e.meta)==null?void 0:o.type,(i=e.meta)!=null&&i.media&&(aN(e.meta.media,e)||!e.meta.media[0].name)?(t.urls=e.meta.media.map(O=>O.url),t.files=[]):(t.urls=[],t.files=(s=e.meta)!=null&&s.media?e.meta.media:[],t.fileType||(t.fileType=(l=e.meta)!=null&&l.media?dN(e.meta.media):""));break;case"map":t.url=(u=(c=e.meta)==null?void 0:c.url)==null?void 0:u.trim();break;case"question":t.fieldLabel=e.fieldLabel,t.property=e.property,t.dateFormat=((d=e.meta)==null?void 0:d.dateFormat)||"",t.errorMessage=((m=e.meta)==null?void 0:m.errorMessage)||"";const E=e.fieldType?e.fieldType:(p=e.meta)==null?void 0:p.type;t.fieldType=E,(E&&E===Se.DATE||E===Se.DATETIME)&&(t.min=(v=e.meta)!=null&&v.min?sf(e,"min"):t.min,t.max=(y=e.meta)!=null&&y.max?sf(e,"max"):t.max),E&&E===Se.TIME?(t.min=(S=e.meta)!=null&&S.min?lf((w=e.meta)==null?void 0:w.min):(j=e.meta)==null?void 0:j.min,t.max=(D=e.meta)!=null&&D.min?lf((N=e.meta)==null?void 0:N.max):(I=e.meta)==null?void 0:I.max):(E&&E===Se.STRING||E===Se.NUMBER)&&(t.min=e.min?e.min:(M=e.meta)==null?void 0:M.min,t.max=e.min?e.min:(x=e.meta)==null?void 0:x.max),E===Se.CUSTOM&&(t.custom=e.custom?e.custom:(g=e.meta)==null?void 0:g.custom);break;case"http":if(t.property=e.property||"",e.meta){t.displayText=e.meta.displayText||"",t.requestType=e.meta.requestType||"",t.hideData=e.meta.hideData||!1,t.url=((b=e.meta.url)==null?void 0:b.trim())||"",t.params=e.meta.params||[],t.headers=e.meta.headers||[],t.successFlowId=e.meta.successFlowId?e.meta.successFlowId:ft(),t.failureFlowId=e.meta.failureFlowId?e.meta.failureFlowId:ft();const O=(k=e.meta.statusWiseFlowId)==null?void 0:k.map(_=>({statusCode:_.statusCode||"",id:_.flowId||""}));t.statusWiseFlow=O||[]}break;case"callConnect":e.meta&&(t.callConnectId=e.meta.callConnectId,t.callAccepted=e.meta.callAccepted,t.callRejected=e.meta.callRejected,t.successMessage=e.meta.successMessage,t.failureMessage=e.meta.failureMessage);break;case"otp":e.meta&&(t.otpType=e.meta.otpType);break;case"customForm":t.property=e.property,e.meta&&(t.customFields=oN(e.meta.customFields));break}return t},aN=(e,t)=>e!=null&&e.files?(t.meta.media=e.files,!0):!1,oN=(e=[])=>e.map(t=>({id:t.id,title:t.title,property:t.property,whatsAppQuestion:t.whatsAppQuestion,fieldType:t.fieldType,dateFormat:t==null?void 0:t.dateFormat,min:t==null?void 0:t.min,max:t==null?void 0:t.max,custom:t==null?void 0:t.custom,isCollapsed:!1})),iN=(e=[])=>e.map(t=>({id:t.flowId?t.flowId:t.id,title:t.title,subTitle:t.subTitle,value:t.value,imageUrl:t.imageUrl,category:t.category,isLink:t.isLink,description:t.description,leadEmailTo:t.leadEmailTo?t.leadEmailTo:"",leadEmailCc:t.leadEmailCc?[...t.leadEmailCc]:[],isCollapsed:!1})),sN=(e,t,r)=>{var a;let n={x:t+150,y:t+50};return e.flowId&&r.positions&&(n=((a=r.positions.find(o=>o.nodeId===e.flowId))==null?void 0:a.position)||n),n},lN=e=>{let t={};e!=null&&e.startFlowId&&(t={id:yi[0].id,source:yi[0].id,target:e==null?void 0:e.startFlowId,type:"custom"});const r=e.flows;let n=r.filter(a=>a.nextFlowId).map(a=>({id:`e-${a.flowId}-${a.nextFlowId}`,source:a.flowId,target:a.nextFlowId,type:"custom"}));return r.forEach(a=>{var o;if(a.children&&a.children.length>0&&a.children.forEach(i=>{i.nextFlowId&&n.push({id:`e-${i.flowId?i.flowId:i.id}-${i.nextFlowId}`,source:a.flowId,target:i.nextFlowId,type:"custom",sourceHandle:i.flowId?i.flowId:i.id})}),a.type==="http"&&a.meta){const i=a.meta;i.successFlowId&&n.push({id:`e-${eN}-${i.successFlowId}`,source:a.flowId,target:i.successFlowId,type:"custom",sourceHandle:i.successFlowId}),i.failureFlowId&&n.push({id:`e-${tN}-${i.failureFlowId}`,source:a.flowId,target:i.failureFlowId,type:"custom",sourceHandle:i.failureFlowId}),(o=i.statusWiseFlowId)==null||o.forEach(s=>{s.nextFlowId&&n.push({id:`e-${s.flowId?s.flowId:""}-${s.nextFlowId}`,source:a.flowId,target:s.nextFlowId,type:"custom",sourceHandle:s.flowId})})}}),r.forEach(a=>{a.children&&a.children.length>0&&a.children.forEach(o=>{o.nextFlowId&&n.push({id:`e-${o.flowId?o.flowId:o.id}-${o.nextFlowId}`,source:a.flowId,target:o.nextFlowId,type:"custom",sourceHandle:o.flowId?o.flowId:o.id})})}),n=Object.keys(t).length>0?[t,...n]:[...n],n},cN=(e,t)=>{const r=e.dataTransfer.getData("application/reactflow");return{id:ft(),type:r,position:t,data:{message:""},...r==="options"&&{data:{fieldLabel:"",property:"",message:"",fallback:"",subOptions:[{id:ft(),title:"",subTitle:"",value:"",leadEmailTo:"",leadEmailCc:[],category:"",description:"",isCollapsed:!0,isLink:!1}]}},...r==="file"&&{data:{message:"",fileType:"pdf",urls:[],files:[]}},...r==="map"&&{data:{message:"",url:""}},...r==="leadForm"&&{data:{message:"This will display lead form for the visitor"}},...r==="gpt"&&{data:{message:"From here on visitors would be handled by GPT"}},...r==="question"&&{data:{message:"",fieldLabel:"",property:"",type:"",meta:{min:"",max:"",regex:"",errorMessage:""}}},...r==="http"&&{data:{propertyName:"",displayText:"",url:"",requestType:"",hideData:!1,params:[],headers:[],successFlowId:ft(),failureFlowId:ft(),statusWiseFlow:[]}},...r==="callConnect"&&{data:{message:"",meta:{callConnectId:"",callAccepted:"",callRejected:"",successMessage:"",failureMessage:""},callAcceptedId:ft(),callRejectedId:ft()}},...r==="otp"&&{data:{message:"",meta:{otpType:""}}},...r==="customForm"&&{data:{property:"",message:"",customFields:[{id:ft(),title:"",property:"",fieldType:"",isCollapsed:!0}]}}}},uN=e=>Jj[e.toLowerCase()]||"",dN=e=>{const t=new Set;for(const r of e){const n=r.name.split(".").pop();if(n){const a=uN(n);a&&t.add(a)}}return Array.from(t).join(", ")},fN={pdf:"application/pdf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",mp4:"video/mp4",mov:"video/mp4",avi:"video/mp4"},mN=e=>e==="application/pdf"||e==="pdf"?"pdf":e.startsWith("image/")?"image":e.startsWith("video/")?"video":"unknown",of=e=>{const t=hN(e);return fN[t]||""},pN=e=>(new URL(e).pathname.split("/").pop()||"").split("?")[0],hN=e=>{const t=pN(e),r=t.lastIndexOf(".");return r>-1?t.substring(r+1).toLowerCase():""},sf=(e,t)=>{var o;let r=new Date;const n=t==="min"?"min":"max",a=e[n]||((o=e.meta)==null?void 0:o[n]);if(a){const[i,s]=a.split("T");r=new Date(i);const[l,c,u]=s.split(":");r.setHours(l||0),r.setMinutes(c||0),r.setSeconds(u.split(".")[0]||0)}return r||""},lf=e=>{const t=new Date,r=/^([01]\d|2[0-3]):([0-5]\d)$/.test(e);let n;if(r){const[a,o]=e.split(":").map(Number);n=new Date(t),n.setHours(a,o,0,0)}else n=new Date(t),n.setHours(23,59,59,999);return n},Fo=(e,t,r)=>{const n=d=>d<10?"0"+d:d;t&&e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),r&&(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(99));const a=e.getFullYear(),o=n(e.getMonth()+1),i=n(e.getDate()),s=n(e.getHours()),l=n(e.getMinutes()),c=n(e.getSeconds()),u=(e.getMilliseconds()/1e3).toFixed(3).slice(2,5);return`${a}-${o}-${i}T${s}:${l}:${c}.${u}Z`},cf=e=>{if(e){const t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`}return""},Lc=(e,t,r)=>{const n=[e],a=new Set,o=[];for(;n.length>0;){const i=n.pop();if(a.has(i))continue;a.add(i);const l=t.filter(u=>u.target===i).map(u=>u.source),c=r.filter(u=>l.includes(u.id));o.push(...c),n.push(...l)}return o},Fc=(e,t)=>e.filter(o=>t?o.type===t:["options","question","http"].includes(o.type)).map(o=>o.data.property).filter(o=>!o||o.trim()===""?!1:/^[a-zA-Z0-9-_]+$/.test(o.trim()));//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Mh;function ne(){return Mh.apply(null,arguments)}function gN(e){Mh=e}function mr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Nn(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $c(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if($e(e,t))return!1;return!0}function Mt(e){return e===void 0}function Ur(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function go(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function _h(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function rn(e,t){for(var r in t)$e(t,r)&&(e[r]=t[r]);return $e(t,"toString")&&(e.toString=t.toString),$e(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Er(e,t,r,n){return tg(e,t,r,n,!0).utc()}function vN(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function De(e){return e._pf==null&&(e._pf=vN()),e._pf}var wl;Array.prototype.some?wl=Array.prototype.some:wl=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Bc(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=De(e),r=wl.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function zi(e){var t=Er(NaN);return e!=null?rn(De(t),e):De(t).userInvalidated=!0,t}var uf=ne.momentProperties=[],Ps=!1;function Hc(e,t){var r,n,a,o=uf.length;if(Mt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Mt(t._i)||(e._i=t._i),Mt(t._f)||(e._f=t._f),Mt(t._l)||(e._l=t._l),Mt(t._strict)||(e._strict=t._strict),Mt(t._tzm)||(e._tzm=t._tzm),Mt(t._isUTC)||(e._isUTC=t._isUTC),Mt(t._offset)||(e._offset=t._offset),Mt(t._pf)||(e._pf=De(t)),Mt(t._locale)||(e._locale=t._locale),o>0)for(r=0;r<o;r++)n=uf[r],a=t[n],Mt(a)||(e[n]=a);return e}function vo(e){Hc(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ps===!1&&(Ps=!0,ne.updateOffset(this),Ps=!1)}function pr(e){return e instanceof vo||e!=null&&e._isAMomentObject!=null}function Oh(e){ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ar(e,t){var r=!0;return rn(function(){if(ne.deprecationHandler!=null&&ne.deprecationHandler(null,e),r){var n=[],a,o,i,s=arguments.length;for(o=0;o<s;o++){if(a="",typeof arguments[o]=="object"){a+=`
[`+o+"] ";for(i in arguments[0])$e(arguments[0],i)&&(a+=i+": "+arguments[0][i]+", ");a=a.slice(0,-2)}else a=arguments[o];n.push(a)}Oh(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var df={};function Ph(e,t){ne.deprecationHandler!=null&&ne.deprecationHandler(e,t),df[e]||(Oh(t),df[e]=!0)}ne.suppressDeprecationWarnings=!1;ne.deprecationHandler=null;function jr(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function yN(e){var t,r;for(r in e)$e(e,r)&&(t=e[r],jr(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function xl(e,t){var r=rn({},e),n;for(n in t)$e(t,n)&&(Nn(e[n])&&Nn(t[n])?(r[n]={},rn(r[n],e[n]),rn(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)$e(e,n)&&!$e(t,n)&&Nn(e[n])&&(r[n]=rn({},r[n]));return r}function zc(e){e!=null&&this.set(e)}var Sl;Object.keys?Sl=Object.keys:Sl=function(e){var t,r=[];for(t in e)$e(e,t)&&r.push(t);return r};var bN={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wN(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return jr(n)?n.call(t,r):n}function kr(e,t,r){var n=""+Math.abs(e),a=t-n.length,o=e>=0;return(o?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var Wc=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$o=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rs={},Jn={};function be(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(Jn[e]=a),t&&(Jn[t[0]]=function(){return kr(a.apply(this,arguments),t[1],t[2])}),r&&(Jn[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function xN(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function SN(e){var t=e.match(Wc),r,n;for(r=0,n=t.length;r<n;r++)Jn[t[r]]?t[r]=Jn[t[r]]:t[r]=xN(t[r]);return function(a){var o="",i;for(i=0;i<n;i++)o+=jr(t[i])?t[i].call(a,e):t[i];return o}}function qo(e,t){return e.isValid()?(t=Rh(t,e.localeData()),Rs[t]=Rs[t]||SN(t),Rs[t](e)):e.localeData().invalidDate()}function Rh(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for($o.lastIndex=0;r>=0&&$o.test(e);)e=e.replace($o,n),$o.lastIndex=0,r-=1;return e}var kN={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function CN(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(Wc).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var EN="Invalid date";function jN(){return this._invalidDate}var NN="%d",DN=/\d{1,2}/;function IN(e){return this._ordinal.replace("%d",e)}var TN={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function MN(e,t,r,n){var a=this._relativeTime[r];return jr(a)?a(e,t,r,n):a.replace(/%d/i,e)}function _N(e,t){var r=this._relativeTime[e>0?"future":"past"];return jr(r)?r(t):r.replace(/%s/i,t)}var ff={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function or(e){return typeof e=="string"?ff[e]||ff[e.toLowerCase()]:void 0}function Vc(e){var t={},r,n;for(n in e)$e(e,n)&&(r=or(n),r&&(t[r]=e[n]));return t}var ON={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function PN(e){var t=[],r;for(r in e)$e(e,r)&&t.push({unit:r,priority:ON[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var Ah=/\d/,Gt=/\d\d/,Lh=/\d{3}/,Yc=/\d{4}/,Wi=/[+-]?\d{6}/,qe=/\d\d?/,Fh=/\d\d\d\d?/,$h=/\d\d\d\d\d\d?/,Vi=/\d{1,3}/,Uc=/\d{1,4}/,Yi=/[+-]?\d{1,6}/,ha=/\d+/,Ui=/[+-]?\d+/,RN=/Z|[+-]\d\d:?\d\d/gi,Gi=/Z|[+-]\d\d(?::?\d\d)?/gi,AN=/[+-]?\d+(\.\d{1,3})?/,yo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ga=/^[1-9]\d?/,Gc=/^([1-9]\d|\d)/,bi;bi={};function ue(e,t,r){bi[e]=jr(t)?t:function(n,a){return n&&r?r:t}}function LN(e,t){return $e(bi,e)?bi[e](t._strict,t._locale):new RegExp(FN(e))}function FN(e){return zr(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,o){return r||n||a||o}))}function zr(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qt(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Oe(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Qt(t)),r}var kl={};function Ye(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),Ur(t)&&(n=function(o,i){i[t]=Oe(o)}),a=e.length,r=0;r<a;r++)kl[e[r]]=n}function bo(e,t){Ye(e,function(r,n,a,o){a._w=a._w||{},t(r,a._w,a,o)})}function $N(e,t,r){t!=null&&$e(kl,e)&&kl[e](t,r._a,r,e)}function qi(e){return e%4===0&&e%100!==0||e%400===0}var vt=0,Br=1,wr=2,ot=3,dr=4,Hr=5,En=6,BN=7,HN=8;be("Y",0,0,function(){var e=this.year();return e<=9999?kr(e,4):"+"+e});be(0,["YY",2],0,function(){return this.year()%100});be(0,["YYYY",4],0,"year");be(0,["YYYYY",5],0,"year");be(0,["YYYYYY",6,!0],0,"year");ue("Y",Ui);ue("YY",qe,Gt);ue("YYYY",Uc,Yc);ue("YYYYY",Yi,Wi);ue("YYYYYY",Yi,Wi);Ye(["YYYYY","YYYYYY"],vt);Ye("YYYY",function(e,t){t[vt]=e.length===2?ne.parseTwoDigitYear(e):Oe(e)});Ye("YY",function(e,t){t[vt]=ne.parseTwoDigitYear(e)});Ye("Y",function(e,t){t[vt]=parseInt(e,10)});function Fa(e){return qi(e)?366:365}ne.parseTwoDigitYear=function(e){return Oe(e)+(Oe(e)>68?1900:2e3)};var Bh=va("FullYear",!0);function zN(){return qi(this.year())}function va(e,t){return function(r){return r!=null?(Hh(this,e,r),ne.updateOffset(this,t),this):ro(this,e)}}function ro(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function Hh(e,t,r){var n,a,o,i,s;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}o=r,i=e.month(),s=e.date(),s=s===29&&i===1&&!qi(o)?28:s,a?n.setUTCFullYear(o,i,s):n.setFullYear(o,i,s)}}function WN(e){return e=or(e),jr(this[e])?this[e]():this}function VN(e,t){if(typeof e=="object"){e=Vc(e);var r=PN(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=or(e),jr(this[e]))return this[e](t);return this}function YN(e,t){return(e%t+t)%t}var rt;Array.prototype.indexOf?rt=Array.prototype.indexOf:rt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function qc(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=YN(t,12);return e+=(t-r)/12,r===1?qi(e)?29:28:31-r%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1});be("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});be("MMMM",0,0,function(e){return this.localeData().months(this,e)});ue("M",qe,ga);ue("MM",qe,Gt);ue("MMM",function(e,t){return t.monthsShortRegex(e)});ue("MMMM",function(e,t){return t.monthsRegex(e)});Ye(["M","MM"],function(e,t){t[Br]=Oe(e)-1});Ye(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[Br]=a:De(r).invalidMonth=e});var UN="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),zh="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wh=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,GN=yo,qN=yo;function XN(e,t){return e?mr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Wh).test(t)?"format":"standalone"][e.month()]:mr(this._months)?this._months:this._months.standalone}function ZN(e,t){return e?mr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Wh.test(t)?"format":"standalone"][e.month()]:mr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function KN(e,t,r){var n,a,o,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=Er([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return r?t==="MMM"?(a=rt.call(this._shortMonthsParse,i),a!==-1?a:null):(a=rt.call(this._longMonthsParse,i),a!==-1?a:null):t==="MMM"?(a=rt.call(this._shortMonthsParse,i),a!==-1?a:(a=rt.call(this._longMonthsParse,i),a!==-1?a:null)):(a=rt.call(this._longMonthsParse,i),a!==-1?a:(a=rt.call(this._shortMonthsParse,i),a!==-1?a:null))}function QN(e,t,r){var n,a,o;if(this._monthsParseExact)return KN.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Er([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function Vh(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Oe(t);else if(t=e.localeData().monthsParse(t),!Ur(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,qc(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function Yh(e){return e!=null?(Vh(this,e),ne.updateOffset(this,!0),this):ro(this,"Month")}function JN(){return qc(this.year(),this.month())}function eD(e){return this._monthsParseExact?($e(this,"_monthsRegex")||Uh.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):($e(this,"_monthsShortRegex")||(this._monthsShortRegex=GN),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function tD(e){return this._monthsParseExact?($e(this,"_monthsRegex")||Uh.call(this),e?this._monthsStrictRegex:this._monthsRegex):($e(this,"_monthsRegex")||(this._monthsRegex=qN),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Uh(){function e(l,c){return c.length-l.length}var t=[],r=[],n=[],a,o,i,s;for(a=0;a<12;a++)o=Er([2e3,a]),i=zr(this.monthsShort(o,"")),s=zr(this.months(o,"")),t.push(i),r.push(s),n.push(s),n.push(i);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function rD(e,t,r,n,a,o,i){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,a,o,i),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,a,o,i),s}function no(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wi(e,t,r){var n=7+t-r,a=(7+no(e,0,n).getUTCDay()-t)%7;return-a+n-1}function Gh(e,t,r,n,a){var o=(7+r-n)%7,i=wi(e,n,a),s=1+7*(t-1)+o+i,l,c;return s<=0?(l=e-1,c=Fa(l)+s):s>Fa(e)?(l=e+1,c=s-Fa(e)):(l=e,c=s),{year:l,dayOfYear:c}}function ao(e,t,r){var n=wi(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,o,i;return a<1?(i=e.year()-1,o=a+Wr(i,t,r)):a>Wr(e.year(),t,r)?(o=a-Wr(e.year(),t,r),i=e.year()+1):(i=e.year(),o=a),{week:o,year:i}}function Wr(e,t,r){var n=wi(e,t,r),a=wi(e+1,t,r);return(Fa(e)-n+a)/7}be("w",["ww",2],"wo","week");be("W",["WW",2],"Wo","isoWeek");ue("w",qe,ga);ue("ww",qe,Gt);ue("W",qe,ga);ue("WW",qe,Gt);bo(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Oe(e)});function nD(e){return ao(e,this._week.dow,this._week.doy).week}var aD={dow:0,doy:6};function oD(){return this._week.dow}function iD(){return this._week.doy}function sD(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function lD(e){var t=ao(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}be("d",0,"do","day");be("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});be("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});be("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});be("e",0,0,"weekday");be("E",0,0,"isoWeekday");ue("d",qe);ue("e",qe);ue("E",qe);ue("dd",function(e,t){return t.weekdaysMinRegex(e)});ue("ddd",function(e,t){return t.weekdaysShortRegex(e)});ue("dddd",function(e,t){return t.weekdaysRegex(e)});bo(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:De(r).invalidWeekday=e});bo(["d","e","E"],function(e,t,r,n){t[n]=Oe(e)});function cD(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function uD(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Xc(e,t){return e.slice(t,7).concat(e.slice(0,t))}var dD="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qh="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),fD="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mD=yo,pD=yo,hD=yo;function gD(e,t){var r=mr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Xc(r,this._week.dow):e?r[e.day()]:r}function vD(e){return e===!0?Xc(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function yD(e){return e===!0?Xc(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function bD(e,t,r){var n,a,o,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=Er([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return r?t==="dddd"?(a=rt.call(this._weekdaysParse,i),a!==-1?a:null):t==="ddd"?(a=rt.call(this._shortWeekdaysParse,i),a!==-1?a:null):(a=rt.call(this._minWeekdaysParse,i),a!==-1?a:null):t==="dddd"?(a=rt.call(this._weekdaysParse,i),a!==-1||(a=rt.call(this._shortWeekdaysParse,i),a!==-1)?a:(a=rt.call(this._minWeekdaysParse,i),a!==-1?a:null)):t==="ddd"?(a=rt.call(this._shortWeekdaysParse,i),a!==-1||(a=rt.call(this._weekdaysParse,i),a!==-1)?a:(a=rt.call(this._minWeekdaysParse,i),a!==-1?a:null)):(a=rt.call(this._minWeekdaysParse,i),a!==-1||(a=rt.call(this._weekdaysParse,i),a!==-1)?a:(a=rt.call(this._shortWeekdaysParse,i),a!==-1?a:null))}function wD(e,t,r){var n,a,o;if(this._weekdaysParseExact)return bD.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Er([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function xD(e){if(!this.isValid())return e!=null?this:NaN;var t=ro(this,"Day");return e!=null?(e=cD(e,this.localeData()),this.add(e-t,"d")):t}function SD(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function kD(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=uD(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function CD(e){return this._weekdaysParseExact?($e(this,"_weekdaysRegex")||Zc.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):($e(this,"_weekdaysRegex")||(this._weekdaysRegex=mD),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ED(e){return this._weekdaysParseExact?($e(this,"_weekdaysRegex")||Zc.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):($e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=pD),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function jD(e){return this._weekdaysParseExact?($e(this,"_weekdaysRegex")||Zc.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):($e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hD),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zc(){function e(u,d){return d.length-u.length}var t=[],r=[],n=[],a=[],o,i,s,l,c;for(o=0;o<7;o++)i=Er([2e3,1]).day(o),s=zr(this.weekdaysMin(i,"")),l=zr(this.weekdaysShort(i,"")),c=zr(this.weekdays(i,"")),t.push(s),r.push(l),n.push(c),a.push(s),a.push(l),a.push(c);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Kc(){return this.hours()%12||12}function ND(){return this.hours()||24}be("H",["HH",2],0,"hour");be("h",["hh",2],0,Kc);be("k",["kk",2],0,ND);be("hmm",0,0,function(){return""+Kc.apply(this)+kr(this.minutes(),2)});be("hmmss",0,0,function(){return""+Kc.apply(this)+kr(this.minutes(),2)+kr(this.seconds(),2)});be("Hmm",0,0,function(){return""+this.hours()+kr(this.minutes(),2)});be("Hmmss",0,0,function(){return""+this.hours()+kr(this.minutes(),2)+kr(this.seconds(),2)});function Xh(e,t){be(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Xh("a",!0);Xh("A",!1);function Zh(e,t){return t._meridiemParse}ue("a",Zh);ue("A",Zh);ue("H",qe,Gc);ue("h",qe,ga);ue("k",qe,ga);ue("HH",qe,Gt);ue("hh",qe,Gt);ue("kk",qe,Gt);ue("hmm",Fh);ue("hmmss",$h);ue("Hmm",Fh);ue("Hmmss",$h);Ye(["H","HH"],ot);Ye(["k","kk"],function(e,t,r){var n=Oe(e);t[ot]=n===24?0:n});Ye(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});Ye(["h","hh"],function(e,t,r){t[ot]=Oe(e),De(r).bigHour=!0});Ye("hmm",function(e,t,r){var n=e.length-2;t[ot]=Oe(e.substr(0,n)),t[dr]=Oe(e.substr(n)),De(r).bigHour=!0});Ye("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[ot]=Oe(e.substr(0,n)),t[dr]=Oe(e.substr(n,2)),t[Hr]=Oe(e.substr(a)),De(r).bigHour=!0});Ye("Hmm",function(e,t,r){var n=e.length-2;t[ot]=Oe(e.substr(0,n)),t[dr]=Oe(e.substr(n))});Ye("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[ot]=Oe(e.substr(0,n)),t[dr]=Oe(e.substr(n,2)),t[Hr]=Oe(e.substr(a))});function DD(e){return(e+"").toLowerCase().charAt(0)==="p"}var ID=/[ap]\.?m?\.?/i,TD=va("Hours",!0);function MD(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var Kh={calendar:bN,longDateFormat:kN,invalidDate:EN,ordinal:NN,dayOfMonthOrdinalParse:DN,relativeTime:TN,months:UN,monthsShort:zh,week:aD,weekdays:dD,weekdaysMin:fD,weekdaysShort:qh,meridiemParse:ID},Xe={},Da={},oo;function _D(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function mf(e){return e&&e.toLowerCase().replace("_","-")}function OD(e){for(var t=0,r,n,a,o;t<e.length;){for(o=mf(e[t]).split("-"),r=o.length,n=mf(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=Xi(o.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&_D(o,n)>=r-1)break;r--}t++}return oo}function PD(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Xi(e){var t=null,r;if(Xe[e]===void 0&&typeof module<"u"&&module&&module.exports&&PD(e))try{t=oo._abbr,r=require,r("./locale/"+e),dn(t)}catch{Xe[e]=null}return Xe[e]}function dn(e,t){var r;return e&&(Mt(t)?r=Gr(e):r=Qc(e,t),r?oo=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),oo._abbr}function Qc(e,t){if(t!==null){var r,n=Kh;if(t.abbr=e,Xe[e]!=null)Ph("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Xe[e]._config;else if(t.parentLocale!=null)if(Xe[t.parentLocale]!=null)n=Xe[t.parentLocale]._config;else if(r=Xi(t.parentLocale),r!=null)n=r._config;else return Da[t.parentLocale]||(Da[t.parentLocale]=[]),Da[t.parentLocale].push({name:e,config:t}),null;return Xe[e]=new zc(xl(n,t)),Da[e]&&Da[e].forEach(function(a){Qc(a.name,a.config)}),dn(e),Xe[e]}else return delete Xe[e],null}function RD(e,t){if(t!=null){var r,n,a=Kh;Xe[e]!=null&&Xe[e].parentLocale!=null?Xe[e].set(xl(Xe[e]._config,t)):(n=Xi(e),n!=null&&(a=n._config),t=xl(a,t),n==null&&(t.abbr=e),r=new zc(t),r.parentLocale=Xe[e],Xe[e]=r),dn(e)}else Xe[e]!=null&&(Xe[e].parentLocale!=null?(Xe[e]=Xe[e].parentLocale,e===dn()&&dn(e)):Xe[e]!=null&&delete Xe[e]);return Xe[e]}function Gr(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return oo;if(!mr(e)){if(t=Xi(e),t)return t;e=[e]}return OD(e)}function AD(){return Sl(Xe)}function Jc(e){var t,r=e._a;return r&&De(e).overflow===-2&&(t=r[Br]<0||r[Br]>11?Br:r[wr]<1||r[wr]>qc(r[vt],r[Br])?wr:r[ot]<0||r[ot]>24||r[ot]===24&&(r[dr]!==0||r[Hr]!==0||r[En]!==0)?ot:r[dr]<0||r[dr]>59?dr:r[Hr]<0||r[Hr]>59?Hr:r[En]<0||r[En]>999?En:-1,De(e)._overflowDayOfYear&&(t<vt||t>wr)&&(t=wr),De(e)._overflowWeeks&&t===-1&&(t=BN),De(e)._overflowWeekday&&t===-1&&(t=HN),De(e).overflow=t),e}var LD=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,FD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$D=/Z|[+-]\d\d(?::?\d\d)?/,Bo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],As=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],BD=/^\/?Date\((-?\d+)/i,HD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,zD={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Qh(e){var t,r,n=e._i,a=LD.exec(n)||FD.exec(n),o,i,s,l,c=Bo.length,u=As.length;if(a){for(De(e).iso=!0,t=0,r=c;t<r;t++)if(Bo[t][1].exec(a[1])){i=Bo[t][0],o=Bo[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(a[3]){for(t=0,r=u;t<r;t++)if(As[t][1].exec(a[3])){s=(a[2]||" ")+As[t][0];break}if(s==null){e._isValid=!1;return}}if(!o&&s!=null){e._isValid=!1;return}if(a[4])if($D.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=i+(s||"")+(l||""),tu(e)}else e._isValid=!1}function WD(e,t,r,n,a,o){var i=[VD(e),zh.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return o&&i.push(parseInt(o,10)),i}function VD(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function YD(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function UD(e,t,r){if(e){var n=qh.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return De(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function GD(e,t,r){if(e)return zD[e];if(t)return 0;var n=parseInt(r,10),a=n%100,o=(n-a)/100;return o*60+a}function Jh(e){var t=HD.exec(YD(e._i)),r;if(t){if(r=WD(t[4],t[3],t[2],t[5],t[6],t[7]),!UD(t[1],r,e))return;e._a=r,e._tzm=GD(t[8],t[9],t[10]),e._d=no.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),De(e).rfc2822=!0}else e._isValid=!1}function qD(e){var t=BD.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Qh(e),e._isValid===!1)delete e._isValid;else return;if(Jh(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ne.createFromInputFallback(e)}ne.createFromInputFallback=ar("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Yn(e,t,r){return e??t??r}function XD(e){var t=new Date(ne.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function eu(e){var t,r,n=[],a,o,i;if(!e._d){for(a=XD(e),e._w&&e._a[wr]==null&&e._a[Br]==null&&ZD(e),e._dayOfYear!=null&&(i=Yn(e._a[vt],a[vt]),(e._dayOfYear>Fa(i)||e._dayOfYear===0)&&(De(e)._overflowDayOfYear=!0),r=no(i,0,e._dayOfYear),e._a[Br]=r.getUTCMonth(),e._a[wr]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ot]===24&&e._a[dr]===0&&e._a[Hr]===0&&e._a[En]===0&&(e._nextDay=!0,e._a[ot]=0),e._d=(e._useUTC?no:rD).apply(null,n),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ot]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(De(e).weekdayMismatch=!0)}}function ZD(e){var t,r,n,a,o,i,s,l,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,i=4,r=Yn(t.GG,e._a[vt],ao(Ge(),1,4).year),n=Yn(t.W,1),a=Yn(t.E,1),(a<1||a>7)&&(l=!0)):(o=e._locale._week.dow,i=e._locale._week.doy,c=ao(Ge(),o,i),r=Yn(t.gg,e._a[vt],c.year),n=Yn(t.w,c.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o),n<1||n>Wr(r,o,i)?De(e)._overflowWeeks=!0:l!=null?De(e)._overflowWeekday=!0:(s=Gh(r,n,a,o,i),e._a[vt]=s.year,e._dayOfYear=s.dayOfYear)}ne.ISO_8601=function(){};ne.RFC_2822=function(){};function tu(e){if(e._f===ne.ISO_8601){Qh(e);return}if(e._f===ne.RFC_2822){Jh(e);return}e._a=[],De(e).empty=!0;var t=""+e._i,r,n,a,o,i,s=t.length,l=0,c,u;for(a=Rh(e._f,e._locale).match(Wc)||[],u=a.length,r=0;r<u;r++)o=a[r],n=(t.match(LN(o,e))||[])[0],n&&(i=t.substr(0,t.indexOf(n)),i.length>0&&De(e).unusedInput.push(i),t=t.slice(t.indexOf(n)+n.length),l+=n.length),Jn[o]?(n?De(e).empty=!1:De(e).unusedTokens.push(o),$N(o,n,e)):e._strict&&!n&&De(e).unusedTokens.push(o);De(e).charsLeftOver=s-l,t.length>0&&De(e).unusedInput.push(t),e._a[ot]<=12&&De(e).bigHour===!0&&e._a[ot]>0&&(De(e).bigHour=void 0),De(e).parsedDateParts=e._a.slice(0),De(e).meridiem=e._meridiem,e._a[ot]=KD(e._locale,e._a[ot],e._meridiem),c=De(e).era,c!==null&&(e._a[vt]=e._locale.erasConvertYear(c,e._a[vt])),eu(e),Jc(e)}function KD(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function QD(e){var t,r,n,a,o,i,s=!1,l=e._f.length;if(l===0){De(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)o=0,i=!1,t=Hc({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],tu(t),Bc(t)&&(i=!0),o+=De(t).charsLeftOver,o+=De(t).unusedTokens.length*10,De(t).score=o,s?o<n&&(n=o,r=t):(n==null||o<n||i)&&(n=o,r=t,i&&(s=!0));rn(e,r||t)}function JD(e){if(!e._d){var t=Vc(e._i),r=t.day===void 0?t.date:t.day;e._a=_h([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),eu(e)}}function eI(e){var t=new vo(Jc(eg(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function eg(e){var t=e._i,r=e._f;return e._locale=e._locale||Gr(e._l),t===null||r===void 0&&t===""?zi({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),pr(t)?new vo(Jc(t)):(go(t)?e._d=t:mr(r)?QD(e):r?tu(e):tI(e),Bc(e)||(e._d=null),e))}function tI(e){var t=e._i;Mt(t)?e._d=new Date(ne.now()):go(t)?e._d=new Date(t.valueOf()):typeof t=="string"?qD(e):mr(t)?(e._a=_h(t.slice(0),function(r){return parseInt(r,10)}),eu(e)):Nn(t)?JD(e):Ur(t)?e._d=new Date(t):ne.createFromInputFallback(e)}function tg(e,t,r,n,a){var o={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Nn(e)&&$c(e)||mr(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=a,o._l=r,o._i=e,o._f=t,o._strict=n,eI(o)}function Ge(e,t,r,n){return tg(e,t,r,n,!1)}var rI=ar("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ge.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:zi()}),nI=ar("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ge.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:zi()});function rg(e,t){var r,n;if(t.length===1&&mr(t[0])&&(t=t[0]),!t.length)return Ge();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function aI(){var e=[].slice.call(arguments,0);return rg("isBefore",e)}function oI(){var e=[].slice.call(arguments,0);return rg("isAfter",e)}var iI=function(){return Date.now?Date.now():+new Date},Ia=["year","quarter","month","week","day","hour","minute","second","millisecond"];function sI(e){var t,r=!1,n,a=Ia.length;for(t in e)if($e(e,t)&&!(rt.call(Ia,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[Ia[n]]){if(r)return!1;parseFloat(e[Ia[n]])!==Oe(e[Ia[n]])&&(r=!0)}return!0}function lI(){return this._isValid}function cI(){return gr(NaN)}function Zi(e){var t=Vc(e),r=t.year||0,n=t.quarter||0,a=t.month||0,o=t.week||t.isoWeek||0,i=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=sI(t),this._milliseconds=+u+c*1e3+l*6e4+s*1e3*60*60,this._days=+i+o*7,this._months=+a+n*3+r*12,this._data={},this._locale=Gr(),this._bubble()}function Xo(e){return e instanceof Zi}function Cl(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function uI(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0,i;for(i=0;i<n;i++)Oe(e[i])!==Oe(t[i])&&o++;return o+a}function ng(e,t){be(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+kr(~~(r/60),2)+t+kr(~~r%60,2)})}ng("Z",":");ng("ZZ","");ue("Z",Gi);ue("ZZ",Gi);Ye(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=ru(Gi,e)});var dI=/([\+\-]|\d\d)/gi;function ru(e,t){var r=(t||"").match(e),n,a,o;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(dI)||["-",0,0],o=+(a[1]*60)+Oe(a[2]),o===0?0:a[0]==="+"?o:-o)}function nu(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(pr(e)||go(e)?e.valueOf():Ge(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),ne.updateOffset(r,!1),r):Ge(e).local()}function El(e){return-Math.round(e._d.getTimezoneOffset())}ne.updateOffset=function(){};function fI(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ru(Gi,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=El(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?ig(this,gr(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:El(this)}function mI(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function pI(e){return this.utcOffset(0,e)}function hI(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(El(this),"m")),this}function gI(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ru(RN,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function vI(e){return this.isValid()?(e=e?Ge(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function yI(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bI(){if(!Mt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Hc(e,this),e=eg(e),e._a?(t=e._isUTC?Er(e._a):Ge(e._a),this._isDSTShifted=this.isValid()&&uI(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wI(){return this.isValid()?!this._isUTC:!1}function xI(){return this.isValid()?this._isUTC:!1}function ag(){return this.isValid()?this._isUTC&&this._offset===0:!1}var SI=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kI=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function gr(e,t){var r=e,n=null,a,o,i;return Xo(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Ur(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=SI.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:Oe(n[wr])*a,h:Oe(n[ot])*a,m:Oe(n[dr])*a,s:Oe(n[Hr])*a,ms:Oe(Cl(n[En]*1e3))*a}):(n=kI.exec(e))?(a=n[1]==="-"?-1:1,r={y:bn(n[2],a),M:bn(n[3],a),w:bn(n[4],a),d:bn(n[5],a),h:bn(n[6],a),m:bn(n[7],a),s:bn(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(i=CI(Ge(r.from),Ge(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),o=new Zi(r),Xo(e)&&$e(e,"_locale")&&(o._locale=e._locale),Xo(e)&&$e(e,"_isValid")&&(o._isValid=e._isValid),o}gr.fn=Zi.prototype;gr.invalid=cI;function bn(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function pf(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function CI(e,t){var r;return e.isValid()&&t.isValid()?(t=nu(t,e),e.isBefore(t)?r=pf(e,t):(r=pf(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function og(e,t){return function(r,n){var a,o;return n!==null&&!isNaN(+n)&&(Ph(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),a=gr(r,n),ig(this,a,e),this}}function ig(e,t,r,n){var a=t._milliseconds,o=Cl(t._days),i=Cl(t._months);e.isValid()&&(n=n??!0,i&&Vh(e,ro(e,"Month")+i*r),o&&Hh(e,"Date",ro(e,"Date")+o*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&ne.updateOffset(e,o||i))}var EI=og(1,"add"),jI=og(-1,"subtract");function sg(e){return typeof e=="string"||e instanceof String}function NI(e){return pr(e)||go(e)||sg(e)||Ur(e)||II(e)||DI(e)||e===null||e===void 0}function DI(e){var t=Nn(e)&&!$c(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,o,i=n.length;for(a=0;a<i;a+=1)o=n[a],r=r||$e(e,o);return t&&r}function II(e){var t=mr(e),r=!1;return t&&(r=e.filter(function(n){return!Ur(n)&&sg(e)}).length===0),t&&r}function TI(e){var t=Nn(e)&&!$c(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,o;for(a=0;a<n.length;a+=1)o=n[a],r=r||$e(e,o);return t&&r}function MI(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function _I(e,t){arguments.length===1&&(arguments[0]?NI(arguments[0])?(e=arguments[0],t=void 0):TI(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Ge(),n=nu(r,this).startOf("day"),a=ne.calendarFormat(this,n)||"sameElse",o=t&&(jr(t[a])?t[a].call(this,r):t[a]);return this.format(o||this.localeData().calendar(a,this,Ge(r)))}function OI(){return new vo(this)}function PI(e,t){var r=pr(e)?e:Ge(e);return this.isValid()&&r.isValid()?(t=or(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function RI(e,t){var r=pr(e)?e:Ge(e);return this.isValid()&&r.isValid()?(t=or(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function AI(e,t,r,n){var a=pr(e)?e:Ge(e),o=pr(t)?t:Ge(t);return this.isValid()&&a.isValid()&&o.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(o,r):!this.isAfter(o,r))):!1}function LI(e,t){var r=pr(e)?e:Ge(e),n;return this.isValid()&&r.isValid()?(t=or(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function FI(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $I(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function BI(e,t,r){var n,a,o;if(!this.isValid())return NaN;if(n=nu(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=or(t),t){case"year":o=Zo(this,n)/12;break;case"month":o=Zo(this,n);break;case"quarter":o=Zo(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-a)/864e5;break;case"week":o=(this-n-a)/6048e5;break;default:o=this-n}return r?o:Qt(o)}function Zo(e,t){if(e.date()<t.date())return-Zo(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,o;return t-n<0?(a=e.clone().add(r-1,"months"),o=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),o=(t-n)/(a-n)),-(r+o)||0}ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function HI(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function zI(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?qo(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):jr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",qo(r,"Z")):qo(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function WI(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(r+n+a+o)}function VI(e){e||(e=this.isUtc()?ne.defaultFormatUtc:ne.defaultFormat);var t=qo(this,e);return this.localeData().postformat(t)}function YI(e,t){return this.isValid()&&(pr(e)&&e.isValid()||Ge(e).isValid())?gr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function UI(e){return this.from(Ge(),e)}function GI(e,t){return this.isValid()&&(pr(e)&&e.isValid()||Ge(e).isValid())?gr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qI(e){return this.to(Ge(),e)}function lg(e){var t;return e===void 0?this._locale._abbr:(t=Gr(e),t!=null&&(this._locale=t),this)}var cg=ar("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function ug(){return this._locale}var xi=1e3,ea=60*xi,Si=60*ea,dg=(365*400+97)*24*Si;function ta(e,t){return(e%t+t)%t}function fg(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-dg:new Date(e,t,r).valueOf()}function mg(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-dg:Date.UTC(e,t,r)}function XI(e){var t,r;if(e=or(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?mg:fg,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ta(t+(this._isUTC?0:this.utcOffset()*ea),Si);break;case"minute":t=this._d.valueOf(),t-=ta(t,ea);break;case"second":t=this._d.valueOf(),t-=ta(t,xi);break}return this._d.setTime(t),ne.updateOffset(this,!0),this}function ZI(e){var t,r;if(e=or(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?mg:fg,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Si-ta(t+(this._isUTC?0:this.utcOffset()*ea),Si)-1;break;case"minute":t=this._d.valueOf(),t+=ea-ta(t,ea)-1;break;case"second":t=this._d.valueOf(),t+=xi-ta(t,xi)-1;break}return this._d.setTime(t),ne.updateOffset(this,!0),this}function KI(){return this._d.valueOf()-(this._offset||0)*6e4}function QI(){return Math.floor(this.valueOf()/1e3)}function JI(){return new Date(this.valueOf())}function e4(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function t4(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function r4(){return this.isValid()?this.toISOString():null}function n4(){return Bc(this)}function a4(){return rn({},De(this))}function o4(){return De(this).overflow}function i4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr");be("NN",0,0,"eraAbbr");be("NNN",0,0,"eraAbbr");be("NNNN",0,0,"eraName");be("NNNNN",0,0,"eraNarrow");be("y",["y",1],"yo","eraYear");be("y",["yy",2],0,"eraYear");be("y",["yyy",3],0,"eraYear");be("y",["yyyy",4],0,"eraYear");ue("N",au);ue("NN",au);ue("NNN",au);ue("NNNN",v4);ue("NNNNN",y4);Ye(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?De(r).era=a:De(r).invalidEra=e});ue("y",ha);ue("yy",ha);ue("yyy",ha);ue("yyyy",ha);ue("yo",b4);Ye(["y","yy","yyy","yyyy"],vt);Ye(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[vt]=r._locale.eraYearOrdinalParse(e,a):t[vt]=parseInt(e,10)});function s4(e,t){var r,n,a,o=this._eras||Gr("en")._eras;for(r=0,n=o.length;r<n;++r){switch(typeof o[r].since){case"string":a=ne(o[r].since).startOf("day"),o[r].since=a.valueOf();break}switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":a=ne(o[r].until).startOf("day").valueOf(),o[r].until=a.valueOf();break}}return o}function l4(e,t,r){var n,a,o=this.eras(),i,s,l;for(e=e.toUpperCase(),n=0,a=o.length;n<a;++n)if(i=o[n].name.toUpperCase(),s=o[n].abbr.toUpperCase(),l=o[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(s===e)return o[n];break;case"NNNN":if(i===e)return o[n];break;case"NNNNN":if(l===e)return o[n];break}else if([i,s,l].indexOf(e)>=0)return o[n]}function c4(e,t){var r=e.since<=e.until?1:-1;return t===void 0?ne(e.since).year():ne(e.since).year()+(t-e.offset)*r}function u4(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function d4(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function f4(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function m4(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-ne(a[e].since).year())*r+a[e].offset;return this.year()}function p4(e){return $e(this,"_erasNameRegex")||ou.call(this),e?this._erasNameRegex:this._erasRegex}function h4(e){return $e(this,"_erasAbbrRegex")||ou.call(this),e?this._erasAbbrRegex:this._erasRegex}function g4(e){return $e(this,"_erasNarrowRegex")||ou.call(this),e?this._erasNarrowRegex:this._erasRegex}function au(e,t){return t.erasAbbrRegex(e)}function v4(e,t){return t.erasNameRegex(e)}function y4(e,t){return t.erasNarrowRegex(e)}function b4(e,t){return t._eraYearOrdinalRegex||ha}function ou(){var e=[],t=[],r=[],n=[],a,o,i,s,l,c=this.eras();for(a=0,o=c.length;a<o;++a)i=zr(c[a].name),s=zr(c[a].abbr),l=zr(c[a].narrow),t.push(i),e.push(s),r.push(l),n.push(i),n.push(s),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100});be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ki(e,t){be(0,[e,e.length],0,t)}Ki("gggg","weekYear");Ki("ggggg","weekYear");Ki("GGGG","isoWeekYear");Ki("GGGGG","isoWeekYear");ue("G",Ui);ue("g",Ui);ue("GG",qe,Gt);ue("gg",qe,Gt);ue("GGGG",Uc,Yc);ue("gggg",Uc,Yc);ue("GGGGG",Yi,Wi);ue("ggggg",Yi,Wi);bo(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Oe(e)});bo(["gg","GG"],function(e,t,r,n){t[n]=ne.parseTwoDigitYear(e)});function w4(e){return pg.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function x4(e){return pg.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function S4(){return Wr(this.year(),1,4)}function k4(){return Wr(this.isoWeekYear(),1,4)}function C4(){var e=this.localeData()._week;return Wr(this.year(),e.dow,e.doy)}function E4(){var e=this.localeData()._week;return Wr(this.weekYear(),e.dow,e.doy)}function pg(e,t,r,n,a){var o;return e==null?ao(this,n,a).year:(o=Wr(e,n,a),t>o&&(t=o),j4.call(this,e,t,r,n,a))}function j4(e,t,r,n,a){var o=Gh(e,t,r,n,a),i=no(o.year,0,o.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}be("Q",0,"Qo","quarter");ue("Q",Ah);Ye("Q",function(e,t){t[Br]=(Oe(e)-1)*3});function N4(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}be("D",["DD",2],"Do","date");ue("D",qe,ga);ue("DD",qe,Gt);ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ye(["D","DD"],wr);Ye("Do",function(e,t){t[wr]=Oe(e.match(qe)[0])});var hg=va("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear");ue("DDD",Vi);ue("DDDD",Lh);Ye(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Oe(e)});function D4(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}be("m",["mm",2],0,"minute");ue("m",qe,Gc);ue("mm",qe,Gt);Ye(["m","mm"],dr);var I4=va("Minutes",!1);be("s",["ss",2],0,"second");ue("s",qe,Gc);ue("ss",qe,Gt);Ye(["s","ss"],Hr);var T4=va("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)});be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});be(0,["SSS",3],0,"millisecond");be(0,["SSSS",4],0,function(){return this.millisecond()*10});be(0,["SSSSS",5],0,function(){return this.millisecond()*100});be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ue("S",Vi,Ah);ue("SS",Vi,Gt);ue("SSS",Vi,Lh);var nn,gg;for(nn="SSSS";nn.length<=9;nn+="S")ue(nn,ha);function M4(e,t){t[En]=Oe(("0."+e)*1e3)}for(nn="S";nn.length<=9;nn+="S")Ye(nn,M4);gg=va("Milliseconds",!1);be("z",0,0,"zoneAbbr");be("zz",0,0,"zoneName");function _4(){return this._isUTC?"UTC":""}function O4(){return this._isUTC?"Coordinated Universal Time":""}var ee=vo.prototype;ee.add=EI;ee.calendar=_I;ee.clone=OI;ee.diff=BI;ee.endOf=ZI;ee.format=VI;ee.from=YI;ee.fromNow=UI;ee.to=GI;ee.toNow=qI;ee.get=WN;ee.invalidAt=o4;ee.isAfter=PI;ee.isBefore=RI;ee.isBetween=AI;ee.isSame=LI;ee.isSameOrAfter=FI;ee.isSameOrBefore=$I;ee.isValid=n4;ee.lang=cg;ee.locale=lg;ee.localeData=ug;ee.max=nI;ee.min=rI;ee.parsingFlags=a4;ee.set=VN;ee.startOf=XI;ee.subtract=jI;ee.toArray=e4;ee.toObject=t4;ee.toDate=JI;ee.toISOString=zI;ee.inspect=WI;typeof Symbol<"u"&&Symbol.for!=null&&(ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ee.toJSON=r4;ee.toString=HI;ee.unix=QI;ee.valueOf=KI;ee.creationData=i4;ee.eraName=u4;ee.eraNarrow=d4;ee.eraAbbr=f4;ee.eraYear=m4;ee.year=Bh;ee.isLeapYear=zN;ee.weekYear=w4;ee.isoWeekYear=x4;ee.quarter=ee.quarters=N4;ee.month=Yh;ee.daysInMonth=JN;ee.week=ee.weeks=sD;ee.isoWeek=ee.isoWeeks=lD;ee.weeksInYear=C4;ee.weeksInWeekYear=E4;ee.isoWeeksInYear=S4;ee.isoWeeksInISOWeekYear=k4;ee.date=hg;ee.day=ee.days=xD;ee.weekday=SD;ee.isoWeekday=kD;ee.dayOfYear=D4;ee.hour=ee.hours=TD;ee.minute=ee.minutes=I4;ee.second=ee.seconds=T4;ee.millisecond=ee.milliseconds=gg;ee.utcOffset=fI;ee.utc=pI;ee.local=hI;ee.parseZone=gI;ee.hasAlignedHourOffset=vI;ee.isDST=yI;ee.isLocal=wI;ee.isUtcOffset=xI;ee.isUtc=ag;ee.isUTC=ag;ee.zoneAbbr=_4;ee.zoneName=O4;ee.dates=ar("dates accessor is deprecated. Use date instead.",hg);ee.months=ar("months accessor is deprecated. Use month instead",Yh);ee.years=ar("years accessor is deprecated. Use year instead",Bh);ee.zone=ar("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mI);ee.isDSTShifted=ar("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bI);function P4(e){return Ge(e*1e3)}function R4(){return Ge.apply(null,arguments).parseZone()}function vg(e){return e}var Be=zc.prototype;Be.calendar=wN;Be.longDateFormat=CN;Be.invalidDate=jN;Be.ordinal=IN;Be.preparse=vg;Be.postformat=vg;Be.relativeTime=MN;Be.pastFuture=_N;Be.set=yN;Be.eras=s4;Be.erasParse=l4;Be.erasConvertYear=c4;Be.erasAbbrRegex=h4;Be.erasNameRegex=p4;Be.erasNarrowRegex=g4;Be.months=XN;Be.monthsShort=ZN;Be.monthsParse=QN;Be.monthsRegex=tD;Be.monthsShortRegex=eD;Be.week=nD;Be.firstDayOfYear=iD;Be.firstDayOfWeek=oD;Be.weekdays=gD;Be.weekdaysMin=yD;Be.weekdaysShort=vD;Be.weekdaysParse=wD;Be.weekdaysRegex=CD;Be.weekdaysShortRegex=ED;Be.weekdaysMinRegex=jD;Be.isPM=DD;Be.meridiem=MD;function ki(e,t,r,n){var a=Gr(),o=Er().set(n,t);return a[r](o,e)}function yg(e,t,r){if(Ur(e)&&(t=e,e=void 0),e=e||"",t!=null)return ki(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=ki(e,n,r,"month");return a}function iu(e,t,r,n){typeof e=="boolean"?(Ur(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Ur(t)&&(r=t,t=void 0),t=t||"");var a=Gr(),o=e?a._week.dow:0,i,s=[];if(r!=null)return ki(t,(r+o)%7,n,"day");for(i=0;i<7;i++)s[i]=ki(t,(i+o)%7,n,"day");return s}function A4(e,t){return yg(e,t,"months")}function L4(e,t){return yg(e,t,"monthsShort")}function F4(e,t,r){return iu(e,t,r,"weekdays")}function $4(e,t,r){return iu(e,t,r,"weekdaysShort")}function B4(e,t,r){return iu(e,t,r,"weekdaysMin")}dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Oe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});ne.lang=ar("moment.lang is deprecated. Use moment.locale instead.",dn);ne.langData=ar("moment.langData is deprecated. Use moment.localeData instead.",Gr);var Rr=Math.abs;function H4(){var e=this._data;return this._milliseconds=Rr(this._milliseconds),this._days=Rr(this._days),this._months=Rr(this._months),e.milliseconds=Rr(e.milliseconds),e.seconds=Rr(e.seconds),e.minutes=Rr(e.minutes),e.hours=Rr(e.hours),e.months=Rr(e.months),e.years=Rr(e.years),this}function bg(e,t,r,n){var a=gr(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function z4(e,t){return bg(this,e,t,1)}function W4(e,t){return bg(this,e,t,-1)}function hf(e){return e<0?Math.floor(e):Math.ceil(e)}function V4(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,o,i,s,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=hf(jl(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=Qt(e/1e3),n.seconds=a%60,o=Qt(a/60),n.minutes=o%60,i=Qt(o/60),n.hours=i%24,t+=Qt(i/24),l=Qt(wg(t)),r+=l,t-=hf(jl(l)),s=Qt(r/12),r%=12,n.days=t,n.months=r,n.years=s,this}function wg(e){return e*4800/146097}function jl(e){return e*146097/4800}function Y4(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=or(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+wg(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(jl(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function qr(e){return function(){return this.as(e)}}var xg=qr("ms"),U4=qr("s"),G4=qr("m"),q4=qr("h"),X4=qr("d"),Z4=qr("w"),K4=qr("M"),Q4=qr("Q"),J4=qr("y"),e5=xg;function t5(){return gr(this)}function r5(e){return e=or(e),this.isValid()?this[e+"s"]():NaN}function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var n5=Pn("milliseconds"),a5=Pn("seconds"),o5=Pn("minutes"),i5=Pn("hours"),s5=Pn("days"),l5=Pn("months"),c5=Pn("years");function u5(){return Qt(this.days()/7)}var Lr=Math.round,Gn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function d5(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function f5(e,t,r,n){var a=gr(e).abs(),o=Lr(a.as("s")),i=Lr(a.as("m")),s=Lr(a.as("h")),l=Lr(a.as("d")),c=Lr(a.as("M")),u=Lr(a.as("w")),d=Lr(a.as("y")),m=o<=r.ss&&["s",o]||o<r.s&&["ss",o]||i<=1&&["m"]||i<r.m&&["mm",i]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(m=m||u<=1&&["w"]||u<r.w&&["ww",u]),m=m||c<=1&&["M"]||c<r.M&&["MM",c]||d<=1&&["y"]||["yy",d],m[2]=t,m[3]=+e>0,m[4]=n,d5.apply(null,m)}function m5(e){return e===void 0?Lr:typeof e=="function"?(Lr=e,!0):!1}function p5(e,t){return Gn[e]===void 0?!1:t===void 0?Gn[e]:(Gn[e]=t,e==="s"&&(Gn.ss=t-1),!0)}function h5(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Gn,a,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Gn,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),o=f5(this,!r,n,a),r&&(o=a.pastFuture(+this,o)),a.postformat(o)}var Ls=Math.abs;function Wn(e){return(e>0)-(e<0)||+e}function Qi(){if(!this.isValid())return this.localeData().invalidDate();var e=Ls(this._milliseconds)/1e3,t=Ls(this._days),r=Ls(this._months),n,a,o,i,s=this.asSeconds(),l,c,u,d;return s?(n=Qt(e/60),a=Qt(n/60),e%=60,n%=60,o=Qt(r/12),r%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",c=Wn(this._months)!==Wn(s)?"-":"",u=Wn(this._days)!==Wn(s)?"-":"",d=Wn(this._milliseconds)!==Wn(s)?"-":"",l+"P"+(o?c+o+"Y":"")+(r?c+r+"M":"")+(t?u+t+"D":"")+(a||n||e?"T":"")+(a?d+a+"H":"")+(n?d+n+"M":"")+(e?d+i+"S":"")):"P0D"}var Pe=Zi.prototype;Pe.isValid=lI;Pe.abs=H4;Pe.add=z4;Pe.subtract=W4;Pe.as=Y4;Pe.asMilliseconds=xg;Pe.asSeconds=U4;Pe.asMinutes=G4;Pe.asHours=q4;Pe.asDays=X4;Pe.asWeeks=Z4;Pe.asMonths=K4;Pe.asQuarters=Q4;Pe.asYears=J4;Pe.valueOf=e5;Pe._bubble=V4;Pe.clone=t5;Pe.get=r5;Pe.milliseconds=n5;Pe.seconds=a5;Pe.minutes=o5;Pe.hours=i5;Pe.days=s5;Pe.weeks=u5;Pe.months=l5;Pe.years=c5;Pe.humanize=h5;Pe.toISOString=Qi;Pe.toString=Qi;Pe.toJSON=Qi;Pe.locale=lg;Pe.localeData=ug;Pe.toIsoString=ar("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qi);Pe.lang=cg;be("X",0,0,"unix");be("x",0,0,"valueOf");ue("x",Ui);ue("X",AN);Ye("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});Ye("x",function(e,t,r){r._d=new Date(Oe(e))});//! moment.js
ne.version="2.30.1";gN(Ge);ne.fn=ee;ne.min=aI;ne.max=oI;ne.now=iI;ne.utc=Er;ne.unix=P4;ne.months=A4;ne.isDate=go;ne.locale=dn;ne.invalid=zi;ne.duration=gr;ne.isMoment=pr;ne.weekdays=F4;ne.parseZone=R4;ne.localeData=Gr;ne.isDuration=Xo;ne.monthsShort=L4;ne.weekdaysMin=B4;ne.defineLocale=Qc;ne.updateLocale=RD;ne.locales=AD;ne.weekdaysShort=$4;ne.normalizeUnits=or;ne.relativeTimeRounding=m5;ne.relativeTimeThreshold=p5;ne.calendarFormat=MI;ne.prototype=ee;ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Ci=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function g5(e){return e.charAt(0).toUpperCase()+e.slice(1)}const v5=e=>{const t={};return e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(t.message="Error in Message Node",e.errors.message="Message must be between 3 and 1500 characters"):(t.message="Error in Message Node",e.errors.message="Message is required"),t},y5=(e,t,r,n)=>{const a={};t.errors={};let o=[];const i=Lc(e.id,n,r);o=Fc(i,"http"),c(t.message||"","message",-1,a,t.errors),l("dataSource",t.dataSource||"",-1,o,t.dataSource,a,t.errors),(t.subOptions||[]).forEach((u,d)=>{const m={};l("title",u.title,d,o,null,a,m,(v,y,S,w,j)=>c(v,y,S,w,j)),t.dataSource&&!u.isLink&&l("value",u.value,d,o,null,a,m,(v,y,S,w,j)=>c(v,y,S,w,j));const p=new Set;if(u.leadEmailTo){const v=u.leadEmailTo.trim();Ci(v)?p.has(v)?(a[`leadEmailTo_${d}`]="Duplicate Lead Email To",m.leadEmailTo="Duplicate Lead Email To"):p.add(v):(a[`leadEmailTo_${d}`]="Lead Email To must be a valid email",m.leadEmailTo="Lead Email To must be a valid email")}u.leadEmailCc&&Array.isArray(u.leadEmailCc)&&u.leadEmailCc.forEach((v,y)=>{const S=v.trim();Ci(S)?p.has(S)?(a[`subOptions[${d}].leadEmailCc[${y}]`]="Duplicate email in Lead Email Cc",m.leadEmailCc="Duplicate email in Lead Email Cc"):p.add(S):(a[`subOptions[${d}].leadEmailCc[${y}]`]="Invalid email format",m.leadEmailCc="Invalid email format")}),t.subOption=m});function l(u,d,m,p,v,y,S,w){if(!(w&&!w(d,u,m,y,S))&&v){const j=d.indexOf("."),D=j!==-1?d.slice(0,j):d;p.includes(D)||(y[`${u}_${m}`]=`Invalid property: ${D} is not in the properties list`,S[u]=`Invalid property: ${D} is not in the properties list`)}}function c(u,d,m,p,v){if(!u||u.length<1||u.length>500){const y=`${g5(d)} must be between 1 and 500 characters`;return p[`${d}_${m}`]=y,v[d]=y,!1}return!0}return a},b5=e=>{var a;const t={};e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(t.message="Error in File Node",e.errors.message="Message must be between 3 and 1500 characters"):(t.message="Error in File Node",e.errors.message="Message is required");const r=Array.isArray(e.urls)&&e.urls.every(o=>Sg(o));r||(t.message="Error in File Node",e.errors.urls="Invalid image URL"),e.fileType||(t.message="Error in File Node",e.errors.fileType="File type is required");const n=e.files&&x5(e.files,e.fileType);return(r&&((a=e.urls)==null?void 0:a.length)===0&&!n||!r&&!n)&&(t.message="Error in File Node",e.errors.fileOrUrl="Either valid URLs or valid files must be provided"),t},w5=e=>{const t={};return e.errors={},e.message?(e.message.length<3||e.message.length>500)&&(t.message="Error in Maps Node",e.errors.message="Message must be between 3 and 500 characters"):(t.message="Error in Maps Node",e.errors.message="Message is required"),(!e.url||!Sg(e.url))&&(t.message="Error in Maps Node",e.errors.url="URL must be valid"),t},x5=(e,t)=>{if(!e||e.length===0)return!1;const n={pdf:["pdf","application/pdf"],"application/pdf":["pdf","application/pdf"],images:["jpg","jpeg","png","gif"],"image/*":["jpg","jpeg","png","gif"],video:["mp4","avi","mov"],"video/*":["mp4","avi","mov"]}[t];return e.every(a=>{var i;const o=(i=a.name.split(".").pop())==null?void 0:i.toLowerCase();return Array.isArray(n)?n.includes(o||""):o===n})},Sg=e=>/^(http|https|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e),Nl=(e,t)=>{switch(t=t==null?void 0:t.trim(),e){case"message":if(!t)return"Message is required";if(t.length<3)return"Message must be at least 3 characters";if(t.length>500)return"Message must be at most 500 characters";break;case"title":if(!t)return"Title is required";if(t.length<1)return"Title must be at least 1 characters";if(t.length>500)return"Title must be at most 500 characters";break;case"leadEmailTo":if(t&&!/\S+@\S+\.\S+/.test(t))return"Lead Email To is invalid";break;case"leadEmailCc":if(t&&!/\S+@\S+\.\S+/.test(t))return"Lead Email CC is invalid";break}return""},S5=e=>{const t={};switch(e.errors={},e.message||(t.message="Error in Question Node",e.errors.message="A message is required"),e.fieldType||(t.message="Error in Question Node",e.errors.fieldType="Question Type is required"),e.property&&(/^[a-zA-Z0-9-_]+$/.test(e.property.trim())||(t.message="Error in Question Node",e.errors.property="Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")),e.fieldType){case Se.DATE:{const r=ne().startOf("day"),n=ne().add(3,"months").endOf("day"),a=e.min?ne(e.min).startOf("day"):r,o=e.max?ne(e.max).endOf("day"):n;a&&a.isBefore(r)&&(t.message="Error in Question Node",e.errors.min="Min date cannot be before today."),o&&o.isAfter(n)&&(t.message="Error in Question Node",e.errors.max="Max date cannot be more than 3 months from today."),a&&o&&a.isAfter(o)&&(t.message="Error in Question Node",e.errors.min="Min date cannot be after Max date.");break}case Se.DATETIME:{const r=e.min?ne(e.min):null,n=e.max?ne(e.max):null,a=ne().startOf("day"),o=ne().add(3,"months").endOf("day");r&&r.isBefore(a)&&(t.message="Error in Question Node",e.errors.min="Min datetime cannot be before today."),n&&n.isAfter(o)&&(t.message="Error in Question Node",e.errors.max="Max datetime cannot be more than 3 months from today."),r&&n&&r.isAfter(n)&&(t.message="Error in Question Node",e.errors.min="Min datetime cannot be after Max datetime.");break}case Se.TIME:{const r=e.min?ne(e.min):null,n=e.max?ne(e.max):null,a=ne().startOf("day"),o=ne().endOf("day");r&&r.isBefore(a)&&(t.message="Error in Question Node",e.errors.min="Min time cannot be before today."),n&&n.isAfter(o)&&(t.message="Error in Question Node",e.errors.max="Max time cannot be after today."),r&&n&&r.isAfter(n)&&(t.message="Error in Question Node",e.errors.min="Min time cannot be after Max time.");break}case"custom":e.custom||(t.message="Error in Question Node",e.errors.custom="A custom regex is required.");break;case"string":case"number":case"age":{const r=e.min?parseInt(e.min,10):void 0,n=e.max?parseInt(e.max,10):void 0,a=k5(r,n,e.fieldType);a&&(t.message="Error in Question Node",e.errors.answer=a);break}}return t},k5=(e,t,r)=>{if(e&&typeof e!="number"||t&&typeof t!="number")return`Both min and max values must be valid numbers for ${r}.`;if(e&&t&&e>t)return`Min value cannot be greater than Max value for ${r}.`;if(r==="string"){if(e&&e<3)return"Min length for string must be at least 3.";if(t&&t>2500)return"Max length for string must not exceed 500."}if(r==="number"){if(e&&(e<1||e>9999999999))return`Min value for ${r} must be between 1 and ${9999999999}.`;if(t&&(t<1||t>9999999999))return`Max value for ${r} must be between 1 and ${9999999999}.`}return""},C5=e=>{const t={};return e.errors={},["message","successMessage","failureMessage"].forEach(r=>Ei(e[r],r,t,"Call Connect",e)),["callConnectId","callAccepted","callRejected"].forEach(r=>Ei(e[r],r,t,"Call Connect",e,!1)),t},E5=e=>{const t={};return e.errors={},Ei(e.message,"message",t,"OTP",e),Ei(e.otpType,"otpType",t,"OTP",e,!1),t},Dl=(e,t,r,n,a)=>{let o="";switch(e){case"message":t?t.length<3?o="Message must be at least 3 characters":t.length>500&&(o="Message must be at most 500 characters"):o="Message is required";break;case"property":t?t.length<3?o="Property must be at least 3 characters":t.length>500?o="Property must be at most 500 characters":/^[A-Za-z][\w]*$/.test(t)?a!=null&&a.has(t)&&(o="Property name must be unique"):o='Property must start with a letter, cannot contain spaces, or special characters like "@", and should not start with a number':o="Property is required";break;case"title":t?t.length<3?o="Title must be at least 1 character":t.length>500&&(o="Title must be at most 500 characters"):o="Title is required";break;case"whatsAppQuestion":t?t.length<3?o="whatsAppQuestion must be at least 1 character":t.length>500&&(o="whatsAppQuestion must be at most 500 characters"):o="whatsAppQuestion is required";break;case"fieldType":t||(o="Field Type is required");break;case"custom":r===e&&(t||(o="A custom regex is required."));break}return o};function Ei(e,t,r,n,a,o=!0){e?o&&(e.length<3||e.length>500)&&(r.message=`Error in ${t} Node`,a.errors[t]=`${t} must be between 3 and 500 characters`):(r.message=`Error in ${n} Node`,a.errors[t]=`${t} is required`)}const j5=(e,t,r)=>{var l;const n=e.data,a={},o={};n.errors={};let i=[];const s=Lc(e.id,r,t);if(i=Fc(s),!n.url||n.url.length===0)a.message="Error in HTTP Node";else{const c=n.url.match(/\{(.*?)\}/);if(c){const u=(l=c[1])==null?void 0:l.trim();(!/^[a-zA-Z0-9-_]+$/.test(u)||i.length==0||!i.includes(u))&&(o.url="HTTP Node - Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")}}return(!n.requestType||n.requestType.length===0)&&(a.message="Error in HTTP Node"),n.statusWiseFlow.length&&n.statusWiseFlow.forEach(c=>{c.statusCode||(a.message="Error in HTTP Node")}),n.params.length&&(n.errors.params=[],n.params.forEach((c,u)=>{const d=gf(c,u,i,"Param",a);d&&Object.keys(d).length>0&&n.errors.params.push({index:u,errors:d.errors})})),n.headers.length&&(n.errors.headers=[],n.headers.forEach((c,u)=>{const d=gf(c,u,i,"Header",a);d&&Object.keys(d).length>0&&n.errors.headers.push({index:u,errors:d.errors})})),n.successFlowId||(a.message="Error in HTTP Node",n.errors.successFlowStatusCode="HTTP Node - Success flow statusCode is mandatory"),n.failureFlowId||(a.message="Error in HTTP Node",n.errors.failureFlowStatusCode="HTTP Node - Failure flow statusCode is mandatory"),n.statusWiseFlow&&n.statusWiseFlow.length>0&&(n.errors.statusWiseFlow=[],n.statusWiseFlow.forEach((c,u)=>{c.statusCode||n.errors.statusWiseFlow.push({index:u,message:"HTTP Node - Status code is mandatory"})})),{newErrors:a,newWarnings:o}},gf=(e,t,r,n,a)=>{var c;const o={},{key:i,valueType:s,value:l}=e;if(i||(o.key=`${n} - Key is mandatory`,a.message="Error in HTTP Node"),s||(o.valueType=`${n} - ValueType is mandatory`,a.message="Error in HTTP Node"),l?s==="number"&&isNaN(Number(l))?(o.value=`${n} - Value is not a valid Number`,a.message="Error in HTTP Node"):s==="date"&&!(l instanceof Date)&&(o.value=`${n} - Value is not a valid Date`,a.message="Error in HTTP Node"):(o.value=`${n} - Value is mandatory`,a.message="Error in HTTP Node"),(s=="param"||s=="header")&&((c=Object.keys(o))==null?void 0:c.length)===0){const u=l.trim();u?(!/^[A-Za-z][\w]*$/.test(u)||r.length===0||!r.includes(u))&&(o.property=`${n} - Property must contain only alphanumeric characters, hyphens (-), underscores (_), and no spaces.`,a.message="Error in HTTP Node"):(o.property=`${n} - Property must contain only alphanumeric characters, hyphens (-), underscores (_), and no spaces.`,a.message="Error in HTTP Node")}return Object.keys(o).length>0?{index:t,errors:o}:null},N5=({optionsData:e,save:t,close:r})=>{const[n,a]=h.useState(e),[o,i]=h.useState([]),[s,l]=h.useState({}),c=h.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),u=h.useMemo(()=>{const x=new Date;return x.setMonth(x.getMonth()+3),x.setHours(23,59,59,999),x},[]);h.useEffect(()=>{a(e)},[e]);const d=(x,g,b,k,E)=>{const O=Dl(g,b,k);O&&i(_=>{var C;return{..._,customFields:{..._.customFields,[x]:{...(C=_.customFields)==null?void 0:C[x],[g]:O}}}})},m=(x,g)=>{const{name:b,value:k}=g.target,E=[...n.customFields],O={...E[x]};O[b]=k,E[x]=O,a({...n,customFields:E}),i(_=>{var T,R;const C={..._};if((R=(T=C==null?void 0:C.customFields)==null?void 0:T[x])!=null&&R[b]){delete C.customFields[x][b];const $=C.customFields[x];$&&Object.values($).every(A=>A==="")&&delete C.customFields[x],Object.keys(C.customFields).length===0&&delete C.customFields}return C})},p=(x,g)=>{var _,C;(C=(_=o==null?void 0:o.customFields)==null?void 0:_[x])==null||delete C[g.target.name];const{value:b}=g.target,{min:k,max:E}=v(b),O=[...n.customFields];O[x].fieldType=b,b!=="phone"&&b!=="email"&&b!=="custom"&&(O[x].min=k,O[x].max=E),b==="custom"&&(O[x].custom=""),a({...n,customFields:O})},v=h.useCallback(x=>{switch(x){case Se.CUSTOM:return l({min:"Custom Expression",max:""}),{min:"",max:""};case Se.STRING:return l({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case Se.NUMBER:return l({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case Se.DATE:return l({min:"Min Date",max:"Max Date"}),{min:"",max:""};case Se.DATETIME:return l({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case Se.TIME:return l({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),y=x=>{const g={customFields:{}},b=new Set;return x.customFields.map((E,O)=>{delete x.customFields[O].isCollapsed;const _={};Object.keys(E).map(C=>{const T=E[C],R=Dl(C,T,E.fieldType,E,b);R&&(_[C]=R)}),_.property===void 0&&b.add(E.property),Object.keys(_).length>0&&(g.customFields[O]=_,E.isCollapsed=!1)}),i(g),Object.keys(g.customFields).some(E=>Object.keys(g.customFields[E]).length>0)},S=x=>{const g=n.customFields.map((b,k)=>k===x?{...b,isCollapsed:!b.isCollapsed}:b);a({...n,customFields:g})},w=()=>{a({...n,customFields:[...n.customFields,{id:ft(),property:"",title:"",whatsAppQuestion:"",fieldType:""}]})},j=x=>{a({...n,customFields:n.customFields.filter((g,b)=>b!==x)})},D=()=>{y(n)||(t(n),r())},N=()=>{y(n)||(t(n),r())},I=()=>{const x=document.querySelector(".p-datepicker");x&&(x.style.visibility="hidden")},M=()=>f.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>I(),children:"Close"});return f.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:f.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[f.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),f.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[n.customFields.map((x,g)=>{var b,k,E,O,_,C,T,R,$,A,P,F,W,z,V,G,H,B,X,Z,se,U,ce,Ce,we,ae,Me,Re,Ee,de;return f.jsxs("div",{className:"accordion px-2 mb-2",children:[f.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>S(g),children:[f.jsx("span",{className:"mr-3",children:x.isCollapsed?f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),f.jsx("span",{className:"flex-1",children:x.title||`Custom Filed ${g+1}`}),n.customFields.length>1&&f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:Q=>{Q.stopPropagation(),j(g)},children:"×"})]}),!x.isCollapsed&&f.jsx("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Property Name"}),f.jsx("input",{title:"Property Name",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"property",value:x.property,onChange:Q=>m(g,Q),onBlur:Q=>d(g,"property",Q.target.value)}),((k=(b=o.customFields)==null?void 0:b[g])==null?void 0:k.property)&&f.jsx("div",{className:"text-red-500 text-sm",children:(E=o.customFields[g])==null?void 0:E.property.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Title"}),f.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:x.title,onChange:Q=>m(g,Q),onBlur:Q=>d(g,"title",Q.target.value)}),((_=(O=o.customFields)==null?void 0:O[g])==null?void 0:_.title)&&f.jsx("div",{className:"text-red-500 text-sm",children:(C=o.customFields[g])==null?void 0:C.title.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"WhatApp Question"}),f.jsx("input",{title:"whatsAppQuestion",type:"whatsAppQuestion",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"whatsAppQuestion",value:x.whatsAppQuestion,onChange:Q=>m(g,Q),onBlur:Q=>d(g,"whatsAppQuestion",Q.target.value)}),((R=(T=o.customFields)==null?void 0:T[g])==null?void 0:R.whatsAppQuestion)&&f.jsx("div",{className:"text-red-500 text-sm",children:($=o.customFields[g])==null?void 0:$.whatsAppQuestion.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Select Category"}),f.jsxs("select",{title:"Field Type",name:"fieldType",value:x.fieldType,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",style:{height:"25px"},onChange:Q=>p(g,Q),onBlur:Q=>d(g,"fieldType",Q.target.value,x.fieldType),children:[f.jsx("option",{value:"",children:"Select Value Type"}),Ih.map(Q=>f.jsx("option",{value:Q.value,children:Q.label},Q.value))]}),((P=(A=o.customFields)==null?void 0:A[g])==null?void 0:P.fieldType)&&f.jsx("div",{className:"text-red-500 text-sm",children:(F=o.customFields[g])==null?void 0:F.fieldType.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})}),[Se.STRING,Se.NUMBER].includes(x.fieldType)&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Min & Max"}),f.jsxs("div",{className:"flex space-x-2 ",children:[f.jsxs("div",{children:[f.jsx("input",{title:s.min||"Min Length",type:"number",name:"min",placeholder:s.min,value:x.min||"",onChange:Q=>m(g,Q),onBlur:Q=>d(g,"min",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),((z=(W=o.customFields)==null?void 0:W[g])==null?void 0:z.min)&&f.jsx("div",{className:"text-red-500 text-sm",children:(V=o.customFields[g])==null?void 0:V.min.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]}),f.jsxs("div",{children:[f.jsx("input",{title:s.max||"Max Length",type:"number",name:"max",placeholder:s.max,value:x.max||"",onChange:Q=>m(g,Q),style:{height:"25px"},onBlur:Q=>d(g,"max",Q.target.value,x.fieldType),className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),((H=(G=o.customFields)==null?void 0:G[g])==null?void 0:H.max)&&f.jsx("div",{className:"text-red-500 text-sm",children:(B=o.customFields[g])==null?void 0:B.max.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})]})]})}),[Se.DATE,Se.DATETIME,Se.TIME].includes(x.fieldType)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"min-w-[200px] ",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Select Date Format"}),f.jsxs("select",{title:"Date Format",name:"dateFormat",value:x.dateFormat,onChange:Q=>m(g,Q),onBlur:Q=>d(g,"dateFormat",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Date Format"}),Th.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]}),((Z=(X=o.customFields)==null?void 0:X[g])==null?void 0:Z.dateFormat)&&f.jsx("div",{className:"text-red-500 text-sm",children:(se=o.customFields[g])==null?void 0:se.dateFormat.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})}),f.jsx("div",{className:"min-w-[200px] mt-2",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Min"}),f.jsx(Ba,{name:"min",tooltip:s.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:s.min||"Min",minDate:c,maxDate:u,value:x.min?new Date(x.min):null,onChange:Q=>m(g,Q),onBlur:Q=>d(g,"min",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:x.fieldType!==Se.DATE,timeOnly:Se.TIME===x.fieldType,autoZIndex:!0,footerTemplate:M,showButtonBar:!0}),((ce=(U=o.customFields)==null?void 0:U[g])==null?void 0:ce.min)&&f.jsx("div",{className:"text-red-500 text-sm",children:(Ce=o.customFields[g])==null?void 0:Ce.min.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})}),f.jsx("div",{className:"min-w-[200px] mt-2",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Max"}),f.jsx(Ba,{name:"max",tooltip:s.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,value:x.max?new Date(x.max):null,placeholder:s.max||"Max",minDate:c,maxDate:u,onChange:Q=>m(g,Q),onBlur:Q=>d(g,"max",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:x.fieldType!==Se.DATE,timeOnly:Se.TIME===x.fieldType,autoZIndex:!0,footerTemplate:M,showButtonBar:!0}),((ae=(we=o.customFields)==null?void 0:we[g])==null?void 0:ae.max)&&f.jsx("div",{className:"text-red-500 text-sm",children:(Me=o.customFields[g])==null?void 0:Me.max.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})})]}),x.fieldType===Se.CUSTOM&&f.jsx(f.Fragment,{children:f.jsx("div",{className:"min-w-[200px] ",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Custom "}),f.jsx("input",{title:"Custom Expression",name:"custom",type:"text",placeholder:s.min||"Custom Expression",value:x.custom||"",onBlur:Q=>d(g,"custom",Q.target.value,x.fieldType),onChange:Q=>m(g,Q),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded"}),((Ee=(Re=o.customFields)==null?void 0:Re[g])==null?void 0:Ee.custom)&&f.jsx("div",{className:"text-red-500 text-sm",children:(de=o.customFields[g])==null?void 0:de.custom.split(". ").map((Q,Ie)=>f.jsx("small",{children:Q},Ie))})]})})})]})})]},g)}),f.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[f.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:D,children:[f.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),f.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:N,children:"Save & Close"})]})})]})},D5=h.memo(N5),kg=({children:e,...t})=>{const[r,n]=h.useState(!1);return h.useEffect(()=>{const a=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(a),n(!1)}},[]),r?f.jsx(Dh,{...t,children:e}):null},I5=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:a}=e,[o,i]=h.useState(!1),[s,l]=h.useState(!1),[c,u]=h.useState({}),[d,m]=h.useState(r.data),[p,v]=h.useState(r.data.message),y=(x,g)=>{delete r.data.errors;const b={...d,[x]:g};m(b),a(r.id,b)},S=(x,g)=>{const b=Dl(x,g);u(k=>({...k,[x]:b}))},w=()=>{delete r.data.errors;const x={id:ft(),property:"",title:"",whatsAppQuestion:"",fieldType:""},g={...d,customFields:[...d.customFields,x]};m(g),a(r.id,g),i(!0)},j=x=>{delete r.data.errors;const g=d.customFields.filter((k,E)=>E!==x),b={...d,customFields:g};m(b),a(r.id,b)},D=x=>{const g={...x,customFields:x.customFields.map(b=>({...b}))};v(Math.random().toString()),m(g),a(r.id,g)},N=()=>i(!1),I=x=>{d.customFields.forEach(g=>{g.isCollapsed=!0}),d.customFields[x].isCollapsed=!1,i(!0)},M=x=>{const{source:g,destination:b}=x;if(!b)return;const k=Array.from(d.customFields),[E]=k.splice(g.index,1);k.splice(b.index,0,E);const O={...d,customFields:k};m(O),a(r.id,O)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Custom Form"}),f.jsxs("div",{className:"flex",children:[f.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(x=>!x),children:f.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:f.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),f.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&f.jsxs("div",{className:"space-y-2 py-2 px-2",children:[f.jsxs("div",{className:"mb-2",title:"Property Name",children:[f.jsx("input",{type:"text",placeholder:"Property Name",value:d.property,onChange:x=>y("property",x.target.value),onBlur:x=>S("property",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&f.jsx("small",{className:"text-red-500",children:c.property})]}),f.jsxs("div",{children:[f.jsx(Wt,{maxLength:300,message:d.message,onChange:x=>y("message",x)},p),c.message&&f.jsx("small",{className:"text-red-500",children:c.message})]}),f.jsx(xh,{onDragEnd:M,children:f.jsx(kg,{droppableId:"customForm",children:x=>{var g;return f.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:"space-y-2",children:[(g=d.customFields)==null?void 0:g.map((b,k)=>f.jsx("div",{className:"nodrag relative subOption-wrapper",children:f.jsx(Nh,{draggableId:b.id,index:k,children:E=>f.jsx("div",{ref:E.innerRef,...E.draggableProps,...E.dragHandleProps,style:{...E.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:f.jsx(Zj,{customField:b,index:k,onDelete:j,length:d.customFields.length,expandToEdit:I},k)})},b.id)},k)),x.placeholder]})}})}),f.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),f.jsx(He,{type:"target",position:oe.Top,id:t}),f.jsx(He,{type:"source",position:oe.Bottom,id:"source"}),f.jsx(co,{header:"Header",visible:o,style:{width:"100vw"},onHide:()=>{o&&N()},children:f.jsx(D5,{save:D,optionsData:d,close:N})})]})},T5=h.memo(I5),M5={borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundColor:"#e0e0e0",color:"#555",fontSize:20},_5=({alt:e,src:t,sx:r,children:n,...a})=>{var o;return f.jsx("div",{style:{...M5,...r},...a,children:t?f.jsx("img",{src:t,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"},onError:i=>{var s;i.target.style.display="none",i.target.parentElement.textContent=(e==null?void 0:e[0])||((s=n==null?void 0:n.toString())==null?void 0:s[0])||""}}):(e==null?void 0:e[0])||((o=n==null?void 0:n.toString())==null?void 0:o[0])||""})},O5=({avatar:e,label:t,icon:r,deleteIcon:n,onClick:a,onDelete:o,variant:i="filled",size:s="medium",sx:l,title:c,...u})=>{const d={display:"inline-flex",alignItems:"center",padding:s==="small"?"0 8px":"0 12px",fontSize:s==="small"?11:13,height:s==="small"?28:32,background:i==="outlined"?"transparent":"#e0e0e0",border:i==="outlined"?"1px solid #bdbdbd":"none",cursor:a?"pointer":"default",...l};return f.jsxs("div",{style:d,onClick:a,title:c,...u,children:[e&&f.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:e}),r&&f.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:r}),t&&f.jsx("span",{style:{marginRight:n?6:0},children:t}),n&&o&&f.jsx("span",{style:{marginLeft:6,display:"flex",alignItems:"center",cursor:"pointer"},onClick:m=>{m.stopPropagation(),o(m)},children:n})]})},vf=e=>{switch(e){case"pdf":case"application/pdf":return"application/pdf";case"images":case"image":case"image/*":return"image/*";case"video":case"video/*":return"video/*";default:return"application/pdf"}},P5=({id:e,data:t})=>{var M,x,g,b;const{node:r,onDelete:n,handleChange:a}=t;r.data.fileType=vf(r.data.fileType);const[o,i]=h.useState({}),[s,l]=h.useState(r.data.fileType),[c,u]=h.useState(!1),[d,m]=h.useState(((M=r.data.files)==null?void 0:M.length)>0?r.data.files:[]),p=(k,E)=>{let O="";k==="message"&&(E?E.length<3?O="Message must be at least 3 characters":E.length>500&&(O="Message must be at most 500 characters"):O="Message is required"),!O&&(k==="files"||k==="urls")&&r.data.files.length<=0&&r.data.urls.length<=0&&(O="Either Files or Image URLs are mandatory"),i(_=>({..._,[k]:O}))},v=(k,E)=>{delete r.data.errors;const O={...r.data,[k]:E};if(a(r.id,O),r.data=O,k==="fileType"){const _=vf(E);l(_),r.data.files=[],m([])}},y=()=>{u(!0)},S=k=>{r.data.files=k},w=()=>{v("urls",[...r.data.urls,""])},j=k=>{const E=r.data.urls.filter((O,_)=>_!==k);v("urls",E)},D=(k,E)=>{const O=r.data.urls.map((_,C)=>C===k?E:_);v("urls",O)},N=k=>{window.open(k)},I=k=>{const E=d.filter(O=>O.url!==k.url);m(E),r.data.files=E};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"File Upload"}),f.jsx("button",{title:"Delete File Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx(Wt,{message:r.data.message,onChange:k=>v("message",k),maxLength:500,minLength:2}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",title:"Select File Type",children:[f.jsxs("select",{value:r.data.fileType,onChange:k=>v("fileType",k.target.value),onBlur:k=>p("fileType",k.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select File Type"}),f.jsx("option",{value:"application/pdf",children:"PDF"}),f.jsx("option",{value:"image/*",children:"Images"}),f.jsx("option",{value:"video/*",children:"Video"})]}),r.data.errors&&((g=Object.keys(r.data.errors))==null?void 0:g.length)>0&&r.data.errors.fileType&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fileType})]}),d&&f.jsx("div",{className:"d-flex space-y-1",children:d.map((k,E)=>f.jsx(O5,{title:k.name,avatar:f.jsx(_5,{alt:k.name,src:k.url}),label:k.name,onClick:()=>N(k.url),onDelete:()=>I(k),deleteIcon:f.jsx(tv,{}),variant:"outlined"},E))}),f.jsx("div",{className:"mb-2",children:f.jsx("button",{title:"Click to Select/Add Files",disabled:!r.data.fileType||r.data.urls.length>0,type:"button",onClick:y,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:"Add Files"})}),f.jsxs("div",{className:"mb-1",title:"URLs",children:[r.data.urls.map((k,E)=>{var O;return f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("input",{type:"text",placeholder:"URL",value:k,onChange:_=>D(E,_.target.value),onBlur:_=>p("urls",_.target.value),disabled:r.data.files.length>0,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),f.jsx("button",{type:"button",onClick:()=>j(E),className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-4 w-4 px-1 flex items-center justify-center text-sm font-extrabold ml-2",children:"×"}),r.data.errors&&((O=Object.keys(r.data.errors))==null?void 0:O.length)>0&&r.data.errors.fileOrUrl&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]},E)}),f.jsxs("button",{title:"Click to add Image Url's",type:"button",onClick:w,disabled:d.length>0,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),r.data.urls.length>0?"Add More":"Add Url"]}),o.urls&&!r.data.errors&&f.jsx("small",{className:"text-red-500",children:o.urls}),r.data.errors&&((b=Object.keys(r.data.errors))==null?void 0:b.length)>0&&r.data.errors.fileOrUrl&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]})]})]}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"}),c&&console.log(d,m,c,u,s,S)]})},R5=h.memo(P5),A5=({data:e,id:t})=>{const{onDelete:r}=e;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"GPT Handler"}),f.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete GPT Handler Node",onClick:()=>r(t),children:"×"})]}),f.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:f.jsx("p",{className:"nodrag",children:"From here on visitors would be handled by GPT"})}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"})]})},L5=h.memo(A5);function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(null,arguments)}function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function F5(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $5(e){var t=F5(e,"string");return io(t)=="symbol"?t:t+""}function Cg(e,t,r){return(t=$5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5(e){if(Array.isArray(e))return e}function H5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function yf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function z5(e,t){if(e){if(typeof e=="string")return yf(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yf(e,t):void 0}}function W5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(e,t){return B5(e)||H5(e,t)||z5(e,t)||W5()}var V5=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,Ho=lo.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:V5}});function bf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bf(Object(r),!0).forEach(function(n){Cg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Eg=h.memo(h.forwardRef(function(e,t){var r=la(),n=h.useContext(ca),a=Ho.getProps(e,n),o=$g(e)||{},i=a.orientation==="vertical",s=a.orientation==="horizontal",l=a.orientation==="both",c=h.useState(l?{rows:0,cols:0}:0),u=Ar(c,2),d=u[0],m=u[1],p=h.useState(l?{rows:0,cols:0}:0),v=Ar(p,2),y=v[0],S=v[1],w=h.useState(0),j=Ar(w,2),D=j[0],N=j[1],I=h.useState(l?{rows:0,cols:0}:0),M=Ar(I,2),x=M[0],g=M[1],b=h.useState(a.numToleratedItems),k=Ar(b,2),E=k[0],O=k[1],_=h.useState(a.loading||!1),C=Ar(_,2),T=C[0],R=C[1],$=h.useState([]),A=Ar($,2),P=A[0],F=A[1],W=Ho.setMetaData({props:a,state:{first:d,last:y,page:D,numItemsInViewport:x,numToleratedItems:E,loading:T,loaderArr:P}}),z=W.ptm;Df(Ho.css.styles,{name:"virtualscroller"});var V=h.useRef(null),G=h.useRef(null),H=h.useRef(null),B=h.useRef(null),X=h.useRef(l?{top:0,left:0}:0),Z=h.useRef(null),se=h.useRef(null),U=h.useRef({}),ce=h.useRef({}),Ce=h.useRef(null),we=h.useRef(null),ae=h.useRef(null),Me=h.useRef(null),Re=h.useRef(!1),Ee=h.useRef(null),de=h.useRef(!1),Q=Bg({listener:function(q){return Ir()},when:!a.disabled}),Ie=Ar(Q,1),Rt=Ie[0],At=Ma({target:"window",type:"orientationchange",listener:function(q){return Ir()},when:!a.disabled}),kt=Ar(At,1),nt=kt[0],Lt=function(){return V},pt=function(q){return Math.floor((q+E*4)/(a.step||1))},Ct=function(q){G.current=q||G.current||fe.findSingle(V.current,".p-virtualscroller-content")},Et=function(q){return a.step?D!==pt(q):!0},jt=function(q){X.current=l?{top:0,left:0}:0,V.current&&V.current.scrollTo(q)},qt=function(q){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",ie=bt(),le=ie.numToleratedItems,ge=Zt(),he=function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$t=arguments.length>1?arguments[1]:void 0;return gt<=$t?0:gt},xe=function(gt,$t,_r){return gt*$t+_r},Fe=function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return jt({left:gt,top:$t,behavior:re})},Ae=l?{rows:0,cols:0}:0,et=!1;l?(Ae={rows:he(q[0],le[0]),cols:he(q[1],le[1])},Fe(xe(Ae.cols,a.itemSize[1],ge.left),xe(Ae.rows,a.itemSize[0],ge.top)),et=d.rows!==Ae.rows||d.cols!==Ae.cols):(Ae=he(q,le),s?Fe(xe(Ae,a.itemSize,ge.left),0):Fe(0,xe(Ae,a.itemSize,ge.top)),et=d!==Ae),Re.current=et,m(Ae)},Qe=function(q,re){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(re){var le=yt(),ge=le.first,he=le.viewport,xe=function(){var $t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return jt({left:$t,top:_r,behavior:ie})},Fe=re==="to-start",Ae=re==="to-end";if(Fe){if(l)he.first.rows-ge.rows>q[0]?xe(he.first.cols*a.itemSize[1],(he.first.rows-1)*a.itemSize[0]):he.first.cols-ge.cols>q[1]&&xe((he.first.cols-1)*a.itemSize[1],he.first.rows*a.itemSize[0]);else if(he.first-ge>q){var et=(he.first-1)*a.itemSize;s?xe(et,0):xe(0,et)}}else if(Ae){if(l)he.last.rows-ge.rows<=q[0]+1?xe(he.first.cols*a.itemSize[1],(he.first.rows+1)*a.itemSize[0]):he.last.cols-ge.cols<=q[1]+1&&xe((he.first.cols+1)*a.itemSize[1],he.first.rows*a.itemSize[0]);else if(he.last-ge<=q+1){var it=(he.first+1)*a.itemSize;s?xe(it,0):xe(0,it)}}}else qt(q,ie)},at=function(){return T?a.loaderDisabled?P:[]:Mr()},Nt=function(){return a.columns&&l||s?T&&a.loaderDisabled?l?P[0]:P:a.columns.slice(l?d.cols:d,l?y.cols:y):a.columns},yt=function(){var q=function(Ae,et){return Math.floor(Ae/(et||Ae))},re=d,ie=0;if(V.current){var le=V.current,ge=le.scrollTop,he=le.scrollLeft;if(l)re={rows:q(ge,a.itemSize[0]),cols:q(he,a.itemSize[1])},ie={rows:re.rows+x.rows,cols:re.cols+x.cols};else{var xe=s?he:ge;re=q(xe,a.itemSize),ie=re+x}}return{first:d,last:y,viewport:{first:re,last:ie}}},bt=function(){var q=Zt(),re=V.current?V.current.offsetWidth-q.left:0,ie=V.current?V.current.offsetHeight-q.top:0,le=function(Ae,et){return Math.ceil(Ae/(et||Ae))},ge=function(Ae){return Math.ceil(Ae/2)},he=l?{rows:le(ie,a.itemSize[0]),cols:le(re,a.itemSize[1])}:le(s?re:ie,a.itemSize),xe=E||(l?[ge(he.rows),ge(he.cols)]:ge(he));return{numItemsInViewport:he,numToleratedItems:xe}},wt=function(){var q=bt(),re=q.numItemsInViewport,ie=q.numToleratedItems,le=function(xe,Fe,Ae){var et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Xt(xe+Fe+(xe<Ae?2:3)*Ae,et)},ge=l?{rows:le(d.rows,re.rows,ie[0]),cols:le(d.cols,re.cols,ie[1],!0)}:le(d,re,ie);g(re),O(ie),S(ge),a.showLoader&&F(l?Array.from({length:re.rows}).map(function(){return Array.from({length:re.cols})}):Array.from({length:re})),a.lazy&&Promise.resolve().then(function(){Ee.current={first:a.step?l?{rows:0,cols:d.cols}:0:d,last:Math.min(a.step?a.step:ge,(a.items||[]).length)},a.onLazyLoad&&a.onLazyLoad(Ee.current)})},ht=function(q){a.autoSize&&!q&&Promise.resolve().then(function(){if(G.current){G.current.style.minHeight=G.current.style.minWidth="auto",G.current.style.position="relative",V.current.style.contain="none";var re=[fe.getWidth(V.current),fe.getHeight(V.current)],ie=re[0],le=re[1];(l||s)&&(V.current.style.width=(ie<Ce.current?ie:a.scrollWidth||Ce.current)+"px"),(l||i)&&(V.current.style.height=(le<we.current?le:a.scrollHeight||we.current)+"px"),G.current.style.minHeight=G.current.style.minWidth="",G.current.style.position="",V.current.style.contain=""}})},Xt=function(){var q,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ie=arguments.length>1?arguments[1]:void 0;return a.items?Math.min(ie?((q=a.columns||a.items[0])===null||q===void 0?void 0:q.length)||0:(a.items||[]).length,re):0},Zt=function(){if(G.current){var q=getComputedStyle(G.current),re=parseFloat(q.paddingLeft)+Math.max(parseFloat(q.left)||0,0),ie=parseFloat(q.paddingRight)+Math.max(parseFloat(q.right)||0,0),le=parseFloat(q.paddingTop)+Math.max(parseFloat(q.top)||0,0),ge=parseFloat(q.paddingBottom)+Math.max(parseFloat(q.bottom)||0,0);return{left:re,right:ie,top:le,bottom:ge,x:re+ie,y:le+ge}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},ir=function(){if(V.current){var q=V.current.parentElement,re=a.scrollWidth||"".concat(V.current.offsetWidth||q.offsetWidth,"px"),ie=a.scrollHeight||"".concat(V.current.offsetHeight||q.offsetHeight,"px"),le=function(he,xe){return V.current.style[he]=xe};l||s?(le("height",ie),le("width",re)):le("height",ie)}},Nr=function(){var q=a.items;if(q){var re=Zt(),ie=function(ge,he,xe){var Fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return ce.current=Vn(Vn({},ce.current),Cg({},"".concat(ge),(he||[]).length*xe+Fe+"px"))};l?(ie("height",q,a.itemSize[0],re.y),ie("width",a.columns||q[1],a.itemSize[1],re.x)):s?ie("width",a.columns||q,a.itemSize,re.x):ie("height",q,a.itemSize,re.y)}},Dr=function(q){if(G.current&&!a.appendOnly){var re=q?q.first:d,ie=function(xe,Fe){return xe*Fe},le=function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;B.current&&(B.current.style.top="-".concat(Fe,"px")),U.current=Vn(Vn({},U.current),{transform:"translate3d(".concat(xe,"px, ").concat(Fe,"px, 0)")})};if(l)le(ie(re.cols,a.itemSize[1]),ie(re.rows,a.itemSize[0]));else{var ge=ie(re,a.itemSize);s?le(ge,0):le(0,ge)}}},Dt=function(q){var re=q.target,ie=Zt(),le=function(dt,sr){return dt?dt>sr?dt-sr:dt:0},ge=function(dt,sr){return Math.floor(dt/(sr||dt))},he=function(dt,sr,ya,xo,Or,vn){return dt<=Or?Or:vn?ya-xo-Or:sr+Or-1},xe=function(dt,sr,ya,xo,Or,vn,ba){return dt<=vn?0:Math.max(0,ba?dt<sr?ya:dt-vn:dt>sr?ya:dt-2*vn)},Fe=function(dt,sr,ya,xo,Or,vn){var ba=sr+xo+2*Or;return dt>=Or&&(ba=ba+(Or+1)),Xt(ba,vn)},Ae=le(re.scrollTop,ie.top),et=le(re.scrollLeft,ie.left),it=l?{rows:0,cols:0}:0,gt=y,$t=!1,_r=X.current;if(l){var gn=X.current.top<=Ae,Ji=X.current.left<=et;if(!a.appendOnly||a.appendOnly&&(gn||Ji)){var Rn={rows:ge(Ae,a.itemSize[0]),cols:ge(et,a.itemSize[1])},su={rows:he(Rn.rows,d.rows,y.rows,x.rows,E[0],gn),cols:he(Rn.cols,d.cols,y.cols,x.cols,E[1],Ji)};it={rows:xe(Rn.rows,su.rows,d.rows,y.rows,x.rows,E[0],gn),cols:xe(Rn.cols,su.cols,d.cols,y.cols,x.cols,E[1],Ji)},gt={rows:Fe(Rn.rows,it.rows,y.rows,x.rows,E[0]),cols:Fe(Rn.cols,it.cols,y.cols,x.cols,E[1],!0)},$t=it.rows!==d.rows||gt.rows!==y.rows||it.cols!==d.cols||gt.cols!==y.cols||Re.current,_r={top:Ae,left:et}}}else{var es=s?et:Ae,ts=X.current<=es;if(!a.appendOnly||a.appendOnly&&ts){var rs=ge(es,a.itemSize),Og=he(rs,d,y,x,E,ts);it=xe(rs,Og,d,y,x,E,ts),gt=Fe(rs,it,y,x,E),$t=it!==d||gt!==y||Re.current,_r=es}}return{first:it,last:gt,isRangeChanged:$t,scrollPos:_r}},vr=function(q){var re=Dt(q),ie=re.first,le=re.last,ge=re.isRangeChanged,he=re.scrollPos;if(ge){var xe={first:ie,last:le};if(Dr(xe),m(ie),S(le),X.current=he,a.onScrollIndexChange&&a.onScrollIndexChange(xe),a.lazy&&Et(ie)){var Fe={first:a.step?Math.min(pt(ie)*a.step,(a.items||[]).length-a.step):ie,last:Math.min(a.step?(pt(ie)+1)*a.step:le,(a.items||[]).length)},Ae=!Ee.current||Ee.current.first!==Fe.first||Ee.current.last!==Fe.last;Ae&&a.onLazyLoad&&a.onLazyLoad(Fe),Ee.current=Fe}}},pn=function(q){if(a.onScroll&&a.onScroll(q),a.delay){if(Z.current&&clearTimeout(Z.current),Et(d)){if(!T&&a.showLoader){var re=Dt(q),ie=re.isRangeChanged,le=ie||(a.step?Et(d):!1);le&&R(!0)}Z.current=setTimeout(function(){vr(q),T&&a.showLoader&&(!a.lazy||a.loading===void 0)&&(R(!1),N(pt(d)))},a.delay)}}else vr(q)},Ir=function(){se.current&&clearTimeout(se.current),se.current=setTimeout(function(){if(V.current){var q=[fe.getWidth(V.current),fe.getHeight(V.current)],re=q[0],ie=q[1],le=re!==Ce.current,ge=ie!==we.current,he=l?le||ge:s?le:i?ge:!1;he&&(O(a.numToleratedItems),Ce.current=re,we.current=ie,ae.current=fe.getWidth(G.current),Me.current=fe.getHeight(G.current))}},a.resizeDelay)},Tr=function(q){var re=(a.items||[]).length,ie=l?d.rows+q:d+q;return{index:ie,count:re,first:ie===0,last:ie===re-1,even:ie%2===0,odd:ie%2!==0,props:a}},Xr=function(q,re){var ie=P.length||0;return Vn({index:q,count:ie,first:q===0,last:q===ie-1,even:q%2===0,odd:q%2!==0,props:a},re)},Mr=function(){var q=a.items;return q&&!T?l?q.slice(a.appendOnly?0:d.rows,y.rows).map(function(re){return a.columns?re:re.slice(a.appendOnly?0:d.cols,y.cols)}):s&&a.columns?q:q.slice(a.appendOnly?0:d,y):[]},hn=function(){V.current&&ye()&&(Ct(G.current),yr(),Rt(),nt(),Ce.current=fe.getWidth(V.current),we.current=fe.getHeight(V.current),ae.current=fe.getWidth(G.current),Me.current=fe.getHeight(G.current))},yr=function(){!a.disabled&&ye()&&(ir(),wt(),Nr())},ye=function(){if(fe.isVisible(V.current)){var q=V.current.getBoundingClientRect();return q.width>0&&q.height>0}return!1};h.useEffect(function(){!de.current&&ye()&&(hn(),de.current=!0)}),Jt(function(){yr()},[a.itemSize,a.scrollHeight,a.scrollWidth]),Jt(function(){a.numToleratedItems!==E&&O(a.numToleratedItems)},[a.numToleratedItems]),Jt(function(){a.numToleratedItems===E&&yr()},[E]),Jt(function(){var pe=o.items!==void 0&&o.items!==null,q=a.items!==void 0&&a.items!==null,re=pe?o.items.length:0,ie=q?a.items.length:0,le=re!==ie;if(l&&!le){var ge=pe&&o.items.length>0?o.items[0].length:0,he=q&&a.items.length>0?a.items[0].length:0;le=ge!==he}(!pe||le)&&yr();var xe=T;a.lazy&&o.loading!==a.loading&&a.loading!==T&&(R(a.loading),xe=a.loading),ht(xe)}),Jt(function(){X.current=l?{top:0,left:0}:0},[a.orientation]),h.useImperativeHandle(t,function(){return{props:a,getElementRef:Lt,scrollTo:jt,scrollToIndex:qt,scrollInView:Qe,getRenderedRange:yt}});var Y=function(q){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=Xr(q,re),le=je.getJSXElement(a.loadingTemplate,ie);return h.createElement(h.Fragment,{key:q},le)},J=function(){var q="p-virtualscroller-loading-icon",re=r({className:q},z("loadingIcon")),ie=a.loadingIcon||h.createElement(Tf,Il({},re,{spin:!0})),le=In.getJSXIcon(ie,Vn({},re),{props:a});if(!a.loaderDisabled&&a.showLoader&&T){var ge=Ke("p-virtualscroller-loader",{"p-component-overlay":!a.loadingTemplate}),he=le;if(a.loadingTemplate)he=P.map(function(Ae,et){return Y(et,l&&{numCols:x.cols})});else if(a.loaderIconTemplate){var xe={iconClassName:q,element:he,props:a};he=je.getJSXElement(a.loaderIconTemplate,xe)}var Fe=r({className:ge},z("loader"));return h.createElement("div",Fe,he)}return null},_e=function(){if(a.showSpacer){var q=r({ref:H,style:ce.current,className:"p-virtualscroller-spacer"},z("spacer"));return h.createElement("div",q)}return null},Ue=function(q,re){var ie=Tr(re),le=je.getJSXElement(a.itemTemplate,q,ie);return h.createElement(h.Fragment,{key:ie.index},le)},ut=function(){var q=Mr();return q.map(Ue)},me=function(){var q=ut(),re=Ke("p-virtualscroller-content",{"p-virtualscroller-loading":T}),ie=r({ref:G,style:U.current,className:re},z("content")),le=h.createElement("div",ie,q);if(a.contentTemplate){var ge={style:U.current,className:re,spacerStyle:ce.current,contentRef:function(xe){return G.current=je.getRefElement(xe)},spacerRef:function(xe){return H.current=je.getRefElement(xe)},stickyRef:function(xe){return B.current=je.getRefElement(xe)},items:Mr(),getItemOptions:function(xe){return Tr(xe)},children:q,element:le,props:a,loading:T,getLoaderOptions:function(xe,Fe){return Xr(xe,Fe)},loadingTemplate:a.loadingTemplate,itemSize:a.itemSize,rows:at(),columns:Nt(),vertical:i,horizontal:s,both:l};return je.getJSXElement(a.contentTemplate,ge)}return le};if(a.disabled){var K=je.getJSXElement(a.contentTemplate,{items:a.items,rows:a.items,columns:a.columns});return h.createElement(h.Fragment,null,a.children,K)}var Ne=Ke("p-virtualscroller",{"p-virtualscroller-inline":a.inline,"p-virtualscroller-both p-both-scroll":l,"p-virtualscroller-horizontal p-horizontal-scroll":s},a.className),ze=J(),We=me(),Ft=_e(),It=r({ref:V,className:Ne,tabIndex:a.tabIndex,style:a.style,onScroll:function(q){return pn(q)}},Ho.getOtherProps(a),z("root"));return h.createElement("div",It,We,Ft,ze)}));Eg.displayName="VirtualScroller";function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Y5(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U5(e){var t=Y5(e,"string");return so(t)=="symbol"?t:t+""}function jg(e,t,r){return(t=U5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},er.apply(null,arguments)}function Tl(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function G5(e){if(Array.isArray(e))return Tl(e)}function q5(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ng(e,t){if(e){if(typeof e=="string")return Tl(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tl(e,t):void 0}}function X5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dg(e){return G5(e)||q5(e)||Ng(e)||X5()}function Z5(e){if(Array.isArray(e))return e}function K5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function Q5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ta(e,t){return Z5(e)||K5(e,t)||Ng(e,t)||Q5()}var J5={root:function(t){var r=t.props,n=t.focusedState;return Ke("p-autocomplete p-component p-inputwrapper",{"p-autocomplete-dd":r.dropdown,"p-autocomplete-multiple":r.multiple,"p-inputwrapper-filled":r.value,"p-invalid":r.invalid,"p-inputwrapper-focus":n})},container:function(t){var r=t.props,n=t.context;return Ke("p-autocomplete-multiple-container p-component p-inputtext",{"p-disabled":r.disabled,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},loadingIcon:"p-autocomplete-loader",dropdownButton:"p-autocomplete-dropdown",removeTokenIcon:"p-autocomplete-token-icon",token:"p-autocomplete-token p-highlight",tokenLabel:"p-autocomplete-token-label",inputToken:"p-autocomplete-input-token",input:function(t){var r=t.props,n=t.context;return Ke("p-autocomplete-input",{"p-autocomplete-dd-input":r.dropdown,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},panel:function(t){var r=t.context;return Ke("p-autocomplete-panel p-component",{"p-ripple-disabled":r&&r.ripple===!1||zt.ripple===!1})},listWrapper:"p-autocomplete-items-wrapper",list:function(t){var r=t.virtualScrollerOptions,n=t.options;return r?Ke("p-autocomplete-items",n.className):"p-autocomplete-items"},emptyMessage:"p-autocomplete-item",item:function(t){var r=t.suggestion,n=t.optionGroupLabel,a=t.selected;return n?Ke("p-autocomplete-item",{"p-disabled":r.disabled},{selected:a}):Ke("p-autocomplete-item",{"p-disabled":r.disabled},{"p-highlight":a})},itemGroup:"p-autocomplete-item-group",footer:"p-autocomplete-footer",transition:"p-connected-overlay"},e3=`
@layer primereact {
    .p-autocomplete {
        display: inline-flex;
        position: relative;
    }
    
    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-autocomplete-dd .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }
    
    .p-autocomplete-dd .p-autocomplete-input,
    .p-autocomplete-dd .p-autocomplete-multiple-container {
         border-top-right-radius: 0;
         border-bottom-right-radius: 0;
     }
    
    .p-autocomplete-dd .p-autocomplete-dropdown {
         border-top-left-radius: 0;
         border-bottom-left-radius: 0px;
    }
    
    .p-autocomplete .p-autocomplete-panel {
        min-width: 100%;
    }
    
    .p-autocomplete-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-autocomplete-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-autocomplete-item {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-autocomplete-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-autocomplete-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-autocomplete-token-icon {
        cursor: pointer;
    }
    
    .p-autocomplete-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-autocomplete-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-autocomplete {
        display: flex;
    }
    
    .p-fluid .p-autocomplete-dd .p-autocomplete-input {
        width: 1%;
    }
    
    .p-autocomplete-items-wrapper {
        overflow: auto;
    } 
}
`,zo=lo.extend({defaultProps:{__TYPE:"AutoComplete",id:null,appendTo:null,autoFocus:!1,autoHighlight:!1,className:null,completeMethod:null,delay:300,disabled:!1,dropdown:!1,dropdownAriaLabel:null,dropdownAutoFocus:!0,dropdownIcon:null,dropdownMode:"blank",emptyMessage:null,field:null,forceSelection:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,variant:null,invalid:!1,itemTemplate:null,loadingIcon:null,maxLength:null,minLength:1,multiple:!1,name:null,onBlur:null,onChange:null,onClear:null,onClick:null,onContextMenu:null,onDblClick:null,onDropdownClick:null,onFocus:null,onHide:null,onKeyPress:null,onKeyUp:null,onMouseDown:null,onSelect:null,onShow:null,onUnselect:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,readOnly:!1,removeTokenIcon:null,scrollHeight:"200px",selectedItemTemplate:null,selectionLimit:null,showEmptyMessage:!1,size:null,style:null,suggestions:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,type:"text",value:null,virtualScrollerOptions:null,children:void 0},css:{classes:J5,styles:e3}});function wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wf(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ig=h.memo(h.forwardRef(function(e,t){var r=la(),n=e.ptm,a=e.cx,o=h.useContext(ca),i=function(g,b){return n(g,Qr({hostName:e.hostName},b))},s=function(g,b){return i(b,{context:{selected:e.selectedItem.current===g,disabled:g.disabled}})},l=function(g){return je.resolveFieldData(g,e.optionGroupLabel)},c=function(g){return je.resolveFieldData(g,e.field)},u=function(){if(e.panelFooterTemplate){var g=je.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),b=r({className:a("footer")},i("footer"));return h.createElement("div",b,g)}return null},d=function(g,b,k){return g.findIndex(function(E){return E[b]===k})},m=h.useRef({key:null,index:0,keyIndex:0}),p=function(g,b,k,E){var O=e.optionGroupTemplate?je.getJSXElement(e.optionGroupTemplate,g,k):e.getOptionGroupLabel(g)||g,_=r(Qr({index:k,className:a("itemGroup"),"data-p-highlight":!1},E),i("itemGroup"));return h.createElement("li",er({},_,{key:b||null}),O)},v=function(g){return e.selectedItem&&e.selectedItem.current&&Array.isArray(e.selectedItem.current)?e.selectedItem.current.some(function(b){return je.deepEquals(b,g)}):je.deepEquals(e.selectedItem.current,g)},y=function(g,b,k,E){var O=v(g),_=e.itemTemplate?je.getJSXElement(e.itemTemplate,g,k):e.field?je.resolveFieldData(g,e.field):g,C=r(Qr({index:k,role:"option",className:a("item",{optionGroupLabel:e.optionGroupLabel,suggestion:g,selected:O}),onClick:function(R){return e.onItemClick(R,g)},"aria-selected":O},E),s(g,"item"));return h.createElement("li",er({key:b},C),_,h.createElement(Ko,null))},S=function(g,b){var k=e.getOptionGroupChildren(g);return k.map(function(E,O){var _=b+"_"+O,C=r({"data-group":b,"data-index":O,"data-p-disabled":E.disabled});return y(E,_,O,C)})},w=function(g,b){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E={height:k.props?k.props.itemSize:void 0};if(e.optionGroupLabel){if(e.virtualScrollerOptions){var O=d(e.suggestions,e.optionGroupLabel,g);if(O!==-1){m.current={key:g,index:b,keyIndex:O};var _=b+"_"+l(g);return p(g,_,b,{style:E})}var C=b+"_"+m.current.keyIndex,T=r({style:E,"data-group":m.current.keyIndex,"data-index":b-m.current.index-1,"data-p-disabled":g.disabled});return y(g,C,b,T)}var R=S(g,b),$=b+"_"+l(g);return h.createElement(h.Fragment,{key:$},p(g,void 0,b,{style:E}),R)}var A="".concat(b,"_").concat(je.isObject(g)?c(g):g),P=r({style:E,"data-p-disabled":g.disabled},s(g,"item"));return y(g,A,b,P)},j=function(){return e.suggestions?e.suggestions.map(w):null},D=function(g){try{return g==null?void 0:g.map(function(b){return[b==null?void 0:b[e==null?void 0:e.optionGroupLabel]].concat(Dg(b==null?void 0:b[e==null?void 0:e.optionGroupChildren]))}).flat()}catch{}},N=function(){if(e.showEmptyMessage&&je.isEmpty(e.suggestions)){var g=e.emptyMessage||$s("emptyMessage"),b=r({className:a("emptyMessage")},i("emptyMessage")),k=r({className:a("list")},i("list"));return h.createElement("ul",k,h.createElement("li",b,g))}if(e.virtualScrollerOptions){var E=e.suggestions?e.optionGroupLabel?D(e==null?void 0:e.suggestions):e.suggestions:null,O=Qr(Qr({},e.virtualScrollerOptions),{style:Qr(Qr({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),autoSize:!0,items:E,itemTemplate:function($,A){return $&&w($,A.index,A)},contentTemplate:function($){var A=r({id:e.listId,ref:$.contentRef,style:$.style,className:a("list",{virtualScrollerProps:O,options:$}),role:"listbox"},i("list"));return h.createElement("ul",A,$.children)}});return h.createElement(Eg,er({ref:e.virtualScrollerRef},O,{pt:i("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var _=j(),C=r({id:e.listId,className:a("list"),role:"listbox"},i("list")),T=r({className:a("listWrapper"),style:{maxHeight:e.scrollHeight||"auto"}},i("listWrapper"));return h.createElement("div",T,h.createElement("ul",C,_))},I=function(){var g=Qr({},e.panelStyle||{}),b=N(),k=u(),E=r({className:Ke(e.panelClassName,a("panel",{context:o})),style:g,onClick:function(C){return e.onClick(C)}},i("panel")),O=r({classNames:a("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},i("transition"));return h.createElement(Fl,er({nodeRef:t},O),h.createElement("div",er({ref:t},E),b,k))},M=I();return h.createElement($l,{element:M,appendTo:e.appendTo})}));Ig.displayName="AutoCompletePanel";function xf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xf(Object(r),!0).forEach(function(n){jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Tg=h.memo(h.forwardRef(function(e,t){var r=la(),n=h.useContext(ca),a=zo.getProps(e,n),o=h.useState(a.id),i=Ta(o,2),s=i[0],l=i[1],c=h.useState(!1),u=Ta(c,2),d=u[0],m=u[1],p=h.useState(!1),v=Ta(p,2),y=v[0],S=v[1],w=h.useState(!1),j=Ta(w,2),D=j[0],N=j[1],I={props:a,state:{id:s,searching:d,focused:y,overlayVisible:D}},M=zo.setMetaData(I),x=M.ptm,g=M.cx,b=M.sx,k=M.isUnstyled;Rl(zo.css.styles,k,{name:"autocomplete"});var E=h.useRef(null),O=h.useRef(null),_=h.useRef(a.inputRef),C=h.useRef(null),T=h.useRef(null),R=h.useRef(null),$=h.useRef(null),A=Hg({target:E,overlay:O,listener:function(Y,J){var _e=J.type,Ue=J.valid;Ue&&(_e==="outside"?z(Y)||U():n.hideOverlaysOnDocumentScrolling?U():fe.isDocument(Y.target)||Ee())},when:D}),P=Ta(A,2),F=P[0],W=P[1],z=function(Y){return a.multiple?Y.target===C.current||C.current.contains(Y.target):Y.target===_.current},V=function(Y){R.current&&clearTimeout(R.current);var J=Y.target.value;a.multiple||B(Y,J),je.isEmpty(J)?(U(),a.onClear&&a.onClear(Y)):J.length>=a.minLength?R.current=setTimeout(function(){G(Y,J,"input")},a.delay):U()},G=function(Y,J,_e){J!=null&&(_e==="input"&&J.trim().length===0||a.completeMethod&&(m(!0),a.completeMethod({originalEvent:Y,query:J})))},H=function(Y,J,_e){if(a.multiple){if(_.current.value="",!Qe(J)&&bt()){var Ue=a.value?[].concat(Dg(a.value),[J]):[J];B(Y,Ue)}}else Z(J),B(Y,J);a.onSelect&&a.onSelect({originalEvent:Y,value:J}),_e||(fe.focus(_.current),U())},B=function(Y,J){a.onChange&&a.onChange({originalEvent:Y,value:J,stopPropagation:function(){Y.stopPropagation()},preventDefault:function(){Y.preventDefault()},target:{name:a.name,id:s,value:J}}),$.current=je.isNotEmpty(J)?J:null},X=function(Y){if(je.isEmpty(Y))return"";if(typeof Y=="string")return Y;if(a.selectedItemTemplate){var J=je.getJSXElement(a.selectedItemTemplate,Y);return a.multiple||typeof J=="string"?J:Y}if(a.field){var _e;return(_e=je.resolveFieldData(Y,a.field))!==null&&_e!==void 0?_e:Y}return Y},Z=function(Y){_.current.value=X(Y)},se=function(){N(!0)},U=function(){N(!1),m(!1)},ce=function(){xr.set("overlay",O.current,n&&n.autoZIndex||zt.autoZIndex,n&&n.zIndex.overlay||zt.zIndex.overlay),fe.addStyles(O.current,{position:"absolute",top:"0",left:"0"}),Ee()},Ce=function(){a.autoHighlight&&a.suggestions&&a.suggestions.length&&we()},we=function(){var Y,J=(Y=at())===null||Y===void 0||(Y=Y.firstChild)===null||Y===void 0?void 0:Y.firstChild;J&&(!k()&&fe.addClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!0))},ae=function(){F(),a.onShow&&a.onShow()},Me=function(){W()},Re=function(){xr.clear(O.current),a.onHide&&a.onHide()},Ee=function(){var Y=a.multiple?C.current:_.current;fe.alignOverlay(O.current,Y,a.appendTo||n&&n.appendTo||zt.appendTo)},de=function(Y){Ug.emit("overlay-click",{originalEvent:Y,target:E.current})},Q=function(Y){a.dropdownAutoFocus&&fe.focus(_.current,a.dropdownAutoFocus),a.dropdownMode==="blank"?G(Y,"","dropdown"):a.dropdownMode==="current"&&G(Y,_.current.value,"dropdown"),a.onDropdownClick&&a.onDropdownClick({originalEvent:Y,query:_.current.value})},Ie=function(Y,J){if(!(a.disabled||a.readOnly)){var _e=a.value[J],Ue=a.value.filter(function(ut,me){return J!==me});B(Y,Ue),a.onUnselect&&a.onUnselect({originalEvent:Y,value:_e})}},Rt=function(Y){if(D){var J=fe.findSingle(O.current,'li[data-p-highlight="true"]');switch(Y.which){case 40:if(J){var _e=kt(J);_e&&(!k()&&fe.addClass(_e,"p-highlight"),_e.setAttribute("data-p-highlight",!0),!k()&&fe.removeClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!1),fe.scrollInView(at(),_e))}else J=fe.findSingle(O.current,"li"),fe.getAttribute(J,"data-pc-section")==="itemgroup"&&(J=kt(J)),J&&(!k()&&fe.addClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!0));Y.preventDefault();break;case 38:if(J){var Ue=nt(J);Ue&&(!k()&&fe.addClass(Ue,"p-highlight"),Ue.setAttribute("data-p-highlight",!0),!k()&&fe.removeClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!1),fe.scrollInView(at(),Ue))}Y.preventDefault();break;case 13:J&&(At(Y,J),U(),Y.preventDefault());break;case 27:U(),Y.preventDefault();break;case 9:J&&At(Y,J),U();break}}if(a.multiple)switch(Y.which){case 8:if(a.value&&a.value.length&&!_.current.value){var ut=a.value[a.value.length-1],me=a.value.slice(0,-1);B(Y,me),a.onUnselect&&a.onUnselect({originalEvent:Y,value:ut})}break}},At=function(Y,J){if(a.optionGroupLabel){var _e=a.suggestions[J.dataset.group];H(Y,yt(_e)[J.dataset.index])}else H(Y,a.suggestions[J.getAttribute("index")])},kt=function(Y){var J=Y.nextElementSibling;return J?fe.getAttribute(J,"data-pc-section")==="itemgroup"?kt(J):J:null},nt=function(Y){var J=Y.previousElementSibling;return J?fe.getAttribute(J,"data-pc-section")==="itemgroup"?nt(J):J:null},Lt=function(Y){S(!0),a.onFocus&&a.onFocus(Y)},pt=function(Y){if(a.multiple){_.current.value="";return}var J=je.trim(Y.target.value).toLowerCase(),_e=(a.suggestions||[]).flatMap(function(ut){return ut.items?ut.items:[ut]}),Ue=_e.find(function(ut){var me=a.field?je.resolveFieldData(ut,a.field):ut,K=me?je.trim(me).toLowerCase():"";return K&&J===K});Ue?H(Y,Ue,!0):(_.current.value="",B(Y,null),a.onClear&&a.onClear(Y))},Ct=function(Y){S(!1),a.forceSelection&&pt(Y),a.onBlur&&a.onBlur(Y)},Et=function(Y){fe.focus(_.current),a.onClick&&a.onClick(Y)},jt=function(Y){Lt(Y),!k()&&fe.addClass(C.current,"p-focus"),C.current.setAttribute("data-p-focus",!0)},qt=function(Y){Ct(Y),!k()&&fe.removeClass(C.current,"p-focus"),C.current.setAttribute("data-p-focus",!1)},Qe=function(Y){return a.value?a.value.some(function(J){return je.equals(J,Y)}):!1},at=function(){var Y;return O==null||(Y=O.current)===null||Y===void 0?void 0:Y.firstChild},Nt=function(Y){return a.optionGroupLabel?je.resolveFieldData(Y,a.optionGroupLabel):Y},yt=function(Y){return je.resolveFieldData(Y,a.optionGroupChildren)},bt=function(){return!a.value||!a.selectionLimit||a.value.length<a.selectionLimit};h.useEffect(function(){je.combinedRefs(_,a.inputRef)},[_,a.inputRef]),h.useEffect(function(){je.isNotEmpty(a.value)&&($.current=a.value)},[a.value]),Al(function(){s||l(Nf()),a.autoFocus&&fe.focus(_.current,a.autoFocus),Ee()}),Jt(function(){d&&a.autoHighlight&&a.suggestions&&a.suggestions.length&&we()},[d]),Jt(function(){d&&(je.isNotEmpty(a.suggestions)||a.showEmptyMessage?se():U(),m(!1))},[a.suggestions]),Jt(function(){_.current&&!a.multiple&&Z(a.value),D&&Ee()}),Ll(function(){R.current&&clearTimeout(R.current),xr.clear(O.current)}),h.useImperativeHandle(t,function(){return{props:a,search:G,show:se,hide:U,focus:function(){return fe.focus(_.current)},getElement:function(){return E.current},getOverlay:function(){return O.current},getInput:function(){return _.current},getVirtualScroller:function(){return T.current}}});var wt=function(){var Y=X(a.value),J=D?s+"_list":null;return h.createElement(Yg,er({ref:_,id:a.inputId,type:a.type,name:a.name,defaultValue:Y,role:"combobox","aria-autocomplete":"list","aria-controls":J,"aria-haspopup":"listbox","aria-expanded":D,className:Ke(a.inputClassName,g("input",{context:n})),style:a.inputStyle,autoComplete:"off",readOnly:a.readOnly,required:a.required,disabled:a.disabled,placeholder:a.placeholder,size:a.size,maxLength:a.maxLength,tabIndex:a.tabIndex,onBlur:Ct,onFocus:Lt,onChange:V,onMouseDown:a.onMouseDown,onKeyUp:a.onKeyUp,onKeyDown:Rt,onKeyPress:a.onKeyPress,onContextMenu:a.onContextMenu,onClick:a.onClick,onDoubleClick:a.onDblClick,pt:x("input"),unstyled:a.unstyled},Tr,{__parentMetadata:{parent:I}}))},ht=function(Y,J){switch(Y.code){case"Space":case"NumpadEnter":case"Enter":Ie(Y,J),Y.preventDefault(),Y.stopPropagation();break}},Xt=function(){return je.isNotEmpty(a.value)?a.value.map(function(Y,J){var _e=J+"multi-item",Ue=r({className:g("removeTokenIcon"),onClick:function(We){return Ie(We,J)},tabIndex:a.tabIndex||"0","aria-label":$s("clear"),onKeyDown:function(We){return ht(We,J)}},x("removeTokenIcon")),ut=a.removeTokenIcon||h.createElement(Yl,Ue),me=!a.disabled&&In.getJSXIcon(ut,Fs({},Ue),{props:a}),K=r({className:g("token")},x("token")),Ne=r({className:g("tokenLabel")},x("tokenLabel"));return h.createElement("li",er({key:_e},K),h.createElement("span",Ne,X(Y)),me)}):($.current=null,null)},Zt=function(Y){var J=D?s+"_list":null,_e=r({className:g("inputToken")},x("inputToken")),Ue=r(Fs({id:a.inputId,ref:_,"aria-autocomplete":"list","aria-controls":J,"aria-expanded":D,"aria-haspopup":"listbox",autoComplete:"off",className:a.inputClassName,disabled:a.disabled,maxLength:a.maxLength,name:a.name,onBlur:qt,onChange:Y?V:void 0,onFocus:jt,onKeyDown:Y?Rt:void 0,onKeyPress:a.onKeyPress,onKeyUp:a.onKeyUp,placeholder:Y?a.placeholder:void 0,readOnly:a.readOnly||!Y,required:a.required,role:"combobox",style:a.inputStyle,tabIndex:a.tabIndex,type:a.type},Tr),x("input"));return h.createElement("li",_e,h.createElement("input",Ue))},ir=function(){var Y=bt(),J=Xt(),_e=Zt(Y),Ue=r({ref:C,className:g("container",{context:n}),onClick:Y?Et:void 0,onContextMenu:a.onContextMenu,onMouseDown:a.onMouseDown,onDoubleClick:a.onDblClick,"data-p-focus":y,"data-p-disabled":a.disabled},x("container"));return h.createElement("ul",Ue,J,_e)},Nr=function(){if(a.dropdown){var Y=a.dropdownAriaLabel||a.placeholder||$s("choose");return h.createElement(Wg,{type:"button",icon:a.dropdownIcon||h.createElement(Vg,null),className:g("dropdownButton"),disabled:a.disabled,onClick:Q,"aria-label":Y,pt:x("dropdownButton"),__parentMetadata:{parent:I}})}return null},Dr=function(){if(d){var Y=r({className:g("loadingIcon")},x("loadingIcon")),J=a.loadingIcon||h.createElement(Tf,er({},Y,{spin:!0})),_e=In.getJSXIcon(J,Fs({},Y),{props:a});return _e}return null},Dt=function(){return a.multiple?ir():wt()},vr=s+"_list",pn=je.isNotEmpty(a.tooltip),Ir=zo.getOtherProps(a),Tr=je.reduceKeys(Ir,fe.ARIA_PROPS),Xr=Dr(),Mr=Dt(),hn=Nr(),yr=r({id:s,ref:E,style:a.style,className:Ke(a.className,g("root",{focusedState:y}))},Ir,x("root"));return h.createElement(h.Fragment,null,h.createElement("span",yr,Mr,Xr,hn,h.createElement(Ig,er({hostName:"AutoComplete",ref:O,virtualScrollerRef:T},a,{listId:vr,onItemClick:H,selectedItem:$,onOverlayHide:U,onClick:de,getOptionGroupLabel:Nt,getOptionGroupChildren:yt,in:D,onEnter:ce,onEntering:Ce,onEntered:ae,onExit:Me,onExited:Re,ptm:x,cx:g,sx:b}))),pn&&h.createElement(zg,er({target:E,content:a.tooltip,pt:x("tooltip")},a.tooltipOptions)))}));Tg.displayName="AutoComplete";const t3=({paramsData:e,headerData:t,save:r,close:n,properties:a})=>{const[o,i]=h.useState(e),[s,l]=h.useState(t),[c]=h.useState({}),[u,d]=h.useState(a||[]);h.useEffect(()=>{i(e),l(t)},[e,t]);const m=(M,x,g)=>{if(g=="params"){const b=[...o];b[x]={...b[x],value:M.target.value},i(b)}else if(g=="headers"){const b=[...s];b[x]={...b[x],value:M.target.value},l(b)}},p=M=>{const x=u.filter(g=>g.toLowerCase().includes(M.query));d(x)},v=(M,x,g)=>{const{name:b,value:k}=M.target,E=g==="params"?[...o]:[...s];E[x]={...E[x],[b]:k},b==="valueType"&&(E[x].value=k==="date"?new Date:""),g==="params"?i(E):l(E)},y=M=>{const x={key:"",valueType:"",value:""};M==="params"?i(g=>[...g,x]):l(g=>[...g,x])},S=(M,x)=>{const g=x==="params"?o.filter((b,k)=>k!==M):s.filter((b,k)=>k!==M);x==="params"?i(g):l(g)},w=()=>{r(o,s)},j=()=>{r(o,s),n()},D=()=>f.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>N(),children:"Close"}),N=()=>{const M=document.querySelector(".p-datepicker");M&&(M.style.visibility="hidden")},I=(M,x,g)=>f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-800 mb-2 py-2 ",children:[f.jsx("div",{className:"min-w-[200px] px-4 rounded ",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Key"})})}),f.jsx("div",{className:"min-w-[200px] px-4 rounded",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Value Type"})})}),f.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Value"})})}),f.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded flex justify-end",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Delete"})})})]}),M.map((b,k)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2 bg-gray-800",children:[f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded ",children:f.jsxs("div",{className:"form-group",children:[f.jsx("input",{title:`${g} key`,placeholder:`${g} key`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"key",value:b.key,onChange:E=>v(E,k,x)}),c[`key-${k}`]&&f.jsx("small",{className:"text-red-500",children:c[`key-${k}`]})]})}),f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded",children:f.jsxs("div",{className:"form-group",children:[f.jsxs("select",{title:"Value Type",value:b.valueType,onChange:E=>v(E,k,x),className:"w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",name:"valueType",children:[f.jsx("option",{value:"",children:"Select Value Type"}),Qj.map(E=>f.jsx("option",{value:E.toLowerCase(),children:E.charAt(0).toUpperCase()+E.slice(1)},E))]}),c[`valueType-${k}`]&&f.jsx("small",{className:"text-red-500",children:c[`valueType-${k}`]})]})}),f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded",children:f.jsxs("div",{className:"form-group",children:[(!b.valueType||b.valueType!=="date"&&b.valueType!=="number"&&b.valueType!=="header"&&b.valueType!=="param")&&f.jsx("input",{title:`${g} Value`,placeholder:`${g} Value`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:b.value,onChange:E=>v(E,k,x)}),b.valueType&&b.valueType==="number"&&f.jsx("input",{title:`${g} Value`,placeholder:`${g} Value`,type:"number",maxLength:50,className:"appearance-none w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:b.value,onChange:E=>v(E,k,x),style:{MozAppearance:"textfield"}}),b.valueType&&(b.valueType==="date"||b.valueType==="time")&&f.jsx(Ba,{tooltipOptions:{position:"top"},showIcon:!0,placeholder:"Date",value:b.value||null,onChange:E=>v(E,k,x),showTime:b.valueType!==Se.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:Se.TIME===b.valueType,autoZIndex:!0,footerTemplate:D,showButtonBar:!0}),b.valueType&&(b.valueType==="param"||b.valueType==="header")&&f.jsx(Tg,{value:b.value,suggestions:u,completeMethod:p,onChange:E=>m(E,k,x),dropdown:!0}),c[`value-${k}`]&&f.jsx("small",{className:"text-red-500",children:c[`value-${k}`]})]})}),f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded flex justify-end items-center",children:M.length&&f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold",onClick:E=>{E.stopPropagation(),S(k,x)},children:"×"})})]},k)),f.jsxs("button",{className:"ml-1 px-3 py-1 font-semibold text-white btn-primary-custom rounded flex items-center",onClick:()=>y(x),children:[f.jsx("svg",{className:"w-5 h-5 mr-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add ",g.slice(0,-1)]})]});return f.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:f.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[f.jsx("h5",{className:"modal-title text-lg font-bold",children:"HTTP Params"}),f.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:n,children:"×"})]})}),f.jsxs("div",{className:"overflow-y-auto p-4 mt-16 mb-20",children:[I(o,"params","Params"),I(s,"headers","Headers")]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[f.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:w,children:[f.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),f.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:j,children:"Save & Close"})]})})]})},r3=h.memo(t3),n3=({checked:e,onChange:t,className:r,size:n=20,...a})=>f.jsx("input",{type:"checkbox",checked:e,onChange:t,className:r,style:{width:n,height:n},...a}),a3=({id:e,data:t})=>{var b,k,E,O,_,C,T,R,$;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i,edges:s}=t,[l,c]=h.useState({...r.data}),[u,d]=h.useState(!1),[m,p]=h.useState([]);i.forEach(A=>A.type==="question");const v=()=>{o(i.map(A=>({...A,selected:!1})))};h.useEffect(()=>{const A=Lc(r.id,s,i),P=Fc(A);p(P)},[i]);const y=(A,P)=>{delete r.data.errors;const F={...r.data,[A]:P};c(F),a(r.id,F)},S=A=>{delete r.data.errors;const P=A.target.value;y("requestType",P)},w=(A,P,F)=>{delete r.data.errors;const{statusWiseFlow:W,...z}=r.data;W[A][P]=F;const V={...z,statusWiseFlow:W};c(V),a(r.id,V)},j=A=>{delete r.data.errors;const P={key:"",valueType:"",value:""},F={...l,[A]:[...l[A]||[],P]};c(F),a(r.id,F),d(!0)},D=(A,P)=>{var z,V;delete r.data.errors;let F;P=="params"?F=(z=l.params)==null?void 0:z.filter((G,H)=>H!==A):F=(V=l.headers)==null?void 0:V.filter((G,H)=>H!==A);const W={...l,[P]:F};c(W),a(r.id,W)},N=()=>{delete r.data.errors;const A={id:ft(),statusCode:""},P={...l,statusWiseFlow:[...l.statusWiseFlow||[],A]};c(P),a(r.id,P)},I=A=>{var W;delete r.data.errors;const P=(W=l.statusWiseFlow)==null?void 0:W.filter((z,V)=>V!==A),F={...l,statusWiseFlow:P};c(F),a(r.id,F)},M=(A,P)=>{delete r.data.errors;const F={...l,params:A,headers:P};c(F),a(r.id,F)},x=()=>d(!1),g=()=>d(!0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(b=r.data)!=null&&b.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"HTTP Node"}),f.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"py-2 px-2",children:[f.jsx("div",{className:"mb-2",title:"Property Name",children:f.jsx("input",{type:"text",placeholder:"Property Name",value:l.property,onClick:v,onChange:A=>y("property",A.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsx("div",{className:"mb-2",title:"Display Text",children:f.jsx("input",{type:"text",placeholder:"Display Text",value:l.displayText,onClick:v,onChange:A=>y("displayText",A.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsx("div",{className:"mb-2",title:"URL",children:f.jsx("input",{type:"text",placeholder:"URL",value:l.url,onClick:v,onChange:A=>y("url",A.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsx("div",{className:"mb-2",children:f.jsxs("select",{title:"Request Type",value:l.requestType,onClick:v,onChange:S,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Request Type"}),Kj.map(A=>f.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))]})}),f.jsx("div",{className:"mb-2",children:f.jsx(rv,{label:"Hide Data",className:"text-white cursor-pointer",children:f.jsx(n3,{checked:l.hideData,onChange:A=>y("hideData",A.target.checked),size:28})})}),l.params.map((A,P)=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:A.key||A.valueType||A.value?`${A.key} - ${A.valueType??""} - ${A.value??""}`:"HTTP Request Param",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>g(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:A.key||A.valueType||A.value?`${A.key} - ${A.valueType??""} - ${A.value??""}`:"Param"})]})}),l.params.length&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:F=>{F.stopPropagation(),D(P,"params")},children:"×"})})]})},P)),((E=(k=r.data.errors)==null?void 0:k.params)==null?void 0:E.length)>0&&f.jsx("small",{className:"text-red-500",children:"Errors in Params"}),f.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>j("params"),children:[f.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Param"]}),(O=l.headers)==null?void 0:O.map((A,P)=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:A.key||A.valueType||A.value?`${A.key} - ${A.valueType??""} - ${A.value??""}`:"HTTP Request Header",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>g(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:A.key||A.valueType||A.value?`${A.key} - ${A.valueType??""} - ${A.value??""}`:"Header"})]})}),l.headers.length&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:F=>{F.stopPropagation(),D(P,"headers")},children:"×"})})]})},P)),((C=(_=r.data.errors)==null?void 0:_.headers)==null?void 0:C.length)>0&&f.jsx("small",{className:"text-red-500",children:"Errors in Headers"}),f.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>j("headers"),children:[f.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Header"]}),f.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[f.jsx("div",{className:"col-span-10",title:"Success",children:f.jsx("input",{readOnly:!0,type:"text",value:"Success",onClick:v,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),f.jsx(He,{type:"source",position:oe.Right,id:l.successFlowId})]}),f.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[f.jsx("div",{className:"col-span-10",title:"Fail",children:f.jsx("input",{readOnly:!0,type:"text",value:"Fail",onClick:v,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),f.jsx(He,{type:"source",position:oe.Right,id:l.failureFlowId})]}),(T=l.statusWiseFlow)==null?void 0:T.map((A,P)=>f.jsx(f.Fragment,{children:f.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[f.jsx("div",{className:"col-span-10",title:"Fail Status Message",children:f.jsx("input",{type:"text",placeholder:"Status Message",value:A.statusCode,onClick:v,onChange:F=>w(P,"statusCode",F.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),f.jsx("div",{className:"col-span-2",title:"Delete",children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center w-[25px] w-[25px]",onClick:F=>{F.stopPropagation(),I(P)},children:"×"})}),f.jsx(He,{type:"source",position:oe.Right,id:A.id})]},P)})),(($=(R=r.data.errors)==null?void 0:R.statusWiseFlow)==null?void 0:$.length)>0&&f.jsx("small",{className:"text-red-500",children:"Errors in statusWiseFlow"}),f.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:N,children:[f.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add More Status"]})]}),f.jsx(He,{type:"target",position:oe.Top,id:e})]}),f.jsx(co,{header:"Edit HTTP Params",visible:u,style:{width:"600px"},onHide:x,children:f.jsx(r3,{save:M,paramsData:l.params||[],headerData:l.headers||[],close:x,properties:m})})]})},o3=h.memo(a3),i3=({data:e,id:t})=>{const{onDelete:r}=e;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:f.jsxs("div",{className:"flex justify-between items-center pb-2 py-2 px-4",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Lead Flow"}),f.jsx("button",{title:"Delete Lead Flow Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:"×"})]})}),f.jsx(He,{type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"})]})},s3=h.memo(i3),l3=({data:e,id:t})=>{const{onDelete:r}=e;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Lead Form"}),f.jsx("button",{title:"Delete Lead Form Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:"×"})]}),f.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:f.jsx("p",{className:"nodrag",children:"This will display lead form for the visitor"})}),f.jsx(He,{type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"})]})},c3=h.memo(l3),u3=({id:e,data:t})=>{var i,s,l,c,u;const{node:r,onDelete:n,handleChange:a}=t,o=(d,m)=>{delete r.data.errors;const p={...r.data,[d]:m};a(r.id,p)};return f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(i=r.data)!=null&&i.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Google Maps"}),f.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"py-2 px-2",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx(Wt,{maxLength:500,message:r.data.message,onChange:d=>o("message",d)}),((l=(s=r.data)==null?void 0:s.errors)==null?void 0:l.message)&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("input",{title:"Map Url",type:"text",value:r.data.url,onChange:d=>o("url",d.target.value),placeholder:"Google Maps URL",className:"nodrag w-full p-1 rounded-md border border-gray-600 bg-gray-700 text-white"}),((u=(c=r.data)==null?void 0:c.errors)==null?void 0:u.url)&&f.jsx("small",{className:"text-red-500",children:r.data.errors.url})]})]}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"})]})},d3=h.memo(u3),f3=({data:e})=>{const{node:t,handleChange:r,onDelete:n,setNodes:a}=e,[o,i]=h.useState(!1),s=h.useRef(null),l=h.useCallback(()=>{a(m=>m.map(p=>p.selected?{...p,selected:!1}:p))},[a]),c=()=>{i(!0),l()},u=m=>{delete t.data.errors;const p={...t,data:{...t.data,message:m}};r(t.id,p.data)},d=h.useCallback(m=>{s.current&&!s.current.contains(m.target)&&i(!1)},[]);return h.useEffect(()=>(document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)),[d]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{ref:s,className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${t.data.errors&&Object.keys(t.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Message"}),f.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",title:"Delete Message Node",onClick:m=>{m.stopPropagation(),n(t.id)},children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[o?f.jsx(Wt,{message:t.data.message,onChange:u,onClick:l}):f.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onDoubleClick:c,title:"Double Click ro Enter/Edit the Message",children:[f.jsx("span",{children:t.data.message||"Enter your message"}),f.jsx("svg",{className:"w-4 h-4 text-white ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})})]}),t.data.errors&&f.jsx("small",{className:"text-red-500",children:t.data.errors.message})]})]}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"})]})},m3=h.memo(f3),p3=({optionsData:e,save:t,close:r})=>{var x;const[n,a]=h.useState(e),[o,i]=h.useState({});h.useEffect(()=>{a(g=>({...g,subOptions:n.dataSource?[e.subOptions[0]]:e.subOptions}))},[e,n.dataSource]);const s=g=>{const{name:b,value:k}=g.target;a({...n,[b]:k})},l=(g,b,k)=>{if(a({...n,message:g}),b&&(k||k==0)){const E=[...n.subOptions],O={...E[k]};O[b]=g,E[k]=O,a({...n,subOptions:E})}},c=(g,b)=>{const k=Nl(g,b);i(E=>({...E,[g]:k}))},u=(g,b,k)=>{const E=Nl(b,k);i(O=>{var _;return{...O,subOptions:{...O.subOptions,[g]:{...(_=O.subOptions)==null?void 0:_[g],[b]:E}}}})},d=(g,b)=>{const{name:k,value:E}=b.target,O=[...n.subOptions],_={...O[g]};_[k]=E,O[g]=_,a({...n,subOptions:O})},m=(g,b)=>{const{value:k}=b.target,E=[...n.subOptions];E[g].category=k,a({...n,subOptions:E})},p=(g,b)=>{d(g,{...b,target:{name:b.target.name,value:b.target.checked}})},v=g=>{const b=n.subOptions.map((k,E)=>E===g?{...k,isCollapsed:!k.isCollapsed}:k);a({...n,subOptions:b})},y=()=>{a({...n,subOptions:[...n.subOptions,{id:ft(),title:"",subTitle:"",imageUrl:"",value:"",category:"",description:"",isLink:!1,leadEmailTo:"",leadEmailCc:[]}]})},S=(g,b)=>{if(["Enter","Tab",","].includes(b.key)){b.preventDefault();const k=b.currentTarget.value.trim();k&&(w(n.subOptions[g].id,k),b.currentTarget.value="")}},w=(g,b)=>{const k=n.subOptions.find(E=>E.id===g);k&&(Ci(b)?k.leadEmailTo.includes(b)?i(E=>{var O;return{...E,subOptions:{...E.subOptions,[g]:{...(O=E.subOptions)==null?void 0:O[g],leadEmailCc:"This email is already in Lead Email To."}}}}):(a({...n,subOptions:n.subOptions.map(E=>E.id===g?{...E,leadEmailCc:[...E.leadEmailCc,b]}:E)}),i(E=>{var O;return{...E,subOptions:{...E.subOptions,[g]:{...(O=E.subOptions)==null?void 0:O[g],leadEmailCc:""}}}})):i(E=>{var O;return{...E,subOptions:{...E.subOptions,[g]:{...(O=E.subOptions)==null?void 0:O[g],leadEmailCc:"Invalid email address"}}}}))},j=(g,b)=>{b.preventDefault();const E=b.clipboardData.getData("text").split(/[ ,;]/).map(T=>T.trim()).filter(T=>T!==""),O=n.subOptions.find(T=>T.id===g);if(!O)return;if(E.filter(T=>!Ci(T)).length>0){i(T=>{var R;return{...T,subOptions:{...T.subOptions,[g]:{...(R=T.subOptions)==null?void 0:R[g],leadEmailCc:"Invalid email address"}}}});return}if(E.filter(T=>O.leadEmailTo.includes(T)).length>0){i(T=>{var R;return{...T,subOptions:{...T.subOptions,[g]:{...(R=T.subOptions)==null?void 0:R[g],leadEmailCc:"Some emails are already in Lead Email To"}}}});return}a({...n,subOptions:n.subOptions.map(T=>T.id===g?{...T,leadEmailCc:[...T.leadEmailCc,...E]}:T)}),i(T=>{var R;return{...T,subOptions:{...T.subOptions,[g]:{...(R=T.subOptions)==null?void 0:R[g],leadEmailCc:""}}}})},D=(g,b)=>{a({...n,subOptions:n.subOptions.map(k=>k.id===g?{...k,leadEmailCc:k.leadEmailCc.filter(E=>E!==b)}:k)})},N=g=>{a({...n,subOptions:n.subOptions.filter((b,k)=>k!==g)})},I=()=>{t(n)},M=()=>{n.subOptions.forEach(g=>{g.isCollapsed=!0}),t(n),r()};return f.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:f.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[f.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),f.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Display Text"}),f.jsx("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:n.fieldLabel,onChange:s,onBlur:g=>c("fieldLabel",g.target.value)}),o.fieldLabel&&f.jsx("small",{className:"text-red-500",children:o.fieldLabel})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Property Name"}),f.jsx("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:n.property,onChange:s,onBlur:g=>c("property",g.target.value)}),o.property&&f.jsx("small",{className:"text-red-500",children:o.property})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Message"}),f.jsx(Wt,{maxLength:300,message:n.message,onChange:g=>l(g),onBlur:g=>c("message",g)}),o.message&&f.jsx("small",{className:"text-red-500",children:o.message})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Fall back"}),f.jsx("input",{title:"Fallback",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fallback",value:n.fallback,onChange:s,onBlur:g=>c("fallback",g.target.value)}),o.fallback&&f.jsx("small",{className:"text-red-500",children:o.fallback})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Data Source"}),f.jsx("input",{title:"DataSource",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"dataSource",value:n.dataSource,onChange:s,onBlur:g=>c("dataSource",g.target.value)}),o.dataSource&&f.jsx("small",{className:"text-red-500",children:o.dataSource})]})})]}),(x=n.subOptions)==null?void 0:x.map((g,b)=>{var k,E,O,_,C,T,R,$,A,P,F,W,z,V,G,H,B,X,Z,se,U,ce,Ce,we;return f.jsxs("div",{className:"accordion px-2 mb-2",children:[f.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>v(b),children:[f.jsx("span",{className:"mr-3",children:g.isCollapsed?f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),f.jsx("span",{className:"flex-1",children:g.title||`Sub Option ${b+1}`}),n.subOptions.length>1&&f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:ae=>{ae.stopPropagation(),N(b)},children:"×"})]}),!g.isCollapsed&&f.jsxs("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:[f.jsx("div",{className:"mb-2",children:f.jsx(nv,{label:"Link",checked:g.isLink,onChange:ae=>p(b,ae),className:"text-white cursor-pointer"})}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Title"}),f.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:g.title,onChange:ae=>d(b,ae),onBlur:ae=>u(b,"title",ae.target.value)}),((E=(k=o.subOptions)==null?void 0:k[b])==null?void 0:E.title)&&f.jsx("small",{className:"text-red-500",children:(O=o.subOptions[b])==null?void 0:O.title})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Sub Title"}),f.jsx("input",{title:"Sub Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"subTitle",value:g.subTitle,onChange:ae=>d(b,ae),onBlur:ae=>u(b,"subTitle",ae.target.value)}),((C=(_=o.subOptions)==null?void 0:_[b])==null?void 0:C.subTitle)&&f.jsx("small",{className:"text-red-500",children:(T=o.subOptions[b])==null?void 0:T.subTitle})]})}),f.jsx("div",{className:"min-w-[200px",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:g.isLink?"URL":"Value"}),f.jsx("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:g.value,onChange:ae=>d(b,ae),onBlur:ae=>u(b,"value",ae.target.value)}),(($=(R=o.subOptions)==null?void 0:R[b])==null?void 0:$.value)&&f.jsx("small",{className:"text-red-500",children:(A=o.subOptions[b])==null?void 0:A.value})]})}),f.jsx("div",{className:"min-w-[200px",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Image url"}),f.jsx("input",{title:"Image Url",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"imageUrl",value:g.imageUrl,onChange:ae=>d(b,ae),onBlur:ae=>u(b,"imageUrl",ae.target.value)}),((F=(P=o.subOptions)==null?void 0:P[b])==null?void 0:F.value)&&f.jsx("small",{className:"text-red-500",children:(W=o.subOptions[b])==null?void 0:W.value})]})}),!n.dataSource&&!g.isLink&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Select Category"}),f.jsxs("select",{title:"Select Category",style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",value:g.category,onChange:ae=>m(b,ae),onBlur:ae=>u(b,"category",ae.target.value),children:[f.jsx("option",{value:"",children:"Select Category"}),f.jsx("option",{value:"preSale",children:"Presale"}),f.jsx("option",{value:"general",children:"General"}),f.jsx("option",{value:"others",children:"Others"})]}),((V=(z=o.subOptions)==null?void 0:z[b])==null?void 0:V.category)&&f.jsx("small",{className:"text-red-500",children:(G=o.subOptions[b])==null?void 0:G.category})]})}),!g.isLink&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Lead Email To"}),f.jsx("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:g.leadEmailTo,onChange:ae=>d(b,ae),onBlur:ae=>u(b,"leadEmailTo",ae.target.value)}),((B=(H=o.subOptions)==null?void 0:H[b])==null?void 0:B.leadEmailTo)&&f.jsx("small",{className:"text-red-500",children:(X=o.subOptions[b])==null?void 0:X.leadEmailTo})]})}),!g.isLink&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:" Lead Email Cc"}),f.jsxs("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[g.leadEmailCc.map(ae=>f.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[ae,f.jsx("button",{type:"button",onClick:()=>D(g.id,ae),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:"×"})]},ae)),f.jsx("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:ae=>u(b,"leadEmailCc",ae.target.value),onKeyDown:ae=>S(b,ae),onPaste:ae=>j(g.id,ae)})]}),((se=(Z=o.subOptions)==null?void 0:Z[b])==null?void 0:se.leadEmailCc)&&f.jsx("small",{className:"text-red-500",children:(U=o.subOptions[b])==null?void 0:U.leadEmailCc})]})}),f.jsx("div",{className:"min-w-[200px",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Description"}),f.jsx(Wt,{maxLength:300,message:g.description,onChange:ae=>l(ae,"description",b),onBlur:ae=>c("description",ae)}),((Ce=(ce=o.subOptions)==null?void 0:ce[b])==null?void 0:Ce.description)&&f.jsx("small",{className:"text-red-500",children:(we=o.subOptions[b])==null?void 0:we.description})]})})]})]})]},b)}),!n.dataSource&&f.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:y,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[f.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:I,children:[f.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),f.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:M,children:"Save & Close"})]})})]})},h3=h.memo(p3),g3=({subOption:e,index:t,onDelete:r,expandToEdit:n,length:a})=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Sub Option"})]})}),a>1&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:o=>{o.stopPropagation(),r(t)},children:"×"})})]})}),v3=h.memo(g3),y3=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:a}=e,[o,i]=h.useState(!1),[s,l]=h.useState(!1),[c,u]=h.useState({}),[d,m]=h.useState(r.data),[p,v]=h.useState(r.data.message),y=(x,g)=>{const b=Nl(x,g);u(k=>({...k,[x]:b}))},S=(x,g)=>{delete r.data.errors;const b={...d,[x]:g};m(b),a(r.id,b)},w=()=>{delete r.data.errors;const x={id:ft(),title:"",subTitle:"",value:"",imageUrl:"",category:"",description:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1,isLink:!1},g={...d,subOptions:[...d.subOptions,x]};m(g),a(r.id,g),i(!0)},j=x=>{delete r.data.errors;const g=d.subOptions.filter((k,E)=>E!==x),b={...d,subOptions:g};m(b),a(r.id,b)},D=x=>{const g={...x,subOptions:x.subOptions.map(b=>({...b}))};v(Math.random().toString()),m(g),a(r.id,g)},N=()=>i(!1),I=x=>{d.subOptions.forEach(g=>{g.isCollapsed=!0}),d.subOptions[x].isCollapsed=!1,i(!0)},M=x=>{const{source:g,destination:b}=x;if(!b)return;const k=Array.from(d.subOptions),[E]=k.splice(g.index,1);k.splice(b.index,0,E);const O={...d,subOptions:k};m(O),a(r.id,O)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Option"}),f.jsxs("div",{className:"flex",children:[f.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(x=>!x),children:f.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:f.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),f.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&f.jsxs("div",{className:"space-y-2 py-2 px-2",children:[f.jsxs("div",{children:[f.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:d.fieldLabel,onChange:x=>S("fieldLabel",x.target.value),onBlur:x=>y("fieldLabel",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fieldLabel&&f.jsx("small",{className:"text-red-500",children:c.fieldLabel})]}),f.jsxs("div",{children:[f.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:d.property,onChange:x=>S("property",x.target.value),onBlur:x=>y("property",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&f.jsx("small",{className:"text-red-500",children:c.property})]}),f.jsxs("div",{children:[f.jsx(Wt,{maxLength:300,message:d.message,onChange:x=>S("message",x)},p),c.message&&f.jsx("small",{className:"text-red-500",children:c.message})]}),f.jsxs("div",{children:[f.jsx("input",{title:"Fall back",type:"text",maxLength:50,value:d.fallback,placeholder:"Fall back",onChange:x=>S("fallback",x.target.value),onBlur:x=>y("fallback",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fallback&&f.jsx("small",{className:"text-red-500",children:c.fallback})]}),f.jsx(xh,{onDragEnd:M,children:f.jsx(kg,{droppableId:"subOptions",children:x=>f.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:"space-y-2",children:[d.subOptions.map((g,b)=>f.jsxs("div",{className:"nodrag relative subOption-wrapper",children:[f.jsx(Nh,{draggableId:g.id,index:b,children:k=>f.jsx("div",{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,style:{...k.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:f.jsx(v3,{subOption:g,index:b,onDelete:j,length:d.subOptions.length,expandToEdit:I},b)})},g.id),f.jsx(He,{type:"source",position:oe.Right,id:g.id})]},b)),x.placeholder]})})}),f.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),f.jsx(He,{type:"target",position:oe.Top,id:t}),f.jsx(co,{header:"Header",visible:o,style:{width:"100vw"},onHide:()=>{o&&N()},children:f.jsx(h3,{save:D,optionsData:d,close:N})})]})},b3=h.memo(y3),w3=({id:e,data:t})=>{var m,p;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i}=t,[s,l]=h.useState({}),c=()=>{o(i.map(v=>({...v,selected:!1})))},u=(v,y)=>{delete r.data.errors;const S={...r.data,[v]:y};a(r.id,S)},d=v=>{delete r.data.errors,v.target.value?s.callConnectId&&l(S=>{const w={...S};return delete w.callConnectId,w}):l(S=>({...S,callConnectId:"Call Connect Name is Mandatory"}));const y=v.target.value;u("otpType",y)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg ",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"OTP Node"}),f.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx(Wt,{maxLength:500,message:r.data.message,onChange:v=>u("message",v),onClick:c}),r.data.errors&&((m=Object.keys(r.data.errors))==null?void 0:m.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("select",{title:"OTP Type",value:r.data.otpType,onClick:c,onChange:d,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Please select OTP type"}),f.jsx("option",{value:"phoneNumber",children:" Mobile Number"},"phoneNumber"),f.jsx("option",{value:"email",children:"Email"},"email")]}),r.data.errors&&((p=Object.keys(r.data.errors))==null?void 0:p.length)>0&&r.data.errors.otpType&&f.jsx("small",{className:"text-red-500",children:r.data.errors.otpType})]})]})]}),f.jsx(He,{id:"target",type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{id:"source",type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"})]})},x3=h.memo(w3),S3=({id:e,data:t})=>{var N,I,M,x,g,b;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i}=t,[s,l]=h.useState({}),c=h.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),u=h.useMemo(()=>{const k=new Date;return k.setMonth(k.getMonth()+3),k.setHours(23,59,59,999),k},[]),[d,m]=h.useState({}),p=(k,E)=>{delete r.data.errors,l({});const O={...r.data,[k]:E};a(r.id,O)},v=()=>{o(i.map(k=>({...k,selected:!1})))},y=(k,E)=>{let O="";r.data.fieldType===Se.CUSTOM&&!E.trim()&&(O="Regex pattern is required for custom type."),l(_=>({..._,[k]:O}))},S=k=>{delete r.data.errors,k.target.value?s.fieldType&&l(T=>{const R={...T};return delete R.fieldType,R}):l(T=>({...T,fieldType:"Question Type is Mandatory"}));const E=k.target.value,{min:O,max:_}=w(E),C={...r.data,fieldType:E,min:O,max:_,custom:""};a(r.id,C)},w=h.useCallback(k=>{switch(k){case Se.CUSTOM:return m({min:"Custom Expression",max:""}),{min:"",max:""};case Se.STRING:return m({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case Se.NUMBER:return m({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case Se.DATE:return m({min:"Min Date",max:"Max Date"}),{min:"",max:""};case Se.DATETIME:return m({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case Se.TIME:return m({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),j=()=>{const k=document.querySelector(".p-datepicker");k&&(k.style.visibility="hidden")},D=()=>f.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>j(),children:"Close"});return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(N=r.data)!=null&&N.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Question Node"}),f.jsx("button",{title:"Delete Question Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsx("div",{className:"mb-2",title:"Field Label",children:f.jsx("input",{type:"text",placeholder:"Field Label",value:r.data.fieldLabel||"",onClick:v,onChange:k=>p("fieldLabel",k.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsxs("div",{className:"mb-2",title:"Property Name (Alphanumeric, no spaces)",children:[f.jsx("input",{type:"text",placeholder:"Property Name (Alphanumeric, no spaces)",value:r.data.property||"",onClick:v,onChange:k=>p("property",k.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((I=Object.keys(r.data.errors))==null?void 0:I.length)>0&&r.data.errors.property&&f.jsx("small",{className:"text-red-500",children:r.data.errors.property})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx(Wt,{maxLength:500,message:r.data.message,onChange:k=>p("message",k)}),r.data.errors&&((M=Object.keys(r.data.errors))==null?void 0:M.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("select",{title:"Field Type",value:r.data.fieldType,onClick:v,onChange:S,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Field Type"}),Ih.map(k=>f.jsx("option",{value:k.value,children:k.label},k.value))]}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.fieldType&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fieldType})]}),f.jsxs("div",{className:"mb-2",children:[[Se.STRING,Se.NUMBER].includes(r.data.fieldType)&&f.jsxs("div",{className:"flex space-x-2 mt-2",children:[f.jsx("input",{title:d.min||"Min Length",type:"number",placeholder:d.min,value:r.data.min||"",onChange:k=>p("min",k.target.value),onClick:v,className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13}),f.jsx("input",{title:d.max||"Max Length",type:"number",placeholder:d.max,value:r.data.max||"",onClick:v,onChange:k=>p("max",k.target.value),className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13})]}),[Se.DATE,Se.DATETIME,Se.TIME].includes(r.data.fieldType)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-2",children:f.jsxs("select",{title:"Date Format",value:r.data.dateFormat,onClick:v,onChange:k=>p("dateFormat",k.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Date Format"}),Th.map(k=>f.jsx("option",{value:k,children:k},k))]})}),f.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[f.jsx(Ba,{tooltip:d.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:d.min||"Min",minDate:c,maxDate:u,value:r.data.min||null,onFocus:v,onChange:k=>p("min",k.value),showTime:r.data.fieldType!==Se.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded small-calendar",timeOnly:Se.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:D,showButtonBar:!0}),f.jsx(Ba,{tooltip:d.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,placeholder:d.max||"Max",minDate:r.data.min||c,maxDate:u,value:r.data.max||null,onFocus:v,onChange:k=>p("max",k.value),showTime:r.data.fieldType!==Se.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:Se.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:D,showButtonBar:!0})]})]}),r.data.fieldType===Se.CUSTOM&&f.jsxs(f.Fragment,{children:[f.jsx("input",{title:"Custom Expression",type:"text",placeholder:d.min||"Custom Expression",value:r.data.custom||"",onClick:v,onBlur:k=>y("custom",k.target.value),onChange:k=>p("custom",k.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded mt-2"}),((g=r.data.errors)==null?void 0:g.custom)&&f.jsx("small",{className:"text-red-500",children:r.data.errors.custom})]}),r.data.errors&&((b=Object.keys(r.data.errors))==null?void 0:b.length)>0&&r.data.errors.answer&&f.jsx("small",{className:"text-red-500",children:r.data.errors.answer})]}),r.data.fieldType&&f.jsx("div",{className:"mb-2",children:f.jsx(Wt,{maxLength:500,placeHolder:"Error Message",message:r.data.errorMessage,onChange:k=>p("errorMessage",k)})})]})]}),f.jsx(He,{id:"target",type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(He,{id:"source",type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"})]})},k3=h.memo(S3),C3=({data:e})=>{const{message:t}=e.node.data;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white p-2 rounded-md shadow-lg",children:[f.jsx("div",{className:"custom-node-body text-center",children:t}),f.jsx(He,{type:"source",position:oe.Bottom,className:"w-2 h-2 bg-white border-none"})]})},E3=h.memo(C3),j3=({data:e,id:t})=>{const{onDelete:r,stop:n}=e;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Stop"}),f.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete Stop Node",onClick:()=>r(t),children:"×"})]}),f.jsx("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:n||"The chat will stop here"}),f.jsx(He,{type:"target",position:oe.Top,className:"w-2 h-2 bg-white border-none"})]})},N3=e=>e.map(({id:t,type:r,data:n,position:a})=>(n.subOptions&&(n.subOptions=n.subOptions.map(o=>{const{...i}=o;return i})),{id:t,type:r,data:n,position:a})),D3=(e,t,r={})=>{const n=e.slice(1),a=[],o=e.find(c=>c.type==="start"),i=t.find(c=>c.source===(o==null?void 0:o.id)),s=i?i.target:"",l=n.map(c=>{var p,v,y,S,w,j,D;const u=t.find(N=>N.source===c.id),d=u?u.target:null,m={flowId:c.id,nextFlowId:c.type!=="options"&&c.type!=="http"?d:"",type:c.type,content:((p=c.data.message)==null?void 0:p.trim())||""};if((c.type==="options"||c.type==="question")&&(m.fieldLabel=(v=c.data.fieldLabel)==null?void 0:v.trim()),(c.type==="options"||c.type==="question"||c.type==="http"||c.type==="customForm")&&(m.property=(y=c.data.property)==null?void 0:y.trim()),c.type==="options"&&(m.meta={fallback:(S=c.data.fallback)==null?void 0:S.trim(),dataSource:(w=c.data.dataSource)==null?void 0:w.trim()}),c.type==="file"){const N=mN(c.data.fileType);c.data.files.length>0?m.meta={type:N,media:c.data.files.map(I=>{var M,x;return{name:I.name||"Unnamed file",url:((M=I.url)==null?void 0:M.trim())||"",type:of((x=I.url)==null?void 0:x.trim())}})}:m.meta={type:N,media:c.data.urls.map(I=>({url:(I==null?void 0:I.trim())||"",type:of(I==null?void 0:I.trim())}))}}if(c.type==="map"&&c.data.url&&(m.meta={url:(j=c.data.url)==null?void 0:j.trim()}),c.type==="question"&&(c.data.fieldType==="number"||c.data.fieldType==="string"||c.data.fieldType==="age"?m.meta={min:c.data.min?parseInt(c.data.min):c.data.min,max:c.data.max?parseInt(c.data.max):c.data.max,type:c.data.fieldType}:c.data.fieldType==="date"?m.meta={min:c.data.min?Fo(c.data.min,!0):c.data.min,max:c.data.max?Fo(c.data.max,!1,!0):c.data.min,type:c.data.fieldType}:c.data.fieldType==="datetime"?m.meta={min:c.data.min?Fo(c.data.min):c.data.min,max:c.data.max?Fo(c.data.max):c.data.min,type:c.data.fieldType}:c.data.fieldType==="time"?m.meta={min:cf(c.data.min),max:cf(c.data.max),type:c.data.fieldType}:c.data.fieldType==="custom"?m.meta={custom:(D=c.data.custom)==null?void 0:D.trim(),type:c.data.fieldType}:m.meta={type:c.data.fieldType},m.meta.dateFormat=c.data.dateFormat||"",m.meta.errorMessage=c.data.errorMessage||""),c.data.subOptions&&(m.children=c.data.subOptions.map(N=>{var M,x,g,b,k,E;const I=t.find(O=>O.sourceHandle===N.id);return{id:N.id,flowId:N.id,isLink:N.isLink,title:(M=N.title)==null?void 0:M.trim(),subTitle:(x=N.subTitle)==null?void 0:x.trim(),imageUrl:(g=N.imageUrl)==null?void 0:g.trim(),value:(b=N.value)==null?void 0:b.trim(),category:(k=N.category)==null?void 0:k.trim(),description:N.description,leadEmailTo:(E=N.leadEmailTo)==null?void 0:E.trim(),leadEmailCc:N.leadEmailCc?[...N.leadEmailCc]:[],nextFlowId:I?I.target:void 0}})),c.type==="http"){if(m.meta={displayText:c.data.displayText,requestType:c.data.requestType,hideData:c.data.hideData,url:c.data.url,successFlowId:Sf(c.data.successFlowId,t),failureFlowId:Sf(c.data.failureFlowId,t)},c.data.params.length>0){const N=c.data.params.map(I=>({key:I.key,valueType:I.valueType,value:kf(I.valueType,I.value)}));m.meta.params=N}if(c.data.headers.length>0){const N=c.data.headers.map(I=>({key:I.key,valueType:I.valueType,value:kf(I.valueType,I.value)}));m.meta.headers=N}if(c.data.statusWiseFlow.length>0){const N=c.data.statusWiseFlow.map(I=>{const M=t.find(x=>x.sourceHandle===I.id);return{statusCode:I.statusCode,flowId:I.id,nextFlowId:M?M.target:void 0}});m.meta.statusWiseFlowId=N}}return c.type==="callConnect"&&(m.content=c.data.message,m.meta={callConnectId:c.data.callConnectId,callAccepted:c.data.callAccepted,callRejected:c.data.callRejected,successMessage:c.data.successMessage,failureMessage:c.data.failureMessage}),c.type==="otp"&&(m.content=c.data.message,m.meta={otpType:c.data.otpType}),c.type==="customForm"&&(m.property=c.data.property,m.content=c.data.message,m.meta={customFields:c.data.customFields}),a.push({nodeId:c.id,position:c.position}),m});return{_id:r._id||"",organizationId:r.organizationId||"",botId:r.botId||"",createdAt:new Date().toISOString(),version:0,startFlowId:s,flows:l,__v:0,deployedAt:new Date().toISOString(),modifiedAt:new Date().toISOString(),positions:a}},Sf=(e,t)=>{const r=t.find(n=>n.sourceHandle===e);return(r==null?void 0:r.target)||""},kf=(e,t)=>e==="number"?Number(t):e==="date"?new Date(e):t,I3=({flowData:e,flowList:t,onSave:r,onVersionSelected:n,onDelete:a})=>{const o=h.useMemo(()=>({start:E3,message:m3,options:b3,leadForm:c3,leadFlow:s3,gpt:L5,stop:j3,file:R5,map:d3,question:k3,callConnect:$2,otp:x3,customForm:T5,http:o3}),[]),i=h.useMemo(()=>({custom:P2}),[]),[s,l]=h.useState([]),[c,u]=h.useState([]),[d,m]=h.useState({}),[p,v]=h.useState(!0),[y,S]=h.useState(null),[w,j]=h.useState(!1),D=h.useRef(null),N=h.useRef(!1),I=h.useRef(""),M=h.useRef({}),x=h.useRef({}),g=()=>{m({})};h.useEffect(()=>{N.current&&e&&(N.current=!1,D.current&&D.current.show({severity:"success",summary:"Chatbot Flow",detail:"Chatbot Flow Design has been saved successfully",life:5e3}));const{flowNodes:H,flowEdges:B}=af(e);l(H),u(B)},[e]),h.useEffect(()=>{v(s.length<2||Object.keys(d).length>0)},[s,d,c]);const b=h.useCallback(H=>{g(),l(B=>Xm(H,B))},[]),k=h.useCallback(H=>{if(H[0].type==="reset"&&!w&&x.current){I.current="Edge Delete",x.current=H,j(!0);return}g(),u(B=>Ju(H,B))},[w]),E=H=>{g(),u(B=>Ju(H,B))},O=H=>{g(),u(B=>{const X=B.filter(Z=>{const se=Z.source===H.source,U=Z.sourceHandle===H.sourceHandle;return!se||Z.sourceHandle&&!U});return Tm({...H,type:"custom"},X)})},_=h.useCallback(H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},[]),C=h.useCallback(H=>{if(!y){console.error("React Flow instance is not initialized yet.");return}if(g(),H.preventDefault(),!H.dataTransfer.getData("application/reactflow"))return;const B=y==null?void 0:y.screenToFlowPosition({x:H.clientX,y:H.clientY}),X=cN(H,B);l(Z=>Z.concat(X))},[y]),T=(H,B)=>{g();const X=s.map(Z=>Z.id===H?{...Z,selected:!1,data:{...Z.data,...B}}:{...Z,selected:!1});l(X)},R=h.useCallback(H=>{g(),l(B=>B.filter(X=>X.id!==H)),u(B=>B.filter(X=>X.source!==H&&X.target!==H))},[]),$=H=>{if(!w&&H){I.current="Node Delete",M.current=H,j(!0);return}},A=h.useCallback(H=>{if(H.key==="Delete"){const B=s.filter(Z=>Z.selected),X=c.filter(Z=>Z.selected);if(!w&&B.length>0){I.current="Node Delete",M.current=B[0].id,j(!0);return}if(!w&&X.length>0){I.current="Edge Delete",x.current=X,j(!0);return}B.length>0&&(R(B[0].id),u(Z=>Z.filter(se=>!B.some(U=>U.id===se.source||U.id===se.target)))),X.length>0&&u(Z=>Z.filter(se=>!X.includes(se)))}},[s,c,w,R]),P=h.useCallback(H=>{g(),u(H.reduce((B,X)=>{const Z=Gw(X,s,c),se=Uw(X,s,c),U=ic([X],c),ce=B.filter(we=>!U.includes(we)),Ce=Z.flatMap(({id:we})=>se.map(({id:ae})=>({id:`${we}->${ae}`,source:we,target:ae})));return[...ce,...Ce]},c))},[s,c]),F=(H,B)=>{H.dataTransfer.setData("application/reactflow",B)},W=H=>{if(s.length<2){const U={};return U.MinNodes="Minimum 2 nodes required for a valid flow",m(U),!1}let B={},X={};for(const U of s)if(U.type==="message"){const ce=v5(U.data);B={...B,...ce}}else if(U.type==="options"){const ce=y5(U,U.data,s,c);B={...B,...ce}}else if(U.type==="file"){const ce=b5(U.data);B={...B,...ce}}else if(U.type==="map"){const ce=w5(U.data);B={...B,...ce}}else if(U.type==="question"){const ce=S5(U.data);B={...B,...ce}}else if(U.type==="callConnect"){const ce=C5(U.data);B={...B,...ce}}else if(U.type==="otp"){const ce=E5(U.data);B={...B,...ce}}else if(U.type==="http"){const{newErrors:ce,newWarnings:Ce}=j5(U,s,c);B={...B,...ce},X={...Ce}}if(Object.keys(B).length>0){m(B);const U=Object.values(B);D.current&&D.current.show(U.map(ce=>({severity:"error",summary:"Error",detail:ce,life:3100}))),l(s),v(!0);return}if(H&&Object.keys(X).length>0){const U=Object.values(X);D.current&&D.current.show(U.map(ce=>({severity:"warn",summary:"Warning",detail:ce,life:3100}))),v(!0);return}const Z=N3(s),se=D3(Z,c,e);N.current=!0,r(se,H)},z=()=>{I.current="",j(!0)},V=()=>{const{flowNodes:H}=af(),B=c.filter(X=>X.selected);if(I.current=="Node Delete"){R(M.current),j(!1);return}else if(I.current==="Edge Delete"){x.current.length>0&&u(X=>X.filter(Z=>!B.includes(Z))),j(!1);return}l([H[0]]),u([]),j(!1)},G=()=>{a(e)};return h.useEffect(()=>{const H=document.getElementById("reactflow-wrap");return H&&H.addEventListener("keydown",A),()=>{H&&H.removeEventListener("keydown",A)}},[A]),f.jsxs(Gg,{children:[f.jsxs("div",{className:"flow-diagram",children:[f.jsx("div",{id:"reactflow-wrap",className:"reactflow-wrapper",children:f.jsx("div",{className:"flex flex-col h-full",children:f.jsx("div",{className:"reactflow-box",onDrop:C,onDragOver:_,children:f.jsx(dc,{children:f.jsxs(lp,{nodes:s.map(H=>({...H,data:{node:H,nodes:s,handleChange:(B,X)=>T(B,X),onDelete:$,edges:c,updateEdges:E,setNodes:l}})),edges:c,onInit:S,onNodesChange:b,onEdgesChange:k,onConnect:O,nodeTypes:o,edgeTypes:i,onNodesDelete:P,children:[f.jsx(j1,{}),f.jsx(O1,{}),f.jsx(O2,{})]})})})})}),f.jsx(Yf,{ref:D}),f.jsx("div",{className:"toolbar",children:f.jsx(F1,{onDragStart:F,clearFlow:z,onSave:H=>W(H),errors:d,nodes:s,flowList:t,onFlowSelectionChange:n,flowId:e==null?void 0:e._id,onDelete:G,flowData:e,isSaveDisabled:p})})]}),f.jsx(co,{header:"Confirmation",visible:w,style:{width:"25vw"},onHide:()=>j(!1),footer:f.jsx(P1,{onAccept:V,onReject:()=>j(!1)}),children:f.jsx("p",{className:"mb-3 text-red",children:"Are you Sure that you want to proceed?"})})]})};let Fr=null;function T3(e){e.origin||(e.origin=null),e.botId||(e.botId=null);try{const{origin:t,botId:r}=e;Fr=new BroadcastChannel("lp_web_chat");const n=M3(e);return Fr.addEventListener("message",n),Fr.postMessage({action:"GetConversationId",origin:t,botId:r}),()=>{Fr&&(Fr.removeEventListener("message",n),Fr.close(),Fr=null)}}catch(t){console.error("Unable to start session sharing:",t)}}function M3({onHistoryChange:e,getHistory:t,origin:r=null,botId:n=null}){return a=>{const o=a.data||{};if(!(o.origin!==r||o.botId!==n))try{if(o.action==="GetConversationId"){const i=t();Ml(i,r,n)}else if(o.action==="SetConversationId"){const{conversationId:i,history:s}=o;i?Mf(i||void 0):Bl(),s&&(e==null||e(s))}}catch(i){console.log("Error occurred when trying to handle session sharing:",i)}}}function Ml(e,t,r,n){if(Fr)try{const a=ji()||"";if(!n&&!a)return;Fr.postMessage({action:"SetConversationId",origin:t,botId:r,conversationId:a,history:e})}catch(a){console.error("Error sharing session:",a)}}function _l(){return{role:"assistant",type:"text",content:"Hello, greetings for the day, how may I assist you?"}}function _3(e,t,r){var v;const{updateContact:n,onReceiveChatResponse:a,bot:o,locationDetails:i,onCallback:s,recipientId:l,history:c,chatFlowId:u,preferredLanguage:d}=t,{flowId:m,flowType:p}=((v=c==null?void 0:c[c.length-1])==null?void 0:v.media)||{};return typeof e=="string"&&m&&(e={method:"flow-response",type:p,flowId:m,answer:e}),(e==null?void 0:e.type)==="customForm"&&(e!=null&&e.answer)&&(e={method:"flow-response",type:p,flowId:m,answer:e.answer}),r?P3(e,o,{onReceiveChatResponse:a,updateContact:n,onCallback:s,recipientId:l,chatFlowId:u,language:d},i):O3(e,o,{onReceiveChatResponse:a,updateContact:n,onCallback:s,recipientId:l,chatFlowId:u,language:d},i)}async function O3(e,t,{onReceiveChatResponse:r,updateContact:n,onCallback:a,recipientId:o,chatFlowId:i,language:s},l){const c=ji(),{_id:u,organizationId:d,botSettings:m}=t,p={userQuery:e,recipientDetails:{recipientId:o,conversationId:c,language:s,...l},chatFlowId:i};r&&(p.testMode=!0);try{const v=await Pf(`/bot/${d}/${u}/chat`,p,{noAuth:!0});return r==null||r(v),Mg(v,{updateContact:n,botSettings:m,onCallback:a})}catch(v){return[{role:"assistant",type:"text",content:v.message||"Unknown Server error"}]}}async function P3(e,t,{onReceiveChatResponse:r,updateContact:n,onCallback:a,recipientId:o,chatFlowId:i,language:s},l){const c=ji(),{_id:u,organizationId:d,botSettings:m}=t,p={userQuery:e,recipientDetails:{recipientId:o,conversationId:c,language:s,...l},chatFlowId:i};r&&(p.testMode=!0);try{const y=await(await fetch(`${qg}voicebot/voiceChat?organizationId=${d}&botId=${u}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).json();return r==null||r(y.data),{data:Mg(y.data,{updateContact:n,botSettings:m,onCallback:a}),audioUri:y.data.audioUri}}catch(v){return console.log(v,"error"),[{role:"assistant",type:"text",content:v.message||"Unknown Server error"}]}}function Mg(e,{updateContact:t,botSettings:r,onCallback:n}){const{chatRefId:a,recipientId:o,messages:i}=e;return Mf(a),n==null||n("set-visitor-id",{recipientId:o}),qn(i,{updateContact:t,botSettings:r})}function qn(e,{updateContact:t,botSettings:r}){if(!(e!=null&&e.length))return e;const n=e[e.length-1];return n.type==="form"&&e.push({role:"user",type:"lead",content:"",profile:n.media,updateContact:t,botSettings:r}),n.type==="customForm"&&(n.role==="assistant"&&(n.role="user"),Object.assign(n,{type:"customForm",content:"",media:n.media,updateContact:t,botSettings:r})),e}async function R3(e){try{const t=new URLSearchParams(window.location.search),r=t.get("token"),n=t.get("sourceUrl"),a={authToken:r,recipientId:e,sourceUrl:n},{startupFlow:o,hideChatWindow:i,...s}=await ua("/bot/get-bot-details-by-auth-token",a,{noAuth:!0});return{startupFlow:o,hideChatWindow:i,bot:s}}catch(t){console.log("Failed to init chat:-",t)}}async function Cf(e,t,r,{autoLaunch:n,startupMessages:a}){const{_id:o,organizationId:i,botSettings:s={}}=e,l=ji();if(!t||!l)return n?a||[_l()]:[];try{const c=await ua(`/bot/${i}/${o}/chat/history/${t}/${l}`,null,{noAuth:!0}),{messages:u}=c||{};return qn(u,{updateContact:r,botSettings:s})}catch(c){console.error("Failed to fetch chat history:-",c)}return n?[_l()]:[]}function A3({text:e="We are Online!",onHide:t,design:r,isLeft:n}){const a=L3(r,n),[o,i]=L.useState(!0),s=L.useCallback(l=>{l.preventDefault(),l.stopPropagation(),i(!1),t==null||t()},[t]);return o?f.jsxs("div",{className:"button-tooltip",style:a,children:[f.jsxs("div",{children:[f.jsx("img",{draggable:!1,className:"chat-hand",alt:"👋",src:"https://cwc.livserv.in/uploads/Templates/cwc_trend1/hand.png"}),f.jsx("b",{children:e}),f.jsx("br",{})]}),f.jsx("a",{className:"close-indicator",onClick:s,children:f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M1490 1245q0 40-24 68l-136 136q-24 24-68 24t-68-28l-294-294-294 294q-24 24-68 24t-68-28l-136-136q-24-24-24-68t24-68l294-294-294-294q-24-24-24-68t24-68l136-136q24-24 68-24t68 28l294 294 294-294q24-24 68-28t68 28l136 136q28 24 24 68t-24 68l-294 294 294 294q24 24 24 68z",fill:"#fff"})})})]}):null}function L3(e,t){let{spacingCorner:r,spacingBottom:n}=(e==null?void 0:e.launcher)||{};if(r=parseFloat(r)||void 0,n=parseFloat(n)||void 0,r&&(r+=5),n&&(n+=75),r||n)return{bottom:n,[t?"left":"right"]:r}}function F3({isLeft:e,bgColor:t,secBgColor:r,imageUrl:n,chatIcon:a,barText:o="Live Chat",fontSize:i,color:s,autoAnimate:l=!0,style:c,onClick:u}){const d=e?"bottom-left":"bottom-right",m={backgroundColor:t},p={backgroundImage:`linear-gradient(90deg, ${t}, ${r})`},v=L.useRef(null);return L.useEffect(()=>{if(l){const y=setInterval(()=>{var S;(S=v.current)==null||S.classList.remove("bar-hide"),setTimeout(()=>{var w;return(w=v.current)==null?void 0:w.classList.add("bar-hide")},7e3)},35e3);return()=>clearInterval(y)}},[l]),f.jsxs("div",{className:`lp-launcher expand-button ${d}`,onClick:u,style:c,children:[f.jsx("div",{ref:v,className:"text-container bar-hide",style:p,children:f.jsx("div",{className:"bar-text",style:{minWidth:"150px",fontSize:i,color:s},children:f.jsxs("p",{children:["Hi there, ",f.jsx("img",{draggable:!1,className:"chat-hand",alt:"👋",src:"https://cwc.livserv.in/uploads/Templates/cwc_trend1/hand.png"})," We are online!"]})})}),f.jsx("div",{className:"image-container",style:m,children:f.jsxs("div",{className:"image-sub-container",children:[n&&f.jsx("img",{src:n,alt:o}),!n&&a]})})]})}function $3({design:e,onToggle:t}){const{launcher:{launcherType:r,buttonLogoUrl:n,buttonOnMobile:a,barText:o,fontSize:i,spacingCorner:s,spacingBottom:l,showMinimizeButtonToolTip:c=!0}={},header:{bgColor:u,secBgColor:d,fontColor:m}={},window:{fontFamily:p,align:v}={}}=e||{},y=v==="bottomLeft",S={bottom:l,[y?"left":"right"]:s};return r==="icon"||a?f.jsxs("div",{id:"lp-launcher",className:"lp-launcher button"+(n?"":" bordered"),onClick:t,style:{borderColor:u,color:m,background:n?"transparent":"linear-gradient(to right,"+u+", "+d+")",verticalAlign:"middle",padding:n?void 0:"16px",display:"flex",...S},children:[c&&f.jsx(A3,{design:e,isLeft:y}),n&&f.jsx("img",{src:n,alt:"Live Chat"}),!n&&ns]}):r==="expand"?f.jsx(F3,{isLeft:y,color:m,style:S,bgColor:u,secBgColor:d,imageUrl:n,chatIcon:ns,barText:o,fontSize:i,onClick:t}):f.jsxs("div",{id:"lp-launcher",className:"lp-launcher bar",onClick:t,style:{background:"linear-gradient(to right, "+u+", "+d+")",color:m,fontFamily:p,...S},children:[ns,f.jsx("span",{children:o||"Live Chat"})]})}function B3({design:e}){const t=e==null?void 0:e.remoteFontLink;return t?Of.createPortal(f.jsx("link",{rel:"stylesheet",href:t}),document.head,"remoteFont"):null}const H3={window:{spacingCorner:"0px",spacingBottom:"7px"},launcher:{spacingCorner:"0px",spacingBottom:"7px"}},Ef=["lead","options","customForm","stop"];function z3(e){var G,H;const{botDetails:t,botDesign:r,startupFlow:n,onReceiveChatResponse:a,autoLaunch:o,recipientId:i,origin:s,onCallback:l,optionsRenderer:c,fullscreen:u}=e,[d,m]=L.useState(o||!1),[p,v]=L.useState(r),[y,S]=L.useState(!1),[w,j]=L.useState(t),[D,N]=L.useState(n),[I,M]=L.useState(n==null?void 0:n.messages),[x,g]=L.useState(i),[b,k]=L.useState([]),[E,O]=L.useState(),[_,C]=L.useState(),T=L.useRef({autoLaunch:o});if(u)try{const B=window.innerWidth+"px",X=window.innerHeight+"px";p.window.width=B,p.window.height=X,p.window.spacingBottom="0px",p.window.spacingCorner="0px",p.launcher.spacingBottom="0px",p.launcher.spacingCorner="0px"}catch(B){console.error("Error setting fullscreen design:",B)}T.current.recipientId=x,T.current.bot=w,T.current.chatFlowId=D==null?void 0:D.flowId,T.current.startupMessages=I,T.current.origin=s,T.current.preferredLanguage=_;const R=L.useCallback(B=>{Xg(B),C(B)},[]);T.current.setAndBroadcastHistory=L.useCallback(B=>{var X;typeof B=="function"?k(Z=>{var U;const se=B(Z);return Ml(se,T.current.origin,(U=T.current.bot)==null?void 0:U._id,!0),se}):(k(B),Ml(B,T.current.origin,(X=T.current.bot)==null?void 0:X._id,!0))},[]),T.current.onCallback=L.useCallback((B,X)=>{B==="set-visitor-id"&&X.recipientId&&g(X.recipientId),l==null||l(B,X)},[l]),T.current.history=b,T.current.showBot=d,T.current.design=p,T.current.locationDetails=E,T.current.onReceiveChatResponse=a,T.current.isLoadedInConsole=!!a,L.useEffect(()=>{j(t)},[t]),L.useEffect(()=>{var Z;const{updateContact:B,bot:X}=T.current;N(n),(Z=n==null?void 0:n.messages)!=null&&Z.length?M(qn([...n.messages],{updateContact:B,botSettings:X.botSettings})):M(!1)},[n]),L.useEffect(()=>{if(w&&!T.current.isLoadedInConsole)return T3({botId:w._id,origin:T.current.origin,onHistoryChange:B=>{var X;!(B!=null&&B.length)&&!((X=T.current.history)!=null&&X.length)||k(B)},getHistory:()=>T.current.history})},[w]),L.useEffect(()=>{v(r)},[r]),L.useEffect(()=>{C(Zg());const{updateContact:B,bot:X,recipientId:Z,autoLaunch:se,setAndBroadcastHistory:U,startupMessages:ce}=T.current;X?Cf(X,Z,B,{autoLaunch:se,startupMessages:qn(ce,{updateContact:B,botSettings:X.botSettings})}).then(U):R3(Z).then(Ce=>{if(!Ce)return;const{bot:we,startupFlow:ae,hideChatWindow:Me}=Ce;if(Me)try{window.top&&window.top!==window.self&&window.top.postMessage({lsMessage:"hide_ls_window"},"*")}catch(Re){console.error("Error hiding chat window:",Re.message||Re)}else{j(we),N(ae);const Re=qn(ae==null?void 0:ae.messages,{updateContact:B,botSettings:we.botSettings});M(Re);const{design:Ee,isLoadedInConsole:de}=T.current;!Ee&&we.botDesign&&v(Kg(we.botDesign,de?void 0:H3)),Cf(we,Z,B,{autoLaunch:se,startupMessages:qn(Re,{updateContact:B,botSettings:we.botSettings})}).then(U)}}),Qg().then(O)},[]);const $=L.useCallback((B,X)=>{var ce,Ce,we,ae;const{design:Z,onCallback:se}=T.current;let{showBot:U}=T.current;U=B?!U:U,se==null||se("windowToggle",{state:U,design:U?{width:(ce=Z==null?void 0:Z.window)==null?void 0:ce.width,height:(Ce=Z==null?void 0:Z.window)==null?void 0:Ce.height,spacingBottom:(we=Z==null?void 0:Z.window)==null?void 0:we.spacingBottom,spacingCorner:(ae=Z==null?void 0:Z.window)==null?void 0:ae.spacingCorner}:X})},[]),A=L.useCallback(async B=>{var X;(X=T.current.history)!=null&&X.length||setTimeout(()=>{var se;if((se=T.current.startupMessages)!=null&&se.length){T.current.setAndBroadcastHistory(U=>U.concat(...T.current.startupMessages));return}const Z=_l();T.current.setAndBroadcastHistory(U=>U?U.concat(Z):[Z])},B||1700)},[]),P=L.useCallback(()=>{$(!0),m(B=>!B),S(!0),setTimeout(()=>S(!1),1e3),A()},[$,A]);L.useLayoutEffect(()=>{p&&$(!1,!0)},[p,$]);const F=L.useCallback(async(B,X=!1)=>_3(B,T.current,X),[]);T.current.updateContact=L.useCallback(async B=>{const X=await F(B);T.current.setAndBroadcastHistory(Z=>Z.filter(se=>!Ef.includes(se.type)).concat(...Array.isArray(X)?X:[]))},[F]);const W=L.useCallback(()=>{T.current.setAndBroadcastHistory([]),Bl(),delete T.current.history,A(700)},[A]);if(!w||!E)return null;let z="hide-chat";d&&y?z="opening":d&&!y?z="show-chat":!d&&y&&(z="closing"),z+=((G=p==null?void 0:p.window)==null?void 0:G.align)==="bottomLeft"?" bottom-left ":" bottom-right ",a&&(z+=" test-console");const V=b&&Ef.includes((H=b[b.length-1])==null?void 0:H.type);return f.jsxs(f.Fragment,{children:[f.jsx(B3,{design:p}),f.jsxs("div",{className:"chat-handler "+z,children:[d&&!!w&&f.jsx(Jg,{botDesign:p,messages:b,showTime:!0,displayComponents:void 0,onUserMessage:F,disabledMessage:V,onHistoryChange:T.current.setAndBroadcastHistory,onClear:W,onHide:P,onCallback:T.current.onCallback,optionsRenderer:c,language:_,setLanguage:R,fullscreen:u}),!d&&!y&&f.jsx($3,{design:p,onToggle:P})]})]})}async function W3(e){const{organizationId:t}=Dn.getState(),{selectedBotId:r}=Ol.getState();return await V3(t,r,e)}async function V3(e,t,r){const n=await ua(`/bot/${e}/${t}/chat-flow/${r}`);return console.log("getFlowWithId",n),n}async function Y3(e){try{const{organizationId:t}=Dn.getState(),{selectedBotId:r}=Ol.getState(),n=await ua(`/bot/${t}/${r}/chat-flow/${e}/startup`);if(typeof n=="string"&&n.startsWith("<"))throw new Error("Invalid JSON response, received HTML");return n}catch(t){return console.error("Error fetching startup with Flow ID:",t),null}}async function U3(e,t,r,n=!1){const a=Dn.getState();e||(e=a.organizationId),t||(t=a.selectedBotId);const o=`/bot/${e}/${t}/chat-flow${n?"?deploy=true":""}`;return await Pf(o,r)}async function G3(e,t,r){return await ev(`/bot/${e}/${t}/chat-flow/${r}`,null)}async function q3(){const{organizationId:e}=Dn.getState(),{selectedBotId:t}=Ol.getState();return(await ua(`/bot/${e}/${t}/chat-flow`)).map(X3).sort((n,a)=>n.label.includes("Draft")?-1:a.label.includes("Draft")?1:0)}function X3(e){return{value:e._id,label:`v${e.version} - ${e.deployedAt?"Deployed":"Draft"}`}}const _g="lp-vid";function Z3(e,t){if(e==="set-visitor-id"){const{recipientId:r}=t||{};r&&Q3(r)}}function K3(){try{return localStorage.getItem(_g)||void 0}catch(e){console.error("Unable to use browser cache",e)}}function Q3(e){try{localStorage.setItem(_g,e)}catch(t){console.error("Unable to use browser cache",t)}}const J3=()=>{};function eT({flowId:e,flow:t}){const[,r]=Rf(),[n,a]=L.useState();return L.useEffect(()=>{if(!e){a(null);return}return async function(){const o=await Y3(e);a(o)}(),()=>Bl()},[e,t]),r?f.jsx(z3,{botDetails:r,botDesign:r.botDesign,startupFlow:n,autoLaunch:!1,recipientId:K3(),onReceiveChatResponse:J3,onCallback:Z3}):f.jsx(av,{})}function mT(){const[e,t]=L.useState(null),[r,n]=L.useState(),[a,o]=L.useState(""),i=L.useRef({flow:r});i.current.flow=r;const s=L.useCallback(()=>{q3().then(u=>{var d;t(u),o(((d=u[0])==null?void 0:d.value)||"")})},[]);L.useEffect(s,[s]),L.useEffect(()=>{var u;!a||((u=i.current.flow)==null?void 0:u._id)===a||W3(a).then(n)},[a]);const l=L.useCallback(async(u,d)=>{const m=await U3(u.organizationId,u.botId,u,d===!0);o(m._id),n(m),s()},[s]),c=L.useCallback(async u=>{await G3(u.organizationId,u.botId,u._id)&&(t(null),o(""),s())},[s]);return f.jsxs(f.Fragment,{children:[f.jsx(I3,{flowData:r,flowList:e,onSave:l,onVersionSelected:o,onDelete:c}),f.jsx(eT,{flowId:a,flow:r})]})}export{mT as default};
