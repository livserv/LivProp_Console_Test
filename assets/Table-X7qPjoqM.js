import{j as e,r as f}from"./AlertSnackbar-BBOi9bHj.js";import{c as S}from"./index-B4Pd27tI.js";import"./Button-htJsKnEd.js";import{S as R}from"./SelectBox-SgIxSiS9.js";const D=({columns:i,rows:a,noRowsMessage:t})=>e.jsx("tbody",{children:a.length===0?e.jsx("tr",{className:"border-b border-gray-200",children:e.jsx("td",{className:"px-4 py-2 text-center",colSpan:i.length,children:t||"No records found."})}):a.map((d,l)=>e.jsx("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:i.map((n,r)=>{const s=n.template?n.template(d):d[n.field],o=typeof s=="string"||typeof s=="number"?s:"";return e.jsx("td",{className:S("text-sm px-4 py-2 truncate text-ellipsis",{hidden:!!n.hideBelow,"xs:table-cell":n.hideBelow==="xs","sm:table-cell":n.hideBelow==="sm","md:table-cell":n.hideBelow==="md","mlg:table-cell":n.hideBelow==="mlg","lg:table-cell":n.hideBelow==="lg","xl:table-cell":n.hideBelow==="xl","2xl:table-cell":n.hideBelow==="2xl"},n.cellClassName),title:o.toString(),children:s},r)})},l))});function M({columns:i,rowsCount:a,pageIndex:t,totalPages:d,rowsCounts:l,onChangeCount:n,onNavigate:r,totalRows:s}){const o=l.map(h=>({label:h,value:h})),x=(t-1)*a+1,c=Math.min(t*a,s);return e.jsx("tfoot",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:i.length,children:e.jsx("div",{className:"px-2 md:px-4 py-2 md:py-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between gap-2 md:gap-0 mb-2 md:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[e.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:"Rows per page"}),e.jsx(R,{className:"border border-gray-300 rounded px-2 py-1 text-xs md:text-sm",value:a,options:o,showClear:!1,onChange:n}),e.jsxs("span",{className:"text-xs md:text-sm font-medium ml-auto md:ml-0",children:[x,"–",c," of ",s]})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-3 md:gap-6 w-full md:w-auto",children:[e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(1),disabled:t===1,children:"«"}),e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(t-1),disabled:t===1,children:"‹"}),e.jsxs("span",{className:"px-2 text-xs md:text-sm font-medium whitespace-nowrap",children:[t," of ",d||1]}),e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(t+1),disabled:t>=d||!d,children:"›"}),e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(d),disabled:t>=d||!d,children:"»"})]})]})})})})})}const I=({columns:i,sortColumn:a,sortAsc:t,onSort:d})=>e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-gray-200",children:i.map((l,n)=>{const r=l.sortable&&a?.field===l.field;return e.jsxs("th",{className:S("px-4 py-2 font-medium cursor-pointer select-none text-left",{hidden:!!l.hideBelow,"xs:table-cell":l.hideBelow==="xs","sm:table-cell":l.hideBelow==="sm","md:table-cell":l.hideBelow==="md","mlg:table-cell":l.hideBelow==="mlg","lg:table-cell":l.hideBelow==="lg","xl:table-cell":l.hideBelow==="xl","2xl:table-cell":l.hideBelow==="2xl","flex items-start":r},l.headerClassName),onClick:()=>d(l),children:[l.title,r&&e.jsx("span",{className:"ml-1",children:t?"↑":"↓"})]},n)})})});function L(i,a,t=!0,d){return f.useMemo(()=>!d||!a||!i?.length?i:[...i].sort((l,n)=>{const r=l[a],s=n[a];if(N(r)&&N(s))return 0;if(N(r))return t?-1:1;if(N(s))return t?1:-1;let o=0;if(typeof r=="number"&&typeof s=="number")o=r-s;else if(r instanceof Date&&s instanceof Date)o=r.getTime()-s.getTime();else{const x=String(r).toLowerCase(),c=String(s).toLowerCase();x<c?o=-1:x>c?o=1:o=0}return t?o:-o}),[i,a,t,d])}function N(i){return i==null}const F=[10,20,25,50,75,100];function z({columns:i,rows:a,totalRows:t,page:d,sortColumn:l,sortAsc:n,onSort:r,onChange:s,noRowsMessage:o,rowsPerPage:x,rowCounts:c=F,pagination:h}){const[u,v]=f.useState(l),[b,g]=f.useState(n??!0),[C,w]=f.useState(d||1),[p,y]=f.useState(x??c[0]);f.useEffect(()=>{d!==void 0&&w(d)},[d]),f.useEffect(()=>{x!==void 0&&y(x)},[x]);const B=Math.ceil(t/p),A=L(a,u?.field,b,t===a?.length),T=m=>{if(!m.sortable)return;let j=!0;u&&u.field===m.field&&(j=!b),v(m),g(j),r&&r(m,j),s&&s({sortColumn:m,sortAsc:j,count:p,pageNumber:C})},k=m=>{y(m),w(1),s&&s({sortColumn:u||void 0,sortAsc:b,count:m,pageNumber:1})},E=m=>{m<1||m>B||(w(m),s&&s({sortColumn:u||void 0,sortAsc:b,count:p,pageNumber:m}))};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[e.jsx(I,{columns:i,sortColumn:u,sortAsc:b,onSort:T}),e.jsx(D,{columns:i,rows:A,noRowsMessage:o}),h!==!1&&e.jsx(M,{columns:i,pageIndex:C,rowsCount:p,rowsCounts:c,totalPages:B,onChangeCount:k,onNavigate:E,totalRows:t})]})})}export{z as T};
