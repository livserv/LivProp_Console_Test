import{j as n,r as c}from"./AlertSnackbar-Cu3h0plZ.js";import{c as C}from"./index-Dg8oRa5J.js";import{T as L}from"./TableFooter-BVFgPTOX.js";const M=({columns:s,rows:i,noRowsMessage:o})=>n.jsx("tbody",{children:i.length===0?n.jsx("tr",{className:"border-b border-gray-200",children:n.jsx("td",{className:"px-4 py-2 text-center",colSpan:s.length,children:o||"No records found."})}):i.map((d,e)=>n.jsx("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:s.map((t,r)=>{const l=t.template?t.template(d):d[t.field],m=typeof l=="string"||typeof l=="number"?l:"";return n.jsx("td",{className:C("text-sm px-4 py-2 truncate text-ellipsis",{hidden:!!t.hideBelow,"xs:table-cell":t.hideBelow==="xs","sm:table-cell":t.hideBelow==="sm","md:table-cell":t.hideBelow==="md","mlg:table-cell":t.hideBelow==="mlg","lg:table-cell":t.hideBelow==="lg","xl:table-cell":t.hideBelow==="xl","2xl:table-cell":t.hideBelow==="2xl","overflow-visible":t.cellClassName?.includes("relative")},t.cellClassName),title:m.toString(),children:l},r)})},e))}),R=({columns:s,sortColumn:i,sortAsc:o,onSort:d})=>n.jsx("thead",{children:n.jsx("tr",{className:"border-b border-gray-200",children:s.map((e,t)=>{const r=e.sortable&&i?.field===e.field;return n.jsxs("th",{className:C("px-4 py-2 font-medium cursor-pointer select-none text-left",{hidden:!!e.hideBelow,"xs:table-cell":e.hideBelow==="xs","sm:table-cell":e.hideBelow==="sm","md:table-cell":e.hideBelow==="md","mlg:table-cell":e.hideBelow==="mlg","lg:table-cell":e.hideBelow==="lg","xl:table-cell":e.hideBelow==="xl","2xl:table-cell":e.hideBelow==="2xl","flex items-start":r},e.headerClassName),onClick:()=>d(e),children:[e.title,r&&n.jsx("span",{className:"ml-1",children:o?"↑":"↓"})]},t)})})});function k(s,i,o=!0,d){return c.useMemo(()=>!d||!i||!s?.length?s:[...s].sort((e,t)=>{const r=e[i],l=t[i];if(g(r)&&g(l))return 0;if(g(r))return o?-1:1;if(g(l))return o?1:-1;let m=0;if(typeof r=="number"&&typeof l=="number")m=r-l;else if(r instanceof Date&&l instanceof Date)m=r.getTime()-l.getTime();else{const u=String(r).toLowerCase(),x=String(l).toLowerCase();u<x?m=-1:u>x?m=1:m=0}return o?m:-m}),[s,i,o,d])}function g(s){return s==null}const F=[10,20,25,50,75,100];function U({columns:s,rows:i,totalRows:o,page:d,sortColumn:e,sortAsc:t,onSort:r,onChange:l,noRowsMessage:m,rowsPerPage:u,rowCounts:x=F,pagination:v}){const[f,y]=c.useState(e),[b,S]=c.useState(t??!0),[N,B]=c.useState(d||1),[h,j]=c.useState(u??x[0]);c.useEffect(()=>{d!==void 0&&B(d)},[d]),c.useEffect(()=>{u!==void 0&&j(u)},[u]);const w=Math.ceil(o/h),T=k(i,f?.field,b,o===i?.length),E=a=>{if(!a.sortable)return;let p=!0;f&&f.field===a.field&&(p=!b),y(a),S(p),r&&r(a,p),l&&l({sortColumn:a,sortAsc:p,count:h,pageNumber:N})},A=a=>{j(a),B(1),l&&l({sortColumn:f||void 0,sortAsc:b,count:a,pageNumber:1})},D=a=>{a<1||a>w||(B(a),l&&l({sortColumn:f||void 0,sortAsc:b,count:h,pageNumber:a}))};return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[n.jsx(R,{columns:s,sortColumn:f,sortAsc:b,onSort:E}),n.jsx(M,{columns:s,rows:T,noRowsMessage:m}),v!==!1&&n.jsx(L,{columns:s,pageIndex:N,rowsCount:h,rowsCounts:x,totalPages:w,onChangeCount:A,onNavigate:D,totalRows:o})]})})}export{U as T};
