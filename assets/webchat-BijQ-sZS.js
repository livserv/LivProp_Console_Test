import{f as g,j as h}from"./AlertSnackbar-BtF5Z4Y6.js";import{C as w}from"./ChatHandler-CgQ2WJ4-.js";import{g as f}from"./KbDocsEditor-D8wbLKcT.js";import"./Button-CPgSoE2E.js";import"./env-CmL5wTXD.js";import"./env-CBDBHzQq.js";import"./svg-icons-BKpXz_PQ.js";import"./formik.esm-Do1UdzUc.js";import"./YesNoDropdown-I9PoG8pT.js";import"./TextBox-DznVYwBF.js";import"./Button-WzvJOHfw.js";import"./ProgressButton-D05e1Xa1.js";import"./index-Amm3Cknr.js";import"./bots-Dnlm-iJf.js";import"./useSelectedBot-CyDjBZVz.js";import"./PopUpDialog-B1lA6yNb.js";import"./organization-S9zWzo9D.js";import"./PageHeader-BvTHMMim.js";import"./index-BCmdx9TF.js";import"./KbDocsList-CwXtf91h.js";import"./delete-C02Tj_Vx.js";import"./edit-CWTMaV8w.js";import"./plus-tKMJVyUh.js";import"./utils-BPLOM7gE.js";import"./send-BcTDnj3g.js";const m=document.getElementById("root");if(!m)throw new Error("Root element not found");const x=g.createRoot(m),o=E();let l=null;const r=new URLSearchParams(window.location.search),I=!!r.get("autoLaunch"),L=r.get("recipientId")||void 0,s=r.get("fullscreen")==="true";await f();x.render(h.jsx(w,{onCallback:S,autoLaunch:s?!0:I,recipientId:L,origin:o,fullscreen:s,sourceUrl:o}));function S(e,t){e==="toggleFS"?t.isFullScreen?n("toggleFS_ON",o,void 0):a(!0,l):e==="windowToggle"?a(t.state,t.design):n(e,o,t)}function a(e,t){e?(l=t,n("windowToggle",o,{state:e,design:t})):(R(),setTimeout(()=>{C()},t===!0?540:1540))}function R(){setTimeout(()=>n("moveIFrameForLauncher",o,{}),300)}function C(){const e=document.getElementById("lp-launcher"),t=F(e);if(e){const i=e.querySelector("div.button-tooltip");if(i){const u=window.innerHeight,d=window.innerWidth,c=i.getBoundingClientRect()||{y:0,x:0};t.height=p(parseInt(t.height),parseInt(String(u-c.y)))+"px",t.width=p(parseInt(t.width),parseInt(String(d-c.x)))+"px"}}n("windowToggle",o,{state:!1,design:t})}function F(e){const t=e?.getBoundingClientRect()||{};return{height:`${t.height||62}px`,width:`${t.width||250}px`}}function p(e,t){return!e||!t?e??t??0:e>t?e:t}function n(e,t,i){t&&window.parent.postMessage({source:"lp-webchat",action:e,...i||{}},t)}function E(){if(!window.parent)return;let t=new URLSearchParams(document.location.search).get("sourceUrl")||void 0;return t&&(t=new URL(t).origin),t}
