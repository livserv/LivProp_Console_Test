import{r as h,R as A,p as Kc,m as ap,j as c,c as tn,u as ta,g as ip}from"./AlertSnackbar-Bg-JJn4T.js";import{_ as Li,b as ge,c as An,T as Vs,I as _r,u as un,P as dn,d as eo,U as Zc,e as sp,f as Fi,h as lp,E as cp,i as Dn,D as oe,j as Bi,k as Ot,Z as Xt,l as jt,m as _i,n as Fe,o as $i,p as zi,O as ve,q as Jc,r as Qc,s as Ar,R as Mo,t as up,v as Ln,w as dp,x as fp,S as eu,y as pp,z as mp,A as Ja,B as gp,F as hp,G as vp,H as yp,J as bp,L as xp,M as wp,N as Cp}from"./KbDocsEditor-rGirfGzG.js";import{r as tu,R as Sp}from"./Button-NNSQHuwk.js";import{g as jp}from"./integrations-_X2v-uI6.js";import{u as ru}from"./useSelectedBot-CX7YTqP_.js";import{h as Gs}from"./formik.esm-i_laJiGP.js";import{F as Se,a as nu,S as ou,v as Qa,g as $r,H as kp,f as Ep,b as Np,c as Dp,d as rn,e as Ro,h as Ip,j as Ws,t as lo,k as Us,l as qs,m as Tp,n as Pp,o as Op,p as Mp,q as Rp,r as Ap,s as Lp,u as Fp,w as Bp,x as _p,y as $p}from"./validation-SuG6rRcP.js";import{S as zp}from"./delete-DJkcJ_uL.js";import{L as Hp}from"./LabelWrapper-D8qjrIKZ.js";import{g as Hi,p as Vp,r as Gp}from"./index-B48b7GnV.js";import{T as Wp}from"./Toggle-SZE0xaei.js";import{C as Up,h as qp,g as Xp}from"./ChatHandler-Cn2LBMvA.js";import{S as Yp}from"./loader-BtQBZUnn.js";import{P as Kp}from"./PageHeader-CQCm4-5c.js";import"./svg-icons-B_hHNIhP.js";import"./env-CBDBHzQq.js";import"./index-D1ljxLVN.js";import"./KbDocsList-BuFRLnLp.js";import"./download-CMyHi4qv.js";import"./edit-B2xXBClW.js";import"./plus-BpgRU9-g.js";import"./search-B257zeZM.js";import"./Button-BttHeqAG.js";import"./SelectBox-CVZhpQlv.js";import"./TextBox-BmmLi5UC.js";import"./utils-BPLOM7gE.js";import"./trainingDocuments-DQJWHIJq.js";import"./bots-nQnkQmNS.js";import"./send-CliHjqzo.js";import"./index-BBKHf7aN.js";import"./ProgressButton-Dv7Av4Su.js";import"./env-CmL5wTXD.js";import"./YesNoDropdown-CwQpsr4C.js";import"./PopUpDialog-cr7cbbkb.js";import"./organization-CIVrCXCQ.js";function Zp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vi(e,t){var r=function(a){return t&&h.isValidElement(a)?t(a):a},n=Object.create(null);return e&&h.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function Jp(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),o=[];for(var a in e)a in t?o.length&&(n[a]=o,o=[]):o.push(a);var i,s={};for(var l in t){if(n[l])for(i=0;i<n[l].length;i++){var u=n[l][i];s[n[l][i]]=r(u)}s[l]=r(l)}for(i=0;i<o.length;i++)s[o[i]]=r(o[i]);return s}function Pr(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Qp(e,t){return Vi(e.children,function(r){return h.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Pr(r,"appear",e),enter:Pr(r,"enter",e),exit:Pr(r,"exit",e)})})}function em(e,t,r){var n=Vi(e.children),o=Jp(t,n);return Object.keys(o).forEach(function(a){var i=o[a];if(h.isValidElement(i)){var s=a in t,l=a in n,u=t[a],d=h.isValidElement(u)&&!u.props.in;l&&(!s||d)?o[a]=h.cloneElement(i,{onExited:r.bind(null,i),in:!0,exit:Pr(i,"exit",e),enter:Pr(i,"enter",e)}):!l&&s&&!d?o[a]=h.cloneElement(i,{in:!1}):l&&s&&h.isValidElement(u)&&(o[a]=h.cloneElement(i,{onExited:r.bind(null,i),in:u.props.in,exit:Pr(i,"exit",e),enter:Pr(i,"enter",e)}))}}),o}var tm=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},rm={component:"div",childFactory:function(t){return t}},Gi=(function(e){Li(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var i=a.handleExited.bind(Zp(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,a){var i=a.children,s=a.handleExited,l=a.firstRender;return{children:l?Qp(o,s):em(o,i,s),firstRender:!1}},r.handleExited=function(o,a){var i=Vi(this.props.children);o.key in i||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(s){var l=ge({},s.children);return delete l[o.key],{children:l}}))},r.render=function(){var o=this.props,a=o.component,i=o.childFactory,s=An(o,["component","childFactory"]),l=this.state.contextValue,u=tm(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,a===null?A.createElement(Vs.Provider,{value:l},u):A.createElement(Vs.Provider,{value:l},A.createElement(a,s,u))},t})(A.Component);Gi.propTypes={};Gi.defaultProps=rm;function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ei.apply(null,arguments)}var Wi=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ei({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));Wi.displayName="TimesIcon";function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}var au=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ti({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"}))}));au.displayName="WindowMaximizeIcon";function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}var iu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ri({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"}))}));iu.displayName="WindowMinimizeIcon";function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function Fn(e){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(e)}function oi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nm(e){if(Array.isArray(e))return oi(e)}function om(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function su(e,t){if(e){if(typeof e=="string")return oi(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oi(e,t):void 0}}function am(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function im(e){return nm(e)||om(e)||su(e)||am()}function sm(e,t){if(Fn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lm(e){var t=sm(e,"string");return Fn(t)=="symbol"?t:t+""}function Ui(e,t,r){return(t=lm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cm(e){if(Array.isArray(e))return e}function um(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,o=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}function dm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,t){return cm(e)||um(e,t)||su(e,t)||dm()}var fm="",On=eo.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:fm},getProps:function(t){return ve.getMergedProps(t,On.defaultProps)},getOtherProps:function(t){return ve.getDiffProps(t,On.defaultProps)}});function Xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xs(Object(r),!0).forEach(function(n){Ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var mm=A.memo(A.forwardRef(function(e,t){var r=A.useRef(null),n=A.useRef(null),o=A.useRef(null),a=A.useContext(dn),i=On.getProps(e,a),s={props:i};Jc(On.css.styles,{name:"focustrap"});var l=On.setMetaData(pm({},s));l.ptm,A.useImperativeHandle(t,function(){return{props:i,getInk:function(){return n.current},getTarget:function(){return r.current}}}),Bi(function(){i.disabled||(r.current=u(),d(r.current))});var u=function(){return n.current&&n.current.parentElement},d=function(E){var j=i||{},D=j.autoFocusSelector,T=D===void 0?"":D,w=j.firstFocusableSelector,I=w===void 0?"":w,C=j.autoFocus,v=C===void 0?!1:C,b="".concat(f(T)),m="[autofocus]".concat(b,", [data-pc-autofocus='true']").concat(b),S=oe.getFirstFocusableElement(E,m);v&&!S&&(S=oe.getFirstFocusableElement(E,f(I))),oe.focus(S)},f=function(E){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(E??"")},p=function(E){var j,D=E.currentTarget,T=E.relatedTarget,w=T===D.$_pfocustrap_lasthiddenfocusableelement||!((j=r.current)!==null&&j!==void 0&&j.contains(T))?oe.getFirstFocusableElement(D.parentElement,f(D.$_pfocustrap_focusableselector)):D.$_pfocustrap_lasthiddenfocusableelement;oe.focus(w)},g=function(E){var j,D=E.currentTarget,T=E.relatedTarget,w=T===D.$_pfocustrap_firsthiddenfocusableelement||!((j=r.current)!==null&&j!==void 0&&j.contains(T))?oe.getLastFocusableElement(D.parentElement,f(D.$_pfocustrap_focusableselector)):D.$_pfocustrap_firsthiddenfocusableelement;oe.focus(w)},y=function(){var E=i||{},j=E.tabIndex,D=j===void 0?0:j,T=function(v,b,m){return A.createElement("span",{ref:v,className:"p-hidden-accessible p-hidden-focusable",tabIndex:D,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:b,"data-pc-section":m})},w=T(n,p,"firstfocusableelement"),I=T(o,g,"lastfocusableelement");return n.current&&o.current&&(n.current.$_pfocustrap_lasthiddenfocusableelement=o.current,o.current.$_pfocustrap_firsthiddenfocusableelement=n.current),A.createElement(A.Fragment,null,w,i.children,I)};return y()})),gm=mm;function Ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ys(Object(r),!0).forEach(function(n){Ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ys(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var vm={closeButtonIcon:"p-dialog-header-close-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",maximizableIcon:"p-dialog-header-maximize-icon",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",header:function(t){var r=t.props;return Fe("p-dialog-header",r.headerClassName)},headerTitle:"p-dialog-title",headerIcons:"p-dialog-header-icons",content:function(t){var r=t.props;return Fe("p-dialog-content",r.contentClassName)},footer:function(t){var r=t.props;return Fe("p-dialog-footer",r.footerClassName)},mask:function(t){var r=t.props,n=t.maskVisibleState,o=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"],a=o.find(function(i){return i===r.position||i.replace("-","")===r.position});return Fe("p-dialog-mask",a?"p-dialog-".concat(a):"",{"p-component-overlay p-component-overlay-enter":r.modal,"p-dialog-visible":n,"p-dialog-draggable":r.draggable,"p-dialog-resizable":r.resizable},r.maskClassName)},root:function(t){var r=t.props,n=t.maximized,o=t.context;return Fe("p-dialog p-component",{"p-dialog-rtl":r.rtl,"p-dialog-maximized":n,"p-dialog-default":!n,"p-input-filled":o&&o.inputStyle==="filled"||jt.inputStyle==="filled","p-ripple-disabled":o&&o.ripple===!1||jt.ripple===!1})},transition:"p-dialog"},ym=`
@layer primereact {
    .p-dialog-mask {
        background-color: transparent;
        transition-property: background-color;
    }

    .p-dialog-visible {
        display: flex;
    }

    .p-dialog-mask.p-component-overlay {
        pointer-events: auto;
    }

    .p-dialog {
        display: flex;
        flex-direction: column;
        pointer-events: auto;
        max-height: 90%;
        transform: scale(1);
        position: relative;
    }

    .p-dialog-content {
        overflow-y: auto;
        flex-grow: 1;
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        flex-shrink: 0;
    }

    .p-dialog-footer {
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icons {
        display: flex;
        align-items: center;
        align-self: flex-start;
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    .p-dialog .p-dialog-title {
        flex-grow: 1;
    }

    /* Fluid */
    .p-fluid .p-dialog-footer .p-button {
        width: auto;
    }

    /* Animation */
    /* Center */
    .p-dialog-enter {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-enter-active {
        opacity: 1;
        transform: scale(1);
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-enter-done {
        transform: none;
    }

    .p-dialog-exit-active {
        opacity: 0;
        transform: scale(0.7);
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Top, Bottom, Left, Right, Top* and Bottom* */
    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-top-left .p-dialog,
    .p-dialog-top-right .p-dialog,
    .p-dialog-bottom-left .p-dialog,
    .p-dialog-bottom-right .p-dialog {
        margin: 0.75em;
    }

    .p-dialog-top .p-dialog-enter,
    .p-dialog-top .p-dialog-exit-active {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter,
    .p-dialog-bottom .p-dialog-exit-active {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-enter,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-enter,
    .p-dialog-bottom-left .p-dialog-exit-active {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-enter,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-enter,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-top-left .p-dialog-enter-active,
    .p-dialog-bottom-left .p-dialog-enter-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-top-right .p-dialog-enter-active,
    .p-dialog-bottom-right .p-dialog-enter-active {
        transform: translate3d(0px, 0px, 0px);
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-exit-active,
    .p-dialog-bottom .p-dialog-exit-active,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-exit-active,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transition: all 0.3s ease-out;
    }

    /* Maximize */
    .p-dialog-maximized {
        transition: none;
        transform: none;
        margin: 0;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }

    .p-confirm-dialog .p-dialog-content {
        display: flex;
        align-items: center;
    }

    /* Resizable */
    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }

    .p-dialog-draggable .p-dialog-header {
        cursor: move;
    }
}
`,bm={mask:function(t){var r=t.props;return hm({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:r.position==="left"||r.position==="top-left"||r.position==="bottom-left"?"flex-start":r.position==="right"||r.position==="top-right"||r.position==="bottom-right"?"flex-end":"center",alignItems:r.position==="top"||r.position==="top-left"||r.position==="top-right"?"flex-start":r.position==="bottom"||r.position==="bottom-left"||r.position==="bottom-right"?"flex-end":"center",pointerEvents:!r.modal&&"none"},r.maskStyle)}},co=eo.extend({defaultProps:{__TYPE:"Dialog",__parentMetadata:null,appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeIcon:null,closeOnEscape:!0,content:null,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,footerClassName:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximizeIcon:null,maximized:!1,minX:0,minY:0,minimizeIcon:null,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,showCloseIcon:!0,style:null,transitionOptions:null,visible:!1,children:void 0},css:{classes:vm,styles:ym,inlineStyles:bm}});function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ks(Object(r),!0).forEach(function(n){Ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var fn=h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),o=co.getProps(e,n),a=o.id?o.id:Zc(),i=h.useState(a),s=ur(i,2),l=s[0];s[1];var u=h.useState(!1),d=ur(u,2),f=d[0],p=d[1],g=h.useState(!1),y=ur(g,2),x=y[0],E=y[1],j=h.useState(o.maximized),D=ur(j,2),T=D[0],w=D[1],I=h.useRef(null),C=h.useRef(null),v=h.useRef(null),b=h.useRef(null),m=h.useRef(null),S=h.useRef(null),k=h.useRef(null),M=h.useRef(!1),P=h.useRef(!1),N=h.useRef(null),R=h.useRef(null),O=h.useRef(null),F=h.useRef(a),_=h.useRef(null),L=o.onMaximize?o.maximized:T,H=x&&(o.blockScroll||o.maximizable&&L),W=o.closable&&o.closeOnEscape&&x,V=sp("dialog",W),U=co.setMetaData(wa(wa({props:o},o.__parentMetadata),{},{state:{id:l,maximized:L,containerVisible:f}})),G=U.ptm,B=U.cx,q=U.sx,ee=U.isUnstyled;Fi(co.css.styles,ee,{name:"dialog"}),lp({callback:function(Y){He(Y)},when:W&&V,priority:[cp.DIALOG,V]});var ne=Dn({type:"mousemove",target:function(){return window.document},listener:function(Y){return tt(Y)}}),pe=ur(ne,2),X=pe[0],le=pe[1],xe=Dn({type:"mouseup",target:function(){return window.document},listener:function(Y){return ct(Y)}}),we=ur(xe,2),Te=we[0],De=we[1],Ae=Dn({type:"mousemove",target:function(){return window.document},listener:function(Y){return It(Y)}}),ye=ur(Ae,2),ae=ye[0],Re=ye[1],Ve=Dn({type:"mouseup",target:function(){return window.document},listener:function(Y){return Be(Y)}}),vt=ur(Ve,2),yt=vt[0],ot=vt[1],He=function(Y){o.onHide(Y),Y.preventDefault()},bt=function(){var Y=document.activeElement,he=Y&&I.current&&I.current.contains(Y);!he&&o.closable&&o.showCloseIcon&&o.showHeader&&k.current&&k.current.focus()},Je=function(Y){v.current=Y.target,o.onPointerDown&&o.onPointerDown(Y)},at=function(Y){o.dismissableMask&&o.modal&&C.current===Y.target&&!v.current&&He(Y),o.onMaskClick&&o.onMaskClick(Y),v.current=null},it=function(Y){o.onMaximize?o.onMaximize({originalEvent:Y,maximized:!L}):w(function(he){return!he}),Y.preventDefault()},st=function(Y){oe.hasClass(Y.target,"p-dialog-header-icon")||oe.hasClass(Y.target.parentElement,"p-dialog-header-icon")||o.draggable&&(M.current=!0,N.current=Y.pageX,R.current=Y.pageY,oe.addClass(document.body,"p-unselectable-text"),o.onDragStart&&o.onDragStart(Y))},It=function(Y){if(M.current){var he=oe.getOuterWidth(I.current),Ie=oe.getOuterHeight(I.current),Pe=Y.pageX-N.current,dt=Y.pageY-R.current,ft=I.current.getBoundingClientRect(),se=ft.left+Pe,z=ft.top+dt,Q=oe.getViewport(),te=getComputedStyle(I.current),re=parseFloat(te.marginLeft),ue=parseFloat(te.marginTop);I.current.style.position="fixed",o.keepInViewport?(se>=o.minX&&se+he<Q.width&&(N.current=Y.pageX,I.current.style.left=se-re+"px"),z>=o.minY&&(dt<0||z+Ie<Q.height)&&(R.current=Y.pageY,I.current.style.top=z-ue+"px")):(N.current=Y.pageX,I.current.style.left=se-re+"px",R.current=Y.pageY,I.current.style.top=z-ue+"px"),o.onDrag&&o.onDrag(Y)}},Be=function(Y){M.current&&(M.current=!1,oe.removeClass(document.body,"p-unselectable-text"),o.onDragEnd&&o.onDragEnd(Y))},Ge=function(Y){o.resizable&&(P.current=!0,N.current=Y.pageX,R.current=Y.pageY,oe.addClass(document.body,"p-unselectable-text"),o.onResizeStart&&o.onResizeStart(Y))},lt=function(Y,he,Ie){!Ie&&(Ie=oe.getViewport());var Pe=parseInt(Y);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(Y)?Pe*(Ie[he]/100):Pe},tt=function(Y){if(P.current){var he=Y.pageX-N.current,Ie=Y.pageY-R.current,Pe=oe.getOuterWidth(I.current),dt=oe.getOuterHeight(I.current),ft=I.current.getBoundingClientRect(),se=oe.getViewport(),z=!parseInt(I.current.style.top)||!parseInt(I.current.style.left),Q=lt(I.current.style.minWidth,"width",se),te=lt(I.current.style.minHeight,"height",se),re=Pe+he,ue=dt+Ie;z&&(re=re+he,ue=ue+Ie),(!Q||re>Q)&&(he<0||ft.left+re<se.width)&&(I.current.style.width=re+"px"),(!te||ue>te)&&(Ie<0||ft.top+ue<se.height)&&(I.current.style.height=ue+"px"),N.current=Y.pageX,R.current=Y.pageY,o.onResize&&o.onResize(Y)}},ct=function(Y){P.current&&(P.current=!1,oe.removeClass(document.body,"p-unselectable-text"),o.onResizeEnd&&o.onResizeEnd(Y))},Qe=function(){I.current.style.position="",I.current.style.left="",I.current.style.top="",I.current.style.margin=""},xt=function(){I.current.setAttribute(F.current,"")},Gt=function(){o.onShow&&o.onShow(),o.focusOnShow&&bt(),Zt()},Tt=function(){o.modal&&!ee()&&oe.addClass(C.current,"p-component-overlay-leave")},Ft=function(){M.current=!1,Xt.clear(C.current),p(!1),Jt(),oe.focus(_.current),_.current=null},Zt=function(){jr()},Jt=function(){Qt()},ut=function(){var Y=document.primeDialogParams&&document.primeDialogParams.some(function(he){return he.hasBlockScroll});Y?oe.blockBodyScroll():oe.unblockBodyScroll()},Wt=function(Y){if(Y&&x){var he={id:l,hasBlockScroll:H};document.primeDialogParams||(document.primeDialogParams=[]);var Ie=document.primeDialogParams.findIndex(function(Pe){return Pe.id===l});Ie===-1?document.primeDialogParams=[].concat(im(document.primeDialogParams),[he]):document.primeDialogParams=document.primeDialogParams.toSpliced(Ie,1,he)}else document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter(function(Pe){return Pe.id!==l});ut()},jr=function(){o.draggable&&(ae(),yt()),o.resizable&&(X(),Te())},Qt=function(){Re(),ot(),le(),De()},er=function(){O.current=oe.createInlineStyle(n&&n.nonce||jt.nonce,n&&n.styleContainer);var Y="";for(var he in o.breakpoints)Y=Y+`
                @media screen and (max-width: `.concat(he,`) {
                     [data-pc-name="dialog"][`).concat(F.current,`] {
                        width: `).concat(o.breakpoints[he],` !important;
                    }
                }
            `);O.current.innerHTML=Y},cr=function(){O.current=oe.removeInlineStyle(O.current)};Bi(function(){Wt(!0),o.visible&&p(!0)}),h.useEffect(function(){return o.breakpoints&&er(),function(){cr()}},[o.breakpoints]),Ot(function(){o.visible&&!f&&p(!0),o.visible!==x&&f&&E(o.visible),o.visible&&(_.current=document.activeElement)},[o.visible,f]),Ot(function(){f&&(Xt.set("modal",C.current,n&&n.autoZIndex||jt.autoZIndex,o.baseZIndex||n&&n.zIndex.modal||jt.zIndex.modal),E(!0))},[f]),Ot(function(){Wt(!0)},[H,x]),_i(function(){Jt(),Wt(!1),oe.removeInlineStyle(O.current),Xt.clear(C.current)}),h.useImperativeHandle(t,function(){return{props:o,resetPosition:Qe,getElement:function(){return I.current},getMask:function(){return C.current},getContent:function(){return b.current},getHeader:function(){return m.current},getFooter:function(){return S.current},getCloseButton:function(){return k.current}}});var tr=function(){if(o.closable&&o.showCloseIcon){var Y=o.ariaCloseIconLabel||Qc("close"),he=r({className:B("closeButtonIcon"),"aria-hidden":!0},G("closeButtonIcon")),Ie=o.closeIcon||h.createElement(Wi,he),Pe=Ar.getJSXIcon(Ie,wa({},he),{props:o}),dt=r({ref:k,type:"button",className:B("closeButton"),"aria-label":Y,onClick:He,onKeyDown:function(se){se.key!=="Escape"&&se.stopPropagation()}},G("closeButton"));return h.createElement("button",dt,Pe,h.createElement(Mo,null))}return null},kr=function(){var Y,he=r({className:B("maximizableIcon")},G("maximizableIcon"));L?Y=o.minimizeIcon||h.createElement(iu,he):Y=o.maximizeIcon||h.createElement(au,he);var Ie=Ar.getJSXIcon(Y,he,{props:o});if(o.maximizable){var Pe=r({type:"button",className:B("maximizableButton"),onClick:it},G("maximizableButton"));return h.createElement("button",Pe,Ie,h.createElement(Mo,null))}return null},Ut=function(){if(o.showHeader){var Y=tr(),he=kr(),Ie=ve.getJSXElement(o.icons,o),Pe=ve.getJSXElement(o.header,o),dt=l+"_header",ft=r({ref:m,style:o.headerStyle,className:B("header"),onMouseDown:st},G("header")),se=r({id:dt,className:B("headerTitle")},G("headerTitle")),z=r({className:B("headerIcons")},G("headerIcons"));return h.createElement("div",ft,h.createElement("div",se,Pe),h.createElement("div",z,Ie,he,Y))}return null},fe=function(){var Y=l+"_content",he=r({id:Y,ref:b,style:o.contentStyle,className:B("content")},G("content"));return h.createElement("div",he,o.children)},$=function(){var Y=ve.getJSXElement(o.footer,o),he=r({ref:S,className:B("footer")},G("footer"));return Y&&h.createElement("div",he,Y)},K=function(){return o.resizable?h.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:Ge}):null},Ce=function(){var Y,he={header:o.header,content:o.message,message:o==null||(Y=o.children)===null||Y===void 0||(Y=Y[1])===null||Y===void 0||(Y=Y.props)===null||Y===void 0?void 0:Y.children},Ie={headerRef:m,contentRef:b,footerRef:S,closeRef:k,hide:He,message:he};return ve.getJSXElement(e.content,Ie)},Me=function(){var Y=Ut(),he=fe(),Ie=$(),Pe=K();return h.createElement(h.Fragment,null,Y,he,Ie,Pe)},Ye=function(){var Y=l+"_header",he=l+"_content",Ie={enter:o.position==="center"?150:300,exit:o.position==="center"?150:300},Pe=r({ref:C,style:q("mask"),className:B("mask"),onPointerUp:at},G("mask")),dt=r({ref:I,id:l,className:Fe(o.className,B("root",{props:o,maximized:L,context:n})),style:o.style,onClick:o.onClick,role:"dialog","aria-labelledby":Y,"aria-describedby":he,"aria-modal":o.modal,onPointerDown:Je},co.getOtherProps(o),G("root")),ft=r({classNames:B("transition"),timeout:Ie,in:x,options:o.transitionOptions,unmountOnExit:!0,onEnter:xt,onEntered:Gt,onExiting:Tt,onExited:Ft},G("transition")),se=null;e!=null&&e.content?se=Ce():se=Me();var z=h.createElement("div",Pe,h.createElement($i,ni({nodeRef:I},ft),h.createElement("div",dt,h.createElement(gm,{autoFocus:o.focusOnShow},se))));return h.createElement(zi,{element:z,appendTo:o.appendTo,visible:!0})};return f&&Ye()});fn.displayName="Dialog";function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(null,arguments)}var lu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ai({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));lu.displayName="CheckIcon";function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}var cu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ii({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"}),h.createElement("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"}),h.createElement("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"}))}));cu.displayName="ExclamationTriangleIcon";function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(null,arguments)}var uu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",si({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"}))}));uu.displayName="InfoCircleIcon";function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(null,arguments)}var qi=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",li({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));qi.displayName="TimesCircleIcon";function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function ui(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xm(e){if(Array.isArray(e))return ui(e)}function wm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function du(e,t){if(e){if(typeof e=="string")return ui(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ui(e,t):void 0}}function Cm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ca(e){return xm(e)||wm(e)||du(e)||Cm()}function Sm(e){if(Array.isArray(e))return e}function jm(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,o=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}function km(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function di(e,t){return Sm(e)||jm(e,t)||du(e,t)||km()}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(e)}function Em(e,t){if(Bn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nm(e){var t=Em(e,"string");return Bn(t)=="symbol"?t:t+""}function fu(e,t,r){return(t=Nm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dm=`
@layer primereact {
    .p-toast {
        width: calc(100% - var(--toast-indent, 0px));
        max-width: 25rem;
    }
    
    .p-toast-message-icon {
        flex-shrink: 0;
    }
    
    .p-toast-message-content {
        display: flex;
        align-items: flex-start;
    }
    
    .p-toast-message-text {
        flex: 1 1 auto;
    }
    
    .p-toast-summary {
        overflow-wrap: anywhere;
    }
    
    .p-toast-detail {
        overflow-wrap: anywhere;
    }
    
    .p-toast-top-center {
        transform: translateX(-50%);
    }
    
    .p-toast-bottom-center {
        transform: translateX(-50%);
    }
    
    .p-toast-center {
        min-width: 20vw;
        transform: translate(-50%, -50%);
    }
    
    .p-toast-icon-close {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }
    
    .p-toast-icon-close.p-link {
        cursor: pointer;
    }
    
    /* Animations */
    .p-toast-message-enter {
        opacity: 0;
        transform: translateY(50%);
    }
    
    .p-toast-message-enter-active {
        opacity: 1;
        transform: translateY(0);
        transition: transform 0.3s, opacity 0.3s;
    }
    
    .p-toast-message-enter-done {
        transform: none;
    }
    
    .p-toast-message-exit {
        opacity: 1;
        max-height: 1000px;
    }
    
    .p-toast .p-toast-message.p-toast-message-exit-active {
        opacity: 0;
        max-height: 0;
        margin-bottom: 0;
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    }
}
`,Im={root:function(t){var r=t.props,n=t.context;return Fe("p-toast p-component p-toast-"+r.position,r.className,{"p-input-filled":n&&n.inputStyle==="filled"||jt.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||jt.ripple===!1})},message:{message:function(t){var r=t.severity;return Fe("p-toast-message",fu({},"p-toast-message-".concat(r),r))},content:"p-toast-message-content",buttonicon:"p-toast-icon-close-icon",closeButton:"p-toast-icon-close p-link",icon:"p-toast-message-icon",text:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail"},transition:"p-toast-message"},Tm={root:function(t){var r=t.props;return{position:"fixed",top:r.position==="top-right"||r.position==="top-left"||r.position==="top-center"?"20px":r.position==="center"?"50%":null,right:(r.position==="top-right"||r.position==="bottom-right")&&"20px",bottom:(r.position==="bottom-left"||r.position==="bottom-right"||r.position==="bottom-center")&&"20px",left:r.position==="top-left"||r.position==="bottom-left"?"20px":r.position==="center"||r.position==="top-center"||r.position==="bottom-center"?"50%":null}}},uo=eo.extend({defaultProps:{__TYPE:"Toast",id:null,className:null,content:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null,children:void 0},css:{classes:Im,styles:Dm,inlineStyles:Tm}});function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zs(Object(r),!0).forEach(function(n){fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pu=h.memo(h.forwardRef(function(e,t){var r=un(),n=e.messageInfo,o=e.metaData,a=e.ptCallbacks,i=a.ptm,s=a.ptmo,l=a.cx,u=e.index,d=n.message,f=d.severity,p=d.content,g=d.summary,y=d.detail,x=d.closable,E=d.life,j=d.sticky,D=d.className,T=d.style,w=d.contentClassName,I=d.contentStyle,C=d.icon,v=d.closeIcon,b=d.pt,m={index:u},S=ze(ze({},o),m),k=h.useState(!1),M=di(k,2),P=M[0],N=M[1],R=up(function(){L()},E||3e3,!j&&!P),O=di(R,1),F=O[0],_=function(X,le){return i(X,ze({hostName:e.hostName},le))},L=function(){F(),e.onClose&&e.onClose(n)},H=function(X){e.onClick&&!(oe.hasClass(X.target,"p-toast-icon-close")||oe.hasClass(X.target,"p-toast-icon-close-icon"))&&e.onClick(n.message)},W=function(X){e.onMouseEnter&&e.onMouseEnter(X),!X.defaultPrevented&&(j||(F(),N(!0)))},V=function(X){e.onMouseLeave&&e.onMouseLeave(X),!X.defaultPrevented&&(j||N(!1))},U=function(){var X=r({className:l("message.buttonicon")},_("buttonicon",S),s(b,"buttonicon",ze(ze({},m),{},{hostName:e.hostName}))),le=v||h.createElement(Wi,X),xe=Ar.getJSXIcon(le,ze({},X),{props:e}),we=r({type:"button",className:l("message.closeButton"),onClick:L,"aria-label":e.ariaCloseLabel||Qc("close")},_("closeButton",S),s(b,"closeButton",ze(ze({},m),{},{hostName:e.hostName})));return x!==!1?h.createElement("div",null,h.createElement("button",we,xe,h.createElement(Mo,null))):null},G=function(){if(n){var X=ve.getJSXElement(p,{message:n.message,onClick:H,onClose:L}),le=r({className:l("message.icon")},_("icon",S),s(b,"icon",ze(ze({},m),{},{hostName:e.hostName}))),xe=C;if(!C)switch(f){case"info":xe=h.createElement(uu,le);break;case"warn":xe=h.createElement(cu,le);break;case"error":xe=h.createElement(qi,le);break;case"success":xe=h.createElement(lu,le);break}var we=Ar.getJSXIcon(xe,ze({},le),{props:e}),Te=r({className:l("message.text")},_("text",S),s(b,"text",ze(ze({},m),{},{hostName:e.hostName}))),De=r({className:l("message.summary")},_("summary",S),s(b,"summary",ze(ze({},m),{},{hostName:e.hostName}))),Ae=r({className:l("message.detail")},_("detail",S),s(b,"detail",ze(ze({},m),{},{hostName:e.hostName})));return X||h.createElement(h.Fragment,null,we,h.createElement("div",Te,h.createElement("span",De,g),y&&h.createElement("div",Ae,y)))}return null},B=G(),q=U(),ee=r({ref:t,className:Fe(D,l("message.message",{severity:f})),style:T,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:H,onMouseEnter:W,onMouseLeave:V},_("message",S),s(b,"root",ze(ze({},m),{},{hostName:e.hostName}))),ne=r({className:Fe(w,l("message.content")),style:I},_("content",S),s(b,"content",ze(ze({},m),{},{hostName:e.hostName})));return h.createElement("div",ee,h.createElement("div",ne,B,q))}));pu.displayName="ToastMessage";var Js=0,mu=h.memo(h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),o=uo.getProps(e,n),a=h.useState([]),i=di(a,2),s=i[0],l=i[1],u=h.useRef(null),d={props:o,state:{messages:s}},f=uo.setMetaData(d);Fi(uo.css.styles,f.isUnstyled,{name:"toast"});var p=function(v){v&&l(function(b){return g(b,v,!0)})},g=function(v,b,m){var S;if(Array.isArray(b)){var k=b.reduce(function(P,N){return P.push({_pId:Js++,message:N}),P},[]);m?S=v?[].concat(Ca(v),Ca(k)):k:S=k}else{var M={_pId:Js++,message:b};m?S=v?[].concat(Ca(v),[M]):[M]:S=[M]}return S},y=function(){Xt.clear(u.current),l([])},x=function(v){l(function(b){return g(b,v,!1)})},E=function(v){var b=ve.isNotEmpty(v._pId)?v._pId:v.message||v;l(function(m){return m.filter(function(S){return S._pId!==v._pId&&!ve.deepEquals(S.message,b)})}),o.onRemove&&o.onRemove(v.message||b)},j=function(v){E(v)},D=function(){o.onShow&&o.onShow()},T=function(){s.length===1&&Xt.clear(u.current),o.onHide&&o.onHide()};Ot(function(){Xt.set("toast",u.current,n&&n.autoZIndex||jt.autoZIndex,o.baseZIndex||n&&n.zIndex.toast||jt.zIndex.toast)},[s,o.baseZIndex]),_i(function(){Xt.clear(u.current)}),h.useImperativeHandle(t,function(){return{props:o,show:p,replace:x,remove:E,clear:y,getElement:function(){return u.current}}});var w=function(){var v=r({ref:u,id:o.id,className:f.cx("root",{context:n}),style:f.sx("root")},uo.getOtherProps(o),f.ptm("root")),b=r({classNames:f.cx("transition"),timeout:{enter:300,exit:300},options:o.transitionOptions,unmountOnExit:!0,onEntered:D,onExited:T},f.ptm("transition"));return h.createElement("div",v,h.createElement(Gi,null,s&&s.map(function(m,S){var k=h.createRef();return h.createElement($i,ci({nodeRef:k,key:m._pId},b),e.content?ve.getJSXElement(e.content,{message:m.message}):h.createElement(pu,{hostName:"Toast",ref:k,messageInfo:m,index:S,onClick:o.onClick,onClose:j,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,closeIcon:o.closeIcon,ptCallbacks:f,metaData:d}))})))},I=w();return h.createElement(zi,{element:I,appendTo:o.appendTo})}));mu.displayName="Toast";function nt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=nt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var Sa={exports:{}},ja={},ka={exports:{}},Ea={};var Qs;function Pm(){if(Qs)return Ea;Qs=1;var e=Kc();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function s(f,p){var g=p(),y=n({inst:{value:g,getSnapshot:p}}),x=y[0].inst,E=y[1];return a(function(){x.value=g,x.getSnapshot=p,l(x)&&E({inst:x})},[f,g,p]),o(function(){return l(x)&&E({inst:x}),f(function(){l(x)&&E({inst:x})})},[f]),i(g),g}function l(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!r(f,g)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return Ea.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Ea}var el;function Om(){return el||(el=1,ka.exports=Pm()),ka.exports}var tl;function Mm(){if(tl)return ja;tl=1;var e=Kc(),t=Om();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return ja.useSyncExternalStoreWithSelector=function(u,d,f,p,g){var y=a(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function j(C){if(!D){if(D=!0,T=C,C=p(C),g!==void 0&&x.hasValue){var v=x.value;if(g(v,C))return w=v}return w=C}if(v=w,n(T,C))return v;var b=p(C);return g!==void 0&&g(v,b)?(T=C,v):(T=C,w=b)}var D=!1,T,w,I=f===void 0?null:f;return[function(){return j(d())},I===null?void 0:function(){return j(I())}]},[d,f,p,g]);var E=o(u,y[0],y[1]);return i(function(){x.hasValue=!0,x.value=E},[E]),l(E),E},ja}var rl;function Rm(){return rl||(rl=1,Sa.exports=Mm()),Sa.exports}var Am=Rm();const Lm=ap(Am),Fm={},nl=e=>{let t;const r=new Set,n=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(y=>y(t,g))}},o=()=>t,l={setState:n,getState:o,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Fm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,o,l);return l},Bm=e=>e?nl(e):nl,{useDebugValue:_m}=A,{useSyncExternalStoreWithSelector:$m}=Lm,zm=e=>e;function gu(e,t=zm,r){const n=$m(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return _m(n),n}const ol=(e,t)=>{const r=Bm(e),n=(o,a=t)=>gu(r,o,a);return Object.assign(n,r),n},Hm=(e,t)=>e?ol(e,t):ol;function ht(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Vm={value:()=>{}};function ra(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Do(r)}function Do(e){this._=e}function Gm(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Do.prototype=ra.prototype={constructor:Do,on:function(e,t){var r=this._,n=Gm(e+"",r),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=Wm(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=n[a]).type)r[o]=al(r[o],e.name,t);else if(t==null)for(o in r)r[o]=al(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Do(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,a;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(t,r)}};function Wm(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function al(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=Vm,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var fi="http://www.w3.org/1999/xhtml";const il={svg:"http://www.w3.org/2000/svg",xhtml:fi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function na(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),il.hasOwnProperty(t)?{space:il[t],local:e}:e}function Um(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===fi&&t.documentElement.namespaceURI===fi?t.createElement(e):t.createElementNS(r,e)}}function qm(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hu(e){var t=na(e);return(t.local?qm:Um)(t)}function Xm(){}function Xi(e){return e==null?Xm:function(){return this.querySelector(e)}}function Ym(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=new Array(i),l,u,d=0;d<i;++d)(l=a[d])&&(u=e.call(l,l.__data__,d,a))&&("__data__"in l&&(u.__data__=l.__data__),s[d]=u);return new Dt(n,this._parents)}function Km(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zm(){return[]}function vu(e){return e==null?Zm:function(){return this.querySelectorAll(e)}}function Jm(e){return function(){return Km(e.apply(this,arguments))}}function Qm(e){typeof e=="function"?e=Jm(e):e=vu(e);for(var t=this._groups,r=t.length,n=[],o=[],a=0;a<r;++a)for(var i=t[a],s=i.length,l,u=0;u<s;++u)(l=i[u])&&(n.push(e.call(l,l.__data__,u,i)),o.push(l));return new Dt(n,o)}function yu(e){return function(){return this.matches(e)}}function bu(e){return function(t){return t.matches(e)}}var eg=Array.prototype.find;function tg(e){return function(){return eg.call(this.children,e)}}function rg(){return this.firstElementChild}function ng(e){return this.select(e==null?rg:tg(typeof e=="function"?e:bu(e)))}var og=Array.prototype.filter;function ag(){return Array.from(this.children)}function ig(e){return function(){return og.call(this.children,e)}}function sg(e){return this.selectAll(e==null?ag:ig(typeof e=="function"?e:bu(e)))}function lg(e){typeof e!="function"&&(e=yu(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,u=0;u<i;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new Dt(n,this._parents)}function xu(e){return new Array(e.length)}function cg(){return new Dt(this._enter||this._groups.map(xu),this._parents)}function Ao(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ao.prototype={constructor:Ao,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ug(e){return function(){return e}}function dg(e,t,r,n,o,a){for(var i=0,s,l=t.length,u=a.length;i<u;++i)(s=t[i])?(s.__data__=a[i],n[i]=s):r[i]=new Ao(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function fg(e,t,r,n,o,a,i){var s,l,u=new Map,d=t.length,f=a.length,p=new Array(d),g;for(s=0;s<d;++s)(l=t[s])&&(p[s]=g=i.call(l,l.__data__,s,t)+"",u.has(g)?o[s]=l:u.set(g,l));for(s=0;s<f;++s)g=i.call(e,a[s],s,a)+"",(l=u.get(g))?(n[s]=l,l.__data__=a[s],u.delete(g)):r[s]=new Ao(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(o[s]=l)}function pg(e){return e.__data__}function mg(e,t){if(!arguments.length)return Array.from(this,pg);var r=t?fg:dg,n=this._parents,o=this._groups;typeof e!="function"&&(e=ug(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var d=n[u],f=o[u],p=f.length,g=gg(e.call(d,d&&d.__data__,u,n)),y=g.length,x=s[u]=new Array(y),E=i[u]=new Array(y),j=l[u]=new Array(p);r(d,f,x,E,j,g,t);for(var D=0,T=0,w,I;D<y;++D)if(w=x[D]){for(D>=T&&(T=D+1);!(I=E[T])&&++T<y;);w._next=I||null}}return i=new Dt(i,n),i._enter=s,i._exit=l,i}function gg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hg(){return new Dt(this._exit||this._groups.map(xu),this._parents)}function vg(e,t,r){var n=this.enter(),o=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?a.remove():r(a),n&&o?n.merge(o).order():o}function yg(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,a=n.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var u=r[l],d=n[l],f=u.length,p=s[l]=new Array(f),g,y=0;y<f;++y)(g=u[y]||d[y])&&(p[y]=g);for(;l<o;++l)s[l]=r[l];return new Dt(s,this._parents)}function bg(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function xg(e){e||(e=wg);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var r=this._groups,n=r.length,o=new Array(n),a=0;a<n;++a){for(var i=r[a],s=i.length,l=o[a]=new Array(s),u,d=0;d<s;++d)(u=i[d])&&(l[d]=u);l.sort(t)}return new Dt(o,this._parents).order()}function wg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Cg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sg(){return Array.from(this)}function jg(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function kg(){let e=0;for(const t of this)++e;return e}function Eg(){return!this.node()}function Ng(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function Dg(e){return function(){this.removeAttribute(e)}}function Ig(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tg(e,t){return function(){this.setAttribute(e,t)}}function Pg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Og(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Mg(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Rg(e,t){var r=na(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Ig:Dg:typeof t=="function"?r.local?Mg:Og:r.local?Pg:Tg)(r,t))}function wu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ag(e){return function(){this.style.removeProperty(e)}}function Lg(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Fg(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Bg(e,t,r){return arguments.length>1?this.each((t==null?Ag:typeof t=="function"?Fg:Lg)(e,t,r??"")):nn(this.node(),e)}function nn(e,t){return e.style.getPropertyValue(t)||wu(e).getComputedStyle(e,null).getPropertyValue(t)}function _g(e){return function(){delete this[e]}}function $g(e,t){return function(){this[e]=t}}function zg(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Hg(e,t){return arguments.length>1?this.each((t==null?_g:typeof t=="function"?zg:$g)(e,t)):this.node()[e]}function Cu(e){return e.trim().split(/^|\s+/)}function Yi(e){return e.classList||new Su(e)}function Su(e){this._node=e,this._names=Cu(e.getAttribute("class")||"")}Su.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ju(e,t){for(var r=Yi(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function ku(e,t){for(var r=Yi(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function Vg(e){return function(){ju(this,e)}}function Gg(e){return function(){ku(this,e)}}function Wg(e,t){return function(){(t.apply(this,arguments)?ju:ku)(this,e)}}function Ug(e,t){var r=Cu(e+"");if(arguments.length<2){for(var n=Yi(this.node()),o=-1,a=r.length;++o<a;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?Wg:t?Vg:Gg)(r,t))}function qg(){this.textContent=""}function Xg(e){return function(){this.textContent=e}}function Yg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kg(e){return arguments.length?this.each(e==null?qg:(typeof e=="function"?Yg:Xg)(e)):this.node().textContent}function Zg(){this.innerHTML=""}function Jg(e){return function(){this.innerHTML=e}}function Qg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eh(e){return arguments.length?this.each(e==null?Zg:(typeof e=="function"?Qg:Jg)(e)):this.node().innerHTML}function th(){this.nextSibling&&this.parentNode.appendChild(this)}function rh(){return this.each(th)}function nh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oh(){return this.each(nh)}function ah(e){var t=typeof e=="function"?e:hu(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ih(){return null}function sh(e,t){var r=typeof e=="function"?e:hu(e),n=t==null?ih:typeof t=="function"?t:Xi(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function lh(){var e=this.parentNode;e&&e.removeChild(this)}function ch(){return this.each(lh)}function uh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dh(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fh(e){return this.select(e?dh:uh)}function ph(e){return arguments.length?this.property("__data__",e):this.node().__data__}function mh(e){return function(t){e.call(this,t,this.__data__)}}function gh(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function hh(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,a;r<o;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function vh(e,t,r){return function(){var n=this.__on,o,a=mh(t);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=t;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(o):this.__on=[o]}}function yh(e,t,r){var n=gh(e+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,d;l<u;++l)for(o=0,d=s[l];o<a;++o)if((i=n[o]).type===d.type&&i.name===d.name)return d.value}return}for(s=t?vh:hh,o=0;o<a;++o)this.each(s(n[o],t,r));return this}function Eu(e,t,r){var n=wu(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function bh(e,t){return function(){return Eu(this,e,t)}}function xh(e,t){return function(){return Eu(this,e,t.apply(this,arguments))}}function wh(e,t){return this.each((typeof t=="function"?xh:bh)(e,t))}function*Ch(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var Nu=[null];function Dt(e,t){this._groups=e,this._parents=t}function to(){return new Dt([[document.documentElement]],Nu)}function Sh(){return this}Dt.prototype=to.prototype={constructor:Dt,select:Ym,selectAll:Qm,selectChild:ng,selectChildren:sg,filter:lg,data:mg,enter:cg,exit:hg,join:vg,merge:yg,selection:Sh,order:bg,sort:xg,call:Cg,nodes:Sg,node:jg,size:kg,empty:Eg,each:Ng,attr:Rg,style:Bg,property:Hg,classed:Ug,text:Kg,html:eh,raise:rh,lower:oh,append:ah,insert:sh,remove:ch,clone:fh,datum:ph,on:yh,dispatch:wh,[Symbol.iterator]:Ch};function _t(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],Nu)}function jh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function qt(e,t){if(e=jh(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const kh={passive:!1},_n={capture:!0,passive:!1};function Na(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function Du(e){var t=e.document.documentElement,r=_t(e).on("dragstart.drag",Zr,_n);"onselectstart"in t?r.on("selectstart.drag",Zr,_n):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Iu(e,t){var r=e.document.documentElement,n=_t(e).on("dragstart.drag",null);t&&(n.on("click.drag",Zr,_n),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const fo=e=>()=>e;function pi(e,{sourceEvent:t,subject:r,target:n,identifier:o,active:a,x:i,y:s,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}pi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Eh(e){return!e.ctrlKey&&!e.button}function Nh(){return this.parentNode}function Dh(e,t){return t??{x:e.x,y:e.y}}function Ih(){return navigator.maxTouchPoints||"ontouchstart"in this}function Th(){var e=Eh,t=Nh,r=Dh,n=Ih,o={},a=ra("start","drag","end"),i=0,s,l,u,d,f=0;function p(w){w.on("mousedown.drag",g).filter(n).on("touchstart.drag",E).on("touchmove.drag",j,kh).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(w,I){if(!(d||!e.call(this,w,I))){var C=T(this,t.call(this,w,I),w,I,"mouse");C&&(_t(w.view).on("mousemove.drag",y,_n).on("mouseup.drag",x,_n),Du(w.view),Na(w),u=!1,s=w.clientX,l=w.clientY,C("start",w))}}function y(w){if(Zr(w),!u){var I=w.clientX-s,C=w.clientY-l;u=I*I+C*C>f}o.mouse("drag",w)}function x(w){_t(w.view).on("mousemove.drag mouseup.drag",null),Iu(w.view,u),Zr(w),o.mouse("end",w)}function E(w,I){if(e.call(this,w,I)){var C=w.changedTouches,v=t.call(this,w,I),b=C.length,m,S;for(m=0;m<b;++m)(S=T(this,v,w,I,C[m].identifier,C[m]))&&(Na(w),S("start",w,C[m]))}}function j(w){var I=w.changedTouches,C=I.length,v,b;for(v=0;v<C;++v)(b=o[I[v].identifier])&&(Zr(w),b("drag",w,I[v]))}function D(w){var I=w.changedTouches,C=I.length,v,b;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),v=0;v<C;++v)(b=o[I[v].identifier])&&(Na(w),b("end",w,I[v]))}function T(w,I,C,v,b,m){var S=a.copy(),k=qt(m||C,I),M,P,N;if((N=r.call(w,new pi("beforestart",{sourceEvent:C,target:p,identifier:b,active:i,x:k[0],y:k[1],dx:0,dy:0,dispatch:S}),v))!=null)return M=N.x-k[0]||0,P=N.y-k[1]||0,function R(O,F,_){var L=k,H;switch(O){case"start":o[b]=R,H=i++;break;case"end":delete o[b],--i;case"drag":k=qt(_||F,I),H=i;break}S.call(O,w,new pi(O,{sourceEvent:F,subject:N,target:p,identifier:b,active:H,x:k[0]+M,y:k[1]+P,dx:k[0]-L[0],dy:k[1]-L[1],dispatch:S}),v)}}return p.filter=function(w){return arguments.length?(e=typeof w=="function"?w:fo(!!w),p):e},p.container=function(w){return arguments.length?(t=typeof w=="function"?w:fo(w),p):t},p.subject=function(w){return arguments.length?(r=typeof w=="function"?w:fo(w),p):r},p.touchable=function(w){return arguments.length?(n=typeof w=="function"?w:fo(!!w),p):n},p.on=function(){var w=a.on.apply(a,arguments);return w===a?p:w},p.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,p):Math.sqrt(f)},p}function Ki(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Tu(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ro(){}var $n=.7,Lo=1/$n,Jr="\\s*([+-]?\\d+)\\s*",zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ph=/^#([0-9a-f]{3,8})$/,Oh=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),Mh=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),Rh=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${zn}\\)$`),Ah=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${zn}\\)$`),Lh=new RegExp(`^hsl\\(${zn},${Yt},${Yt}\\)$`),Fh=new RegExp(`^hsla\\(${zn},${Yt},${Yt},${zn}\\)$`),sl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ki(ro,Hn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ll,formatHex:ll,formatHex8:Bh,formatHsl:_h,formatRgb:cl,toString:cl});function ll(){return this.rgb().formatHex()}function Bh(){return this.rgb().formatHex8()}function _h(){return Pu(this).formatHsl()}function cl(){return this.rgb().formatRgb()}function Hn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ph.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ul(t):r===3?new mt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?po(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?po(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Oh.exec(e))?new mt(t[1],t[2],t[3],1):(t=Mh.exec(e))?new mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rh.exec(e))?po(t[1],t[2],t[3],t[4]):(t=Ah.exec(e))?po(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lh.exec(e))?pl(t[1],t[2]/100,t[3]/100,1):(t=Fh.exec(e))?pl(t[1],t[2]/100,t[3]/100,t[4]):sl.hasOwnProperty(e)?ul(sl[e]):e==="transparent"?new mt(NaN,NaN,NaN,0):null}function ul(e){return new mt(e>>16&255,e>>8&255,e&255,1)}function po(e,t,r,n){return n<=0&&(e=t=r=NaN),new mt(e,t,r,n)}function $h(e){return e instanceof ro||(e=Hn(e)),e?(e=e.rgb(),new mt(e.r,e.g,e.b,e.opacity)):new mt}function mi(e,t,r,n){return arguments.length===1?$h(e):new mt(e,t,r,n??1)}function mt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ki(mt,mi,Tu(ro,{brighter(e){return e=e==null?Lo:Math.pow(Lo,e),new mt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new mt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mt(Rr(this.r),Rr(this.g),Rr(this.b),Fo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dl,formatHex:dl,formatHex8:zh,formatRgb:fl,toString:fl}));function dl(){return`#${Or(this.r)}${Or(this.g)}${Or(this.b)}`}function zh(){return`#${Or(this.r)}${Or(this.g)}${Or(this.b)}${Or((isNaN(this.opacity)?1:this.opacity)*255)}`}function fl(){const e=Fo(this.opacity);return`${e===1?"rgb(":"rgba("}${Rr(this.r)}, ${Rr(this.g)}, ${Rr(this.b)}${e===1?")":`, ${e})`}`}function Fo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Or(e){return e=Rr(e),(e<16?"0":"")+e.toString(16)}function pl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $t(e,t,r,n)}function Pu(e){if(e instanceof $t)return new $t(e.h,e.s,e.l,e.opacity);if(e instanceof ro||(e=Hn(e)),!e)return new $t;if(e instanceof $t)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,l=(a+o)/2;return s?(t===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new $t(i,s,l,e.opacity)}function Hh(e,t,r,n){return arguments.length===1?Pu(e):new $t(e,t,r,n??1)}function $t(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ki($t,Hh,Tu(ro,{brighter(e){return e=e==null?Lo:Math.pow(Lo,e),new $t(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new $t(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new mt(Da(e>=240?e-240:e+120,o,n),Da(e,o,n),Da(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new $t(ml(this.h),mo(this.s),mo(this.l),Fo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fo(this.opacity);return`${e===1?"hsl(":"hsla("}${ml(this.h)}, ${mo(this.s)*100}%, ${mo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ml(e){return e=(e||0)%360,e<0?e+360:e}function mo(e){return Math.max(0,Math.min(1,e||0))}function Da(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ou=e=>()=>e;function Vh(e,t){return function(r){return e+r*t}}function Gh(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Wh(e){return(e=+e)==1?Mu:function(t,r){return r-t?Gh(t,r,e):Ou(isNaN(t)?r:t)}}function Mu(e,t){var r=t-e;return r?Vh(e,r):Ou(isNaN(e)?t:e)}const gl=(function e(t){var r=Wh(t);function n(o,a){var i=r((o=mi(o)).r,(a=mi(a)).r),s=r(o.g,a.g),l=r(o.b,a.b),u=Mu(o.opacity,a.opacity);return function(d){return o.r=i(d),o.g=s(d),o.b=l(d),o.opacity=u(d),o+""}}return n.gamma=e,n})(1);function pr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ia=new RegExp(gi.source,"g");function Uh(e){return function(){return e}}function qh(e){return function(t){return e(t)+""}}function Xh(e,t){var r=gi.lastIndex=Ia.lastIndex=0,n,o,a,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=gi.exec(e))&&(o=Ia.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i,x:pr(n,o)})),r=Ia.lastIndex;return r<t.length&&(a=t.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?qh(l[0].x):Uh(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}var hl=180/Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ru(e,t,r,n,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*hl,skewX:Math.atan(l)*hl,scaleX:i,scaleY:s}}var go;function Yh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hi:Ru(t.a,t.b,t.c,t.d,t.e,t.f)}function Kh(e){return e==null||(go||(go=document.createElementNS("http://www.w3.org/2000/svg","g")),go.setAttribute("transform",e),!(e=go.transform.baseVal.consolidate()))?hi:(e=e.matrix,Ru(e.a,e.b,e.c,e.d,e.e,e.f))}function Au(e,t,r,n){function o(u){return u.length?u.pop()+" ":""}function a(u,d,f,p,g,y){if(u!==f||d!==p){var x=g.push("translate(",null,t,null,r);y.push({i:x-4,x:pr(u,f)},{i:x-2,x:pr(d,p)})}else(f||p)&&g.push("translate("+f+t+p+r)}function i(u,d,f,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:f.push(o(f)+"rotate(",null,n)-2,x:pr(u,d)})):d&&f.push(o(f)+"rotate("+d+n)}function s(u,d,f,p){u!==d?p.push({i:f.push(o(f)+"skewX(",null,n)-2,x:pr(u,d)}):d&&f.push(o(f)+"skewX("+d+n)}function l(u,d,f,p,g,y){if(u!==f||d!==p){var x=g.push(o(g)+"scale(",null,",",null,")");y.push({i:x-4,x:pr(u,f)},{i:x-2,x:pr(d,p)})}else(f!==1||p!==1)&&g.push(o(g)+"scale("+f+","+p+")")}return function(u,d){var f=[],p=[];return u=e(u),d=e(d),a(u.translateX,u.translateY,d.translateX,d.translateY,f,p),i(u.rotate,d.rotate,f,p),s(u.skewX,d.skewX,f,p),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,p),u=d=null,function(g){for(var y=-1,x=p.length,E;++y<x;)f[(E=p[y]).i]=E.x(g);return f.join("")}}}var Zh=Au(Yh,"px, ","px)","deg)"),Jh=Au(Kh,", ",")",")"),Qh=1e-12;function vl(e){return((e=Math.exp(e))+1/e)/2}function ev(e){return((e=Math.exp(e))-1/e)/2}function tv(e){return((e=Math.exp(2*e))-1)/(e+1)}const rv=(function e(t,r,n){function o(a,i){var s=a[0],l=a[1],u=a[2],d=i[0],f=i[1],p=i[2],g=d-s,y=f-l,x=g*g+y*y,E,j;if(x<Qh)j=Math.log(p/u)/t,E=function(v){return[s+v*g,l+v*y,u*Math.exp(t*v*j)]};else{var D=Math.sqrt(x),T=(p*p-u*u+n*x)/(2*u*r*D),w=(p*p-u*u-n*x)/(2*p*r*D),I=Math.log(Math.sqrt(T*T+1)-T),C=Math.log(Math.sqrt(w*w+1)-w);j=(C-I)/t,E=function(v){var b=v*j,m=vl(I),S=u/(r*D)*(m*tv(t*b+I)-ev(I));return[s+S*g,l+S*y,u*m/vl(t*b+I)]}}return E.duration=j*1e3*t/Math.SQRT2,E}return o.rho=function(a){var i=Math.max(.001,+a),s=i*i,l=s*s;return e(i,s,l)},o})(Math.SQRT2,2,4);var on=0,In=0,bn=0,Lu=1e3,Bo,Tn,_o=0,Lr=0,oa=0,Vn=typeof performance=="object"&&performance.now?performance:Date,Fu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zi(){return Lr||(Fu(nv),Lr=Vn.now()+oa)}function nv(){Lr=0}function $o(){this._call=this._time=this._next=null}$o.prototype=Bu.prototype={constructor:$o,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Zi():+r)+(t==null?0:+t),!this._next&&Tn!==this&&(Tn?Tn._next=this:Bo=this,Tn=this),this._call=e,this._time=r,vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,vi())}};function Bu(e,t,r){var n=new $o;return n.restart(e,t,r),n}function ov(){Zi(),++on;for(var e=Bo,t;e;)(t=Lr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--on}function yl(){Lr=(_o=Vn.now())+oa,on=In=0;try{ov()}finally{on=0,iv(),Lr=0}}function av(){var e=Vn.now(),t=e-_o;t>Lu&&(oa-=t,_o=e)}function iv(){for(var e,t=Bo,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Bo=r);Tn=e,vi(n)}function vi(e){if(!on){In&&(In=clearTimeout(In));var t=e-Lr;t>24?(e<1/0&&(In=setTimeout(yl,e-Vn.now()-oa)),bn&&(bn=clearInterval(bn))):(bn||(_o=Vn.now(),bn=setInterval(av,Lu)),on=1,Fu(yl))}}function bl(e,t,r){var n=new $o;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var sv=ra("start","end","cancel","interrupt"),lv=[],_u=0,xl=1,yi=2,Io=3,wl=4,bi=5,To=6;function aa(e,t,r,n,o,a){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;cv(e,r,{name:t,index:n,group:o,on:sv,tween:lv,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_u})}function Ji(e,t){var r=Vt(e,t);if(r.state>_u)throw new Error("too late; already scheduled");return r}function Kt(e,t){var r=Vt(e,t);if(r.state>Io)throw new Error("too late; already running");return r}function Vt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function cv(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=Bu(a,0,r.time);function a(u){r.state=xl,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,p,g;if(r.state!==xl)return l();for(d in n)if(g=n[d],g.name===r.name){if(g.state===Io)return bl(i);g.state===wl?(g.state=To,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[d]):+d<t&&(g.state=To,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[d])}if(bl(function(){r.state===Io&&(r.state=wl,r.timer.restart(s,r.delay,r.time),s(u))}),r.state=yi,r.on.call("start",e,e.__data__,r.index,r.group),r.state===yi){for(r.state=Io,o=new Array(p=r.tween.length),d=0,f=-1;d<p;++d)(g=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(o[++f]=g);o.length=f+1}}function s(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=bi,1),f=-1,p=o.length;++f<p;)o[f].call(e,d);r.state===bi&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=To,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Po(e,t){var r=e.__transition,n,o,a=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){a=!1;continue}o=n.state>yi&&n.state<bi,n.state=To,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}a&&delete e.__transition}}function uv(e){return this.each(function(){Po(this,e)})}function dv(e,t){var r,n;return function(){var o=Kt(this,e),a=o.tween;if(a!==r){n=r=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function fv(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var a=Kt(this,e),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:t,value:r},l=0,u=o.length;l<u;++l)if(o[l].name===t){o[l]=s;break}l===u&&o.push(s)}a.tween=o}}function pv(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Vt(this.node(),r).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===e)return i.value;return null}return this.each((t==null?dv:fv)(r,e,t))}function Qi(e,t,r){var n=e._id;return e.each(function(){var o=Kt(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return Vt(o,n).value[t]}}function $u(e,t){var r;return(typeof t=="number"?pr:t instanceof Hn?gl:(r=Hn(t))?(t=r,gl):Xh)(e,t)}function mv(e){return function(){this.removeAttribute(e)}}function gv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hv(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===n?a:a=t(n=i,r)}}function vv(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===n?a:a=t(n=i,r)}}function yv(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function bv(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function xv(e,t){var r=na(e),n=r==="transform"?Jh:$u;return this.attrTween(e,typeof t=="function"?(r.local?bv:yv)(r,n,Qi(this,"attr."+e,t)):t==null?(r.local?gv:mv)(r):(r.local?vv:hv)(r,n,t))}function wv(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Cv(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Sv(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Cv(e,a)),r}return o._value=t,o}function jv(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&wv(e,a)),r}return o._value=t,o}function kv(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=na(e);return this.tween(r,(n.local?Sv:jv)(n,t))}function Ev(e,t){return function(){Ji(this,e).delay=+t.apply(this,arguments)}}function Nv(e,t){return t=+t,function(){Ji(this,e).delay=t}}function Dv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ev:Nv)(t,e)):Vt(this.node(),t).delay}function Iv(e,t){return function(){Kt(this,e).duration=+t.apply(this,arguments)}}function Tv(e,t){return t=+t,function(){Kt(this,e).duration=t}}function Pv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Iv:Tv)(t,e)):Vt(this.node(),t).duration}function Ov(e,t){if(typeof t!="function")throw new Error;return function(){Kt(this,e).ease=t}}function Mv(e){var t=this._id;return arguments.length?this.each(Ov(t,e)):Vt(this.node(),t).ease}function Rv(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Kt(this,e).ease=r}}function Av(e){if(typeof e!="function")throw new Error;return this.each(Rv(this._id,e))}function Lv(e){typeof e!="function"&&(e=yu(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,u=0;u<i;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&s.push(l);return new sr(n,this._parents,this._name,this._id)}function Fv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var l=t[s],u=r[s],d=l.length,f=i[s]=new Array(d),p,g=0;g<d;++g)(p=l[g]||u[g])&&(f[g]=p);for(;s<n;++s)i[s]=t[s];return new sr(i,this._parents,this._name,this._id)}function Bv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function _v(e,t,r){var n,o,a=Bv(t)?Ji:Kt;return function(){var i=a(this,e),s=i.on;s!==n&&(o=(n=s).copy()).on(t,r),i.on=o}}function $v(e,t){var r=this._id;return arguments.length<2?Vt(this.node(),r).on.on(e):this.each(_v(r,e,t))}function zv(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Hv(){return this.on("end.remove",zv(this._id))}function Vv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Xi(e));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],l=s.length,u=a[i]=new Array(l),d,f,p=0;p<l;++p)(d=s[p])&&(f=e.call(d,d.__data__,p,s))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f,aa(u[p],t,r,p,u,Vt(d,r)));return new sr(a,this._parents,t,r)}function Gv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=vu(e));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var l=n[s],u=l.length,d,f=0;f<u;++f)if(d=l[f]){for(var p=e.call(d,d.__data__,f,l),g,y=Vt(d,r),x=0,E=p.length;x<E;++x)(g=p[x])&&aa(g,t,r,x,p,y);a.push(p),i.push(d)}return new sr(a,i,t,r)}var Wv=to.prototype.constructor;function Uv(){return new Wv(this._groups,this._parents)}function qv(e,t){var r,n,o;return function(){var a=nn(this,e),i=(this.style.removeProperty(e),nn(this,e));return a===i?null:a===r&&i===n?o:o=t(r=a,n=i)}}function zu(e){return function(){this.style.removeProperty(e)}}function Xv(e,t,r){var n,o=r+"",a;return function(){var i=nn(this,e);return i===o?null:i===n?a:a=t(n=i,r)}}function Yv(e,t,r){var n,o,a;return function(){var i=nn(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),nn(this,e))),i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s))}}function Kv(e,t){var r,n,o,a="style."+t,i="end."+a,s;return function(){var l=Kt(this,e),u=l.on,d=l.value[a]==null?s||(s=zu(t)):void 0;(u!==r||o!==d)&&(n=(r=u).copy()).on(i,o=d),l.on=n}}function Zv(e,t,r){var n=(e+="")=="transform"?Zh:$u;return t==null?this.styleTween(e,qv(e,n)).on("end.style."+e,zu(e)):typeof t=="function"?this.styleTween(e,Yv(e,n,Qi(this,"style."+e,t))).each(Kv(this._id,e)):this.styleTween(e,Xv(e,n,t),r).on("end.style."+e,null)}function Jv(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Qv(e,t,r){var n,o;function a(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&Jv(e,i,r)),n}return a._value=t,a}function e0(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Qv(e,t,r??""))}function t0(e){return function(){this.textContent=e}}function r0(e){return function(){var t=e(this);this.textContent=t??""}}function n0(e){return this.tween("text",typeof e=="function"?r0(Qi(this,"text",e)):t0(e==null?"":e+""))}function o0(e){return function(t){this.textContent=e.call(this,t)}}function a0(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&o0(o)),t}return n._value=e,n}function i0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,a0(e))}function s0(){for(var e=this._name,t=this._id,r=Hu(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,u=0;u<s;++u)if(l=i[u]){var d=Vt(l,t);aa(l,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new sr(n,this._parents,e,r)}function l0(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(a,i){var s={value:i},l={value:function(){--o===0&&a()}};r.each(function(){var u=Kt(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),o===0&&a()})}var c0=0;function sr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Hu(){return++c0}var or=to.prototype;sr.prototype={constructor:sr,select:Vv,selectAll:Gv,selectChild:or.selectChild,selectChildren:or.selectChildren,filter:Lv,merge:Fv,selection:Uv,transition:s0,call:or.call,nodes:or.nodes,node:or.node,size:or.size,empty:or.empty,each:or.each,on:$v,attr:xv,attrTween:kv,style:Zv,styleTween:e0,text:n0,textTween:i0,remove:Hv,tween:pv,delay:Dv,duration:Pv,ease:Mv,easeVarying:Av,end:l0,[Symbol.iterator]:or[Symbol.iterator]};function u0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var d0={time:null,delay:0,duration:250,ease:u0};function f0(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function p0(e){var t,r;e instanceof sr?(t=e._id,e=e._name):(t=Hu(),(r=d0).time=Zi(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,u=0;u<s;++u)(l=i[u])&&aa(l,e,t,u,i,r||f0(l,t));return new sr(n,this._parents,e,t)}to.prototype.interrupt=uv;to.prototype.transition=p0;const ho=e=>()=>e;function m0(e,{sourceEvent:t,target:r,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function ir(e,t,r){this.k=e,this.x=t,this.y=r}ir.prototype={constructor:ir,scale:function(e){return e===1?this:new ir(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ir(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hr=new ir(1,0,0);ir.prototype;function Ta(e){e.stopImmediatePropagation()}function xn(e){e.preventDefault(),e.stopImmediatePropagation()}function g0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function h0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Cl(){return this.__zoom||hr}function v0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function y0(){return navigator.maxTouchPoints||"ontouchstart"in this}function b0(e,t,r){var n=e.invertX(t[0][0])-r[0][0],o=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function x0(){var e=g0,t=h0,r=b0,n=v0,o=y0,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,l=rv,u=ra("start","zoom","end"),d,f,p,g=500,y=150,x=0,E=10;function j(N){N.property("__zoom",Cl).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",m).on("dblclick.zoom",S).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(N,R,O,F){var _=N.selection?N.selection():N;_.property("__zoom",Cl),N!==_?I(N,R,O,F):_.interrupt().each(function(){C(this,arguments).event(F).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},j.scaleBy=function(N,R,O,F){j.scaleTo(N,function(){var _=this.__zoom.k,L=typeof R=="function"?R.apply(this,arguments):R;return _*L},O,F)},j.scaleTo=function(N,R,O,F){j.transform(N,function(){var _=t.apply(this,arguments),L=this.__zoom,H=O==null?w(_):typeof O=="function"?O.apply(this,arguments):O,W=L.invert(H),V=typeof R=="function"?R.apply(this,arguments):R;return r(T(D(L,V),H,W),_,i)},O,F)},j.translateBy=function(N,R,O,F){j.transform(N,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),i)},null,F)},j.translateTo=function(N,R,O,F,_){j.transform(N,function(){var L=t.apply(this,arguments),H=this.__zoom,W=F==null?w(L):typeof F=="function"?F.apply(this,arguments):F;return r(hr.translate(W[0],W[1]).scale(H.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof O=="function"?-O.apply(this,arguments):-O),L,i)},F,_)};function D(N,R){return R=Math.max(a[0],Math.min(a[1],R)),R===N.k?N:new ir(R,N.x,N.y)}function T(N,R,O){var F=R[0]-O[0]*N.k,_=R[1]-O[1]*N.k;return F===N.x&&_===N.y?N:new ir(N.k,F,_)}function w(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function I(N,R,O,F){N.on("start.zoom",function(){C(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(F).end()}).tween("zoom",function(){var _=this,L=arguments,H=C(_,L).event(F),W=t.apply(_,L),V=O==null?w(W):typeof O=="function"?O.apply(_,L):O,U=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),G=_.__zoom,B=typeof R=="function"?R.apply(_,L):R,q=l(G.invert(V).concat(U/G.k),B.invert(V).concat(U/B.k));return function(ee){if(ee===1)ee=B;else{var ne=q(ee),pe=U/ne[2];ee=new ir(pe,V[0]-ne[0]*pe,V[1]-ne[1]*pe)}H.zoom(null,ee)}})}function C(N,R,O){return!O&&N.__zooming||new v(N,R)}function v(N,R){this.that=N,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,R),this.taps=0}v.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,R){return this.mouse&&N!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var R=_t(this.that).datum();u.call(N,this.that,new m0(N,{sourceEvent:this.sourceEvent,target:j,transform:this.that.__zoom,dispatch:u}),R)}};function b(N,...R){if(!e.apply(this,arguments))return;var O=C(this,R).event(N),F=this.__zoom,_=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,n.apply(this,arguments)))),L=qt(N);if(O.wheel)(O.mouse[0][0]!==L[0]||O.mouse[0][1]!==L[1])&&(O.mouse[1]=F.invert(O.mouse[0]=L)),clearTimeout(O.wheel);else{if(F.k===_)return;O.mouse=[L,F.invert(L)],Po(this),O.start()}xn(N),O.wheel=setTimeout(H,y),O.zoom("mouse",r(T(D(F,_),O.mouse[0],O.mouse[1]),O.extent,i));function H(){O.wheel=null,O.end()}}function m(N,...R){if(p||!e.apply(this,arguments))return;var O=N.currentTarget,F=C(this,R,!0).event(N),_=_t(N.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",U,!0),L=qt(N,O),H=N.clientX,W=N.clientY;Du(N.view),Ta(N),F.mouse=[L,this.__zoom.invert(L)],Po(this),F.start();function V(G){if(xn(G),!F.moved){var B=G.clientX-H,q=G.clientY-W;F.moved=B*B+q*q>x}F.event(G).zoom("mouse",r(T(F.that.__zoom,F.mouse[0]=qt(G,O),F.mouse[1]),F.extent,i))}function U(G){_.on("mousemove.zoom mouseup.zoom",null),Iu(G.view,F.moved),xn(G),F.event(G).end()}}function S(N,...R){if(e.apply(this,arguments)){var O=this.__zoom,F=qt(N.changedTouches?N.changedTouches[0]:N,this),_=O.invert(F),L=O.k*(N.shiftKey?.5:2),H=r(T(D(O,L),F,_),t.apply(this,R),i);xn(N),s>0?_t(this).transition().duration(s).call(I,H,F,N):_t(this).call(j.transform,H,F,N)}}function k(N,...R){if(e.apply(this,arguments)){var O=N.touches,F=O.length,_=C(this,R,N.changedTouches.length===F).event(N),L,H,W,V;for(Ta(N),H=0;H<F;++H)W=O[H],V=qt(W,this),V=[V,this.__zoom.invert(V),W.identifier],_.touch0?!_.touch1&&_.touch0[2]!==V[2]&&(_.touch1=V,_.taps=0):(_.touch0=V,L=!0,_.taps=1+!!d);d&&(d=clearTimeout(d)),L&&(_.taps<2&&(f=V[0],d=setTimeout(function(){d=null},g)),Po(this),_.start())}}function M(N,...R){if(this.__zooming){var O=C(this,R).event(N),F=N.changedTouches,_=F.length,L,H,W,V;for(xn(N),L=0;L<_;++L)H=F[L],W=qt(H,this),O.touch0&&O.touch0[2]===H.identifier?O.touch0[0]=W:O.touch1&&O.touch1[2]===H.identifier&&(O.touch1[0]=W);if(H=O.that.__zoom,O.touch1){var U=O.touch0[0],G=O.touch0[1],B=O.touch1[0],q=O.touch1[1],ee=(ee=B[0]-U[0])*ee+(ee=B[1]-U[1])*ee,ne=(ne=q[0]-G[0])*ne+(ne=q[1]-G[1])*ne;H=D(H,Math.sqrt(ee/ne)),W=[(U[0]+B[0])/2,(U[1]+B[1])/2],V=[(G[0]+q[0])/2,(G[1]+q[1])/2]}else if(O.touch0)W=O.touch0[0],V=O.touch0[1];else return;O.zoom("touch",r(T(H,W,V),O.extent,i))}}function P(N,...R){if(this.__zooming){var O=C(this,R).event(N),F=N.changedTouches,_=F.length,L,H;for(Ta(N),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),L=0;L<_;++L)H=F[L],O.touch0&&O.touch0[2]===H.identifier?delete O.touch0:O.touch1&&O.touch1[2]===H.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(H=qt(H,this),Math.hypot(f[0]-H[0],f[1]-H[1])<E)){var W=_t(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return j.wheelDelta=function(N){return arguments.length?(n=typeof N=="function"?N:ho(+N),j):n},j.filter=function(N){return arguments.length?(e=typeof N=="function"?N:ho(!!N),j):e},j.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:ho(!!N),j):o},j.extent=function(N){return arguments.length?(t=typeof N=="function"?N:ho([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),j):t},j.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],j):[a[0],a[1]]},j.translateExtent=function(N){return arguments.length?(i[0][0]=+N[0][0],i[1][0]=+N[1][0],i[0][1]=+N[0][1],i[1][1]=+N[1][1],j):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},j.constrain=function(N){return arguments.length?(r=N,j):r},j.duration=function(N){return arguments.length?(s=+N,j):s},j.interpolate=function(N){return arguments.length?(l=N,j):l},j.on=function(){var N=u.on.apply(u,arguments);return N===u?j:N},j.clickDistance=function(N){return arguments.length?(x=(N=+N)*N,j):Math.sqrt(x)},j.tapDistance=function(N){return arguments.length?(E=+N,j):E},j}const ia=h.createContext(null),w0=ia.Provider,lr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Vu=lr.error001();function Le(e,t){const r=h.useContext(ia);if(r===null)throw new Error(Vu);return gu(r,e,t)}const Xe=()=>{const e=h.useContext(ia);if(e===null)throw new Error(Vu);return h.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},C0=e=>e.userSelectionActive?"none":"all";function es({position:e,children:t,className:r,style:n,...o}){const a=Le(C0),i=`${e}`.split("-");return A.createElement("div",{className:nt(["react-flow__panel",r,...i]),style:{...n,pointerEvents:a},...o},t)}function S0({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:A.createElement(es,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},A.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const j0=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...d})=>{const f=h.useRef(null),[p,g]=h.useState({x:0,y:0,width:0,height:0}),y=nt(["react-flow__edge-textwrapper",u]);return h.useEffect(()=>{if(f.current){const x=f.current.getBBox();g({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),typeof r>"u"||!r?null:A.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:y,visibility:p.width?"visible":"hidden",...d},o&&A.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),A.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:f,style:n},r),l)};var k0=h.memo(j0);const ts=e=>({width:e.offsetWidth,height:e.offsetHeight}),an=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),rs=(e={x:0,y:0},t)=>({x:an(e.x,t[0][0],t[1][0]),y:an(e.y,t[0][1],t[1][1])}),Sl=(e,t,r)=>e<t?an(Math.abs(e-t),1,50)/50:e>r?-an(Math.abs(e-r),1,50)/50:0,Gu=(e,t)=>{const r=Sl(e.x,35,t.width-35)*20,n=Sl(e.y,35,t.height-35)*20;return[r,n]},Wu=e=>e.getRootNode?.()||window?.document,E0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ns=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),N0=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),jl=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),xi=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},D0=e=>Rt(e.width)&&Rt(e.height)&&Rt(e.x)&&Rt(e.y),Rt=e=>!isNaN(e)&&isFinite(e),_e=Symbol.for("internals"),Uu=["Enter"," ","Escape"],I0=(e,t)=>{},T0=e=>"nativeEvent"in e;function wi(e){const r=(T0(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r?.nodeName)||r?.hasAttribute("contenteditable")||!!r?.closest(".nokey")}const qu=e=>"clientX"in e,vr=(e,t)=>{const r=qu(e),n=r?e.clientX:e.touches?.[0].clientX,o=r?e.clientY:e.touches?.[0].clientY;return{x:n-(t?.left??0),y:o-(t?.top??0)}},zo=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,pn=({id:e,path:t,labelX:r,labelY:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:p,interactionWidth:g=20})=>A.createElement(A.Fragment,null,A.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:p}),g&&A.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),o&&Rt(r)&&Rt(n)?A.createElement(k0,{x:r,y:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u}):null);pn.displayName="BaseEdge";function wn(e,t,r){return r===void 0?r:n=>{const o=t().edges.find(a=>a.id===e);o&&r(n,{...o})}}function Xu({sourceX:e,sourceY:t,targetX:r,targetY:n}){const o=Math.abs(r-e)/2,a=r<e?r+o:r-o,i=Math.abs(n-t)/2,s=n<t?n+i:n-i;return[a,s,o,i]}function Yu({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:o,sourceControlY:a,targetControlX:i,targetControlY:s}){const l=e*.125+o*.375+i*.375+r*.125,u=t*.125+a*.375+s*.375+n*.125,d=Math.abs(l-e),f=Math.abs(u-t);return[l,u,d,f]}var Fr;(function(e){e.Strict="strict",e.Loose="loose"})(Fr||(Fr={}));var Mr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Mr||(Mr={}));var Gn;(function(e){e.Partial="partial",e.Full="full"})(Gn||(Gn={}));var gr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(gr||(gr={}));var Ho;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ho||(Ho={}));var Z;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Z||(Z={}));function kl({pos:e,x1:t,y1:r,x2:n,y2:o}){return e===Z.Left||e===Z.Right?[.5*(t+n),r]:[t,.5*(r+o)]}function Ku({sourceX:e,sourceY:t,sourcePosition:r=Z.Bottom,targetX:n,targetY:o,targetPosition:a=Z.Top}){const[i,s]=kl({pos:r,x1:e,y1:t,x2:n,y2:o}),[l,u]=kl({pos:a,x1:n,y1:o,x2:e,y2:t}),[d,f,p,g]=Yu({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${i},${s} ${l},${u} ${n},${o}`,d,f,p,g]}const os=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:o=Z.Bottom,targetPosition:a=Z.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:y,interactionWidth:x})=>{const[E,j,D]=Ku({sourceX:e,sourceY:t,sourcePosition:o,targetX:r,targetY:n,targetPosition:a});return A.createElement(pn,{path:E,labelX:j,labelY:D,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:y,interactionWidth:x})});os.displayName="SimpleBezierEdge";const El={[Z.Left]:{x:-1,y:0},[Z.Right]:{x:1,y:0},[Z.Top]:{x:0,y:-1},[Z.Bottom]:{x:0,y:1}},P0=({source:e,sourcePosition:t=Z.Bottom,target:r})=>t===Z.Left||t===Z.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Nl=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function O0({source:e,sourcePosition:t=Z.Bottom,target:r,targetPosition:n=Z.Top,center:o,offset:a}){const i=El[t],s=El[n],l={x:e.x+i.x*a,y:e.y+i.y*a},u={x:r.x+s.x*a,y:r.y+s.y*a},d=P0({source:l,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",p=d[f];let g=[],y,x;const E={x:0,y:0},j={x:0,y:0},[D,T,w,I]=Xu({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[f]*s[f]===-1){y=o.x??D,x=o.y??T;const v=[{x:y,y:l.y},{x:y,y:u.y}],b=[{x:l.x,y:x},{x:u.x,y:x}];i[f]===p?g=f==="x"?v:b:g=f==="x"?b:v}else{const v=[{x:l.x,y:u.y}],b=[{x:u.x,y:l.y}];if(f==="x"?g=i.x===p?b:v:g=i.y===p?v:b,t===n){const P=Math.abs(e[f]-r[f]);if(P<=a){const N=Math.min(a-1,a-P);i[f]===p?E[f]=(l[f]>e[f]?-1:1)*N:j[f]=(u[f]>r[f]?-1:1)*N}}if(t!==n){const P=f==="x"?"y":"x",N=i[f]===s[P],R=l[P]>u[P],O=l[P]<u[P];(i[f]===1&&(!N&&R||N&&O)||i[f]!==1&&(!N&&O||N&&R))&&(g=f==="x"?v:b)}const m={x:l.x+E.x,y:l.y+E.y},S={x:u.x+j.x,y:u.y+j.y},k=Math.max(Math.abs(m.x-g[0].x),Math.abs(S.x-g[0].x)),M=Math.max(Math.abs(m.y-g[0].y),Math.abs(S.y-g[0].y));k>=M?(y=(m.x+S.x)/2,x=g[0].y):(y=g[0].x,x=(m.y+S.y)/2)}return[[e,{x:l.x+E.x,y:l.y+E.y},...g,{x:u.x+j.x,y:u.y+j.y},r],y,x,w,I]}function M0(e,t,r,n){const o=Math.min(Nl(e,t)/2,Nl(t,r)/2,n),{x:a,y:i}=t;if(e.x===a&&a===r.x||e.y===i&&i===r.y)return`L${a} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${a+o*u},${i}Q ${a},${i} ${a},${i+o*d}`}const s=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${a},${i+o*l}Q ${a},${i} ${a+o*s},${i}`}function Vo({sourceX:e,sourceY:t,sourcePosition:r=Z.Bottom,targetX:n,targetY:o,targetPosition:a=Z.Top,borderRadius:i=5,centerX:s,centerY:l,offset:u=20}){const[d,f,p,g,y]=O0({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:o},targetPosition:a,center:{x:s,y:l},offset:u});return[d.reduce((E,j,D)=>{let T="";return D>0&&D<d.length-1?T=M0(d[D-1],j,d[D+1],i):T=`${D===0?"M":"L"}${j.x} ${j.y}`,E+=T,E},""),f,p,g,y]}const sa=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,sourcePosition:f=Z.Bottom,targetPosition:p=Z.Top,markerEnd:g,markerStart:y,pathOptions:x,interactionWidth:E})=>{const[j,D,T]=Vo({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:p,borderRadius:x?.borderRadius,offset:x?.offset});return A.createElement(pn,{path:j,labelX:D,labelY:T,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:g,markerStart:y,interactionWidth:E})});sa.displayName="SmoothStepEdge";const as=h.memo(e=>A.createElement(sa,{...e,pathOptions:h.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));as.displayName="StepEdge";function R0({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[o,a,i,s]=Xu({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,o,a,i,s]}const is=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:p,interactionWidth:g})=>{const[y,x,E]=R0({sourceX:e,sourceY:t,targetX:r,targetY:n});return A.createElement(pn,{path:y,labelX:x,labelY:E,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:p,interactionWidth:g})});is.displayName="StraightEdge";function vo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Dl({pos:e,x1:t,y1:r,x2:n,y2:o,c:a}){switch(e){case Z.Left:return[t-vo(t-n,a),r];case Z.Right:return[t+vo(n-t,a),r];case Z.Top:return[t,r-vo(r-o,a)];case Z.Bottom:return[t,r+vo(o-r,a)]}}function Zu({sourceX:e,sourceY:t,sourcePosition:r=Z.Bottom,targetX:n,targetY:o,targetPosition:a=Z.Top,curvature:i=.25}){const[s,l]=Dl({pos:r,x1:e,y1:t,x2:n,y2:o,c:i}),[u,d]=Dl({pos:a,x1:n,y1:o,x2:e,y2:t,c:i}),[f,p,g,y]=Yu({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${s},${l} ${u},${d} ${n},${o}`,f,p,g,y]}const Go=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:o=Z.Bottom,targetPosition:a=Z.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:y,pathOptions:x,interactionWidth:E})=>{const[j,D,T]=Zu({sourceX:e,sourceY:t,sourcePosition:o,targetX:r,targetY:n,targetPosition:a,curvature:x?.curvature});return A.createElement(pn,{path:j,labelX:D,labelY:T,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:y,interactionWidth:E})});Go.displayName="BezierEdge";const ss=h.createContext(null),A0=ss.Provider;ss.Consumer;const L0=()=>h.useContext(ss),F0=e=>"id"in e&&"source"in e&&"target"in e,Ju=e=>"id"in e&&!("source"in e)&&!("target"in e),B0=(e,t,r)=>{if(!Ju(e))return[];const n=r.filter(o=>o.source===e.id).map(o=>o.target);return t.filter(o=>n.includes(o.id))},_0=(e,t,r)=>{if(!Ju(e))return[];const n=r.filter(o=>o.target===e.id).map(o=>o.source);return t.filter(o=>n.includes(o.id))},$0=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,Ci=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,z0=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Qu=(e,t)=>{if(!e.source||!e.target)return t;let r;return F0(e)?r={...e}:r={...e,id:$0(e)},z0(r,t)?t:t.concat(r)},Si=({x:e,y:t},[r,n,o],a,[i,s])=>{const l={x:(e-r)/o,y:(t-n)/o};return a?{x:i*Math.round(l.x/i),y:s*Math.round(l.y/s)}:l},ed=({x:e,y:t},[r,n,o])=>({x:e*o+r,y:t*o+n}),Qr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],o={x:e.position.x-r,y:e.position.y-n};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:o}},la=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,o)=>{const{x:a,y:i}=Qr(o,t).positionAbsolute;return E0(n,ns({x:a,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return N0(r)},td=(e,t,[r,n,o]=[0,0,1],a=!1,i=!1,s=[0,0])=>{const l={x:(t.x-r)/o,y:(t.y-n)/o,width:t.width/o,height:t.height/o},u=[];return e.forEach(d=>{const{width:f,height:p,selectable:g=!0,hidden:y=!1}=d;if(i&&!g||y)return!1;const{positionAbsolute:x}=Qr(d,s),E={x:x.x,y:x.y,width:f||0,height:p||0},j=xi(l,E),D=typeof f>"u"||typeof p>"u"||f===null||p===null,T=a&&j>0,w=(f||0)*(p||0);(D||T||j>=w||d.dragging)&&u.push(d)}),u},ls=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},cs=(e,t,r,n,o,a=.1)=>{const i=t/(e.width*(1+a)),s=r/(e.height*(1+a)),l=Math.min(i,s),u=an(l,n,o),d=e.x+e.width/2,f=e.y+e.height/2,p=t/2-d*u,g=r/2-f*u;return{x:p,y:g,zoom:u}},Ir=(e,t=0)=>e.transition().duration(t);function Il(e,t,r,n){return(t[r]||[]).reduce((o,a)=>(`${e.id}-${a.id}-${r}`!==n&&o.push({id:a.id||null,type:r,nodeId:e.id,x:(e.positionAbsolute?.x??0)+a.x+a.width/2,y:(e.positionAbsolute?.y??0)+a.y+a.height/2}),o),[])}function H0(e,t,r,n,o,a){const{x:i,y:s}=vr(e),u=t.elementsFromPoint(i,s).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const x=us(void 0,u),E=u.getAttribute("data-handleid"),j=a({nodeId:y,id:E,type:x});if(j){const D=o.find(T=>T.nodeId===y&&T.type===x&&T.id===E);return{handle:{id:E,type:x,nodeId:y,x:D?.x||r.x,y:D?.y||r.y},validHandleResult:j}}}}let d=[],f=1/0;if(o.forEach(y=>{const x=Math.sqrt((y.x-r.x)**2+(y.y-r.y)**2);if(x<=n){const E=a(y);x<=f&&(x<f?d=[{handle:y,validHandleResult:E}]:x===f&&d.push({handle:y,validHandleResult:E}),f=x)}}),!d.length)return{handle:null,validHandleResult:rd()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:y})=>y.isValid),g=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:x})=>g?y.type==="target":p?x.isValid:!0)||d[0]}const V0={source:null,target:null,sourceHandle:null,targetHandle:null},rd=()=>({handleDomNode:null,isValid:!1,connection:V0,endHandle:null});function nd(e,t,r,n,o,a,i){const s=o==="target",l=i.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...rd(),handleDomNode:l};if(l){const d=us(void 0,l),f=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),g=l.classList.contains("connectable"),y=l.classList.contains("connectableend"),x={source:s?f:r,sourceHandle:s?p:n,target:s?r:f,targetHandle:s?n:p};u.connection=x,g&&y&&(t===Fr.Strict?s&&d==="source"||!s&&d==="target":f!==r||p!==n)&&(u.endHandle={nodeId:f,handleId:p,type:d},u.isValid=a(x))}return u}function G0({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((o,a)=>{if(a[_e]){const{handleBounds:i}=a[_e];let s=[],l=[];i&&(s=Il(a,i,"source",`${t}-${r}-${n}`),l=Il(a,i,"target",`${t}-${r}-${n}`)),o.push(...s,...l)}return o},[])}function us(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Pa(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function W0(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function od({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:o,getState:a,setState:i,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:u}){const d=Wu(e.target),{connectionMode:f,domNode:p,autoPanOnConnect:g,connectionRadius:y,onConnectStart:x,panBy:E,getNodes:j,cancelConnection:D}=a();let T=0,w;const{x:I,y:C}=vr(e),v=d?.elementFromPoint(I,C),b=us(l,v),m=p?.getBoundingClientRect();if(!m||!b)return;let S,k=vr(e,m),M=!1,P=null,N=!1,R=null;const O=G0({nodes:j(),nodeId:r,handleId:t,handleType:b}),F=()=>{if(!g)return;const[H,W]=Gu(k,m);E({x:H,y:W}),T=requestAnimationFrame(F)};i({connectionPosition:k,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:b,connectionStartHandle:{nodeId:r,handleId:t,type:b},connectionEndHandle:null}),x?.(e,{nodeId:r,handleId:t,handleType:b});function _(H){const{transform:W}=a();k=vr(H,m);const{handle:V,validHandleResult:U}=H0(H,d,Si(k,W,!1,[1,1]),y,O,G=>nd(G,f,r,t,o?"target":"source",s,d));if(w=V,M||(F(),M=!0),R=U.handleDomNode,P=U.connection,N=U.isValid,i({connectionPosition:w&&N?ed({x:w.x,y:w.y},W):k,connectionStatus:W0(!!w,N),connectionEndHandle:U.endHandle}),!w&&!N&&!R)return Pa(S);P.source!==P.target&&R&&(Pa(S),S=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",N),R.classList.toggle("react-flow__handle-valid",N))}function L(H){(w||R)&&P&&N&&n?.(P),a().onConnectEnd?.(H),l&&u?.(H),Pa(S),D(),cancelAnimationFrame(T),M=!1,N=!1,P=null,R=null,d.removeEventListener("mousemove",_),d.removeEventListener("mouseup",L),d.removeEventListener("touchmove",_),d.removeEventListener("touchend",L)}d.addEventListener("mousemove",_),d.addEventListener("mouseup",L),d.addEventListener("touchmove",_),d.addEventListener("touchend",L)}const Tl=()=>!0,U0=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),q0=(e,t,r)=>n=>{const{connectionStartHandle:o,connectionEndHandle:a,connectionClickStartHandle:i}=n;return{connecting:o?.nodeId===e&&o?.handleId===t&&o?.type===r||a?.nodeId===e&&a?.handleId===t&&a?.type===r,clickConnecting:i?.nodeId===e&&i?.handleId===t&&i?.type===r}},ad=h.forwardRef(({type:e="source",position:t=Z.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:i,onConnect:s,children:l,className:u,onMouseDown:d,onTouchStart:f,...p},g)=>{const y=i||null,x=e==="target",E=Xe(),j=L0(),{connectOnClick:D,noPanClassName:T}=Le(U0,ht),{connecting:w,clickConnecting:I}=Le(q0(j,y,e),ht);j||E.getState().onError?.("010",lr.error010());const C=m=>{const{defaultEdgeOptions:S,onConnect:k,hasDefaultEdges:M}=E.getState(),P={...S,...m};if(M){const{edges:N,setEdges:R}=E.getState();R(Qu(P,N))}k?.(P),s?.(P)},v=m=>{if(!j)return;const S=qu(m);o&&(S&&m.button===0||!S)&&od({event:m,handleId:y,nodeId:j,onConnect:C,isTarget:x,getState:E.getState,setState:E.setState,isValidConnection:r||E.getState().isValidConnection||Tl}),S?d?.(m):f?.(m)},b=m=>{const{onClickConnectStart:S,onClickConnectEnd:k,connectionClickStartHandle:M,connectionMode:P,isValidConnection:N}=E.getState();if(!j||!M&&!o)return;if(!M){S?.(m,{nodeId:j,handleId:y,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:j,type:e,handleId:y}});return}const R=Wu(m.target),O=r||N||Tl,{connection:F,isValid:_}=nd({nodeId:j,id:y,type:e},P,M.nodeId,M.handleId||null,M.type,O,R);_&&C(F),k?.(m),E.setState({connectionClickStartHandle:null})};return A.createElement("div",{"data-handleid":y,"data-nodeid":j,"data-handlepos":t,"data-id":`${j}-${y}-${e}`,className:nt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",T,u,{source:!x,target:x,connectable:n,connectablestart:o,connectableend:a,connecting:I,connectionindicator:n&&(o&&!w||a&&w)}]),onMouseDown:v,onTouchStart:v,onClick:D?b:void 0,ref:g,...p},l)});ad.displayName="Handle";var je=h.memo(ad);const id=({data:e,isConnectable:t,targetPosition:r=Z.Top,sourcePosition:n=Z.Bottom})=>A.createElement(A.Fragment,null,A.createElement(je,{type:"target",position:r,isConnectable:t}),e?.label,A.createElement(je,{type:"source",position:n,isConnectable:t}));id.displayName="DefaultNode";var ji=h.memo(id);const sd=({data:e,isConnectable:t,sourcePosition:r=Z.Bottom})=>A.createElement(A.Fragment,null,e?.label,A.createElement(je,{type:"source",position:r,isConnectable:t}));sd.displayName="InputNode";var ld=h.memo(sd);const cd=({data:e,isConnectable:t,targetPosition:r=Z.Top})=>A.createElement(A.Fragment,null,A.createElement(je,{type:"target",position:r,isConnectable:t}),e?.label);cd.displayName="OutputNode";var ud=h.memo(cd);const ds=()=>null;ds.displayName="GroupNode";const X0=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),yo=e=>e.id;function Y0(e,t){return ht(e.selectedNodes.map(yo),t.selectedNodes.map(yo))&&ht(e.selectedEdges.map(yo),t.selectedEdges.map(yo))}const dd=h.memo(({onSelectionChange:e})=>{const t=Xe(),{selectedNodes:r,selectedEdges:n}=Le(X0,Y0);return h.useEffect(()=>{const o={nodes:r,edges:n};e?.(o),t.getState().onSelectionChange.forEach(a=>a(o))},[r,n,e]),null});dd.displayName="SelectionListener";const K0=e=>!!e.onSelectionChange;function Z0({onSelectionChange:e}){const t=Le(K0);return e||t?A.createElement(dd,{onSelectionChange:e}):null}const J0=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Hr(e,t){h.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function be(e,t,r){h.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const Q0=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:o,onConnectStart:a,onConnectEnd:i,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:y,minZoom:x,maxZoom:E,nodeExtent:j,onNodesChange:D,onEdgesChange:T,elementsSelectable:w,connectionMode:I,snapGrid:C,snapToGrid:v,translateExtent:b,connectOnClick:m,defaultEdgeOptions:S,fitView:k,fitViewOptions:M,onNodesDelete:P,onEdgesDelete:N,onNodeDrag:R,onNodeDragStart:O,onNodeDragStop:F,onSelectionDrag:_,onSelectionDragStart:L,onSelectionDragStop:H,noPanClassName:W,nodeOrigin:V,rfId:U,autoPanOnConnect:G,autoPanOnNodeDrag:B,onError:q,connectionRadius:ee,isValidConnection:ne,nodeDragThreshold:pe})=>{const{setNodes:X,setEdges:le,setDefaultNodesAndEdges:xe,setMinZoom:we,setMaxZoom:Te,setTranslateExtent:De,setNodeExtent:Ae,reset:ye}=Le(J0,ht),ae=Xe();return h.useEffect(()=>{const Re=n?.map(Ve=>({...Ve,...S}));return xe(r,Re),()=>{ye()}},[]),be("defaultEdgeOptions",S,ae.setState),be("connectionMode",I,ae.setState),be("onConnect",o,ae.setState),be("onConnectStart",a,ae.setState),be("onConnectEnd",i,ae.setState),be("onClickConnectStart",s,ae.setState),be("onClickConnectEnd",l,ae.setState),be("nodesDraggable",u,ae.setState),be("nodesConnectable",d,ae.setState),be("nodesFocusable",f,ae.setState),be("edgesFocusable",p,ae.setState),be("edgesUpdatable",g,ae.setState),be("elementsSelectable",w,ae.setState),be("elevateNodesOnSelect",y,ae.setState),be("snapToGrid",v,ae.setState),be("snapGrid",C,ae.setState),be("onNodesChange",D,ae.setState),be("onEdgesChange",T,ae.setState),be("connectOnClick",m,ae.setState),be("fitViewOnInit",k,ae.setState),be("fitViewOnInitOptions",M,ae.setState),be("onNodesDelete",P,ae.setState),be("onEdgesDelete",N,ae.setState),be("onNodeDrag",R,ae.setState),be("onNodeDragStart",O,ae.setState),be("onNodeDragStop",F,ae.setState),be("onSelectionDrag",_,ae.setState),be("onSelectionDragStart",L,ae.setState),be("onSelectionDragStop",H,ae.setState),be("noPanClassName",W,ae.setState),be("nodeOrigin",V,ae.setState),be("rfId",U,ae.setState),be("autoPanOnConnect",G,ae.setState),be("autoPanOnNodeDrag",B,ae.setState),be("onError",q,ae.setState),be("connectionRadius",ee,ae.setState),be("isValidConnection",ne,ae.setState),be("nodeDragThreshold",pe,ae.setState),Hr(e,X),Hr(t,le),Hr(x,we),Hr(E,Te),Hr(b,De),Hr(j,Ae),null},Pl={display:"none"},ey={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fd="react-flow__node-desc",pd="react-flow__edge-desc",ty="react-flow__aria-live",ry=e=>e.ariaLiveMessage;function ny({rfId:e}){const t=Le(ry);return A.createElement("div",{id:`${ty}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:ey},t)}function oy({rfId:e,disableKeyboardA11y:t}){return A.createElement(A.Fragment,null,A.createElement("div",{id:`${fd}-${e}`,style:Pl},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),A.createElement("div",{id:`${pd}-${e}`,style:Pl},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&A.createElement(ny,{rfId:e}))}var Wn=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=h.useState(!1),o=h.useRef(!1),a=h.useRef(new Set([])),[i,s]=h.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,p)=>f.concat(...p),[]);return[u,d]}return[[],[]]},[e]);return h.useEffect(()=>{const l=typeof document<"u"?document:null,u=t?.target||l;if(e!==null){const d=g=>{if(o.current=g.ctrlKey||g.metaKey||g.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&wi(g))return!1;const x=Ml(g.code,s);a.current.add(g[x]),Ol(i,a.current,!1)&&(g.preventDefault(),n(!0))},f=g=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&wi(g))return!1;const x=Ml(g.code,s);Ol(i,a.current,!0)?(n(!1),a.current.clear()):a.current.delete(g[x]),g.key==="Meta"&&a.current.clear(),o.current=!1},p=()=>{a.current.clear(),n(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",f),window.addEventListener("blur",p),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",f),window.removeEventListener("blur",p)}}},[e,n]),r};function Ol(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(o=>t.has(o)))}function Ml(e,t){return t.includes(e)?"code":"key"}function md(e,t,r,n){const o=e.parentNode||e.parentId;if(!o)return r;const a=t.get(o),i=Qr(a,n);return md(a,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(a[_e]?.z??0)>(r.z??0)?a[_e]?.z??0:r.z??0},n)}function gd(e,t,r){e.forEach(n=>{const o=n.parentNode||n.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||r?.[n.id]){const{x:a,y:i,z:s}=md(n,e,{...n.position,z:n[_e]?.z??0},t);n.positionAbsolute={x:a,y:i},n[_e].z=s,r?.[n.id]&&(n[_e].isParent=!0)}})}function Oa(e,t,r,n){const o=new Map,a={},i=n?1e3:0;return e.forEach(s=>{const l=(Rt(s.zIndex)?s.zIndex:0)+(s.selected?i:0),u=t.get(s.id),d={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},f=s.parentNode||s.parentId;f&&(a[f]=!0);const p=u?.type&&u?.type!==s.type;Object.defineProperty(d,_e,{enumerable:!1,value:{handleBounds:p?void 0:u?.[_e]?.handleBounds,z:l}}),o.set(s.id,d)}),gd(o,r,a),o}function hd(e,t={}){const{getNodes:r,width:n,height:o,minZoom:a,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),p=t.initial&&!u&&d;if(s&&l&&(p||!t.initial)){const y=r().filter(E=>{const j=t.includeHiddenNodes?E.width&&E.height:!E.hidden;return t.nodes?.length?j&&t.nodes.some(D=>D.id===E.id):j}),x=y.every(E=>E.width&&E.height);if(y.length>0&&x){const E=la(y,f),{x:j,y:D,zoom:T}=cs(E,n,o,t.minZoom??a,t.maxZoom??i,t.padding??.1),w=hr.translate(j,D).scale(T);return typeof t.duration=="number"&&t.duration>0?s.transform(Ir(l,t.duration),w):s.transform(l,w),!0}}return!1}function ay(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[_e]:n[_e],selected:r.selected})}),new Map(t)}function iy(e,t){return t.map(r=>{const n=e.find(o=>o.id===r.id);return n&&(r.selected=n.selected),r})}function bo({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:o,edges:a,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:u}=r();e?.length&&(l&&n({nodeInternals:ay(e,o)}),i?.(e)),t?.length&&(u&&n({edges:iy(t,a)}),s?.(t))}const Vr=()=>{},sy={zoomIn:Vr,zoomOut:Vr,zoomTo:Vr,getZoom:()=>1,setViewport:Vr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Vr,fitBounds:Vr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},ly=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),cy=()=>{const e=Xe(),{d3Zoom:t,d3Selection:r}=Le(ly,ht);return h.useMemo(()=>r&&t?{zoomIn:o=>t.scaleBy(Ir(r,o?.duration),1.2),zoomOut:o=>t.scaleBy(Ir(r,o?.duration),1/1.2),zoomTo:(o,a)=>t.scaleTo(Ir(r,a?.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,a)=>{const[i,s,l]=e.getState().transform,u=hr.translate(o.x??i,o.y??s).scale(o.zoom??l);t.transform(Ir(r,a?.duration),u)},getViewport:()=>{const[o,a,i]=e.getState().transform;return{x:o,y:a,zoom:i}},fitView:o=>hd(e.getState,o),setCenter:(o,a,i)=>{const{width:s,height:l,maxZoom:u}=e.getState(),d=typeof i?.zoom<"u"?i.zoom:u,f=s/2-o*d,p=l/2-a*d,g=hr.translate(f,p).scale(d);t.transform(Ir(r,i?.duration),g)},fitBounds:(o,a)=>{const{width:i,height:s,minZoom:l,maxZoom:u}=e.getState(),{x:d,y:f,zoom:p}=cs(o,i,s,l,u,a?.padding??.1),g=hr.translate(d,f).scale(p);t.transform(Ir(r,a?.duration),g)},project:o=>{const{transform:a,snapToGrid:i,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Si(o,a,i,s)},screenToFlowPosition:o=>{const{transform:a,snapToGrid:i,snapGrid:s,domNode:l}=e.getState();if(!l)return o;const{x:u,y:d}=l.getBoundingClientRect(),f={x:o.x-u,y:o.y-d};return Si(f,a,i,s)},flowToScreenPosition:o=>{const{transform:a,domNode:i}=e.getState();if(!i)return o;const{x:s,y:l}=i.getBoundingClientRect(),u=ed(o,a);return{x:u.x+s,y:u.y+l}},viewportInitialized:!0}:sy,[t,r])};function no(){const e=cy(),t=Xe(),r=h.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),n=h.useCallback(x=>t.getState().nodeInternals.get(x),[]),o=h.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(E=>({...E}))},[]),a=h.useCallback(x=>{const{edges:E=[]}=t.getState();return E.find(j=>j.id===x)},[]),i=h.useCallback(x=>{const{getNodes:E,setNodes:j,hasDefaultNodes:D,onNodesChange:T}=t.getState(),w=E(),I=typeof x=="function"?x(w):x;if(D)j(I);else if(T){const C=I.length===0?w.map(v=>({type:"remove",id:v.id})):I.map(v=>({item:v,type:"reset"}));T(C)}},[]),s=h.useCallback(x=>{const{edges:E=[],setEdges:j,hasDefaultEdges:D,onEdgesChange:T}=t.getState(),w=typeof x=="function"?x(E):x;if(D)j(w);else if(T){const I=w.length===0?E.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));T(I)}},[]),l=h.useCallback(x=>{const E=Array.isArray(x)?x:[x],{getNodes:j,setNodes:D,hasDefaultNodes:T,onNodesChange:w}=t.getState();if(T){const C=[...j(),...E];D(C)}else if(w){const I=E.map(C=>({item:C,type:"add"}));w(I)}},[]),u=h.useCallback(x=>{const E=Array.isArray(x)?x:[x],{edges:j=[],setEdges:D,hasDefaultEdges:T,onEdgesChange:w}=t.getState();if(T)D([...j,...E]);else if(w){const I=E.map(C=>({item:C,type:"add"}));w(I)}},[]),d=h.useCallback(()=>{const{getNodes:x,edges:E=[],transform:j}=t.getState(),[D,T,w]=j;return{nodes:x().map(I=>({...I})),edges:E.map(I=>({...I})),viewport:{x:D,y:T,zoom:w}}},[]),f=h.useCallback(({nodes:x,edges:E})=>{const{nodeInternals:j,getNodes:D,edges:T,hasDefaultNodes:w,hasDefaultEdges:I,onNodesDelete:C,onEdgesDelete:v,onNodesChange:b,onEdgesChange:m}=t.getState(),S=(x||[]).map(R=>R.id),k=(E||[]).map(R=>R.id),M=D().reduce((R,O)=>{const F=O.parentNode||O.parentId,_=!S.includes(O.id)&&F&&R.find(H=>H.id===F);return(typeof O.deletable=="boolean"?O.deletable:!0)&&(S.includes(O.id)||_)&&R.push(O),R},[]),P=T.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),N=P.filter(R=>k.includes(R.id));if(M||N){const R=ls(M,P),O=[...N,...R],F=O.reduce((_,L)=>(_.includes(L.id)||_.push(L.id),_),[]);if((I||w)&&(I&&t.setState({edges:T.filter(_=>!F.includes(_.id))}),w&&(M.forEach(_=>{j.delete(_.id)}),t.setState({nodeInternals:new Map(j)}))),F.length>0&&(v?.(O),m&&m(F.map(_=>({id:_,type:"remove"})))),M.length>0&&(C?.(M),b)){const _=M.map(L=>({id:L.id,type:"remove"}));b(_)}}},[]),p=h.useCallback(x=>{const E=D0(x),j=E?null:t.getState().nodeInternals.get(x.id);return!E&&!j?[null,null,E]:[E?x:jl(j),j,E]},[]),g=h.useCallback((x,E=!0,j)=>{const[D,T,w]=p(x);return D?(j||t.getState().getNodes()).filter(I=>{if(!w&&(I.id===T.id||!I.positionAbsolute))return!1;const C=jl(I),v=xi(C,D);return E&&v>0||v>=D.width*D.height}):[]},[]),y=h.useCallback((x,E,j=!0)=>{const[D]=p(x);if(!D)return!1;const T=xi(D,E);return j&&T>0||T>=D.width*D.height},[]);return h.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:o,getEdge:a,setNodes:i,setEdges:s,addNodes:l,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:g,isNodeIntersecting:y}),[e,r,n,o,a,i,s,l,u,d,f,g,y])}const uy={actInsideInputWithModifier:!1};var dy=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=Xe(),{deleteElements:n}=no(),o=Wn(e,uy),a=Wn(t);h.useEffect(()=>{if(o){const{edges:i,getNodes:s}=r.getState(),l=s().filter(d=>d.selected),u=i.filter(d=>d.selected);n({nodes:l,edges:u}),r.setState({nodesSelectionActive:!1})}},[o]),h.useEffect(()=>{r.setState({multiSelectionActive:a})},[a])};function fy(e){const t=Xe();h.useEffect(()=>{let r;const n=()=>{if(!e.current)return;const o=ts(e.current);(o.height===0||o.width===0)&&t.getState().onError?.("004",lr.error004()),t.setState({width:o.width||500,height:o.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const fs={position:"absolute",width:"100%",height:"100%",top:0,left:0},py=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,xo=e=>({x:e.x,y:e.y,zoom:e.k}),Gr=(e,t)=>e.target.closest(`.${t}`),Rl=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Al=e=>{const t=e.ctrlKey&&zo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},my=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),gy=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:o=!0,zoomOnPinch:a=!0,panOnScroll:i=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Mr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:p,translateExtent:g,minZoom:y,maxZoom:x,zoomActivationKeyCode:E,preventScrolling:j=!0,children:D,noWheelClassName:T,noPanClassName:w})=>{const I=h.useRef(),C=Xe(),v=h.useRef(!1),b=h.useRef(!1),m=h.useRef(null),S=h.useRef({x:0,y:0,zoom:0}),{d3Zoom:k,d3Selection:M,d3ZoomHandler:P,userSelectionActive:N}=Le(my,ht),R=Wn(E),O=h.useRef(0),F=h.useRef(!1),_=h.useRef();return fy(m),h.useEffect(()=>{if(m.current){const L=m.current.getBoundingClientRect(),H=x0().scaleExtent([y,x]).translateExtent(g),W=_t(m.current).call(H),V=hr.translate(p.x,p.y).scale(an(p.zoom,y,x)),U=[[0,0],[L.width,L.height]],G=H.constrain()(V,U,g);H.transform(W,G),H.wheelDelta(Al),C.setState({d3Zoom:H,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:m.current.closest(".react-flow")})}},[]),h.useEffect(()=>{M&&k&&(i&&!R&&!N?M.on("wheel.zoom",L=>{if(Gr(L,T))return!1;L.preventDefault(),L.stopImmediatePropagation();const H=M.property("__zoom").k||1;if(L.ctrlKey&&a){const ne=qt(L),pe=Al(L),X=H*Math.pow(2,pe);k.scaleTo(M,X,ne,L);return}const W=L.deltaMode===1?20:1;let V=l===Mr.Vertical?0:L.deltaX*W,U=l===Mr.Horizontal?0:L.deltaY*W;!zo()&&L.shiftKey&&l!==Mr.Vertical&&(V=L.deltaY*W,U=0),k.translateBy(M,-(V/H)*s,-(U/H)*s,{internal:!0});const G=xo(M.property("__zoom")),{onViewportChangeStart:B,onViewportChange:q,onViewportChangeEnd:ee}=C.getState();clearTimeout(_.current),F.current||(F.current=!0,t?.(L,G),B?.(G)),F.current&&(e?.(L,G),q?.(G),_.current=setTimeout(()=>{r?.(L,G),ee?.(G),F.current=!1},150))},{passive:!1}):typeof P<"u"&&M.on("wheel.zoom",function(L,H){if(!j&&L.type==="wheel"&&!L.ctrlKey||Gr(L,T))return null;L.preventDefault(),P.call(this,L,H)},{passive:!1}))},[N,i,l,M,k,P,R,a,j,T,t,e,r]),h.useEffect(()=>{k&&k.on("start",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;O.current=L.sourceEvent?.button;const{onViewportChangeStart:H}=C.getState(),W=xo(L.transform);v.current=!0,S.current=W,L.sourceEvent?.type==="mousedown"&&C.setState({paneDragging:!0}),H?.(W),t?.(L.sourceEvent,W)})},[k,t]),h.useEffect(()=>{k&&(N&&!v.current?k.on("zoom",null):N||k.on("zoom",L=>{const{onViewportChange:H}=C.getState();if(C.setState({transform:[L.transform.x,L.transform.y,L.transform.k]}),b.current=!!(n&&Rl(f,O.current??0)),(e||H)&&!L.sourceEvent?.internal){const W=xo(L.transform);H?.(W),e?.(L.sourceEvent,W)}}))},[N,k,e,f,n]),h.useEffect(()=>{k&&k.on("end",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;const{onViewportChangeEnd:H}=C.getState();if(v.current=!1,C.setState({paneDragging:!1}),n&&Rl(f,O.current??0)&&!b.current&&n(L.sourceEvent),b.current=!1,(r||H)&&py(S.current,L.transform)){const W=xo(L.transform);S.current=W,clearTimeout(I.current),I.current=setTimeout(()=>{H?.(W),r?.(L.sourceEvent,W)},i?150:0)}})},[k,i,f,r,n]),h.useEffect(()=>{k&&k.filter(L=>{const H=R||o,W=a&&L.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&L.button===1&&L.type==="mousedown"&&(Gr(L,"react-flow__node")||Gr(L,"react-flow__edge")))return!0;if(!f&&!H&&!i&&!u&&!a||N||!u&&L.type==="dblclick"||Gr(L,T)&&L.type==="wheel"||Gr(L,w)&&(L.type!=="wheel"||i&&L.type==="wheel"&&!R)||!a&&L.ctrlKey&&L.type==="wheel"||!H&&!i&&!W&&L.type==="wheel"||!f&&(L.type==="mousedown"||L.type==="touchstart")||Array.isArray(f)&&!f.includes(L.button)&&L.type==="mousedown")return!1;const V=Array.isArray(f)&&f.includes(L.button)||!L.button||L.button<=1;return(!L.ctrlKey||L.type==="wheel")&&V})},[N,k,o,a,i,u,f,d,R]),A.createElement("div",{className:"react-flow__renderer",ref:m,style:fs},D)},hy=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function vy(){const{userSelectionActive:e,userSelectionRect:t}=Le(hy,ht);return e&&t?A.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Ll(e,t){const r=t.parentNode||t.parentId,n=e.find(o=>o.id===r);if(n){const o=t.position.x+t.width-n.width,a=t.position.y+t.height-n.height;if(o>0||a>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,o>0&&(n.style.width+=o),a>0&&(n.style.height+=a),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function vd(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,o)=>{const a=e.filter(s=>s.id===o.id);if(a.length===0)return n.push(o),n;const i={...o};for(const s of a)if(s)switch(s.type){case"select":{i.selected=s.selected;break}case"position":{typeof s.position<"u"&&(i.position=s.position),typeof s.positionAbsolute<"u"&&(i.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(i.dragging=s.dragging),i.expandParent&&Ll(n,i);break}case"dimensions":{typeof s.dimensions<"u"&&(i.width=s.dimensions.width,i.height=s.dimensions.height),typeof s.updateStyle<"u"&&(i.style={...i.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(i.resizing=s.resizing),i.expandParent&&Ll(n,i);break}case"remove":return n}return n.push(i),n},r)}function yd(e,t){return vd(e,t)}function Fl(e,t){return vd(e,t)}const mr=(e,t)=>({id:e,type:"select",selected:t});function Kr(e,t){return e.reduce((r,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,r.push(mr(n.id,!0))):n.selected&&!o&&(n.selected=!1,r.push(mr(n.id,!1))),r},[])}const Ma=(e,t)=>r=>{r.target===t.current&&e?.(r)},yy=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),bd=h.memo(({isSelecting:e,selectionMode:t=Gn.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:i,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const p=h.useRef(null),g=Xe(),y=h.useRef(0),x=h.useRef(0),E=h.useRef(),{userSelectionActive:j,elementsSelectable:D,dragging:T}=Le(yy,ht),w=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},I=P=>{a?.(P),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},C=P=>{if(Array.isArray(r)&&r?.includes(2)){P.preventDefault();return}i?.(P)},v=s?P=>s(P):void 0,b=P=>{const{resetSelectedElements:N,domNode:R}=g.getState();if(E.current=R?.getBoundingClientRect(),!D||!e||P.button!==0||P.target!==p.current||!E.current)return;const{x:O,y:F}=vr(P,E.current);N(),g.setState({userSelectionRect:{width:0,height:0,startX:O,startY:F,x:O,y:F}}),n?.(P)},m=P=>{const{userSelectionRect:N,nodeInternals:R,edges:O,transform:F,onNodesChange:_,onEdgesChange:L,nodeOrigin:H,getNodes:W}=g.getState();if(!e||!E.current||!N)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const V=vr(P,E.current),U=N.startX??0,G=N.startY??0,B={...N,x:V.x<U?V.x:U,y:V.y<G?V.y:G,width:Math.abs(V.x-U),height:Math.abs(V.y-G)},q=W(),ee=td(R,B,F,t===Gn.Partial,!0,H),ne=ls(ee,O).map(X=>X.id),pe=ee.map(X=>X.id);if(y.current!==pe.length){y.current=pe.length;const X=Kr(q,pe);X.length&&_?.(X)}if(x.current!==ne.length){x.current=ne.length;const X=Kr(O,ne);X.length&&L?.(X)}g.setState({userSelectionRect:B})},S=P=>{if(P.button!==0)return;const{userSelectionRect:N}=g.getState();!j&&N&&P.target===p.current&&I?.(P),g.setState({nodesSelectionActive:y.current>0}),w(),o?.(P)},k=P=>{j&&(g.setState({nodesSelectionActive:y.current>0}),o?.(P)),w()},M=D&&(e||j);return A.createElement("div",{className:nt(["react-flow__pane",{dragging:T,selection:e}]),onClick:M?void 0:Ma(I,p),onContextMenu:Ma(C,p),onWheel:Ma(v,p),onMouseEnter:M?void 0:l,onMouseDown:M?b:void 0,onMouseMove:M?m:u,onMouseUp:M?S:void 0,onMouseLeave:M?k:d,ref:p,style:fs},f,A.createElement(vy,null))});bd.displayName="Pane";function xd(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:xd(n,t):!1}function Bl(e,t,r){let n=e;do{if(n?.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function by(e,t,r,n){return Array.from(e.values()).filter(o=>(o.selected||o.id===n)&&(!o.parentNode||o.parentId||!xd(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>({id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:r.x-(o.positionAbsolute?.x??0),y:r.y-(o.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}))}function xy(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function wd(e,t,r,n,o=[0,0],a){const i=xy(e,e.extent||n);let s=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=r.get(l),{x:p,y:g}=Qr(f,o).positionAbsolute;s=f&&Rt(p)&&Rt(g)&&Rt(f.width)&&Rt(f.height)?[[p+e.width*o[0],g+e.height*o[1]],[p+f.width-e.width+e.width*o[0],g+f.height-e.height+e.height*o[1]]]:s}else a?.("005",lr.error005()),s=i;else if(e.extent&&l&&e.extent!=="parent"){const f=r.get(l),{x:p,y:g}=Qr(f,o).positionAbsolute;s=[[e.extent[0][0]+p,e.extent[0][1]+g],[e.extent[1][0]+p,e.extent[1][1]+g]]}let u={x:0,y:0};if(l){const f=r.get(l);u=Qr(f,o).positionAbsolute}const d=s&&s!=="parent"?rs(t,s):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Ra({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(o=>({...r.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?n.find(o=>o.id===e):n[0],n]}const _l=(e,t,r,n)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),i=t.getBoundingClientRect(),s={x:i.width*n[0],y:i.height*n[1]};return a.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-i.left-s.x)/r,y:(u.top-i.top-s.y)/r,...ts(l)}})};function Cn(e,t,r){return r===void 0?r:n=>{const o=t().nodeInternals.get(e);o&&r(n,{...o})}}function ki({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:s,onError:l}=t.getState(),u=s.get(e);if(!u){l?.("012",lr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>n?.current?.blur())):o([e])}function wy(){const e=Xe();return h.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:o,snapToGrid:a}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,l={x:(i-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:a?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:a?o[1]*Math.round(l.y/o[1]):l.y,...l}},[])}function Aa(e){return(t,r,n)=>e?.(t,n)}function Cd({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:o,isSelectable:a,selectNodesOnDrag:i}){const s=Xe(),[l,u]=h.useState(!1),d=h.useRef([]),f=h.useRef({x:null,y:null}),p=h.useRef(0),g=h.useRef(null),y=h.useRef({x:0,y:0}),x=h.useRef(null),E=h.useRef(!1),j=h.useRef(!1),D=h.useRef(!1),T=wy();return h.useEffect(()=>{if(e?.current){const w=_t(e.current),I=({x:b,y:m})=>{const{nodeInternals:S,onNodeDrag:k,onSelectionDrag:M,updateNodePositions:P,nodeExtent:N,snapGrid:R,snapToGrid:O,nodeOrigin:F,onError:_}=s.getState();f.current={x:b,y:m};let L=!1,H={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&N){const V=la(d.current,F);H=ns(V)}if(d.current=d.current.map(V=>{const U={x:b-V.distance.x,y:m-V.distance.y};O&&(U.x=R[0]*Math.round(U.x/R[0]),U.y=R[1]*Math.round(U.y/R[1]));const G=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];d.current.length>1&&N&&!V.extent&&(G[0][0]=V.positionAbsolute.x-H.x+N[0][0],G[1][0]=V.positionAbsolute.x+(V.width??0)-H.x2+N[1][0],G[0][1]=V.positionAbsolute.y-H.y+N[0][1],G[1][1]=V.positionAbsolute.y+(V.height??0)-H.y2+N[1][1]);const B=wd(V,U,S,G,F,_);return L=L||V.position.x!==B.position.x||V.position.y!==B.position.y,V.position=B.position,V.positionAbsolute=B.positionAbsolute,V}),!L)return;P(d.current,!0,!0),u(!0);const W=o?k:Aa(M);if(W&&x.current){const[V,U]=Ra({nodeId:o,dragItems:d.current,nodeInternals:S});W(x.current,V,U)}},C=()=>{if(!g.current)return;const[b,m]=Gu(y.current,g.current);if(b!==0||m!==0){const{transform:S,panBy:k}=s.getState();f.current.x=(f.current.x??0)-b/S[2],f.current.y=(f.current.y??0)-m/S[2],k({x:b,y:m})&&I(f.current)}p.current=requestAnimationFrame(C)},v=b=>{const{nodeInternals:m,multiSelectionActive:S,nodesDraggable:k,unselectNodesAndEdges:M,onNodeDragStart:P,onSelectionDragStart:N}=s.getState();j.current=!0;const R=o?P:Aa(N);(!i||!a)&&!S&&o&&(m.get(o)?.selected||M()),o&&a&&i&&ki({id:o,store:s,nodeRef:e});const O=T(b);if(f.current=O,d.current=by(m,k,O,o),R&&d.current){const[F,_]=Ra({nodeId:o,dragItems:d.current,nodeInternals:m});R(b.sourceEvent,F,_)}};if(t)w.on(".drag",null);else{const b=Th().on("start",m=>{const{domNode:S,nodeDragThreshold:k}=s.getState();k===0&&v(m),D.current=!1;const M=T(m);f.current=M,g.current=S?.getBoundingClientRect()||null,y.current=vr(m.sourceEvent,g.current)}).on("drag",m=>{const S=T(m),{autoPanOnNodeDrag:k,nodeDragThreshold:M}=s.getState();if(m.sourceEvent.type==="touchmove"&&m.sourceEvent.touches.length>1&&(D.current=!0),!D.current){if(!E.current&&j.current&&k&&(E.current=!0,C()),!j.current){const P=S.xSnapped-(f?.current?.x??0),N=S.ySnapped-(f?.current?.y??0);Math.sqrt(P*P+N*N)>M&&v(m)}(f.current.x!==S.xSnapped||f.current.y!==S.ySnapped)&&d.current&&j.current&&(x.current=m.sourceEvent,y.current=vr(m.sourceEvent,g.current),I(S))}}).on("end",m=>{if(!(!j.current||D.current)&&(u(!1),E.current=!1,j.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:S,nodeInternals:k,onNodeDragStop:M,onSelectionDragStop:P}=s.getState(),N=o?M:Aa(P);if(S(d.current,!1,!1),N){const[R,O]=Ra({nodeId:o,dragItems:d.current,nodeInternals:k});N(m.sourceEvent,R,O)}}}).filter(m=>{const S=m.target;return!m.button&&(!r||!Bl(S,`.${r}`,e))&&(!n||Bl(S,n,e))});return w.call(b),()=>{w.on(".drag",null)}}}},[e,t,r,n,a,s,o,i,T]),l}function Sd(){const e=Xe();return h.useCallback(r=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:a,getNodes:i,snapToGrid:s,snapGrid:l,onError:u,nodesDraggable:d}=e.getState(),f=i().filter(D=>D.selected&&(D.draggable||d&&typeof D.draggable>"u")),p=s?l[0]:5,g=s?l[1]:5,y=r.isShiftPressed?4:1,x=r.x*p*y,E=r.y*g*y,j=f.map(D=>{if(D.positionAbsolute){const T={x:D.positionAbsolute.x+x,y:D.positionAbsolute.y+E};s&&(T.x=l[0]*Math.round(T.x/l[0]),T.y=l[1]*Math.round(T.y/l[1]));const{positionAbsolute:w,position:I}=wd(D,T,n,o,void 0,u);D.position=I,D.positionAbsolute=w}return D});a(j,!0,!1)},[])}const en={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Sn=e=>{const t=({id:r,type:n,data:o,xPos:a,yPos:i,xPosOrigin:s,yPosOrigin:l,selected:u,onClick:d,onMouseEnter:f,onMouseMove:p,onMouseLeave:g,onContextMenu:y,onDoubleClick:x,style:E,className:j,isDraggable:D,isSelectable:T,isConnectable:w,isFocusable:I,selectNodesOnDrag:C,sourcePosition:v,targetPosition:b,hidden:m,resizeObserver:S,dragHandle:k,zIndex:M,isParent:P,noDragClassName:N,noPanClassName:R,initialized:O,disableKeyboardA11y:F,ariaLabel:_,rfId:L,hasHandleBounds:H})=>{const W=Xe(),V=h.useRef(null),U=h.useRef(null),G=h.useRef(v),B=h.useRef(b),q=h.useRef(n),ee=T||D||d||f||p||g,ne=Sd(),pe=Cn(r,W.getState,f),X=Cn(r,W.getState,p),le=Cn(r,W.getState,g),xe=Cn(r,W.getState,y),we=Cn(r,W.getState,x),Te=ye=>{const{nodeDragThreshold:ae}=W.getState();if(T&&(!C||!D||ae>0)&&ki({id:r,store:W,nodeRef:V}),d){const Re=W.getState().nodeInternals.get(r);Re&&d(ye,{...Re})}},De=ye=>{if(!wi(ye)&&!F)if(Uu.includes(ye.key)&&T){const ae=ye.key==="Escape";ki({id:r,store:W,unselect:ae,nodeRef:V})}else D&&u&&Object.prototype.hasOwnProperty.call(en,ye.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${ye.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`}),ne({x:en[ye.key].x,y:en[ye.key].y,isShiftPressed:ye.shiftKey}))};h.useEffect(()=>()=>{U.current&&(S?.unobserve(U.current),U.current=null)},[]),h.useEffect(()=>{if(V.current&&!m){const ye=V.current;(!O||!H||U.current!==ye)&&(U.current&&S?.unobserve(U.current),S?.observe(ye),U.current=ye)}},[m,O,H]),h.useEffect(()=>{const ye=q.current!==n,ae=G.current!==v,Re=B.current!==b;V.current&&(ye||ae||Re)&&(ye&&(q.current=n),ae&&(G.current=v),Re&&(B.current=b),W.getState().updateNodeDimensions([{id:r,nodeElement:V.current,forceUpdate:!0}]))},[r,n,v,b]);const Ae=Cd({nodeRef:V,disabled:m||!D,noDragClassName:N,handleSelector:k,nodeId:r,isSelectable:T,selectNodesOnDrag:C});return m?null:A.createElement("div",{className:nt(["react-flow__node",`react-flow__node-${n}`,{[R]:D},j,{selected:u,selectable:T,parent:P,dragging:Ae}]),ref:V,style:{zIndex:M,transform:`translate(${s}px,${l}px)`,pointerEvents:ee?"all":"none",visibility:O?"visible":"hidden",...E},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:pe,onMouseMove:X,onMouseLeave:le,onContextMenu:xe,onClick:Te,onDoubleClick:we,onKeyDown:I?De:void 0,tabIndex:I?0:void 0,role:I?"button":void 0,"aria-describedby":F?void 0:`${fd}-${L}`,"aria-label":_},A.createElement(A0,{value:r},A.createElement(e,{id:r,data:o,type:n,xPos:a,yPos:i,selected:u,isConnectable:w,sourcePosition:v,targetPosition:b,dragging:Ae,dragHandle:k,zIndex:M})))};return t.displayName="NodeWrapper",h.memo(t)};const Cy=e=>{const t=e.getNodes().filter(r=>r.selected);return{...la(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Sy({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Xe(),{width:o,height:a,x:i,y:s,transformString:l,userSelectionActive:u}=Le(Cy,ht),d=Sd(),f=h.useRef(null);if(h.useEffect(()=>{r||f.current?.focus({preventScroll:!0})},[r]),Cd({nodeRef:f}),u||!o||!a)return null;const p=e?y=>{const x=n.getState().getNodes().filter(E=>E.selected);e(y,x)}:void 0,g=y=>{Object.prototype.hasOwnProperty.call(en,y.key)&&d({x:en[y.key].x,y:en[y.key].y,isShiftPressed:y.shiftKey})};return A.createElement("div",{className:nt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},A.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:g,style:{width:o,height:a,top:s,left:i}}))}var jy=h.memo(Sy);const ky=e=>e.nodesSelectionActive,jd=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:s,onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:p,selectionMode:g,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:E,panActivationKeyCode:j,zoomActivationKeyCode:D,elementsSelectable:T,zoomOnScroll:w,zoomOnPinch:I,panOnScroll:C,panOnScrollSpeed:v,panOnScrollMode:b,zoomOnDoubleClick:m,panOnDrag:S,defaultViewport:k,translateExtent:M,minZoom:P,maxZoom:N,preventScrolling:R,onSelectionContextMenu:O,noWheelClassName:F,noPanClassName:_,disableKeyboardA11y:L})=>{const H=Le(ky),W=Wn(f),V=Wn(j),U=V||S,G=V||C,B=W||p&&U!==!0;return dy({deleteKeyCode:s,multiSelectionKeyCode:E}),A.createElement(gy,{onMove:l,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:a,elementsSelectable:T,zoomOnScroll:w,zoomOnPinch:I,panOnScroll:G,panOnScrollSpeed:v,panOnScrollMode:b,zoomOnDoubleClick:m,panOnDrag:!W&&U,defaultViewport:k,translateExtent:M,minZoom:P,maxZoom:N,zoomActivationKeyCode:D,preventScrolling:R,noWheelClassName:F,noPanClassName:_},A.createElement(bd,{onSelectionStart:y,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:U,isSelecting:!!B,selectionMode:g},e,H&&A.createElement(jy,{onSelectionContextMenu:O,noPanClassName:_,disableKeyboardA11y:L})))};jd.displayName="FlowRenderer";var Ey=h.memo(jd);function Ny(e){return Le(h.useCallback(r=>e?td(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Dy(e){const t={input:Sn(e.input||ld),default:Sn(e.default||ji),output:Sn(e.output||ud),group:Sn(e.group||ds)},r={},n=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,a)=>(o[a]=Sn(e[a]||ji),o),r);return{...t,...n}}const Iy=({x:e,y:t,width:r,height:n,origin:o})=>!r||!n?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-r*o[0],y:t-n*o[1]},Ty=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),kd=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:o,updateNodeDimensions:a,onError:i}=Le(Ty,ht),s=Ny(e.onlyRenderVisibleElements),l=h.useRef(),u=h.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const p=f.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));a(p)});return l.current=d,d},[]);return h.useEffect(()=>()=>{l?.current?.disconnect()},[]),A.createElement("div",{className:"react-flow__nodes",style:fs},s.map(d=>{let f=d.type||"default";e.nodeTypes[f]||(i?.("003",lr.error003(f)),f="default");const p=e.nodeTypes[f]||e.nodeTypes.default,g=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||o&&typeof d.selectable>"u"),x=!!(d.connectable||r&&typeof d.connectable>"u"),E=!!(d.focusable||n&&typeof d.focusable>"u"),j=e.nodeExtent?rs(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,D=j?.x??0,T=j?.y??0,w=Iy({x:D,y:T,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return A.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||Z.Bottom,targetPosition:d.targetPosition||Z.Top,hidden:d.hidden,xPos:D,yPos:T,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:y,isConnectable:x,isFocusable:E,resizeObserver:u,dragHandle:d.dragHandle,zIndex:d[_e]?.z??0,isParent:!!d[_e]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[_e]?.handleBounds})}))};kd.displayName="NodeRenderer";var Py=h.memo(kd);const Oy=(e,t,r)=>r===Z.Left?e-t:r===Z.Right?e+t:e,My=(e,t,r)=>r===Z.Top?e-t:r===Z.Bottom?e+t:e,$l="react-flow__edgeupdater",zl=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:o,onMouseEnter:a,onMouseOut:i,type:s})=>A.createElement("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:i,className:nt([$l,`${$l}-${s}`]),cx:Oy(t,n,e),cy:My(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),Ry=()=>!0;var Wr=e=>{const t=({id:r,className:n,type:o,data:a,onClick:i,onEdgeDoubleClick:s,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:x,style:E,source:j,target:D,sourceX:T,sourceY:w,targetX:I,targetY:C,sourcePosition:v,targetPosition:b,elementsSelectable:m,hidden:S,sourceHandleId:k,targetHandleId:M,onContextMenu:P,onMouseEnter:N,onMouseMove:R,onMouseLeave:O,reconnectRadius:F,onReconnect:_,onReconnectStart:L,onReconnectEnd:H,markerEnd:W,markerStart:V,rfId:U,ariaLabel:G,isFocusable:B,isReconnectable:q,pathOptions:ee,interactionWidth:ne,disableKeyboardA11y:pe})=>{const X=h.useRef(null),[le,xe]=h.useState(!1),[we,Te]=h.useState(!1),De=Xe(),Ae=h.useMemo(()=>`url('#${Ci(V,U)}')`,[V,U]),ye=h.useMemo(()=>`url('#${Ci(W,U)}')`,[W,U]);if(S)return null;const ae=Be=>{const{edges:Ge,addSelectedEdges:lt,unselectNodesAndEdges:tt,multiSelectionActive:ct}=De.getState(),Qe=Ge.find(xt=>xt.id===r);Qe&&(m&&(De.setState({nodesSelectionActive:!1}),Qe.selected&&ct?(tt({nodes:[],edges:[Qe]}),X.current?.blur()):lt([r])),i&&i(Be,Qe))},Re=wn(r,De.getState,s),Ve=wn(r,De.getState,P),vt=wn(r,De.getState,N),yt=wn(r,De.getState,R),ot=wn(r,De.getState,O),He=(Be,Ge)=>{if(Be.button!==0)return;const{edges:lt,isValidConnection:tt}=De.getState(),ct=Ge?D:j,Qe=(Ge?M:k)||null,xt=Ge?"target":"source",Gt=tt||Ry,Tt=Ge,Ft=lt.find(ut=>ut.id===r);Te(!0),L?.(Be,Ft,xt);const Zt=ut=>{Te(!1),H?.(ut,Ft,xt)};od({event:Be,handleId:Qe,nodeId:ct,onConnect:ut=>_?.(Ft,ut),isTarget:Tt,getState:De.getState,setState:De.setState,isValidConnection:Gt,edgeUpdaterType:xt,onReconnectEnd:Zt})},bt=Be=>He(Be,!0),Je=Be=>He(Be,!1),at=()=>xe(!0),it=()=>xe(!1),st=!m&&!i,It=Be=>{if(!pe&&Uu.includes(Be.key)&&m){const{unselectNodesAndEdges:Ge,addSelectedEdges:lt,edges:tt}=De.getState();Be.key==="Escape"?(X.current?.blur(),Ge({edges:[tt.find(Qe=>Qe.id===r)]})):lt([r])}};return A.createElement("g",{className:nt(["react-flow__edge",`react-flow__edge-${o}`,n,{selected:l,animated:u,inactive:st,updating:le}]),onClick:ae,onDoubleClick:Re,onContextMenu:Ve,onMouseEnter:vt,onMouseMove:yt,onMouseLeave:ot,onKeyDown:B?It:void 0,tabIndex:B?0:void 0,role:B?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":G===null?void 0:G||`Edge from ${j} to ${D}`,"aria-describedby":B?`${pd}-${U}`:void 0,ref:X},!we&&A.createElement(e,{id:r,source:j,target:D,selected:l,animated:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:g,labelBgPadding:y,labelBgBorderRadius:x,data:a,style:E,sourceX:T,sourceY:w,targetX:I,targetY:C,sourcePosition:v,targetPosition:b,sourceHandleId:k,targetHandleId:M,markerStart:Ae,markerEnd:ye,pathOptions:ee,interactionWidth:ne}),q&&A.createElement(A.Fragment,null,(q==="source"||q===!0)&&A.createElement(zl,{position:v,centerX:T,centerY:w,radius:F,onMouseDown:bt,onMouseEnter:at,onMouseOut:it,type:"source"}),(q==="target"||q===!0)&&A.createElement(zl,{position:b,centerX:I,centerY:C,radius:F,onMouseDown:Je,onMouseEnter:at,onMouseOut:it,type:"target"})))};return t.displayName="EdgeWrapper",h.memo(t)};function Ay(e){const t={default:Wr(e.default||Go),straight:Wr(e.bezier||is),step:Wr(e.step||as),smoothstep:Wr(e.step||sa),simplebezier:Wr(e.simplebezier||os)},r={},n=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,a)=>(o[a]=Wr(e[a]||Go),o),r);return{...t,...n}}function Hl(e,t,r=null){const n=(r?.x||0)+t.x,o=(r?.y||0)+t.y,a=r?.width||t.width,i=r?.height||t.height;switch(e){case Z.Top:return{x:n+a/2,y:o};case Z.Right:return{x:n+a,y:o+i/2};case Z.Bottom:return{x:n+a/2,y:o+i};case Z.Left:return{x:n,y:o+i/2}}}function Vl(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const Ly=(e,t,r,n,o,a)=>{const i=Hl(r,e,t),s=Hl(a,n,o);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}};function Fy({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:o,targetHeight:a,width:i,height:s,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+o),y2:Math.max(e.y+n,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=ns({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:s/l[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),p=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*p)>0}function Gl(e){const t=e?.[_e]?.handleBounds||null,r=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!r]}const By=[{level:0,isMaxLevel:!0,edges:[]}];function _y(e,t,r=!1){let n=-1;const o=e.reduce((i,s)=>{const l=Rt(s.zIndex);let u=l?s.zIndex:0;if(r){const d=t.get(s.target),f=t.get(s.source),p=s.selected||d?.selected||f?.selected,g=Math.max(f?.[_e]?.z||0,d?.[_e]?.z||0,1e3);u=(l?s.zIndex:0)+(p?g:0)}return i[u]?i[u].push(s):i[u]=[s],n=u>n?u:n,i},{}),a=Object.entries(o).map(([i,s])=>{const l=+i;return{edges:s,level:l,isMaxLevel:l===n}});return a.length===0?By:a}function $y(e,t,r){const n=Le(h.useCallback(o=>e?o.edges.filter(a=>{const i=t.get(a.source),s=t.get(a.target);return i?.width&&i?.height&&s?.width&&s?.height&&Fy({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:s.width,targetHeight:s.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return _y(n,t,r)}const zy=({color:e="none",strokeWidth:t=1})=>A.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Hy=({color:e="none",strokeWidth:t=1})=>A.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Wl={[Ho.Arrow]:zy,[Ho.ArrowClosed]:Hy};function Vy(e){const t=Xe();return h.useMemo(()=>Object.prototype.hasOwnProperty.call(Wl,e)?Wl[e]:(t.getState().onError?.("009",lr.error009(e)),null),[e])}const Gy=({id:e,type:t,color:r,width:n=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:s="auto-start-reverse"})=>{const l=Vy(t);return l?A.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0"},A.createElement(l,{color:r,strokeWidth:i})):null},Wy=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((o,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const s=Ci(i,t);n.includes(s)||(o.push({id:s,color:i.color||e,...i}),n.push(s))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))},Ed=({defaultColor:e,rfId:t})=>{const r=Le(h.useCallback(Wy({defaultColor:e,rfId:t}),[e,t]),(n,o)=>!(n.length!==o.length||n.some((a,i)=>a.id!==o[i].id)));return A.createElement("defs",null,r.map(n=>A.createElement(Gy,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};Ed.displayName="MarkerDefinitions";var Uy=h.memo(Ed);const qy=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Nd=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:o,noPanClassName:a,onEdgeContextMenu:i,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:x,children:E,disableKeyboardA11y:j})=>{const{edgesFocusable:D,edgesUpdatable:T,elementsSelectable:w,width:I,height:C,connectionMode:v,nodeInternals:b,onError:m}=Le(qy,ht),S=$y(t,b,r);return I?A.createElement(A.Fragment,null,S.map(({level:k,edges:M,isMaxLevel:P})=>A.createElement("svg",{key:k,style:{zIndex:k},width:I,height:C,className:"react-flow__edges react-flow__container"},P&&A.createElement(Uy,{defaultColor:e,rfId:n}),A.createElement("g",null,M.map(N=>{const[R,O,F]=Gl(b.get(N.source)),[_,L,H]=Gl(b.get(N.target));if(!F||!H)return null;let W=N.type||"default";o[W]||(m?.("011",lr.error011(W)),W="default");const V=o[W]||o.default,U=v===Fr.Strict?L.target:(L.target??[]).concat(L.source??[]),G=Vl(O.source,N.sourceHandle),B=Vl(U,N.targetHandle),q=G?.position||Z.Bottom,ee=B?.position||Z.Top,ne=!!(N.focusable||D&&typeof N.focusable>"u"),pe=N.reconnectable||N.updatable,X=typeof p<"u"&&(pe||T&&typeof pe>"u");if(!G||!B)return m?.("008",lr.error008(G,N)),null;const{sourceX:le,sourceY:xe,targetX:we,targetY:Te}=Ly(R,G,q,_,B,ee);return A.createElement(V,{key:N.id,id:N.id,className:nt([N.className,a]),type:W,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:le,sourceY:xe,targetX:we,targetY:Te,sourcePosition:q,targetPosition:ee,elementsSelectable:w,onContextMenu:i,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:p,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:x,rfId:n,ariaLabel:N.ariaLabel,isFocusable:ne,isReconnectable:X,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:j})})))),E):null};Nd.displayName="EdgeRenderer";var Xy=h.memo(Nd);const Yy=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Ky({children:e}){const t=Le(Yy);return A.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Zy(e){const t=no(),r=h.useRef(!1);h.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const Jy={[Z.Left]:Z.Right,[Z.Right]:Z.Left,[Z.Top]:Z.Bottom,[Z.Bottom]:Z.Top},Dd=({nodeId:e,handleType:t,style:r,type:n=gr.Bezier,CustomComponent:o,connectionStatus:a})=>{const{fromNode:i,handleId:s,toX:l,toY:u,connectionMode:d}=Le(h.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),ht),f=i?.[_e]?.handleBounds;let p=f?.[t];if(d===Fr.Loose&&(p=p||f?.[t==="source"?"target":"source"]),!i||!p)return null;const g=s?p.find(C=>C.id===s):p[0],y=g?g.x+g.width/2:(i.width??0)/2,x=g?g.y+g.height/2:i.height??0,E=(i.positionAbsolute?.x??0)+y,j=(i.positionAbsolute?.y??0)+x,D=g?.position,T=D?Jy[D]:null;if(!D||!T)return null;if(o)return A.createElement(o,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:g,fromX:E,fromY:j,toX:l,toY:u,fromPosition:D,toPosition:T,connectionStatus:a});let w="";const I={sourceX:E,sourceY:j,sourcePosition:D,targetX:l,targetY:u,targetPosition:T};return n===gr.Bezier?[w]=Zu(I):n===gr.Step?[w]=Vo({...I,borderRadius:0}):n===gr.SmoothStep?[w]=Vo(I):n===gr.SimpleBezier?[w]=Ku(I):w=`M${E},${j} ${l},${u}`,A.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:r})};Dd.displayName="ConnectionLine";const Qy=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function eb({containerStyle:e,style:t,type:r,component:n}){const{nodeId:o,handleType:a,nodesConnectable:i,width:s,height:l,connectionStatus:u}=Le(Qy,ht);return!(o&&a&&s&&i)?null:A.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},A.createElement("g",{className:nt(["react-flow__connection",u])},A.createElement(Dd,{nodeId:o,handleType:a,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function Ul(e,t){return h.useRef(null),Xe(),h.useMemo(()=>t(e),[e])}const Id=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:o,onInit:a,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:E,connectionLineType:j,connectionLineStyle:D,connectionLineComponent:T,connectionLineContainerStyle:w,selectionKeyCode:I,selectionOnDrag:C,selectionMode:v,multiSelectionKeyCode:b,panActivationKeyCode:m,zoomActivationKeyCode:S,deleteKeyCode:k,onlyRenderVisibleElements:M,elementsSelectable:P,selectNodesOnDrag:N,defaultViewport:R,translateExtent:O,minZoom:F,maxZoom:_,preventScrolling:L,defaultMarkerColor:H,zoomOnScroll:W,zoomOnPinch:V,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:B,zoomOnDoubleClick:q,panOnDrag:ee,onPaneClick:ne,onPaneMouseEnter:pe,onPaneMouseMove:X,onPaneMouseLeave:le,onPaneScroll:xe,onPaneContextMenu:we,onEdgeContextMenu:Te,onEdgeMouseEnter:De,onEdgeMouseMove:Ae,onEdgeMouseLeave:ye,onReconnect:ae,onReconnectStart:Re,onReconnectEnd:Ve,reconnectRadius:vt,noDragClassName:yt,noWheelClassName:ot,noPanClassName:He,elevateEdgesOnSelect:bt,disableKeyboardA11y:Je,nodeOrigin:at,nodeExtent:it,rfId:st})=>{const It=Ul(e,Dy),Be=Ul(t,Ay);return Zy(a),A.createElement(Ey,{onPaneClick:ne,onPaneMouseEnter:pe,onPaneMouseMove:X,onPaneMouseLeave:le,onPaneContextMenu:we,onPaneScroll:xe,deleteKeyCode:k,selectionKeyCode:I,selectionOnDrag:C,selectionMode:v,onSelectionStart:x,onSelectionEnd:E,multiSelectionKeyCode:b,panActivationKeyCode:m,zoomActivationKeyCode:S,elementsSelectable:P,onMove:r,onMoveStart:n,onMoveEnd:o,zoomOnScroll:W,zoomOnPinch:V,zoomOnDoubleClick:q,panOnScroll:U,panOnScrollSpeed:G,panOnScrollMode:B,panOnDrag:ee,defaultViewport:R,translateExtent:O,minZoom:F,maxZoom:_,onSelectionContextMenu:y,preventScrolling:L,noDragClassName:yt,noWheelClassName:ot,noPanClassName:He,disableKeyboardA11y:Je},A.createElement(Ky,null,A.createElement(Xy,{edgeTypes:Be,onEdgeClick:s,onEdgeDoubleClick:u,onlyRenderVisibleElements:M,onEdgeContextMenu:Te,onEdgeMouseEnter:De,onEdgeMouseMove:Ae,onEdgeMouseLeave:ye,onReconnect:ae,onReconnectStart:Re,onReconnectEnd:Ve,reconnectRadius:vt,defaultMarkerColor:H,noPanClassName:He,elevateEdgesOnSelect:!!bt,disableKeyboardA11y:Je,rfId:st},A.createElement(eb,{style:D,type:j,component:T,containerStyle:w})),A.createElement("div",{className:"react-flow__edgelabel-renderer"}),A.createElement(Py,{nodeTypes:It,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:N,onlyRenderVisibleElements:M,noPanClassName:He,noDragClassName:yt,disableKeyboardA11y:Je,nodeOrigin:at,nodeExtent:it,rfId:st})))};Id.displayName="GraphView";var tb=h.memo(Id);const Ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],dr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ei,nodeExtent:Ei,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Fr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:I0,isValidConnection:void 0},rb=()=>Hm((e,t)=>({...dr,setNodes:r=>{const{nodeInternals:n,nodeOrigin:o,elevateNodesOnSelect:a}=t();e({nodeInternals:Oa(r,n,o,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(o=>({...n,...o}))})},setDefaultNodesAndEdges:(r,n)=>{const o=typeof r<"u",a=typeof n<"u",i=o?Oa(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?n:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:u}=t(),d=l?.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(f.transform),g=r.reduce((x,E)=>{const j=o.get(E.id);if(j?.hidden)o.set(j.id,{...j,[_e]:{...j[_e],handleBounds:void 0}});else if(j){const D=ts(E.nodeElement);!!(D.width&&D.height&&(j.width!==D.width||j.height!==D.height||E.forceUpdate))&&(o.set(j.id,{...j,[_e]:{...j[_e],handleBounds:{source:_l(".source",E.nodeElement,p,u),target:_l(".target",E.nodeElement,p,u)}},...D}),x.push({id:j.id,type:"dimensions",dimensions:D}))}return x},[]);gd(o,u);const y=i||a&&!i&&hd(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:y}),g?.length>0&&n?.(g)},updateNodePositions:(r,n=!0,o=!1)=>{const{triggerNodeChanges:a}=t(),i=r.map(s=>{const l={id:s.id,type:"position",dragging:o};return n&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});a(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:o,hasDefaultNodes:a,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();if(r?.length){if(a){const u=yd(r,s()),d=Oa(u,o,i,l);e({nodeInternals:d})}n?.(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:o,getNodes:a}=t();let i,s=null;n?i=r.map(l=>mr(l,!0)):(i=Kr(a(),r),s=Kr(o,[])),bo({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:o,getNodes:a}=t();let i,s=null;n?i=r.map(l=>mr(l,!0)):(i=Kr(o,r),s=Kr(a(),[])),bo({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:o,getNodes:a}=t(),i=r||a(),s=n||o,l=i.map(d=>(d.selected=!1,mr(d.id,!1))),u=s.map(d=>mr(d.id,!1));bo({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:o}=t();n?.scaleExtent([r,o]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:o}=t();n?.scaleExtent([o,r]),e({maxZoom:r})},setTranslateExtent:r=>{t().d3Zoom?.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),a=n().filter(s=>s.selected).map(s=>mr(s.id,!1)),i=r.filter(s=>s.selected).map(s=>mr(s.id,!1));bo({changedNodes:a,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(o=>{o.positionAbsolute=rs(o.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:o,height:a,d3Zoom:i,d3Selection:s,translateExtent:l}=t();if(!i||!s||!r.x&&!r.y)return!1;const u=hr.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),d=[[0,0],[o,a]],f=i?.constrain()(u,d,l);return i.transform(s,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:dr.connectionNodeId,connectionHandleId:dr.connectionHandleId,connectionHandleType:dr.connectionHandleType,connectionStatus:dr.connectionStatus,connectionStartHandle:dr.connectionStartHandle,connectionEndHandle:dr.connectionEndHandle}),reset:()=>e({...dr})}),Object.is),ps=({children:e})=>{const t=h.useRef(null);return t.current||(t.current=rb()),A.createElement(w0,{value:t.current},e)};ps.displayName="ReactFlowProvider";const Td=({children:e})=>h.useContext(ia)?A.createElement(A.Fragment,null,e):A.createElement(ps,null,e);Td.displayName="ReactFlowWrapper";const nb={input:ld,default:ji,output:ud,group:ds},ob={default:Go,straight:is,step:as,smoothstep:sa,simplebezier:os},ab=[0,0],ib=[15,15],sb={x:0,y:0,zoom:1},lb={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Pd=h.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:o,nodeTypes:a=nb,edgeTypes:i=ob,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:g,onConnectStart:y,onConnectEnd:x,onClickConnectStart:E,onClickConnectEnd:j,onNodeMouseEnter:D,onNodeMouseMove:T,onNodeMouseLeave:w,onNodeContextMenu:I,onNodeDoubleClick:C,onNodeDragStart:v,onNodeDrag:b,onNodeDragStop:m,onNodesDelete:S,onEdgesDelete:k,onSelectionChange:M,onSelectionDragStart:P,onSelectionDrag:N,onSelectionDragStop:R,onSelectionContextMenu:O,onSelectionStart:F,onSelectionEnd:_,connectionMode:L=Fr.Strict,connectionLineType:H=gr.Bezier,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:U,deleteKeyCode:G="Backspace",selectionKeyCode:B="Shift",selectionOnDrag:q=!1,selectionMode:ee=Gn.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:pe=zo()?"Meta":"Control",zoomActivationKeyCode:X=zo()?"Meta":"Control",snapToGrid:le=!1,snapGrid:xe=ib,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:Te=!0,nodesDraggable:De,nodesConnectable:Ae,nodesFocusable:ye,nodeOrigin:ae=ab,edgesFocusable:Re,edgesUpdatable:Ve,elementsSelectable:vt,defaultViewport:yt=sb,minZoom:ot=.5,maxZoom:He=2,translateExtent:bt=Ei,preventScrolling:Je=!0,nodeExtent:at,defaultMarkerColor:it="#b1b1b7",zoomOnScroll:st=!0,zoomOnPinch:It=!0,panOnScroll:Be=!1,panOnScrollSpeed:Ge=.5,panOnScrollMode:lt=Mr.Free,zoomOnDoubleClick:tt=!0,panOnDrag:ct=!0,onPaneClick:Qe,onPaneMouseEnter:xt,onPaneMouseMove:Gt,onPaneMouseLeave:Tt,onPaneScroll:Ft,onPaneContextMenu:Zt,children:Jt,onEdgeContextMenu:ut,onEdgeDoubleClick:Wt,onEdgeMouseEnter:jr,onEdgeMouseMove:Qt,onEdgeMouseLeave:er,onEdgeUpdate:cr,onEdgeUpdateStart:tr,onEdgeUpdateEnd:kr,onReconnect:Ut,onReconnectStart:fe,onReconnectEnd:$,reconnectRadius:K=10,edgeUpdaterRadius:Ce=10,onNodesChange:Me,onEdgesChange:Ye,noDragClassName:ie="nodrag",noWheelClassName:Y="nowheel",noPanClassName:he="nopan",fitView:Ie=!1,fitViewOptions:Pe,connectOnClick:dt=!0,attributionPosition:ft,proOptions:se,defaultEdgeOptions:z,elevateNodesOnSelect:Q=!0,elevateEdgesOnSelect:te=!1,disableKeyboardA11y:re=!1,autoPanOnConnect:ue=!0,autoPanOnNodeDrag:ce=!0,connectionRadius:me=20,isValidConnection:Ne,onError:ke,style:$e,id:We,nodeDragThreshold:et,...wt},rr)=>{const Er=We||"1";return A.createElement("div",{...wt,style:{...$e,...lb},ref:rr,className:nt(["react-flow",o]),"data-testid":"rf__wrapper",id:We},A.createElement(Td,null,A.createElement(tb,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:p,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:D,onNodeMouseMove:T,onNodeMouseLeave:w,onNodeContextMenu:I,onNodeDoubleClick:C,nodeTypes:a,edgeTypes:i,connectionLineType:H,connectionLineStyle:W,connectionLineComponent:V,connectionLineContainerStyle:U,selectionKeyCode:B,selectionOnDrag:q,selectionMode:ee,deleteKeyCode:G,multiSelectionKeyCode:pe,panActivationKeyCode:ne,zoomActivationKeyCode:X,onlyRenderVisibleElements:we,selectNodesOnDrag:Te,defaultViewport:yt,translateExtent:bt,minZoom:ot,maxZoom:He,preventScrolling:Je,zoomOnScroll:st,zoomOnPinch:It,zoomOnDoubleClick:tt,panOnScroll:Be,panOnScrollSpeed:Ge,panOnScrollMode:lt,panOnDrag:ct,onPaneClick:Qe,onPaneMouseEnter:xt,onPaneMouseMove:Gt,onPaneMouseLeave:Tt,onPaneScroll:Ft,onPaneContextMenu:Zt,onSelectionContextMenu:O,onSelectionStart:F,onSelectionEnd:_,onEdgeContextMenu:ut,onEdgeDoubleClick:Wt,onEdgeMouseEnter:jr,onEdgeMouseMove:Qt,onEdgeMouseLeave:er,onReconnect:Ut??cr,onReconnectStart:fe??tr,onReconnectEnd:$??kr,reconnectRadius:K??Ce,defaultMarkerColor:it,noDragClassName:ie,noWheelClassName:Y,noPanClassName:he,elevateEdgesOnSelect:te,rfId:Er,disableKeyboardA11y:re,nodeOrigin:ae,nodeExtent:at}),A.createElement(Q0,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:g,onConnectStart:y,onConnectEnd:x,onClickConnectStart:E,onClickConnectEnd:j,nodesDraggable:De,nodesConnectable:Ae,nodesFocusable:ye,edgesFocusable:Re,edgesUpdatable:Ve,elementsSelectable:vt,elevateNodesOnSelect:Q,minZoom:ot,maxZoom:He,nodeExtent:at,onNodesChange:Me,onEdgesChange:Ye,snapToGrid:le,snapGrid:xe,connectionMode:L,translateExtent:bt,connectOnClick:dt,defaultEdgeOptions:z,fitView:Ie,fitViewOptions:Pe,onNodesDelete:S,onEdgesDelete:k,onNodeDragStart:v,onNodeDrag:b,onNodeDragStop:m,onSelectionDrag:N,onSelectionDragStart:P,onSelectionDragStop:R,noPanClassName:he,nodeOrigin:ae,rfId:Er,autoPanOnConnect:ue,autoPanOnNodeDrag:ce,onError:ke,connectionRadius:me,isValidConnection:Ne,nodeDragThreshold:et}),A.createElement(Z0,{onSelectionChange:M}),Jt,A.createElement(S0,{proOptions:se,position:ft}),A.createElement(oy,{rfId:Er,disableKeyboardA11y:re})))});Pd.displayName="ReactFlow";const cb=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function ub({children:e}){const t=Le(cb);return t?tu.createPortal(e,t):null}function db(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}function fb(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},A.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function pb(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},A.createElement("path",{d:"M0 0h32v4.2H0z"}))}function mb(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},A.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function gb(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},A.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function hb(){return A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},A.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Pn=({children:e,className:t,...r})=>A.createElement("button",{type:"button",className:nt(["react-flow__controls-button",t]),...r},e);Pn.displayName="ControlButton";const vb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Od=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:i,onFitView:s,onInteractiveChange:l,className:u,children:d,position:f="bottom-left"})=>{const p=Xe(),[g,y]=h.useState(!1),{isInteractive:x,minZoomReached:E,maxZoomReached:j}=Le(vb,db),{zoomIn:D,zoomOut:T,fitView:w}=no();if(h.useEffect(()=>{y(!0)},[]),!g)return null;const I=()=>{D(),a?.()},C=()=>{T(),i?.()},v=()=>{w(o),s?.()},b=()=>{p.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),l?.(!x)};return A.createElement(es,{className:nt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&A.createElement(A.Fragment,null,A.createElement(Pn,{onClick:I,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:j},A.createElement(fb,null)),A.createElement(Pn,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E},A.createElement(pb,null))),r&&A.createElement(Pn,{className:"react-flow__controls-fitview",onClick:v,title:"fit view","aria-label":"fit view"},A.createElement(mb,null)),n&&A.createElement(Pn,{className:"react-flow__controls-interactive",onClick:b,title:"toggle interactivity","aria-label":"toggle interactivity"},x?A.createElement(hb,null):A.createElement(gb,null)),d)};Od.displayName="Controls";var yb=h.memo(Od);function bb(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Ht;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ht||(Ht={}));function xb({color:e,dimensions:t,lineWidth:r}){return A.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function wb({color:e,radius:t}){return A.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Cb={[Ht.Dots]:"#91919a",[Ht.Lines]:"#eee",[Ht.Cross]:"#e2e2e2"},Sb={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6},jb=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Md({id:e,variant:t=Ht.Dots,gap:r=20,size:n,lineWidth:o=1,offset:a=2,color:i,style:s,className:l}){const u=h.useRef(null),{transform:d,patternId:f}=Le(jb,bb),p=i||Cb[t],g=n||Sb[t],y=t===Ht.Dots,x=t===Ht.Cross,E=Array.isArray(r)?r:[r,r],j=[E[0]*d[2]||1,E[1]*d[2]||1],D=g*d[2],T=x?[D,D]:j,w=y?[D/a,D/a]:[T[0]/a,T[1]/a];return A.createElement("svg",{className:nt(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},A.createElement("pattern",{id:f+e,x:d[0]%j[0],y:d[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},y?A.createElement(wb,{color:p,radius:D/a}):A.createElement(xb,{dimensions:T,color:p,lineWidth:o})),A.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}Md.displayName="Background";var kb=h.memo(Md);const Eb=({onAccept:e,onReject:t})=>c.jsxs("div",{className:"flex justify-end space-x-2",children:[c.jsx("button",{className:"text-white px-2 bg-green-500 hover:bg-green-700 rounded h-8 flex items-center justify-center",onClick:t,children:"No"}),c.jsx("button",{className:"text-white bg-red-500 px-2 hover:bg-red-700 rounded h-8 flex items-center justify-center",onClick:e,autoFocus:!0,children:"Yes"})]}),Nb=({flowList:e,value:t,onChange:r})=>{h.useEffect(()=>{if(!t&&e?.length){const o=e.find(a=>a.label.includes("Draft"));o&&r(o.value)}},[t,e,r]);const n=o=>r(o.target.value);return c.jsxs("div",{className:"pb-3",children:[c.jsx("label",{htmlFor:"dropdown",className:"text-xs",children:"Flows"}),c.jsxs("select",{id:"dropdown",className:"border w-full","aria-label":"Select Draft or Version to View and Modify",onChange:n,value:t||"",children:[c.jsx("option",{value:"",children:"Select a flow"}),e?.map(o=>c.jsx("option",{value:o.value,children:o.label},o.value))]})]})},Db=h.memo(Nb),Ib=({onDragStart:e,clearFlow:t,onSave:r,errors:n,nodes:o,flowList:a,onFlowSelectionChange:i,onDelete:s,flowId:l,isSaveDisabled:u})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flow-tools",children:[c.jsx("button",{className:"button",onDragStart:d=>e(d,"message"),draggable:!0,children:"Message"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"options"),draggable:!0,children:"Options"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"leadForm"),draggable:!0,children:"Lead Form"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"file"),draggable:!0,children:"File"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"map"),draggable:!0,children:"Maps"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"question"),draggable:!0,children:"Question"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"callConnect"),draggable:!0,children:"CallConnect"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"otp"),draggable:!0,children:"OTP"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"customForm"),draggable:!0,children:"Custom Form"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"url"),draggable:!0,children:"URL"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"whatsAppFlow"),draggable:!0,children:"WhatsApp Flow"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"http"),draggable:!0,children:"HTTP"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"gpt"),draggable:!0,children:"GPT Handler"}),c.jsx("button",{className:"button",onDragStart:d=>e(d,"stop"),draggable:!0,children:"Stop"})]}),c.jsxs("div",{className:"flow-actions",children:[c.jsx(Db,{flowList:a,onChange:i,value:l}),c.jsx("button",{disabled:u,className:"px-2 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded items-center text-center",onClick:()=>r(),children:"Save"}),c.jsx("button",{disabled:Object.keys(n).length>0||o.length<2,className:"px-2 py-2 bg-blue-500 hover:bg-blue-700 text-white font-bold rounded items-center text-center",onClick:()=>r(!0),children:"Deploy"}),c.jsx("button",{disabled:o.length<2,title:"Clear Board - Will delete all Nodes and Edges",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center",onClick:()=>t(),children:"Clear"}),c.jsx("button",{disabled:!l,title:"Delete Flow",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center hidden",onClick:()=>s(l),children:"Delete"})]})]}),Tb=A.memo(Ib);function Pb(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}const Ob=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function yr(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Ur=null;function Rd(e={}){return Ur||(e.includeStyleProperties?(Ur=e.includeStyleProperties,Ur):(Ur=yr(window.getComputedStyle(document.documentElement)),Ur))}function Wo(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Mb(e){const t=Wo(e,"border-left-width"),r=Wo(e,"border-right-width");return e.clientWidth+t+r}function Rb(e){const t=Wo(e,"border-top-width"),r=Wo(e,"border-bottom-width");return e.clientHeight+t+r}function Ad(e,t={}){const r=t.width||Mb(e),n=t.height||Rb(e);return{width:r,height:n}}function Ab(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ct=16384;function Lb(e){(e.width>Ct||e.height>Ct)&&(e.width>Ct&&e.height>Ct?e.width>e.height?(e.height*=Ct/e.width,e.width=Ct):(e.width*=Ct/e.height,e.height=Ct):e.width>Ct?(e.height*=Ct/e.width,e.width=Ct):(e.width*=Ct/e.height,e.height=Ct))}function Uo(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Fb(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Bb(e,t,r){const n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg"),a=document.createElementNS(n,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${t} ${r}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(e),Fb(o)}const gt=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||gt(r,t)};function _b(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function $b(e,t){return Rd(t).map(r=>{const n=e.getPropertyValue(r),o=e.getPropertyPriority(r);return`${r}: ${n}${o?" !important":""};`}).join(" ")}function zb(e,t,r,n){const o=`.${e}:${t}`,a=r.cssText?_b(r):$b(r,n);return document.createTextNode(`${o}{${a}}`)}function ql(e,t,r,n){const o=window.getComputedStyle(e,r),a=o.getPropertyValue("content");if(a===""||a==="none")return;const i=Ob();try{t.className=`${t.className} ${i}`}catch{return}const s=document.createElement("style");s.appendChild(zb(i,r,o,n)),t.appendChild(s)}function Hb(e,t,r){ql(e,t,":before",r),ql(e,t,":after",r)}const Xl="application/font-woff",Yl="image/jpeg",Vb={woff:Xl,woff2:Xl,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Yl,jpeg:Yl,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Gb(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ms(e){const t=Gb(e).toLowerCase();return Vb[t]||""}function Wb(e){return e.split(/,/)[1]}function Ni(e){return e.search(/^(data:)/)!==-1}function Ub(e,t){return`data:${t};base64,${e}`}async function Ld(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const o=await n.blob();return new Promise((a,i)=>{const s=new FileReader;s.onerror=i,s.onloadend=()=>{try{a(r({res:n,result:s.result}))}catch(l){i(l)}},s.readAsDataURL(o)})}const La={};function qb(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function gs(e,t,r){const n=qb(e,t,r.includeQueryParams);if(La[n]!=null)return La[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const a=await Ld(e,r.fetchRequestInit,({res:i,result:s})=>(t||(t=i.headers.get("Content-Type")||""),Wb(s)));o=Ub(a,t)}catch(a){o=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return La[n]=o,o}async function Xb(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Uo(t)}async function Yb(e,t){if(e.currentSrc){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,i?.drawImage(e,0,0,a.width,a.height);const s=a.toDataURL();return Uo(s)}const r=e.poster,n=ms(r),o=await gs(r,n,t);return Uo(o)}async function Kb(e,t){var r;try{if(!((r=e?.contentDocument)===null||r===void 0)&&r.body)return await ca(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Zb(e,t){return gt(e,HTMLCanvasElement)?Xb(e):gt(e,HTMLVideoElement)?Yb(e,t):gt(e,HTMLIFrameElement)?Kb(e,t):e.cloneNode(Fd(e))}const Jb=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Fd=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Qb(e,t,r){var n,o;if(Fd(t))return t;let a=[];return Jb(e)&&e.assignedNodes?a=yr(e.assignedNodes()):gt(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?a=yr(e.contentDocument.body.childNodes):a=yr(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),a.length===0||gt(e,HTMLVideoElement)||await a.reduce((i,s)=>i.then(()=>ca(s,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function ex(e,t,r){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Rd(r).forEach(a=>{let i=o.getPropertyValue(a);a==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),gt(e,HTMLIFrameElement)&&a==="display"&&i==="inline"&&(i="block"),a==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(a,i,o.getPropertyPriority(a))})}function tx(e,t){gt(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),gt(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function rx(e,t){if(gt(e,HTMLSelectElement)){const n=Array.from(t.children).find(o=>e.value===o.getAttribute("value"));n&&n.setAttribute("selected","")}}function nx(e,t,r){return gt(t,Element)&&(ex(e,t,r),Hb(e,t,r),tx(e,t),rx(e,t)),t}async function ox(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let a=0;a<r.length;a++){const s=r[a].getAttribute("xlink:href");if(s){const l=e.querySelector(s),u=document.querySelector(s);!l&&u&&!n[s]&&(n[s]=await ca(u,t,!0))}}const o=Object.values(n);if(o.length){const a="http://www.w3.org/1999/xhtml",i=document.createElementNS(a,"svg");i.setAttribute("xmlns",a),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const s=document.createElementNS(a,"defs");i.appendChild(s);for(let l=0;l<o.length;l++)s.appendChild(o[l]);e.appendChild(i)}return e}async function ca(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Zb(n,t)).then(n=>Qb(e,n,t)).then(n=>nx(e,n,t)).then(n=>ox(n,t))}const Bd=/url\((['"]?)([^'"]+?)\1\)/g,ax=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ix=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function sx(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function lx(e){const t=[];return e.replace(Bd,(r,n,o)=>(t.push(o),r)),t.filter(r=>!Ni(r))}async function cx(e,t,r,n,o){try{const a=r?Pb(t,r):t,i=ms(t);let s;return o||(s=await gs(a,i,n)),e.replace(sx(t),`$1${s}$3`)}catch{}return e}function ux(e,{preferredFontFormat:t}){return t?e.replace(ix,r=>{for(;;){const[n,,o]=ax.exec(r)||[];if(!o)return"";if(o===t)return`src: ${n};`}}):e}function _d(e){return e.search(Bd)!==-1}async function $d(e,t,r){if(!_d(e))return e;const n=ux(e,r);return lx(n).reduce((a,i)=>a.then(s=>cx(s,i,t,r)),Promise.resolve(n))}async function qr(e,t,r){var n;const o=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(o){const a=await $d(o,null,r);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function dx(e,t){await qr("background",e,t)||await qr("background-image",e,t),await qr("mask",e,t)||await qr("-webkit-mask",e,t)||await qr("mask-image",e,t)||await qr("-webkit-mask-image",e,t)}async function fx(e,t){const r=gt(e,HTMLImageElement);if(!(r&&!Ni(e.src))&&!(gt(e,SVGImageElement)&&!Ni(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,o=await gs(n,ms(n),t);await new Promise((a,i)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(u){i(u)}}:i;const s=e;s.decode&&(s.decode=a),s.loading==="lazy"&&(s.loading="eager"),r?(e.srcset="",e.src=o):e.href.baseVal=o})}async function px(e,t){const n=yr(e.childNodes).map(o=>zd(o,t));await Promise.all(n).then(()=>e)}async function zd(e,t){gt(e,Element)&&(await dx(e,t),await fx(e,t),await px(e,t))}function mx(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(o=>{r[o]=n[o]}),e}const Kl={};async function Zl(e){let t=Kl[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},Kl[e]=t,t}async function Jl(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,a=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let s=i.replace(n,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),Ld(s,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(a).then(()=>r)}function Ql(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=o.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(o,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(i,"gi");for(;;){let l=a.exec(n);if(l===null){if(l=s.exec(n),l===null)break;a.lastIndex=s.lastIndex}else s.lastIndex=a.lastIndex;t.push(l[0])}return t}async function gx(e,t){const r=[],n=[];return e.forEach(o=>{if("cssRules"in o)try{yr(o.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let s=i+1;const l=a.href,u=Zl(l).then(d=>Jl(d,t)).then(d=>Ql(d).forEach(f=>{try{o.insertRule(f,f.startsWith("@import")?s+=1:o.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});n.push(u)}})}catch(a){const i=e.find(s=>s.href==null)||document.styleSheets[0];o.href!=null&&n.push(Zl(o.href).then(s=>Jl(s,t)).then(s=>Ql(s).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",a)}}),Promise.all(n).then(()=>(e.forEach(o=>{if("cssRules"in o)try{yr(o.cssRules||[]).forEach(a=>{r.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${o.href}`,a)}}),r))}function hx(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>_d(t.style.getPropertyValue("src")))}async function vx(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=yr(e.ownerDocument.styleSheets),n=await gx(r,t);return hx(n)}function Hd(e){return e.trim().replace(/["']/g,"")}function yx(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(a=>{t.add(Hd(a))}),Array.from(n.children).forEach(a=>{a instanceof HTMLElement&&r(a)})}return r(e),t}async function bx(e,t){const r=await vx(e,t),n=yx(e);return(await Promise.all(r.filter(a=>n.has(Hd(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return $d(a.cssText,i,t)}))).join(`
`)}async function xx(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await bx(e,t);if(r){const n=document.createElement("style"),o=document.createTextNode(r);n.appendChild(o),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function wx(e,t={}){const{width:r,height:n}=Ad(e,t),o=await ca(e,t,!0);return await xx(o,t),await zd(o,t),mx(o,t),await Bb(o,r,n)}async function Cx(e,t={}){const{width:r,height:n}=Ad(e,t),o=await wx(e,t),a=await Uo(o),i=document.createElement("canvas"),s=i.getContext("2d"),l=t.pixelRatio||Ab(),u=t.canvasWidth||r,d=t.canvasHeight||n;return i.width=u*l,i.height=d*l,t.skipAutoScale||Lb(i),i.style.width=`${u}`,i.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(a,0,0,i.width,i.height),i}async function Sx(e,t={}){return(await Cx(e,t)).toDataURL()}function jx(e){const t=document.createElement("a");t.setAttribute("download","reactflow.png"),t.setAttribute("href",e),t.click()}const Fa=1024,Ba=768;function kx(){const{getNodes:e}=no(),t=()=>{const r=la(e()),n=cs(r,Fa,Ba,.5,2,20);Sx(document.querySelector(".react-flow__viewport"),{backgroundColor:"#1a365d",width:Fa,height:Ba,style:{width:`${Fa}px`,height:`${Ba}px`,transform:`translate(${n.x}px, ${n.y}px) scale(${n.zoom})`}}).then(jx)};return c.jsx(es,{position:"top-right",children:c.jsx("button",{className:"download-btn",onClick:t,children:"Download Image"})})}function Ex({id:e,sourceX:t,sourceY:r,targetX:n,targetY:o,sourcePosition:a,targetPosition:i,style:s={}}){const{setEdges:l}=no(),[u,d,f]=Vo({sourceX:t,sourceY:r,sourcePosition:a,targetX:n,targetY:o,targetPosition:i}),p=()=>{l(g=>g.filter(y=>y.id!==e))};return c.jsxs(c.Fragment,{children:[c.jsx("svg",{style:{position:"absolute"},children:c.jsx("defs",{children:c.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"10",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto",children:c.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#ff0073"})})})}),c.jsx(pn,{path:u,markerEnd:"url(#arrowhead)",style:s}),c.jsx(ub,{children:c.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${d}px,${f}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:c.jsx("button",{className:"w-4 h-4 bg-gray-300 border border-gray-500 rounded-full text-xs font-bold text-gray-800 flex items-baseline justify-center hover:bg-red-600 hover:border-red-700 hover:text-white hover:shadow-md",onClick:p,children:""})})})]})}const Nx={Smileys:[{emoji:"",keywords:["grinning","happy","smile"]},{emoji:"",keywords:["grin","smiley","cheerful"]},{emoji:"",keywords:["joy","tears","laugh"]},{emoji:"",keywords:["rofl","roll","laughing"]},{emoji:"",keywords:["smile","happy","joy"]},{emoji:"",keywords:["smiling","joy","happy"]},{emoji:"",keywords:["sweat","relief","nervous"]},{emoji:"",keywords:["laugh","happy","joy"]},{emoji:"",keywords:["wink","flirt","playful"]},{emoji:"",keywords:["blush","happy","smile"]},{emoji:"",keywords:["yum","delicious","tasty"]},{emoji:"",keywords:["cool","sunglasses","chill"]},{emoji:"",keywords:["love","heart","eyes","romantic"]},{emoji:"",keywords:["kiss","heart","love"]},{emoji:"",keywords:["kiss","face","blowing"]},{emoji:"",keywords:["kiss","smiling","love"]},{emoji:"",keywords:["kiss","closed","eyes"]},{emoji:"",keywords:["smile","slight","happy"]},{emoji:"",keywords:["hug","face","smile","embrace"]},{emoji:"",keywords:["star","struck","amazed"]},{emoji:"",keywords:["thinking","hmm","curious"]},{emoji:"",keywords:["face","eyebrow","raised"]},{emoji:"",keywords:["neutral","meh","blank"]},{emoji:"",keywords:["expressionless","blank","deadpan"]},{emoji:"",keywords:["silence","no","mouth"]},{emoji:"",keywords:["eye","roll","annoyed"]},{emoji:"",keywords:["smirk","sly","looking"]},{emoji:"",keywords:["persevere","struggling","face"]},{emoji:"",keywords:["relieved","sweat","exhaled"]},{emoji:"",keywords:["face","surprise","wow"]},{emoji:"",keywords:["drooling","yum","delicious"]},{emoji:"",keywords:["sleepy","tired","exhausted"]},{emoji:"",keywords:["hushed","quiet","speechless"]},{emoji:"",keywords:["tired","sleepy","exhausted"]},{emoji:"",keywords:["sleeping","zzz","sleep"]},{emoji:"",keywords:["nauseated","sick","face"]},{emoji:"",keywords:["hot","sweating","face"]},{emoji:"",keywords:["cold","freezing","face"]},{emoji:"",keywords:["sweat","sad","disappointed"]},{emoji:"",keywords:["angry","mad","annoyed"]},{emoji:"",keywords:["rage","pout","angry"]},{emoji:"",keywords:["swearing","angry","censored"]},{emoji:"",keywords:["sad","disappointed","down"]},{emoji:"",keywords:["confused","meh","puzzled"]},{emoji:"",keywords:["frowning","sad","unhappy"]},{emoji:"",keywords:["worried","anxious","concerned"]},{emoji:"",keywords:["confounded","distressed","upset"]},{emoji:"",keywords:["crying","sad","tears"]},{emoji:"",keywords:["sob","cry","tear"]},{emoji:"",keywords:["weary","tired","exhausted"]},{emoji:"",keywords:["persevere","struggle","sad"]},{emoji:"",keywords:["disappointed","sad","upset"]},{emoji:"",keywords:["triumph","proud","smug"]},{emoji:"",keywords:["tired","exhausted","sad"]},{emoji:"",keywords:["anxious","sad","worried"]},{emoji:"",keywords:["screaming","shock","scared"]},{emoji:"",keywords:["flushed","embarrassed","shocked"]},{emoji:"",keywords:["mind","blown","shock"]},{emoji:"",keywords:["cowboy","hat","cheerful"]},{emoji:"",keywords:["party","celebrating","fun"]},{emoji:"",keywords:["cool","shade","sunglasses"]},{emoji:"",keywords:["nerd","smart","studious"]},{emoji:"",keywords:["monocle","curious","inspect"]},{emoji:"",keywords:["frowning","sad","upset"]},{emoji:"",keywords:["anguished","distressed","sad"]},{emoji:"",keywords:["astonished","surprised","shocked"]},{emoji:"",keywords:["pleading","sad","cute"]},{emoji:"",keywords:["dizzy","confused","woozy"]},{emoji:"",keywords:["zipper","mouth","shutup"]},{emoji:"",keywords:["head","injury","sick"]}],Animals:[{emoji:"",keywords:["cat","pet","feline"]},{emoji:"",keywords:["dog","pet","puppy"]},{emoji:"",keywords:["mouse","rodent","small"]},{emoji:"",keywords:["hamster","pet","small"]},{emoji:"",keywords:["rabbit","bunny","pet"]},{emoji:"",keywords:["fox","wild","animal"]},{emoji:"",keywords:["bear","wild","animal"]},{emoji:"",keywords:["panda","bear","animal"]},{emoji:"",keywords:["koala","bear","animal"]},{emoji:"",keywords:["tiger","wild","bigcat"]},{emoji:"",keywords:["lion","wild","king"]},{emoji:"",keywords:["cow","farm","animal"]},{emoji:"",keywords:["pig","farm","animal"]},{emoji:"",keywords:["frog","amphibian","animal"]},{emoji:"",keywords:["monkey","animal","primate"]},{emoji:"",keywords:["unicorn","mythical","animal"]},{emoji:"",keywords:["horse","equine","animal"]},{emoji:"",keywords:["chick","baby","bird"]},{emoji:"",keywords:["parrot","bird","talking"]},{emoji:"",keywords:["swan","bird","majestic"]},{emoji:"",keywords:["owl","bird","night"]},{emoji:"",keywords:["bat","night","animal"]},{emoji:"",keywords:["wolf","animal","wild"]},{emoji:"",keywords:["boar","wild","animal"]},{emoji:"",keywords:["hamster","animal","pet"]},{emoji:"",keywords:["hedgehog","animal","cute"]},{emoji:"",keywords:["bird","animal","flying"]},{emoji:"",keywords:["penguin","bird","cold"]},{emoji:"",keywords:["crab","sea","animal"]},{emoji:"",keywords:["lobster","sea","animal"]},{emoji:"",keywords:["shrimp","sea","animal"]},{emoji:"",keywords:["turtle","reptile","animal"]},{emoji:"",keywords:["lizard","reptile","animal"]},{emoji:"",keywords:["snake","reptile","animal"]},{emoji:"",keywords:["sauropod","dinosaur","extinct"]},{emoji:"",keywords:["T-Rex","dinosaur","extinct"]},{emoji:"",keywords:["octopus","sea","animal"]},{emoji:"",keywords:["dolphin","sea","animal"]},{emoji:"",keywords:["whale","sea","animal"]},{emoji:"",keywords:["fish","sea","animal"]},{emoji:"",keywords:["tropical","fish","sea"]},{emoji:"",keywords:["blowfish","sea","animal"]},{emoji:"",keywords:["dolphin","sea","animal"]},{emoji:"",keywords:["shark","sea","animal"]},{emoji:"",keywords:["crocodile","reptile","animal"]},{emoji:"",keywords:["tiger","wild","animal"]},{emoji:"",keywords:["leopard","wild","animal"]},{emoji:"",keywords:["zebra","wild","animal"]},{emoji:"",keywords:["gorilla","wild","animal"]},{emoji:"",keywords:["orangutan","wild","animal"]},{emoji:"",keywords:["rhinoceros","wild","animal"]},{emoji:"",keywords:["hippopotamus","wild","animal"]},{emoji:"",keywords:["water buffalo","wild","animal"]},{emoji:"",keywords:["ox","farm","animal"]},{emoji:"",keywords:["giraffe","wild","animal"]},{emoji:"",keywords:["elephant","wild","animal"]},{emoji:"",keywords:["rhinoceros","wild","animal"]},{emoji:"",keywords:["bat","wild","animal"]},{emoji:"",keywords:["camel","desert","animal"]},{emoji:"",keywords:["llama","animal","farm"]},{emoji:"",keywords:["kangaroo","wild","animal"]},{emoji:"",keywords:["badger","wild","animal"]},{emoji:"",keywords:["poodle","dog","animal"]},{emoji:"",keywords:["dog","animal","pet"]},{emoji:"",keywords:["cat","animal","pet"]},{emoji:"",keywords:["rooster","farm","bird"]},{emoji:"",keywords:["black cat","animal","pet"]},{emoji:"",keywords:["pig","farm","animal"]},{emoji:"",keywords:["dragon","mythical","animal"]},{emoji:"",keywords:["rabbit","animal","pet"]},{emoji:"",keywords:["swan","bird","majestic"]},{emoji:"",keywords:["service dog","animal","service"]},{emoji:"",keywords:["badger","wild","animal"]},{emoji:"",keywords:["pig","animal","farm"]},{emoji:"",keywords:["skunk","wild","animal"]},{emoji:"",keywords:["badger","wild","animal"]},{emoji:"",keywords:["otter","wild","animal"]},{emoji:"",keywords:["skunk","wild","animal"]},{emoji:"",keywords:["otter","wild","animal"]},{emoji:"",keywords:["sloth","wild","animal"]},{emoji:"",keywords:["flamingo","wild","bird"]},{emoji:"",keywords:["flamingo","wild","bird"]},{emoji:"",keywords:["giraffe","wild","animal"]}],Food:[{emoji:"",keywords:["apple","green apple","fruit"]},{emoji:"",keywords:["apple","red apple","fruit"]},{emoji:"",keywords:["pear","fruit"]},{emoji:"",keywords:["tangerine","orange","fruit"]},{emoji:"",keywords:["lemon","fruit"]},{emoji:"",keywords:["banana","fruit"]},{emoji:"",keywords:["watermelon","fruit"]},{emoji:"",keywords:["grapes","fruit","vineyard"]},{emoji:"",keywords:["strawberry","fruit"]},{emoji:"",keywords:["melon","fruit"]},{emoji:"",keywords:["cherries","fruit"]},{emoji:"",keywords:["peach","fruit"]},{emoji:"",keywords:["pineapple","fruit"]},{emoji:"",keywords:["mango","fruit"]},{emoji:"",keywords:["coconut","fruit"]},{emoji:"",keywords:["kiwi","fruit"]},{emoji:"",keywords:["tomato","vegetable"]},{emoji:"",keywords:["eggplant","vegetable"]},{emoji:"",keywords:["avocado","fruit"]},{emoji:"",keywords:["cucumber","vegetable"]},{emoji:"",keywords:["leafy greens","vegetable","lettuce"]},{emoji:"",keywords:["broccoli","vegetable"]},{emoji:"",keywords:["corn","vegetable"]},{emoji:"",keywords:["hot pepper","vegetable","spicy"]},{emoji:"",keywords:["carrot","vegetable"]},{emoji:"",keywords:["garlic","vegetable"]},{emoji:"",keywords:["onion","vegetable"]},{emoji:"",keywords:["potato","vegetable"]},{emoji:"",keywords:["yam","vegetable","sweet potato"]},{emoji:"",keywords:["croissant","bread"]},{emoji:"",keywords:["bread","loaf"]},{emoji:"",keywords:["baguette","bread"]},{emoji:"",keywords:["pretzel","bread","snack"]},{emoji:"",keywords:["bagel","bread"]},{emoji:"",keywords:["pancakes","breakfast"]},{emoji:"",keywords:["waffle","breakfast"]},{emoji:"",keywords:["cheese","dairy"]},{emoji:"",keywords:["meat","bone","food"]},{emoji:"",keywords:["poultry leg","chicken leg","food"]},{emoji:"",keywords:["cut of meat","steak","food"]},{emoji:"",keywords:["fried shrimp","seafood"]},{emoji:"",keywords:["egg","food","breakfast"]},{emoji:"",keywords:["cooking","egg","fried egg"]},{emoji:"",keywords:["bacon","meat","breakfast"]},{emoji:"",keywords:["salad","food","healthy"]},{emoji:"",keywords:["pot of food","soup","stew"]},{emoji:"",keywords:["popcorn","snack","movies"]},{emoji:"",keywords:["butter","food"]},{emoji:"",keywords:["bento box","sushi","Japanese food"]},{emoji:"",keywords:["sushi","Japanese food"]},{emoji:"",keywords:["curry","rice","food"]},{emoji:"",keywords:["noodles","ramen","bowl"]},{emoji:"",keywords:["spaghetti","pasta","food"]},{emoji:"",keywords:["dumpling","food"]},{emoji:"",keywords:["sweet potato","food","roasted"]},{emoji:"",keywords:["shrimp","food","fried"]},{emoji:"",keywords:["oden","food","skewer"]},{emoji:"",keywords:["tea","cup"]},{emoji:"",keywords:["milk","glass"]},{emoji:"",keywords:["coffee","cup"]},{emoji:"",keywords:["cake","dessert","birthday"]},{emoji:"",keywords:["birthday cake","dessert"]},{emoji:"",keywords:["doughnut","dessert"]},{emoji:"",keywords:["cookie","dessert"]},{emoji:"",keywords:["lollipop","candy"]},{emoji:"",keywords:["chocolate","bar","dessert"]},{emoji:"",keywords:["candy","sweet"]},{emoji:"",keywords:["honey","honey pot","sweet"]},{emoji:"",keywords:["salt","condiment"]}],Activity:[{emoji:"",keywords:["soccer","football","goal"]},{emoji:"",keywords:["basketball","hoops","dunk"]},{emoji:"",keywords:["football","rugby","gridiron"]},{emoji:"",keywords:["baseball","pitch","bat"]},{emoji:"",keywords:["tennis","racket","serve"]},{emoji:"",keywords:["volleyball","spike","serve"]},{emoji:"",keywords:["rugby","ball","scrum"]},{emoji:"",keywords:["pool","billiards","eight ball"]},{emoji:"",keywords:["ping pong","table tennis","paddle"]},{emoji:"",keywords:["badminton","shuttlecock","racket"]},{emoji:"",keywords:["goal","net","hockey"]},{emoji:"",keywords:["hockey","ice hockey","puck"]},{emoji:"",keywords:["field hockey","stick","ball"]},{emoji:"",keywords:["lacrosse","stick","ball"]},{emoji:"",keywords:["cricket","bat","ball"]},{emoji:"",keywords:["golf","flag","hole in one"]},{emoji:"",keywords:["archery","bow","arrow"]},{emoji:"",keywords:["fishing","fish","rod"]},{emoji:"",keywords:["scuba","diving","snorkeling"]},{emoji:"",keywords:["sled","sledge","toboggan"]},{emoji:"",keywords:["curling","stone","sweep"]},{emoji:"",keywords:["skateboard","skating","skate"]},{emoji:"",keywords:["roller skate","skating","rolling"]},{emoji:"",keywords:["ice skate","skating","ice"]},{emoji:"",keywords:["canoe","kayak","paddle"]},{emoji:"",keywords:["soccer","football","goal"]},{emoji:"",keywords:["weight lifting","gym","workout"]},{emoji:"",keywords:["weight lifting","gym","workout"]},{emoji:"",keywords:["weight lifting","gym","workout"]},{emoji:"",keywords:["fencing","sword","duel"]},{emoji:"",keywords:["wrestling","grappling","fight"]},{emoji:"",keywords:["wrestling","grappling","fight"]},{emoji:"",keywords:["gymnastics","flip","somersault"]},{emoji:"",keywords:["gymnastics","flip","somersault"]},{emoji:"",keywords:["handball","goalie","ball"]},{emoji:"",keywords:["handball","goalie","ball"]},{emoji:"",keywords:["juggle","performance","circus"]},{emoji:"",keywords:["juggle","performance","circus"]},{emoji:"",keywords:["yoga","meditation","relax"]},{emoji:"",keywords:["yoga","meditation","relax"]},{emoji:"",keywords:["yoga","meditation","relax"]},{emoji:"",keywords:["surfing","waves","ocean"]},{emoji:"",keywords:["surfing","waves","ocean"]},{emoji:"",keywords:["snowboarding","snowboard","snow"]},{emoji:"",keywords:["skiing","snow","slope"]},{emoji:"",keywords:["horse racing","jockey","race"]},{emoji:"",keywords:["biking","cycling","bicycle"]},{emoji:"",keywords:["biking","cycling","bicycle"]},{emoji:"",keywords:["mountain biking","cycling","bike"]},{emoji:"",keywords:["mountain biking","cycling","bike"]},{emoji:"",keywords:["horse racing","jockey","race"]},{emoji:"",keywords:["gold medal","winner","first place"]},{emoji:"",keywords:["silver medal","second place","runner-up"]},{emoji:"",keywords:["bronze medal","third place","winner"]},{emoji:"",keywords:["trophy","winner","champion"]},{emoji:"",keywords:["medal","reward","achievement"]},{emoji:"",keywords:["military","decoration","award"]},{emoji:"",keywords:["rosette","badge","award"]},{emoji:"",keywords:["ribbon","cause","support"]}],Travel:[{emoji:"",keywords:["car","automobile","travel","vehicle"]},{emoji:"",keywords:["taxi","cab","transport","vehicle"]},{emoji:"",keywords:["suv","vehicle","travel","transportation"]},{emoji:"",keywords:["bus","transport","vehicle","travel"]},{emoji:"",keywords:["trolleybus","public transport","vehicle"]},{emoji:"",keywords:["racecar","racing","vehicle","sport"]},{emoji:"",keywords:["police car","law enforcement","vehicle"]},{emoji:"",keywords:["ambulance","emergency","hospital","vehicle"]},{emoji:"",keywords:["fire truck","firefighter","emergency","vehicle"]},{emoji:"",keywords:["minibus","van","transport","vehicle"]},{emoji:"",keywords:["delivery truck","cargo","shipping","vehicle"]},{emoji:"",keywords:["articulated lorry","semi truck","transport"]},{emoji:"",keywords:["tractor","farming","vehicle","agriculture"]},{emoji:"",keywords:["motorcycle","bike","riding","vehicle"]},{emoji:"",keywords:["bicycle","bike","cycling","vehicle"]},{emoji:"",keywords:["kick scooter","scooter","ride","vehicle"]},{emoji:"",keywords:["motor scooter","vespa","vehicle","ride"]},{emoji:"",keywords:["bus stop","transport","station","public transport"]},{emoji:"",keywords:["railway track","train","rail","travel"]},{emoji:"",keywords:["fuel pump","gas station","fuel","transport"]},{emoji:"",keywords:["police light","emergency","alarm","vehicle"]},{emoji:"",keywords:["horizontal traffic light","stoplight","signal"]},{emoji:"",keywords:["vertical traffic light","stoplight","signal"]},{emoji:"",keywords:["stop sign","warning","traffic"]},{emoji:"",keywords:["construction","roadwork","warning"]},{emoji:"",keywords:["anchor","sailing","maritime","nautical"]},{emoji:"",keywords:["sailboat","boat","sailing","watercraft"]},{emoji:"",keywords:["canoe","kayak","paddling","boat"]},{emoji:"",keywords:["speedboat","boat","speed","watercraft"]},{emoji:"",keywords:["passenger ship","cruise","travel","boat"]},{emoji:"",keywords:["ferry","boat","nautical","sea"]},{emoji:"",keywords:["motor boat","yacht","boat","watercraft"]},{emoji:"",keywords:["ship","ocean liner","travel","boating"]},{emoji:"",keywords:["airplane","flight","travel","plane"]},{emoji:"",keywords:["small airplane","flight","aviation","plane"]},{emoji:"",keywords:["airplane departure","airport","takeoff","flight"]},{emoji:"",keywords:["airplane arrival","landing","airport","flight"]},{emoji:"",keywords:["parachute","skydiving","falling","activity"]},{emoji:"",keywords:["seat","sitting","airline","travel"]},{emoji:"",keywords:["helicopter","chopper","aviation","vehicle"]},{emoji:"",keywords:["suspension railway","train","transport","public transit"]},{emoji:"",keywords:["mountain cableway","cable car","transport"]},{emoji:"",keywords:["aerial tramway","cable car","transport","travel"]},{emoji:"",keywords:["satellite","space station","orbit","communication"]},{emoji:"",keywords:["rocket","space","launch","spaceship"]},{emoji:"",keywords:["flying saucer","UFO","vehicle","alien"]},{emoji:"",keywords:["passenger ship","cruise","voyage","boat"]},{emoji:"",keywords:["parachute","skydiving","falling","sport"]},{emoji:"",keywords:["landing","airplane","arrival","airport"]},{emoji:"",keywords:["takeoff","airplane","departure","airport"]},{emoji:"",keywords:["airplane","flight","travel","plane"]},{emoji:"",keywords:["station","train","subway","transport"]},{emoji:"",keywords:["locomotive","steam train","rail","engine"]},{emoji:"",keywords:["railway car","train car","public transport"]},{emoji:"",keywords:["high-speed train","shinkansen","transport"]},{emoji:"",keywords:["bullet train","high-speed rail","transport"]},{emoji:"",keywords:["train","rail","commuter","public transport"]},{emoji:"",keywords:["subway","metro","underground","public transport"]},{emoji:"",keywords:["light rail","tram","train","public transport"]},{emoji:"",keywords:["tram","streetcar","public transport","rail"]}],Objects:[{emoji:"",'"keywords':["box","package"]},{emoji:"",keywords:["mailbox","closed"]},{emoji:"",keywords:["mailbox","open","mail"]},{emoji:"",keywords:["mail","incoming"]},{emoji:"",keywords:["mail","outgoing"]},{emoji:"",keywords:["postbox","mail"]},{emoji:"",keywords:["postal horn"]},{emoji:"",keywords:["scroll","paper"]},{emoji:"",keywords:["page","curl","document"]},{emoji:"",keywords:["bookmark","tabs"]},{emoji:"",keywords:["chart","graph","up"]},{emoji:"",keywords:["chart","graph","down"]},{emoji:"",keywords:["bar chart","graph"]},{emoji:"",keywords:["index card"]},{emoji:"",keywords:["file folder"]},{emoji:"",keywords:["open file folder"]},{emoji:"",keywords:["card","file","folders"]},{emoji:"",keywords:["clipboard"]},{emoji:"",keywords:["outbox","mail"]},{emoji:"",keywords:["inbox","mail"]},{emoji:"",keywords:["package","box"]},{emoji:"",keywords:["email","envelope"]},{emoji:"",keywords:["incoming mail"]},{emoji:"",keywords:["envelope","arrow"]},{emoji:"",keywords:["outbox","tray"]},{emoji:"",keywords:["inbox","tray"]},{emoji:"",keywords:["package"]},{emoji:"",keywords:["inbox"]},{emoji:"",keywords:["email"]},{emoji:"",keywords:["incoming"]},{emoji:"",keywords:["envelope"]},{emoji:"",keywords:["outbox"]},{emoji:"",keywords:["satellite","antenna"]},{emoji:"",keywords:["battery"]},{emoji:"",keywords:["plug"]},{emoji:"",keywords:["bulb"]},{emoji:"",keywords:["flashlight"]},{emoji:"",keywords:["candle"]},{emoji:"",keywords:["stethoscope","doctor"]},{emoji:"",keywords:["key"]},{emoji:"",keywords:["lock"]},{emoji:"",keywords:["unlock"]},{emoji:"",keywords:["lock","key"]},{emoji:"",keywords:["lock","pen"]},{emoji:"",keywords:["paperclip"]},{emoji:"",keywords:["linked","paperclips"]},{emoji:"",keywords:["scissors"]},{emoji:"",keywords:["file box"]},{emoji:"",keywords:["ballot box"]},{emoji:"",keywords:["file cabinet"]},{emoji:"",keywords:["calendar"]},{emoji:"",keywords:["tear-off calendar"]},{emoji:"",keywords:["spiral calendar"]},{emoji:"",keywords:["card index"]},{emoji:"",keywords:["chart increasing"]},{emoji:"",keywords:["chart decreasing"]},{emoji:"",keywords:["bar chart"]},{emoji:"",keywords:["pushpin"]},{emoji:"",keywords:["round pushpin"]},{emoji:"",keywords:["straight edge"]},{emoji:"",keywords:["triangular ruler"]},{emoji:"",keywords:["pencil"]},{emoji:"",keywords:["crayon"]},{emoji:"",keywords:["paintbrush"]},{emoji:"",keywords:["pen"]},{emoji:"",keywords:["fountain pen"]},{emoji:"",keywords:["straight edge"]},{emoji:"",keywords:["triangular ruler"]}],Symbols:[{emoji:"",keywords:["point right","hand","gesture"]},{emoji:"",keywords:["point left","hand","gesture"]},{emoji:"",keywords:["point up","hand","gesture"]},{emoji:"",keywords:["point down","hand","gesture"]},{emoji:"",keywords:["thumbs up","approval","hand","gesture"]},{emoji:"",keywords:["thumbs down","disapproval","hand","gesture"]},{emoji:"",keywords:["okay","hand","gesture","perfect"]},{emoji:"",keywords:["victory","peace","hand","gesture"]},{emoji:"",keywords:["crossed fingers","luck","hand","gesture"]},{emoji:"",keywords:["raised hand","hi","hand","gesture"]},{emoji:"",keywords:["raised back hand","hi","hand","gesture"]},{emoji:"",keywords:["vulcan salute","hand","gesture","Spock"]},{emoji:"",keywords:["waving hand","hello","goodbye","gesture"]},{emoji:"",keywords:["clapping hands","applause","gesture"]},{emoji:"",keywords:["raising hands","praise","gesture"]},{emoji:"",keywords:["open hands","gesture","offering"]},{emoji:"",keywords:["palms up together","offering","asking"]},{emoji:"",keywords:["handshake","agreement","partnership","gesture"]},{emoji:"",keywords:["folded hands","prayer","thanks","gesture"]},{emoji:"",keywords:["raised hand","stop","gesture"]},{emoji:"",keywords:["right arrow","direction","next"]},{emoji:"",keywords:["left arrow","direction","previous"]},{emoji:"",keywords:["up arrow","direction","above"]},{emoji:"",keywords:["down arrow","direction","below"]},{emoji:"",keywords:["left-right arrow","direction"]},{emoji:"",keywords:["up-down arrow","direction"]},{emoji:"",keywords:["up triangle","arrow","direction"]},{emoji:"",keywords:["down triangle","arrow","direction"]},{emoji:"",keywords:["red down triangle","arrow","direction"]},{emoji:"",keywords:["red up triangle","arrow","direction"]},{emoji:"",keywords:["black circle","bullet","point"]},{emoji:"",keywords:["red circle","bullet","point"]},{emoji:"",keywords:["blue circle","bullet","point"]},{emoji:"",keywords:["green circle","bullet","point"]},{emoji:"",keywords:["yellow circle","bullet","point"]},{emoji:"",keywords:["purple circle","bullet","point"]},{emoji:"",keywords:["orange circle","bullet","point"]},{emoji:"",keywords:["brown circle","bullet","point"]},{emoji:"",keywords:["orange diamond","bullet"]},{emoji:"",keywords:["blue diamond","bullet"]},{emoji:"",keywords:["diamonds","card suit"]},{emoji:"",keywords:["hearts","card suit"]},{emoji:"",keywords:["clubs","card suit"]},{emoji:"",keywords:["spades","card suit"]},{emoji:"",keywords:["black square","bullet","point"]},{emoji:"",keywords:["white square","bullet","point"]},{emoji:"",keywords:["small black square","bullet"]},{emoji:"",keywords:["small white square","bullet"]},{emoji:"",keywords:["large black square","bullet"]},{emoji:"",keywords:["large white square","bullet"]},{emoji:"",keywords:["radio button","bullet","point"]},{emoji:"",keywords:["star","highlight","point"]},{emoji:"",keywords:["diamond shape","point"]},{emoji:"",keywords:["eight-pointed star","highlight","bullet"]},{emoji:"",keywords:["sparkle","highlight","point"]},{emoji:"",keywords:["love","heart","red","passion","valentine"]},{emoji:"",keywords:["love","heart","yellow","friendship","sunshine"]},{emoji:"",keywords:["love","heart","green","environment","jealousy"]},{emoji:"",keywords:["love","heart","blue","calm","loyalty"]},{emoji:"",keywords:["love","heart","purple","royalty","romance"]},{emoji:"",keywords:["love","heart","black","mystery","gothic"]},{emoji:"",keywords:["broken","heartbreak","sad","love"]},{emoji:"",keywords:["exclamation","heart","love","emotion"]},{emoji:"",keywords:["two hearts","love","affection","romance"]},{emoji:"",keywords:["revolving hearts","love","romance","affection"]},{emoji:"",keywords:["beating heart","love","heartbeat","emotion"]},{emoji:"",keywords:["growing heart","love","affection","emotion"]},{emoji:"",keywords:["sparkling heart","love","affection","emotion"]},{emoji:"",keywords:["heart with arrow","love","cupid","valentine"]},{emoji:"",keywords:["heart with ribbon","love","gift","present"]},{emoji:"",keywords:["heart decoration","love","affection","decoration"]},{emoji:"",keywords:["peace","symbol","pacifism"]},{emoji:"",keywords:["cross","christianity","religion","faith"]},{emoji:"",keywords:["star","crescent","islam","religion"]},{emoji:"",keywords:["om","hinduism","religion","chant"]},{emoji:"",keywords:["wheel of dharma","buddhism","religion","spirituality"]},{emoji:"",keywords:["star of david","judaism","religion"]},{emoji:"",keywords:["star","hexagram","religion","jewish"]},{emoji:"",keywords:["menorah","hanukkah","religion","jewish"]},{emoji:"",keywords:["yin","yang","balance","taoism"]},{emoji:"",keywords:["orthodox cross","christianity","religion","faith"]},{emoji:"",keywords:["place of worship","religion","faith","prayer"]},{emoji:"",keywords:["ophiuchus","zodiac","astrology","sign"]},{emoji:"",keywords:["aries","zodiac","astrology","sign"]},{emoji:"",keywords:["taurus","zodiac","astrology","sign"]},{emoji:"",keywords:["gemini","zodiac","astrology","sign"]},{emoji:"",keywords:["cancer","zodiac","astrology","sign"]},{emoji:"",keywords:["leo","zodiac","astrology","sign"]},{emoji:"",keywords:["virgo","zodiac","astrology","sign"]},{emoji:"",keywords:["libra","zodiac","astrology","sign"]},{emoji:"",keywords:["scorpio","zodiac","astrology","sign"]},{emoji:"",keywords:["sagittarius","zodiac","astrology","sign"]},{emoji:"",keywords:["capricorn","zodiac","astrology","sign"]},{emoji:"",keywords:["aquarius","zodiac","astrology","sign"]},{emoji:"",keywords:["pisces","zodiac","astrology","sign"]},{emoji:"",keywords:["ID","identification","label"]},{emoji:"",keywords:["atom","science","chemistry"]},{emoji:"",keywords:["acceptable","kanji","japanese"]},{emoji:"",keywords:["radioactive","hazard","warning"]},{emoji:"",keywords:["biohazard","hazard","warning"]},{emoji:"",keywords:["mobile","off","phone"]},{emoji:"",keywords:["mobile","vibration","mode"]},{emoji:"",keywords:["have","kanji","japanese"]},{emoji:"",keywords:["free","not","kanji"]},{emoji:"",keywords:["monthly","kanji","japanese"]},{emoji:"",keywords:["application","kanji","japanese"]},{emoji:"",keywords:["open","kanji","japanese"]},{emoji:"",keywords:["reserved","kanji","japanese"]},{emoji:"",keywords:["secret","kanji","japanese"]},{emoji:"",keywords:["congratulations","kanji","japanese"]},{emoji:"",keywords:["passing","kanji","japanese"]},{emoji:"",keywords:["full","kanji","japanese"]},{emoji:"",keywords:["discount","kanji","japanese"]},{emoji:"",keywords:["prohibited","kanji","japanese"]},{emoji:"",keywords:["A","blood type","letter"]},{emoji:"",keywords:["B","blood type","letter"]},{emoji:"",keywords:["AB","blood type","letter"]},{emoji:"",keywords:["CL","clear","letter"]},{emoji:"",keywords:["O","blood type","letter"]},{emoji:"",keywords:["SOS","help","emergency"]},{emoji:"",keywords:["no","entry","forbidden","stop"]},{emoji:"",keywords:["badge","label","name"]},{emoji:"",keywords:["no","prohibited","forbidden"]},{emoji:"",keywords:["100","score","perfect"]},{emoji:"",keywords:["18","age","restriction"]},{emoji:"",keywords:["P","parking","letter"]},{emoji:"",keywords:["free","available","letter"]},{emoji:"",keywords:["recycle","environment","symbol"]},{emoji:"",keywords:["exclamation","mark","important"]},{emoji:"",keywords:["exclamation","question","confusion"]},{emoji:"",keywords:["exclamation","mark"]},{emoji:"",keywords:["white exclamation","mark"]},{emoji:"",keywords:["question","mark"]},{emoji:"",keywords:["white question","mark"]},{emoji:"",keywords:["dim","brightness","low"]},{emoji:"",keywords:["bright","brightness","high"]},{emoji:"",keywords:["part alternation","mark"]},{emoji:"",keywords:["fleur-de-lis"]},{emoji:"",keywords:["trident","emblem","symbol"]},{emoji:"",keywords:["warning","caution"]},{emoji:"",keywords:["children","crossing","school"]},{emoji:"",keywords:["beginner","japanese"]},{emoji:"",keywords:["wheelchair","accessible","disability"]},{emoji:"",keywords:["no smoking","cigarette","prohibited"]}]};function Dx({onSelect:e}){const[t,r]=h.useState(""),n=A.useMemo(()=>Object.entries(Nx).reduce((o,[a,i])=>{const s=i.filter(l=>Array.isArray(l.keywords)).filter(l=>l.keywords.some(u=>u.toLowerCase().includes(t.toLowerCase())));return s.length>0&&(o[a]=s),o},{}),[t]);return c.jsxs("div",{className:"emoji-picker",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:o=>r(o.target.value),className:"emoji-search"}),c.jsx("div",{className:"emoji-categories",children:Object.entries(n).map(([o,a])=>c.jsxs("div",{className:"emoji-category",children:[c.jsx("h3",{className:"emoji-category-title",children:o}),c.jsx("div",{className:"emoji-list",children:a.map((i,s)=>c.jsx("span",{onClick:()=>e(i.emoji),title:i.keywords.join(", "),className:"emoji-item",children:i.emoji},s))})]},o))})]})}function ec(e,t){const r=e.selectionStart,n=e.selectionEnd;e.setRangeText(t,r,n,"end")}function kt({message:e,onChange:t,onClick:r,minLength:n=2,maxLength:o=1500,placeHolder:a}){const[i,s]=A.useState(e),[l,u]=A.useState(!1),d=A.useRef(null);h.useEffect(()=>{d.current&&(d.current.style.height="auto",d.current.style.height=`${d.current.scrollHeight+2}px`)},[i]);const f=x=>{s(x.target.value),t(x.target.value)},p=x=>{s(x.target.value),t(x.target.value)},g=x=>{const E=d.current;let j="";switch(x){case"bold":j=`*${E.value.substring(E.selectionStart,E.selectionEnd)}*`;break;case"italic":j=`_${E.value.substring(E.selectionStart,E.selectionEnd)}_`;break;case"strikethrough":j=`~${E.value.substring(E.selectionStart,E.selectionEnd)}~`;break;case"bullet":j=` ${E.value.substring(E.selectionStart,E.selectionEnd)}`;break;case"numbered":j=`
1. ${E.value.substring(E.selectionStart,E.selectionEnd)}`;break}ec(E,j),f({target:E})},y=x=>{const E=d.current;ec(E,x),f({target:E})};return c.jsxs("div",{className:"message-editor",title:"Message",children:[c.jsxs("div",{className:"toolbar",children:[c.jsx("button",{title:"Bold","data-format":"bold",onClick:()=>g("bold"),children:"B"}),c.jsx("button",{title:"Italic","data-format":"italic",onClick:()=>g("italic"),children:"I"}),c.jsx("button",{title:"Strikethrough","data-format":"strikethrough",onClick:()=>g("strikethrough"),children:"S"}),c.jsx("button",{title:"Bullet","data-format":"bullet",onClick:()=>g("bullet"),children:""}),c.jsx("button",{title:"Numbered","data-format":"numbered",onClick:()=>g("numbered"),children:""}),c.jsx("button",{title:"Smiley","data-format":"smiley",onClick:()=>u(x=>!x),children:""})]}),c.jsx("textarea",{ref:d,value:i,onChange:f,placeholder:a,onClick:r,className:"nodrag rounded-md",onBlur:p,minLength:n,maxLength:o}),l&&c.jsx(Dx,{onSelect:y})]})}const Ix=({id:e,data:t})=>{const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i}=t,[s]=ru(),l=tn(C=>C.botsList),u=tn(C=>C.organizationId),[d,f]=h.useState([]),[p,g]=h.useState({}),[y,x]=h.useState({}),E=h.useRef({container:!1,callAccepted:!1,callRejected:!1}),j=()=>{a(i.map(C=>({...C,selected:!1})))},D=(C,v)=>{g(b=>({...b,[C]:v})),E.current[C]?.focus()},T=(C,v)=>{delete r.data.errors,x({});const b={...r.data,[C]:v};o(r.id,b)},w=C=>{delete r.data.errors,C.target.value?y.callConnectId&&x(b=>{const m={...b};return delete m.callConnectId,m}):x(b=>({...b,callConnectId:"Call Connect Name is Mandatory"}));const v=C.target.value;T("callConnectId",v)},I=h.useCallback(C=>{E.current.container&&!E.current.container.contains(C.target)?g(v=>({...v,successMessage:!1,failureMessage:!1})):E.current.callAccepted&&!E.current.callAccepted.contains(C.target)?g(v=>({...v,callAccepted:!1})):E.current.callRejected&&!E.current.callRejected.contains(C.target)&&g(v=>({...v,callRejected:!1}))},[g]);return h.useEffect(()=>(document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)),[I]),h.useEffect(()=>{const C=l.find(b=>b._id===s),v=C?C.integrations?.filter(b=>b.channelId==="callConnect_123"):[];if(v&&v.length>0){const b=v.map(m=>({name:m.serviceDetails.name,_id:m._id}));f(b)}else jp({botId:s,organizationId:u})},[s,l,u]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Call Connect Node"}),c.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:""})]}),c.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[c.jsxs("div",{className:"mb-2",children:[c.jsxs("select",{title:"callConnectId",value:r.data.callConnectId,onClick:j,onChange:w,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Select Call Connect Name"}),d.map((C,v)=>c.jsx("option",{value:C._id,children:C.name},`${C._id}-${v}`))]}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.callConnectId&&c.jsx("small",{className:"text-red-500",children:r.data.errors.callConnectId})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx(kt,{maxLength:500,message:r.data.message,onChange:C=>T("message",C)}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.message&&c.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),c.jsxs("div",{children:[c.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:c.jsxs("div",{className:"col-span-10 flex items-center ",children:[c.jsx(wo,{onClick:()=>D("callAccepted",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),c.jsx("input",{type:"text",ref:C=>{E.current.callAccepted=C},readOnly:!p.callAccepted,value:r.data.callAccepted,placeholder:"Enter call accepted massage",autoFocus:p.callAccepted,onClick:p.callAccepted?void 0:j,onChange:C=>T("callAccepted",C.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})]})}),r.data.errors&&c.jsx("small",{className:"text-red-500",children:r.data.errors.callAccepted})]}),c.jsxs("div",{ref:C=>{E.current.container=C},children:[c.jsxs("div",{className:"space-y-2 py-2 px-2 min-w-36",children:[p.successMessage?c.jsx(kt,{maxLength:500,message:r.data.successMessage,onChange:C=>T("successMessage",C)}):c.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[c.jsx("span",{children:r.data.successMessage||"Enter your success message"}),c.jsx(wo,{onClick:()=>D("successMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&c.jsx("small",{className:"text-red-500",children:r.data.errors.successMessage})]}),c.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[p.failureMessage?c.jsx(kt,{maxLength:500,message:r.data.failureMessage,onChange:C=>T("failureMessage",C)}):c.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[c.jsx("span",{children:r.data.failureMessage||"Enter your failure message"}),c.jsx(wo,{onClick:()=>D("failureMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&c.jsx("small",{className:"text-red-500",children:r.data.errors.failureMessage})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:c.jsxs("div",{className:"col-span-10 flex items-center ",children:[c.jsx(wo,{onClick:()=>D("callRejected",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),c.jsx("input",{type:"text",readOnly:!p.callRejected,placeholder:"Enter call rejected massage",ref:C=>{E.current.callRejected=C},value:r.data.callRejected,onClick:p.callRejected?void 0:j,onChange:C=>T("callRejected",C.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700  rounded capitalize"})]})}),r.data.errors&&c.jsx("small",{className:"text-red-500",children:r.data.errors.callRejected})]})]})]}),c.jsx(je,{id:"target",type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{id:"source",type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Tx=h.memo(Ix),wo=({onClick:e,className:t=""})=>c.jsx("svg",{onClick:e,className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})});function Un(e){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(e)}function Px(e,t){if(Un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Un(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ox(e){var t=Px(e,"string");return Un(t)=="symbol"?t:t+""}function Mx(e,t,r){return(t=Ox(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tc(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var nc=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),oc=function(){return Math.random().toString(36).substring(7).split("").join(".")},ac={INIT:"@@redux/INIT"+oc(),REPLACE:"@@redux/REPLACE"+oc()};function Rx(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Vd(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pt(1));return r(Vd)(e,t)}if(typeof e!="function")throw new Error(pt(2));var o=e,a=t,i=[],s=i,l=!1;function u(){s===i&&(s=i.slice())}function d(){if(l)throw new Error(pt(3));return a}function f(x){if(typeof x!="function")throw new Error(pt(4));if(l)throw new Error(pt(5));var E=!0;return u(),s.push(x),function(){if(E){if(l)throw new Error(pt(6));E=!1,u();var D=s.indexOf(x);s.splice(D,1),i=null}}}function p(x){if(!Rx(x))throw new Error(pt(7));if(typeof x.type>"u")throw new Error(pt(8));if(l)throw new Error(pt(9));try{l=!0,a=o(a,x)}finally{l=!1}for(var E=i=s,j=0;j<E.length;j++){var D=E[j];D()}return x}function g(x){if(typeof x!="function")throw new Error(pt(10));o=x,p({type:ac.REPLACE})}function y(){var x,E=f;return x={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(pt(11));function T(){D.next&&D.next(d())}T();var w=E(T);return{unsubscribe:w}}},x[nc]=function(){return this},x}return p({type:ac.INIT}),n={dispatch:p,subscribe:f,getState:d,replaceReducer:g},n[nc]=y,n}function ic(e,t){return function(){return t(e.apply(this,arguments))}}function sc(e,t){if(typeof e=="function")return ic(e,t);if(typeof e!="object"||e===null)throw new Error(pt(16));var r={};for(var n in e){var o=e[n];typeof o=="function"&&(r[n]=ic(o,t))}return r}function Gd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}function Ax(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var o=n.apply(void 0,arguments),a=function(){throw new Error(pt(15))},i={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(l){return l(i)});return a=Gd.apply(void 0,s)(o.dispatch),rc(rc({},o),{},{dispatch:a})}}}var Wd=A.createContext(null);function Lx(e){e()}var Ud=Lx,Fx=function(t){return Ud=t},Bx=function(){return Ud};function _x(){var e=Bx(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var o=t;o;)o.callback(),o=o.next})},get:function(){for(var o=[],a=t;a;)o.push(a),a=a.next;return o},subscribe:function(o){var a=!0,i=r={callback:o,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var lc={notify:function(){},get:function(){return[]}};function qd(e,t){var r,n=lc;function o(f){return l(),n.subscribe(f)}function a(){n.notify()}function i(){d.onStateChange&&d.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=_x())}function u(){r&&(r(),r=void 0,n.clear(),n=lc)}var d={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return n}};return d}var Xd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect;function $x(e){var t=e.store,r=e.context,n=e.children,o=h.useMemo(function(){var s=qd(t);return{store:t,subscription:s}},[t]),a=h.useMemo(function(){return t.getState()},[t]);Xd(function(){var s=o.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[o,a]);var i=r||Wd;return A.createElement(i.Provider,{value:o},n)}var _a={exports:{}},Oe={};var cc;function zx(){if(cc)return Oe;cc=1;var e=60103,t=60106,r=60107,n=60108,o=60114,a=60109,i=60110,s=60112,l=60113,u=60120,d=60115,f=60116,p=60121,g=60122,y=60117,x=60129,E=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),r=j("react.fragment"),n=j("react.strict_mode"),o=j("react.profiler"),a=j("react.provider"),i=j("react.context"),s=j("react.forward_ref"),l=j("react.suspense"),u=j("react.suspense_list"),d=j("react.memo"),f=j("react.lazy"),p=j("react.block"),g=j("react.server.block"),y=j("react.fundamental"),x=j("react.debug_trace_mode"),E=j("react.legacy_hidden")}function D(P){if(typeof P=="object"&&P!==null){var N=P.$$typeof;switch(N){case e:switch(P=P.type,P){case r:case o:case n:case l:case u:return P;default:switch(P=P&&P.$$typeof,P){case i:case s:case f:case d:case a:return P;default:return N}}case t:return N}}}var T=a,w=e,I=s,C=r,v=f,b=d,m=t,S=o,k=n,M=l;return Oe.ContextConsumer=i,Oe.ContextProvider=T,Oe.Element=w,Oe.ForwardRef=I,Oe.Fragment=C,Oe.Lazy=v,Oe.Memo=b,Oe.Portal=m,Oe.Profiler=S,Oe.StrictMode=k,Oe.Suspense=M,Oe.isAsyncMode=function(){return!1},Oe.isConcurrentMode=function(){return!1},Oe.isContextConsumer=function(P){return D(P)===i},Oe.isContextProvider=function(P){return D(P)===a},Oe.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Oe.isForwardRef=function(P){return D(P)===s},Oe.isFragment=function(P){return D(P)===r},Oe.isLazy=function(P){return D(P)===f},Oe.isMemo=function(P){return D(P)===d},Oe.isPortal=function(P){return D(P)===t},Oe.isProfiler=function(P){return D(P)===o},Oe.isStrictMode=function(P){return D(P)===n},Oe.isSuspense=function(P){return D(P)===l},Oe.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===o||P===x||P===n||P===l||P===u||P===E||typeof P=="object"&&P!==null&&(P.$$typeof===f||P.$$typeof===d||P.$$typeof===a||P.$$typeof===i||P.$$typeof===s||P.$$typeof===y||P.$$typeof===p||P[0]===g)},Oe.typeOf=D,Oe}var uc;function Hx(){return uc||(uc=1,_a.exports=zx()),_a.exports}var Vx=Hx(),Gx=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Wx=["reactReduxForwardedRef"],Ux=[],qx=[null,null];function Xx(e,t){var r=e[1];return[t.payload,r+1]}function dc(e,t,r){Xd(function(){return e.apply(void 0,t)},r)}function Yx(e,t,r,n,o,a,i){e.current=n,t.current=o,r.current=!1,a.current&&(a.current=null,i())}function Kx(e,t,r,n,o,a,i,s,l,u){if(e){var d=!1,f=null,p=function(){if(!d){var x=t.getState(),E,j;try{E=n(x,o.current)}catch(D){j=D,f=D}j||(f=null),E===a.current?i.current||l():(a.current=E,s.current=E,i.current=!0,u({type:"STORE_UPDATED",payload:{error:j}}))}};r.onStateChange=p,r.trySubscribe(),p();var g=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return g}}var Zx=function(){return[null,0]};function Jx(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,o=n===void 0?function(T){return"ConnectAdvanced("+T+")"}:n,a=r.methodName,i=a===void 0?"connectAdvanced":a,s=r.renderCountProp,l=s===void 0?void 0:s,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,p=f===void 0?"store":f;r.withRef;var g=r.forwardRef,y=g===void 0?!1:g,x=r.context,E=x===void 0?Wd:x,j=An(r,Gx),D=E;return function(w){var I=w.displayName||w.name||"Component",C=o(I),v=ge({},j,{getDisplayName:o,methodName:i,renderCountProp:l,shouldHandleStateChanges:d,storeKey:p,displayName:C,wrappedComponentName:I,WrappedComponent:w}),b=j.pure;function m(N){return e(N.dispatch,v)}var S=b?h.useMemo:function(N){return N()};function k(N){var R=h.useMemo(function(){var Re=N.reactReduxForwardedRef,Ve=An(N,Wx);return[N.context,Re,Ve]},[N]),O=R[0],F=R[1],_=R[2],L=h.useMemo(function(){return O&&O.Consumer&&Vx.isContextConsumer(A.createElement(O.Consumer,null))?O:D},[O,D]),H=h.useContext(L),W=!!N.store&&!!N.store.getState&&!!N.store.dispatch;H&&H.store;var V=W?N.store:H.store,U=h.useMemo(function(){return m(V)},[V]),G=h.useMemo(function(){if(!d)return qx;var Re=qd(V,W?null:H.subscription),Ve=Re.notifyNestedSubs.bind(Re);return[Re,Ve]},[V,W,H]),B=G[0],q=G[1],ee=h.useMemo(function(){return W?H:ge({},H,{subscription:B})},[W,H,B]),ne=h.useReducer(Xx,Ux,Zx),pe=ne[0],X=pe[0],le=ne[1];if(X&&X.error)throw X.error;var xe=h.useRef(),we=h.useRef(_),Te=h.useRef(),De=h.useRef(!1),Ae=S(function(){return Te.current&&_===we.current?Te.current:U(V.getState(),_)},[V,X,_]);dc(Yx,[we,xe,De,_,Ae,Te,q]),dc(Kx,[d,V,B,U,we,xe,De,Te,q,le],[V,B,U]);var ye=h.useMemo(function(){return A.createElement(w,ge({},Ae,{ref:F}))},[F,w,Ae]),ae=h.useMemo(function(){return d?A.createElement(L.Provider,{value:ee},ye):ye},[L,ye,ee]);return ae}var M=b?A.memo(k):k;if(M.WrappedComponent=w,M.displayName=k.displayName=C,y){var P=A.forwardRef(function(R,O){return A.createElement(M,ge({},R,{reactReduxForwardedRef:O}))});return P.displayName=C,P.WrappedComponent=w,Gs(P,w)}return Gs(M,w)}}function fc(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function $a(e,t){if(fc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!fc(e[r[o]],t[r[o]]))return!1;return!0}function Qx(e,t){var r={},n=function(i){var s=e[i];typeof s=="function"&&(r[i]=function(){return t(s.apply(void 0,arguments))})};for(var o in e)n(o);return r}function hs(e){return function(r,n){var o=e(r,n);function a(){return o}return a.dependsOnOwnProps=!1,a}}function pc(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Yd(e,t){return function(n,o){o.displayName;var a=function(s,l){return a.dependsOnOwnProps?a.mapToProps(s,l):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,l){a.mapToProps=e,a.dependsOnOwnProps=pc(e);var u=a(s,l);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=pc(u),u=a(s,l)),u},a}}function ew(e){return typeof e=="function"?Yd(e):void 0}function tw(e){return e?void 0:hs(function(t){return{dispatch:t}})}function rw(e){return e&&typeof e=="object"?hs(function(t){return Qx(e,t)}):void 0}const nw=[ew,tw,rw];function ow(e){return typeof e=="function"?Yd(e):void 0}function aw(e){return e?void 0:hs(function(){return{}})}const iw=[ow,aw];function sw(e,t,r){return ge({},r,e,t)}function lw(e){return function(r,n){n.displayName;var o=n.pure,a=n.areMergedPropsEqual,i=!1,s;return function(u,d,f){var p=e(u,d,f);return i?(!o||!a(p,s))&&(s=p):(i=!0,s=p),s}}}function cw(e){return typeof e=="function"?lw(e):void 0}function uw(e){return e?void 0:function(){return sw}}const dw=[cw,uw];var fw=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pw(e,t,r,n){return function(a,i){return r(e(a,i),t(n,i),i)}}function mw(e,t,r,n,o){var a=o.areStatesEqual,i=o.areOwnPropsEqual,s=o.areStatePropsEqual,l=!1,u,d,f,p,g;function y(T,w){return u=T,d=w,f=e(u,d),p=t(n,d),g=r(f,p,d),l=!0,g}function x(){return f=e(u,d),t.dependsOnOwnProps&&(p=t(n,d)),g=r(f,p,d),g}function E(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(p=t(n,d)),g=r(f,p,d),g}function j(){var T=e(u,d),w=!s(T,f);return f=T,w&&(g=r(f,p,d)),g}function D(T,w){var I=!i(w,d),C=!a(T,u,w,d);return u=T,d=w,I&&C?x():I?E():C?j():g}return function(w,I){return l?D(w,I):y(w,I)}}function gw(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,a=An(t,fw),i=r(e,a),s=n(e,a),l=o(e,a),u=a.pure?mw:pw;return u(i,s,l,e,a)}var hw=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function za(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(a,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function vw(e,t){return e===t}function yw(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Jx:r,o=t.mapStateToPropsFactories,a=o===void 0?iw:o,i=t.mapDispatchToPropsFactories,s=i===void 0?nw:i,l=t.mergePropsFactories,u=l===void 0?dw:l,d=t.selectorFactory,f=d===void 0?gw:d;return function(g,y,x,E){E===void 0&&(E={});var j=E,D=j.pure,T=D===void 0?!0:D,w=j.areStatesEqual,I=w===void 0?vw:w,C=j.areOwnPropsEqual,v=C===void 0?$a:C,b=j.areStatePropsEqual,m=b===void 0?$a:b,S=j.areMergedPropsEqual,k=S===void 0?$a:S,M=An(j,hw),P=za(g,a,"mapStateToProps"),N=za(y,s,"mapDispatchToProps"),R=za(x,u,"mergeProps");return n(f,ge({methodName:"connect",getDisplayName:function(F){return"Connect("+F+")"},shouldHandleStateChanges:!!g,initMapStateToProps:P,initMapDispatchToProps:N,initMergeProps:R,pure:T,areStatesEqual:I,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:k},M))}}const Kd=yw();Fx(tu.unstable_batchedUpdates);function bw(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Zd(e,t){var r=h.useState(function(){return{inputs:t,result:e()}})[0],n=h.useRef(!0),o=h.useRef(r),a=n.current||!!(t&&o.current.inputs&&bw(t,o.current.inputs)),i=a?o.current:{inputs:t,result:e()};return h.useEffect(function(){n.current=!1,o.current=i},[i]),i.result}function xw(e,t){return Zd(function(){return e},t)}var Ee=Zd,de=xw,ww="Invariant failed";function Cw(e,t){throw new Error(ww)}var zt=function(t){var r=t.top,n=t.right,o=t.bottom,a=t.left,i=n-a,s=o-r,l={top:r,right:n,bottom:o,left:a,width:i,height:s,x:a,y:r,center:{x:(n+a)/2,y:(o+r)/2}};return l},vs=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},mc=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Sw=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ha={top:0,right:0,bottom:0,left:0},ys=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?Ha:n,a=t.border,i=a===void 0?Ha:a,s=t.padding,l=s===void 0?Ha:s,u=zt(vs(r,o)),d=zt(mc(r,i)),f=zt(mc(d,l));return{marginBox:u,borderBox:zt(r),paddingBox:d,contentBox:f,margin:o,border:i,padding:l}},Pt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&Cw(),o},jw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qo=function(t,r){var n=t.borderBox,o=t.border,a=t.margin,i=t.padding,s=Sw(n,r);return ys({borderBox:s,border:o,margin:a,padding:i})},Xo=function(t,r){return r===void 0&&(r=jw()),qo(t,r)},Jd=function(t,r){var n={top:Pt(r.marginTop),right:Pt(r.marginRight),bottom:Pt(r.marginBottom),left:Pt(r.marginLeft)},o={top:Pt(r.paddingTop),right:Pt(r.paddingRight),bottom:Pt(r.paddingBottom),left:Pt(r.paddingLeft)},a={top:Pt(r.borderTopWidth),right:Pt(r.borderRightWidth),bottom:Pt(r.borderBottomWidth),left:Pt(r.borderLeftWidth)};return ys({borderBox:t,margin:n,padding:o,border:a})},Qd=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Jd(r,n)},gc=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function kw(e,t){return!!(e===t||gc(e)&&gc(t))}function Ew(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!kw(e[r],t[r]))return!1;return!0}function Ue(e,t){t===void 0&&(t=Ew);var r,n=[],o,a=!1;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a&&r===this&&t(s,n)||(o=e.apply(this,s),a=!0,r=this,n=s),o}return i}var qn=function(t){var r=[],n=null,o=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function ef(e,t){}ef.bind(null,"warn");ef.bind(null,"error");function br(){}function Nw(e,t){return ge({},e,{},t)}function At(e,t,r){var n=t.map(function(o){var a=Nw(r,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){n.forEach(function(a){a()})}}var Dw="Invariant failed";function Yo(e){this.message=e}Yo.prototype.toString=function(){return this.message};function J(e,t){throw new Yo(Dw)}var Iw=(function(e){Li(t,e);function t(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=br,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var u=s.error;u instanceof Yo&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=At(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(o){if(o instanceof Yo){this.setState({});return}throw o},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t})(A.Component),Tw=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ko=function(t){return t+1},Pw=function(t){return`
  You have lifted an item in position `+Ko(t.source.index)+`
`},tf=function(t,r){var n=t.droppableId===r.droppableId,o=Ko(t.index),a=Ko(r.index);return n?`
      You have moved the item from position `+o+`
      to position `+a+`
    `:`
    You have moved the item from position `+o+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},rf=function(t,r,n){var o=r.droppableId===n.droppableId;return o?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Ow=function(t){var r=t.destination;if(r)return tf(t.source,r);var n=t.combine;return n?rf(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},hc=function(t){return`
  The item has returned to its starting position
  of `+Ko(t.index)+`
`},Mw=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+hc(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+tf(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+rf(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+hc(t.source)+`
  `},Oo={dragHandleUsageInstructions:Tw,onDragStart:Pw,onDragUpdate:Ow,onDragEnd:Mw},qe={x:0,y:0},Ze=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},St=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},xr=function(t,r){return t.x===r.x&&t.y===r.y},mn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Br=function(t,r,n){var o;return n===void 0&&(n=0),o={},o[t]=r,o[t==="x"?"y":"x"]=n,o},Xn=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},vc=function(t,r){return Math.min.apply(Math,r.map(function(n){return Xn(t,n)}))},nf=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Rw=(function(e,t){var r=zt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}),oo=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},yc=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Aw={top:0,right:0,bottom:0,left:0},Lw=function(t,r){return r?oo(t,r.scroll.diff.displacement):t},Fw=function(t,r,n){if(n&&n.increasedBy){var o;return ge({},t,(o={},o[r.end]=t[r.end]+n.increasedBy[r.line],o))}return t},Bw=function(t,r){return r&&r.shouldClipSubject?Rw(r.pageMarginBox,t):zt(t)},sn=(function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,a=Lw(t.marginBox,o),i=Fw(a,n,r),s=Bw(i,o);return{page:t,withPlaceholder:r,active:s}}),bs=(function(e,t){e.frame||J();var r=e.frame,n=St(t,r.scroll.initial),o=mn(n),a=ge({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}}),i=sn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),s=ge({},e,{frame:a,subject:i});return s});function Zo(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function xs(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Sr(e,t){if(e.find)return e.find(t);var r=xs(e,t);if(r!==-1)return e[r]}function of(e){return Array.prototype.slice.call(e)}var af=Ue(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),sf=Ue(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ua=Ue(function(e){return Zo(e)}),_w=Ue(function(e){return Zo(e)}),gn=Ue(function(e,t){var r=_w(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,o){return n.descriptor.index-o.descriptor.index});return r});function ws(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function da(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var fa=Ue(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),$w=(function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var i=ws(a);if(!i)return null;function s(x){var E={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return ge({},a,{at:E})}var l=a.displaced.all,u=l.length?l[0]:null;if(t)return u?s(u):null;var d=fa(r,o);if(!u){if(!d.length)return null;var f=d[d.length-1];return s(f.descriptor.id)}var p=xs(d,function(x){return x.descriptor.id===u});p===-1&&J();var g=p-1;if(g<0)return null;var y=d[g];return s(y.descriptor.id)}),hn=(function(e,t){return e.descriptor.droppableId===t.descriptor.id}),lf={point:qe,value:0},Yn={invisible:{},visible:{},all:[]},zw={displaced:Yn,displacedBy:lf,at:null},Lt=(function(e,t){return function(r){return e<=r&&r<=t}}),cf=(function(e){var t=Lt(e.top,e.bottom),r=Lt(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(o)return!0;var a=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),s=a&&i;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=l&&u;if(d)return!0;var f=l&&i||u&&a;return f}}),Hw=(function(e){var t=Lt(e.top,e.bottom),r=Lt(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return o}}),Cs={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},uf={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Vw=(function(e){return function(t){var r=Lt(t.top,t.bottom),n=Lt(t.left,t.right);return function(o){return e===Cs?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)}}}),Gw=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:qe;return oo(t,n)},Ww=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Uw=function(t,r,n){return n(r)(t)},Ss=function(t){var r=t.target,n=t.destination,o=t.viewport,a=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,s=a?Gw(r,n):r;return Ww(s,n,i)&&Uw(s,o,i)},qw=function(t){return Ss(ge({},t,{isVisibleThroughFrameFn:cf}))},df=function(t){return Ss(ge({},t,{isVisibleThroughFrameFn:Hw}))},Xw=function(t){return Ss(ge({},t,{isVisibleThroughFrameFn:Vw(t.destination.axis)}))},Yw=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var o=r.invisible,a=r.visible;if(o[t])return!1;var i=a[t];return i?i.shouldAnimate:!0};function Kw(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return zt(vs(r,n))}function Kn(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,a=e.forceShouldAnimate,i=e.last;return t.reduce(function(l,u){var d=Kw(u,n),f=u.descriptor.id;l.all.push(f);var p=qw({target:d,destination:r,viewport:o,withDroppableDisplacement:!0});if(!p)return l.invisible[u.descriptor.id]=!0,l;var g=Yw(f,i,a),y={draggableId:f,shouldAnimate:g};return l.visible[f]=y,l},{all:[],visible:{},invisible:{}})}function Zw(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function bc(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,a=Zw(t,{inHomeList:r});return{displaced:Yn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:a}}}}function Jo(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,a=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,u=hn(t,n);if(s==null)return bc({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var d=Sr(r,function(x){return x.descriptor.index===s});if(!d)return bc({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=fa(t,r),p=r.indexOf(d),g=f.slice(p),y=Kn({afterDragging:g,destination:n,displacedBy:a,last:i,viewport:o.frame,forceShouldAnimate:l});return{displaced:y,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Cr(e,t){return!!t.effected[e]}var Jw=(function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var i=o.draggableId,s=n[i],l=s.descriptor.index,u=Cr(i,a);return u?t?l:l-1:t?l+1:l}),Qw=(function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var a=o.index,i=t?a+1:a-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=r?l:l+1;return i<s||i>u?null:i}),e1=(function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,a=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,u=e.afterCritical,d=s.at;if(d||J(),d.type==="REORDER"){var f=Qw({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:i});return f==null?null:Jo({draggable:n,insideDestination:i,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})}var p=Jw({isMovingForward:t,destination:a,displaced:s.displaced,draggables:o,combine:d.combine,afterCritical:u});return p==null?null:Jo({draggable:n,insideDestination:i,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}),t1=(function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return Cr(n,r)?a?qe:mn(o.point):a?o.point:qe}),r1=(function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=da(r);o||J();var a=o.draggableId,i=n[a].page.borderBox.center,s=t1({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Ze(i,s)}),ff=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},n1=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},js=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},xc=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return Br(r.line,n.marginBox[r.end]+ff(r,o),js(r,n.marginBox,o))},wc=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return Br(r.line,n.marginBox[r.start]-n1(r,o),js(r,n.marginBox,o))},o1=function(t){var r=t.axis,n=t.moveInto,o=t.isMoving;return Br(r.line,n.contentBox[r.start]+ff(r,o),js(r,n.contentBox,o))},a1=(function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,a=e.afterCritical,i=gn(o.descriptor.id,n),s=r.page,l=o.axis;if(!i.length)return o1({axis:l,moveInto:o.page,isMoving:s});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var p=n[f];if(Cr(f,a))return wc({axis:l,moveRelativeTo:p.page,isMoving:s});var g=qo(p.page,d.point);return wc({axis:l,moveRelativeTo:g,isMoving:s})}var y=i[i.length-1];if(y.descriptor.id===r.descriptor.id)return s.borderBox.center;if(Cr(y.descriptor.id,a)){var x=qo(y.page,mn(a.displacedBy.point));return xc({axis:l,moveRelativeTo:x,isMoving:s})}return xc({axis:l,moveRelativeTo:y.page,isMoving:s})}),Di=(function(e,t){var r=e.frame;return r?Ze(t,r.scroll.diff.displacement):t}),i1=function(t){var r=t.impact,n=t.draggable,o=t.droppable,a=t.draggables,i=t.afterCritical,s=n.page.borderBox.center,l=r.at;return!o||!l?s:l.type==="REORDER"?a1({impact:r,draggable:n,draggables:a,droppable:o,afterCritical:i}):r1({impact:r,draggables:a,afterCritical:i})},pa=(function(e){var t=i1(e),r=e.droppable,n=r?Di(r,t):t;return n}),pf=(function(e,t){var r=St(t,e.scroll.initial),n=mn(r),o=zt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:o,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a});function Cc(e,t){return e.map(function(r){return t[r]})}function s1(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var l1=(function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,a=e.maxScrollChange,i=pf(r,Ze(r.scroll.current,a)),s=n.frame?bs(n,Ze(n.frame.scroll.current,a)):n,l=t.displaced,u=Kn({afterDragging:Cc(l.all,o),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=Kn({afterDragging:Cc(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),f={},p={},g=[l,u,d];l.all.forEach(function(x){var E=s1(x,g);if(E){p[x]=E;return}f[x]=!0});var y=ge({},t,{displaced:{all:l.all,invisible:f,visible:p}});return y}),c1=(function(e,t){return Ze(e.scroll.diff.displacement,t)}),ks=(function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,o=c1(n,t),a=St(o,r.page.borderBox.center);return Ze(r.client.borderBox.center,a)}),mf=(function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=i===void 0?!1:i,l=St(n,t.page.borderBox.center),u=oo(t.page.borderBox,l),d={target:u,destination:r,withDroppableDisplacement:a,viewport:o};return s?Xw(d):df(d)}),u1=(function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,a=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=gn(n.descriptor.id,o),f=hn(r,n),p=$w({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:a})||e1({isMovingForward:t,isInHomeList:f,draggable:r,draggables:o,destination:n,insideDestination:d,previousImpact:a,viewport:i,afterCritical:u});if(!p)return null;var g=pa({impact:p,draggable:r,droppable:n,draggables:o,afterCritical:u}),y=mf({draggable:r,destination:n,newPageBorderBoxCenter:g,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(y){var x=ks({pageBorderBoxCenter:g,draggable:r,viewport:i});return{clientSelection:x,impact:p,scrollJumpRequest:null}}var E=St(g,s),j=l1({impact:p,viewport:i,destination:n,draggables:o,maxScrollChange:E});return{clientSelection:l,impact:j,scrollJumpRequest:E}}),rt=function(t){var r=t.subject.active;return r||J(),r},d1=(function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var s=n.axis,l=Lt(i[s.start],i[s.end]),u=ua(o).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return cf(a.frame)(rt(f))}).filter(function(f){var p=rt(f);return t?i[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<i[s.crossAxisStart]}).filter(function(f){var p=rt(f),g=Lt(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||g(i[s.start])||g(i[s.end])}).sort(function(f,p){var g=rt(f)[s.crossAxisStart],y=rt(p)[s.crossAxisStart];return t?g-y:y-g}).filter(function(f,p,g){return rt(f)[s.crossAxisStart]===rt(g[0])[s.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var p=Lt(rt(f)[s.start],rt(f)[s.end]);return p(r[s.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,p){return rt(f)[s.start]-rt(p)[s.start]})[0]:u.sort(function(f,p){var g=vc(r,yc(rt(f))),y=vc(r,yc(rt(p)));return g!==y?g-y:rt(f)[s.start]-rt(p)[s.start]})[0]}),Sc=function(t,r){var n=t.page.borderBox.center;return Cr(t.descriptor.id,r)?St(n,r.displacedBy.point):n},f1=function(t,r){var n=t.page.borderBox;return Cr(t.descriptor.id,r)?oo(n,mn(r.displacedBy.point)):n},p1=(function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,a=e.afterCritical,i=o.filter(function(s){return df({target:f1(s,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var u=Xn(t,Di(n,Sc(s,a))),d=Xn(t,Di(n,Sc(l,a)));return u<d?-1:d<u?1:s.descriptor.index-l.descriptor.index});return i[0]||null}),ao=Ue(function(t,r){var n=r[t.line];return{value:n,point:Br(t.line,n)}}),m1=function(t,r,n){var o=t.axis;if(t.descriptor.mode==="virtual")return Br(o.line,r[o.line]);var a=t.subject.page.contentBox[o.size],i=gn(t.descriptor.id,n),s=i.reduce(function(d,f){return d+f.client.marginBox[o.size]},0),l=s+r[o.line],u=l-a;return u<=0?null:Br(o.line,u)},gf=function(t,r){return ge({},t,{scroll:ge({},t.scroll,{max:r})})},hf=function(t,r,n){var o=t.frame;hn(r,t)&&J(),t.subject.withPlaceholder&&J();var a=ao(t.axis,r.displaceBy).point,i=m1(t,a,n),s={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!o){var l=sn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return ge({},t,{subject:l})}var u=i?Ze(o.scroll.max,i):o.scroll.max,d=gf(o,u),f=sn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:d});return ge({},t,{subject:f,frame:d})},g1=function(t){var r=t.subject.withPlaceholder;r||J();var n=t.frame;if(!n){var o=sn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ge({},t,{subject:o})}var a=r.oldFrameMaxScroll;a||J();var i=gf(n,a),s=sn({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return ge({},t,{subject:s,frame:i})},h1=(function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,a=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:Yn,displacedBy:lf,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},d=pa({impact:u,draggable:o,droppable:i,draggables:a,afterCritical:l}),f=hn(o,i)?i:hf(i,o,a),p=mf({draggable:o,destination:f,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var g=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],y=(function(){var E=r.descriptor.index;return r.descriptor.id===o.descriptor.id||g?E:E+1})(),x=ao(i.axis,o.displaceBy);return Jo({draggable:o,insideDestination:n,destination:i,viewport:s,displacedBy:x,last:Yn,index:y})}),v1=(function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,a=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,u=d1({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:i,viewport:s});if(!u)return null;var d=gn(u.descriptor.id,a),f=p1({pageBorderBoxCenter:r,viewport:s,destination:u,insideDestination:d,afterCritical:l}),p=h1({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:l});if(!p)return null;var g=pa({impact:p,draggable:n,droppable:u,draggables:a,afterCritical:l}),y=ks({pageBorderBoxCenter:g,draggable:n,viewport:s});return{clientSelection:y,impact:p,scrollJumpRequest:null}}),Et=(function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null}),y1=function(t,r){var n=Et(t);return n?r[n]:null},b1=(function(e){var t=e.state,r=e.type,n=y1(t.impact,t.dimensions.droppables),o=!!n,a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,s=i.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!o)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,p=t.dimensions,g=p.draggables,y=p.droppables;return l?u1({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:i,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):v1({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:i,draggables:g,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})});function Tr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function vf(e){var t=Lt(e.top,e.bottom),r=Lt(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function x1(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function w1(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,a=n.map(function(i){var s=i.axis,l=Br(i.axis.line,t.center[s.line],i.page.borderBox.center[s.crossAxisLine]);return{id:i.descriptor.id,distance:Xn(o,l)}}).sort(function(i,s){return s.distance-i.distance});return a[0]?a[0].id:null}function C1(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=ua(n).filter(function(a){if(!a.isEnabled)return!1;var i=a.subject.active;if(!i||!x1(t,i))return!1;if(vf(i)(t.center))return!0;var s=a.axis,l=i.center[s.crossAxisLine],u=t[s.crossAxisStart],d=t[s.crossAxisEnd],f=Lt(i[s.crossAxisStart],i[s.crossAxisEnd]),p=f(u),g=f(d);return!p&&!g?!0:p?u<l:d>l});return o.length?o.length===1?o[0].descriptor.id:w1({pageBorderBox:t,draggable:r,candidates:o}):null}var yf=function(t,r){return zt(oo(t,r))},S1=(function(e,t){var r=e.frame;return r?yf(t,r.scroll.diff.value):t});function bf(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function j1(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var k1=(function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,a=e.last,i=e.viewport,s=e.afterCritical,l=n.axis,u=ao(n.axis,r.displaceBy),d=u.value,f=t[l.start],p=t[l.end],g=fa(r,o),y=Sr(g,function(E){var j=E.descriptor.id,D=E.page.borderBox.center[l.line],T=Cr(j,s),w=bf({displaced:a,id:j});return T?w?p<=D:f<D-d:w?p<=D+d:f<D}),x=j1({draggable:r,closest:y,inHomeList:hn(r,n)});return Jo({draggable:r,insideDestination:o,destination:n,viewport:i,last:a,displacedBy:u,index:x})}),E1=4,N1=(function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,a=e.insideDestination,i=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=ao(o.axis,t.displaceBy),u=l.value,d=r[s.start],f=r[s.end],p=fa(t,a),g=Sr(p,function(x){var E=x.descriptor.id,j=x.page.borderBox,D=j[s.size],T=D/E1,w=Cr(E,i),I=bf({displaced:n.displaced,id:E});return w?I?f>j[s.start]+T&&f<j[s.end]-T:d>j[s.start]-u+T&&d<j[s.end]-u-T:I?f>j[s.start]+u+T&&f<j[s.end]+u-T:d>j[s.start]+T&&d<j[s.end]-T});if(!g)return null;var y={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:o.descriptor.id}}};return y}),xf=(function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,a=e.previousImpact,i=e.viewport,s=e.afterCritical,l=yf(r.page.borderBox,t),u=C1({pageBorderBox:l,draggable:r,droppables:o});if(!u)return zw;var d=o[u],f=gn(d.descriptor.id,n),p=S1(d,l);return N1({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:a,destination:d,insideDestination:f,afterCritical:s})||k1({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:d,insideDestination:f,last:a.displaced,viewport:i,afterCritical:s})}),Es=(function(e,t){var r;return ge({},e,(r={},r[t.descriptor.id]=t,r))}),D1=function(t){var r=t.previousImpact,n=t.impact,o=t.droppables,a=Et(r),i=Et(n);if(!a||a===i)return o;var s=o[a];if(!s.subject.withPlaceholder)return o;var l=g1(s);return Es(o,l)},I1=(function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,a=e.impact,i=D1({previousImpact:o,impact:a,droppables:n}),s=Et(a);if(!s)return i;var l=n[s];if(hn(t,l)||l.subject.withPlaceholder)return i;var u=hf(l,t,r);return Es(i,u)}),Mn=(function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,a=e.impact,i=e.scrollJumpRequest,s=o||t.viewport,l=n||t.dimensions,u=r||t.current.client.selection,d=St(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Ze(t.initial.client.borderBoxCenter,d)},p={selection:Ze(f.selection,s.scroll.current),borderBoxCenter:Ze(f.borderBoxCenter,s.scroll.current),offset:Ze(f.offset,s.scroll.diff.value)},g={client:f,page:p};if(t.phase==="COLLECTING")return ge({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:g});var y=l.draggables[t.critical.draggable.id],x=a||xf({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),E=I1({draggable:y,impact:x,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),j=ge({},t,{current:g,dimensions:{draggables:l.draggables,droppables:E},impact:x,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return j});function T1(e,t){return e.map(function(r){return t[r]})}var wf=(function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,a=e.forceShouldAnimate,i=t.displaced,s=T1(i.all,n),l=Kn({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:i});return ge({},t,{displaced:l})}),Cf=(function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,a=e.viewport,i=e.afterCritical,s=pa({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i});return ks({pageBorderBoxCenter:s,draggable:r,viewport:a})}),Sf=(function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&J();var o=t.impact,a=n||t.viewport,i=r||t.dimensions,s=i.draggables,l=i.droppables,u=s[t.critical.draggable.id],d=Et(o);d||J();var f=l[d],p=wf({impact:o,viewport:a,destination:f,draggables:s}),g=Cf({impact:p,draggable:u,droppable:f,draggables:s,viewport:a,afterCritical:t.afterCritical});return Mn({impact:p,clientSelection:g,state:t,dimensions:i,viewport:a})}),P1=(function(e){return{index:e.index,droppableId:e.droppableId}}),jf=(function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,a=ao(r.axis,t.displaceBy),i=gn(r.descriptor.id,n),s=i.indexOf(t);s===-1&&J();var l=i.slice(s+1),u=l.reduce(function(g,y){return g[y.descriptor.id]=!0,g},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},f=Kn({afterDragging:l,destination:r,displacedBy:a,last:null,viewport:o.frame,forceShouldAnimate:!1}),p={displaced:f,displacedBy:a,at:{type:"REORDER",destination:P1(t.descriptor)}};return{impact:p,afterCritical:d}}),O1=(function(e,t){return{draggables:e.draggables,droppables:Es(e.droppables,t)}}),M1=(function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=qo(t.client,r),a=Xo(o,n),i=ge({},t,{placeholder:ge({},t.placeholder,{client:o}),client:o,page:a});return i}),R1=(function(e){var t=e.frame;return t||J(),t}),A1=(function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map(function(a){var i=a.descriptor.droppableId,s=r[i],l=R1(s),u=l.scroll.diff.value,d=Ze(o,u),f=M1({draggable:a,offset:d,initialWindowScroll:n.scroll.initial});return f})}),L1=(function(e){var t=e.state,r=e.published,n=r.modified.map(function(T){var w=t.dimensions.droppables[T.droppableId],I=bs(w,T.scroll);return I}),o=ge({},t.dimensions.droppables,{},af(n)),a=sf(A1({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),i=ge({},t.dimensions.draggables,{},a);r.removals.forEach(function(T){delete i[T]});var s={droppables:o,draggables:i},l=Et(t.impact),u=l?s.droppables[l]:null,d=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],p=jf({draggable:d,home:f,draggables:i,viewport:t.viewport}),g=p.impact,y=p.afterCritical,x=u&&u.isCombineEnabled?t.impact:g,E=xf({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:x,viewport:t.viewport,afterCritical:y}),j=ge({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:E,onLiftImpact:g,dimensions:s,afterCritical:y,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return j;var D=ge({phase:"DROP_PENDING"},j,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return D}),Ii=function(t){return t.movementMode==="SNAP"},Va=function(t,r,n){var o=O1(t.dimensions,r);return!Ii(t)||n?Mn({state:t,dimensions:o}):Sf({state:t,dimensions:o})};function Ga(e){return e.isDragging&&e.movementMode==="SNAP"?ge({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var jc={phase:"IDLE",completed:null,shouldFlush:!1},F1=(function(e,t){if(e===void 0&&(e=jc),t.type==="FLUSH")return ge({},jc,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&J();var r=t.payload,n=r.critical,o=r.clientSelection,a=r.viewport,i=r.dimensions,s=r.movementMode,l=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],d={selection:o,borderBoxCenter:l.client.borderBox.center,offset:qe},f={client:d,page:{selection:Ze(d.selection,a.scroll.initial),borderBoxCenter:Ze(d.selection,a.scroll.initial),offset:Ze(d.selection,a.scroll.diff.value)}},p=ua(i.droppables).every(function(le){return!le.isFixedOnPage}),g=jf({draggable:l,home:u,draggables:i.draggables,viewport:a}),y=g.impact,x=g.afterCritical,E={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:i,initial:f,current:f,isWindowScrollAllowed:p,impact:y,afterCritical:x,onLiftImpact:y,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return E}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&J();var j=ge({phase:"COLLECTING"},e,{phase:"COLLECTING"});return j}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||J(),L1({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Tr(e)||J();var D=t.payload.client;return xr(D,e.current.client.selection)?e:Mn({state:e,clientSelection:D,impact:Ii(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ga(e);Tr(e)||J();var T=t.payload,w=T.id,I=T.newScroll,C=e.dimensions.droppables[w];if(!C)return e;var v=bs(C,I);return Va(e,v,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tr(e)||J();var b=t.payload,m=b.id,S=b.isEnabled,k=e.dimensions.droppables[m];k||J(),k.isEnabled===S&&J();var M=ge({},k,{isEnabled:S});return Va(e,M,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tr(e)||J();var P=t.payload,N=P.id,R=P.isCombineEnabled,O=e.dimensions.droppables[N];O||J(),O.isCombineEnabled===R&&J();var F=ge({},O,{isCombineEnabled:R});return Va(e,F,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Tr(e)||J(),e.isWindowScrollAllowed||J();var _=t.payload.newScroll;if(xr(e.viewport.scroll.current,_))return Ga(e);var L=pf(e.viewport,_);return Ii(e)?Sf({state:e,viewport:L}):Mn({state:e,viewport:L})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Tr(e))return e;var H=t.payload.maxScroll;if(xr(H,e.viewport.scroll.max))return e;var W=ge({},e.viewport,{scroll:ge({},e.viewport.scroll,{max:H})});return ge({phase:"DRAGGING"},e,{viewport:W})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&J();var V=b1({state:e,type:t.type});return V?Mn({state:e,impact:V.impact,clientSelection:V.clientSelection,scrollJumpRequest:V.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var U=t.payload.reason;e.phase!=="COLLECTING"&&J();var G=ge({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:U});return G}if(t.type==="DROP_ANIMATE"){var B=t.payload,q=B.completed,ee=B.dropDuration,ne=B.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||J();var pe={phase:"DROP_ANIMATING",completed:q,dropDuration:ee,newHomeClientOffset:ne,dimensions:e.dimensions};return pe}if(t.type==="DROP_COMPLETE"){var X=t.payload.completed;return{phase:"IDLE",completed:X,shouldFlush:!1}}return e}),B1=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},_1=function(t){return{type:"LIFT",payload:t}},$1=function(t){return{type:"INITIAL_PUBLISH",payload:t}},z1=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},H1=function(){return{type:"COLLECTION_STARTING",payload:null}},V1=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},G1=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},W1=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},kf=function(t){return{type:"MOVE",payload:t}},U1=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},q1=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},X1=function(){return{type:"MOVE_UP",payload:null}},Y1=function(){return{type:"MOVE_DOWN",payload:null}},K1=function(){return{type:"MOVE_RIGHT",payload:null}},Z1=function(){return{type:"MOVE_LEFT",payload:null}},Ns=function(){return{type:"FLUSH",payload:null}},J1=function(t){return{type:"DROP_ANIMATE",payload:t}},Ds=function(t){return{type:"DROP_COMPLETE",payload:t}},Ef=function(t){return{type:"DROP",payload:t}},Q1=function(t){return{type:"DROP_PENDING",payload:t}},Nf=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},e2=(function(e){return function(t){var r=t.getState,n=t.dispatch;return function(o){return function(a){if(a.type!=="LIFT"){o(a);return}var i=a.payload,s=i.id,l=i.clientSelection,u=i.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(Ds({completed:d.completed})),r().phase!=="IDLE"&&J(),n(Ns()),n(B1({draggableId:s,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},p={draggableId:s,scrollOptions:f},g=e.startPublishing(p),y=g.critical,x=g.dimensions,E=g.viewport;n($1({critical:y,dimensions:x,clientSelection:l,movementMode:u,viewport:E}))}}}}),t2=(function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}}),Is={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Zn={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ts={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dr=Ts.outOfTheWay+"s "+Is.outOfTheWay,Rn={fluid:"opacity "+Dr,snap:"transform "+Dr+", opacity "+Dr,drop:function(t){var r=t+"s "+Is.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Dr,placeholder:"height "+Dr+", width "+Dr+", margin "+Dr},kc=function(t){return xr(t,qe)?null:"translate("+t.x+"px, "+t.y+"px)"},Ti={moveTo:kc,drop:function(t,r){var n=kc(t);return n?r?n+" scale("+Zn.scale.drop+")":n:null}},Pi=Ts.minDropTime,Df=Ts.maxDropTime,r2=Df-Pi,Ec=1500,n2=.6,o2=(function(e){var t=e.current,r=e.destination,n=e.reason,o=Xn(t,r);if(o<=0)return Pi;if(o>=Ec)return Df;var a=o/Ec,i=Pi+r2*a,s=n==="CANCEL"?i*n2:i;return Number(s.toFixed(2))}),a2=(function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,a=e.afterCritical,i=n.draggables,s=n.droppables,l=Et(t),u=l?s[l]:null,d=s[r.descriptor.droppableId],f=Cf({impact:t,draggable:r,draggables:i,afterCritical:a,droppable:u||d,viewport:o}),p=St(f,r.client.borderBox.center);return p}),i2=(function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,a=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=wf({draggables:t,impact:i,destination:o,viewport:a,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=ge({},n,{displaced:Yn});return{impact:l,didDropInsideDroppable:!0}}),s2=(function(e){var t=e.getState,r=e.dispatch;return function(n){return function(o){if(o.type!=="DROP"){n(o);return}var a=t(),i=o.payload.reason;if(a.phase==="COLLECTING"){r(Q1({reason:i}));return}if(a.phase!=="IDLE"){var s=a.phase==="DROP_PENDING"&&a.isWaiting;s&&J(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||J();var l=a.critical,u=a.dimensions,d=u.draggables[a.critical.draggable.id],f=i2({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),p=f.impact,g=f.didDropInsideDroppable,y=g?ws(p):null,x=g?da(p):null,E={index:l.draggable.index,droppableId:l.droppable.id},j={draggableId:d.descriptor.id,type:d.descriptor.type,source:E,reason:i,mode:a.movementMode,destination:y,combine:x},D=a2({impact:p,draggable:d,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),T={critical:a.critical,afterCritical:a.afterCritical,result:j,impact:p},w=!xr(a.current.client.offset,D)||!!j.combine;if(!w){r(Ds({completed:T}));return}var I=o2({current:a.current.client.offset,destination:D,reason:i}),C={newHomeClientOffset:D,dropDuration:I,completed:T};r(J1(C))}}}}),If=(function(){return{x:window.pageXOffset,y:window.pageYOffset}});function l2(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function c2(e){var t=e.onWindowScroll;function r(){t(If())}var n=qn(r),o=l2(n),a=br;function i(){return a!==br}function s(){i()&&J(),a=At(window,[o])}function l(){i()||J(),n.cancel(),a(),a=br}return{start:s,stop:l,isActive:i}}var u2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},d2=(function(e){var t=c2({onWindowScroll:function(n){e.dispatch(U1({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&u2(n)&&t.stop(),r(n)}}}),f2=(function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),o=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return o.wasCalled=function(){return t},o}),p2=(function(){var e=[],t=function(a){var i=xs(e,function(u){return u.timerId===a});i===-1&&J();var s=e.splice(i,1),l=s[0];l.callback()},r=function(a){var i=setTimeout(function(){return t(i)}),s={timerId:i,callback:a};e.push(s)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}}),m2=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},g2=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},h2=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,o=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&o},jn=function(t,r){r()},Co=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Wa=function(t,r,n,o){if(!t){n(o(r));return}var a=f2(n),i={announce:a};t(r,i),a.wasCalled()||n(o(r))},v2=(function(e,t){var r=p2(),n=null,o=function(p,g){n&&J(),jn("onBeforeCapture",function(){var y=e().onBeforeCapture;if(y){var x={draggableId:p,mode:g};y(x)}})},a=function(p,g){n&&J(),jn("onBeforeDragStart",function(){var y=e().onBeforeDragStart;y&&y(Co(p,g))})},i=function(p,g){n&&J();var y=Co(p,g);n={mode:g,lastCritical:p,lastLocation:y.source,lastCombine:null},r.add(function(){jn("onDragStart",function(){return Wa(e().onDragStart,y,t,Oo.onDragStart)})})},s=function(p,g){var y=ws(g),x=da(g);n||J();var E=!h2(p,n.lastCritical);E&&(n.lastCritical=p);var j=!m2(n.lastLocation,y);j&&(n.lastLocation=y);var D=!g2(n.lastCombine,x);if(D&&(n.lastCombine=x),!(!E&&!j&&!D)){var T=ge({},Co(p,n.mode),{combine:x,destination:y});r.add(function(){jn("onDragUpdate",function(){return Wa(e().onDragUpdate,T,t,Oo.onDragUpdate)})})}},l=function(){n||J(),r.flush()},u=function(p){n||J(),n=null,jn("onDragEnd",function(){return Wa(e().onDragEnd,p,t,Oo.onDragEnd)})},d=function(){if(n){var p=ge({},Co(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:o,beforeStart:a,start:i,update:s,flush:l,drop:u,abort:d}}),y2=(function(e,t){var r=v2(e,t);return function(n){return function(o){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var i=a.payload.critical;r.beforeStart(i,a.payload.movementMode),o(a),r.start(i,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var s=a.payload.completed.result;r.flush(),o(a),r.drop(s);return}if(o(a),a.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}}),b2=(function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&J(),e.dispatch(Ds({completed:n.completed}))}}}),x2=(function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(o){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),o(a),a.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(Nf())}};r=requestAnimationFrame(function(){r=null,t=At(window,[i])})}}}}),w2=(function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}}),C2=(function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}),S2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},j2=(function(e){return function(t){return function(r){return function(n){if(S2(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var o=t.getState();o.phase!=="DRAGGING"&&J(),e.start(o);return}r(n),e.scroll(t.getState())}}}}),k2=(function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Ef({reason:n.reason})))}}}}),E2=Gd,N2=(function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,o=e.getResponders,a=e.announce,i=e.autoScroller;return Vd(F1,E2(Ax(t2(n),w2(t),e2(t),s2,b2,x2,k2,j2(i),d2,C2(r),y2(o,a))))}),Ua=function(){return{additions:{},removals:{},modified:{}}};function D2(e){var t=e.registry,r=e.callbacks,n=Ua(),o=null,a=function(){o||(r.collectionStarting(),o=requestAnimationFrame(function(){o=null;var d=n,f=d.additions,p=d.removals,g=d.modified,y=Object.keys(f).map(function(j){return t.draggable.getById(j).getDimension(qe)}).sort(function(j,D){return j.descriptor.index-D.descriptor.index}),x=Object.keys(g).map(function(j){var D=t.droppable.getById(j),T=D.callbacks.getScrollWhileDragging();return{droppableId:j,scroll:T}}),E={additions:y,removals:Object.keys(p),modified:x};n=Ua(),r.publish(E)}))},i=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},s=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},l=function(){o&&(cancelAnimationFrame(o),o=null,n=Ua())};return{add:i,remove:s,stop:l}}var Tf=(function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,a=St({x:r,y:t},{x:o,y:n}),i={x:Math.max(0,a.x),y:Math.max(0,a.y)};return i}),Pf=(function(){var e=document.documentElement;return e||J(),e}),Of=(function(){var e=Pf(),t=Tf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t}),I2=(function(){var e=If(),t=Of(),r=e.y,n=e.x,o=Pf(),a=o.clientWidth,i=o.clientHeight,s=n+a,l=r+i,u=zt({top:r,left:n,right:s,bottom:l}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:qe,displacement:qe}}};return d}),T2=(function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,o=I2(),a=o.scroll.current,i=t.droppable,s=n.droppable.getAllByType(i.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(a,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(a)}),u={draggables:sf(l),droppables:af(s)},d={dimensions:u,critical:t,viewport:o};return d});function Nc(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var P2=(function(e,t){var r=null,n=D2({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(g,y){e.droppable.exists(g)||J(),r&&t.updateDroppableIsEnabled({id:g,isEnabled:y})},a=function(g,y){r&&(e.droppable.exists(g)||J(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:y}))},i=function(g,y){r&&(e.droppable.exists(g)||J(),t.updateDroppableScroll({id:g,newScroll:y}))},s=function(g,y){r&&e.droppable.getById(g).callbacks.scroll(y)},l=function(){if(r){n.stop();var g=r.critical.droppable;e.droppable.getAllByType(g.type).forEach(function(y){return y.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(g){r||J();var y=r.critical.draggable;g.type==="ADDITION"&&Nc(e,y,g.value)&&n.add(g.value),g.type==="REMOVAL"&&Nc(e,y,g.value)&&n.remove(g.value)},d=function(g){r&&J();var y=e.draggable.getById(g.draggableId),x=e.droppable.getById(y.descriptor.droppableId),E={draggable:y.descriptor,droppable:x.descriptor},j=e.subscribe(u);return r={critical:E,unsubscribe:j},T2({critical:E,registry:e,scrollOptions:g.scrollOptions})},f={updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:i,startPublishing:d,stopPublishing:l};return f}),Mf=(function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"}),O2=(function(e){window.scrollBy(e.x,e.y)}),M2=Ue(function(e){return ua(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),R2=function(t,r){var n=Sr(M2(r),function(o){return o.frame||J(),vf(o.frame.pageMarginBox)(t)});return n},A2=(function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var a=R2(t,n);return a}),wr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},L2=(function(e,t){var r=e[t.size]*wr.startFromPercentage,n=e[t.size]*wr.maxScrollAtPercentage,o={startScrollingFrom:r,maxScrollValueAt:n};return o}),Rf=(function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;if(o===0)return 0;var a=n-t,i=a/o;return i}),Ps=1,F2=(function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return wr.maxPixelScroll;if(e===t.startScrollingFrom)return Ps;var r=Rf({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,o=wr.maxPixelScroll*wr.ease(n);return Math.ceil(o)}),Dc=wr.durationDampening.accelerateAt,Ic=wr.durationDampening.stopDampeningAt,B2=(function(e,t){var r=t,n=Ic,o=Date.now(),a=o-r;if(a>=Ic)return e;if(a<Dc)return Ps;var i=Rf({startOfRange:Dc,endOfRange:n,current:a}),s=e*wr.ease(i);return Math.ceil(s)}),Tc=(function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,a=F2(t,r);return a===0?0:o?Math.max(B2(a,n),Ps):a}),Pc=(function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,a=e.shouldUseTimeDampening,i=L2(t,o),s=r[o.end]<r[o.start];return s?Tc({distanceToEdge:r[o.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Tc({distanceToEdge:r[o.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})}),_2=(function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,a=r.width>t.width;return!a&&!o?n:a&&o?null:{x:a?0:n.x,y:o?0:n.y}}),$2=nf(function(e){return e===0?0:e}),Af=(function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,a=e.shouldUseTimeDampening,i={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},s=Pc({container:r,distanceToEdges:i,dragStartTime:t,axis:Cs,shouldUseTimeDampening:a}),l=Pc({container:r,distanceToEdges:i,dragStartTime:t,axis:uf,shouldUseTimeDampening:a}),u=$2({x:l,y:s});if(xr(u,qe))return null;var d=_2({container:r,subject:n,proposedScroll:u});return d?xr(d,qe)?null:d:null}),z2=nf(function(e){return e===0?0:e>0?1:-1}),Os=(function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,o=t.change,a=Ze(r,o),i={x:e(a.x,n.x),y:e(a.y,n.y)};return xr(i,qe)?null:i}})(),Lf=function(t){var r=t.max,n=t.current,o=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=z2(o),s=Os({max:a,current:n,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},Ms=function(t,r){return Lf({current:t.scroll.current,max:t.scroll.max,change:r})},H2=function(t,r){if(!Ms(t,r))return null;var n=t.scroll.max,o=t.scroll.current;return Os({current:o,max:n,change:r})},Rs=function(t,r){var n=t.frame;return n?Lf({current:n.scroll.current,max:n.scroll.max,change:r}):!1},V2=function(t,r){var n=t.frame;return!n||!Rs(t,r)?null:Os({current:n.scroll.current,max:n.scroll.max,change:r})},G2=(function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=Af({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return i&&Ms(t,i)?i:null}),W2=(function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=Af({dragStartTime:o,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return s&&Rs(t,s)?s:null}),Oc=(function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,a=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],l=s.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=G2({dragStartTime:r,viewport:u,subject:l,center:i,shouldUseTimeDampening:n});if(d){o(d);return}}var f=A2({center:i,destination:Et(t.impact),droppables:t.dimensions.droppables});if(f){var p=W2({dragStartTime:r,droppable:f,subject:l,center:i,shouldUseTimeDampening:n});p&&a(f.descriptor.id,p)}}),U2=(function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=qn(t),o=qn(r),a=null,i=function(d){a||J();var f=a,p=f.shouldUseTimeDampening,g=f.dragStartTime;Oc({state:d,scrollWindow:n,scrollDroppable:o,dragStartTime:g,shouldUseTimeDampening:p})},s=function(d){a&&J();var f=Date.now(),p=!1,g=function(){p=!0};Oc({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),a={dragStartTime:f,shouldUseTimeDampening:p},p&&i(d)},l=function(){a&&(n.cancel(),o.cancel(),a=null)};return{start:s,stop:l,scroll:i}}),q2=(function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(u,d){var f=Ze(u.current.client.selection,d);t({client:f})},a=function(u,d){if(!Rs(u,d))return d;var f=V2(u,d);if(!f)return r(u.descriptor.id,d),null;var p=St(d,f);r(u.descriptor.id,p);var g=St(d,p);return g},i=function(u,d,f){if(!u||!Ms(d,f))return f;var p=H2(d,f);if(!p)return n(f),null;var g=St(f,p);n(g);var y=St(f,g);return y},s=function(u){var d=u.scrollJumpRequest;if(d){var f=Et(u.impact);f||J();var p=a(u.dimensions.droppables[f],d);if(p){var g=u.viewport,y=i(u.isWindowScrollAllowed,g,p);y&&o(u,y)}}};return s}),X2=(function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=U2({scrollWindow:r,scrollDroppable:t}),a=q2({move:n,scrollWindow:r,scrollDroppable:t}),i=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&a(u)}},s={scroll:i,start:o.start,stop:o.stop};return s}),ln="data-rbd",cn=(function(){var e=ln+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}})(),Oi=(function(){var e=ln+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Y2=(function(){var e=ln+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Mc={contextId:ln+"-scroll-container-context-id"},K2=function(t){return function(r){return"["+r+'="'+t+'"]'}},kn=function(t,r){return t.map(function(n){var o=n.styles[r];return o?n.selector+" { "+o+" }":""}).join(" ")},Z2="pointer-events: none;",J2=(function(e){var t=K2(e),r=(function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(cn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Z2,dropAnimating:s}}})(),n=(function(){var s=`
      transition: `+Rn.outOfTheWay+`;
    `;return{selector:t(Oi.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}})(),o={selector:t(Y2.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,o,a];return{always:kn(i,"always"),resting:kn(i,"resting"),dragging:kn(i,"dragging"),dropAnimating:kn(i,"dropAnimating"),userCancel:kn(i,"userCancel")}}),Nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect,qa=function(){var t=document.querySelector("head");return t||J(),t},Rc=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Q2(e,t){var r=Ee(function(){return J2(e)},[e]),n=h.useRef(null),o=h.useRef(null),a=de(Ue(function(f){var p=o.current;p||J(),p.textContent=f}),[]),i=de(function(f){var p=n.current;p||J(),p.textContent=f},[]);Nt(function(){!n.current&&!o.current||J();var f=Rc(t),p=Rc(t);return n.current=f,o.current=p,f.setAttribute(ln+"-always",e),p.setAttribute(ln+"-dynamic",e),qa().appendChild(f),qa().appendChild(p),i(r.always),a(r.resting),function(){var g=function(x){var E=x.current;E||J(),qa().removeChild(E),x.current=null};g(n),g(o)}},[t,i,a,r.always,r.resting,e]);var s=de(function(){return a(r.dragging)},[a,r.dragging]),l=de(function(f){if(f==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=de(function(){o.current&&a(r.resting)},[a,r.resting]),d=Ee(function(){return{dragging:s,dropping:l,resting:u}},[s,l,u]);return d}var Ff=(function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window});function ma(e){return e instanceof Ff(e).HTMLElement}function eC(e,t){var r="["+cn.contextId+'="'+e+'"]',n=of(document.querySelectorAll(r));if(!n.length)return null;var o=Sr(n,function(a){return a.getAttribute(cn.draggableId)===t});return!o||!ma(o)?null:o}function tC(e){var t=h.useRef({}),r=h.useRef(null),n=h.useRef(null),o=h.useRef(!1),a=de(function(p,g){var y={id:p,focus:g};return t.current[p]=y,function(){var E=t.current,j=E[p];j!==y&&delete E[p]}},[]),i=de(function(p){var g=eC(e,p);g&&g!==document.activeElement&&g.focus()},[e]),s=de(function(p,g){r.current===p&&(r.current=g)},[]),l=de(function(){n.current||o.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&i(p)}))},[i]),u=de(function(p){r.current=null;var g=document.activeElement;g&&g.getAttribute(cn.draggableId)===p&&(r.current=p)},[]);Nt(function(){return o.current=!0,function(){o.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var d=Ee(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[a,u,l,s]);return d}function rC(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var g=t.indexOf(f);g!==-1&&t.splice(g,1)}}function n(f){t.length&&t.forEach(function(p){return p(f)})}function o(f){return e.draggables[f]||null}function a(f){var p=o(f);return p||J(),p}var i={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,g){var y=e.draggables[g.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var g=p.descriptor.id,y=o(g);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[g],n({type:"REMOVAL",value:p}))},getById:a,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return Zo(e.draggables).filter(function(g){return g.descriptor.type===p})}};function s(f){return e.droppables[f]||null}function l(f){var p=s(f);return p||J(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var g=s(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Zo(e.droppables).filter(function(g){return g.descriptor.type===p})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:r,clean:d}}function nC(){var e=Ee(rC,[]);return h.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var As=A.createContext(null),Qo=(function(){var e=document.body;return e||J(),e}),oC={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},aC=function(t){return"rbd-announcement-"+t};function iC(e){var t=Ee(function(){return aC(e)},[e]),r=h.useRef(null);h.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),ge(a.style,oC),Qo().appendChild(a),function(){setTimeout(function(){var l=Qo();l.contains(a)&&l.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=de(function(o){var a=r.current;if(a){a.textContent=o;return}},[]);return n}var sC=0,lC={separator:"::"};function Ls(e,t){return t===void 0&&(t=lC),Ee(function(){return""+e+t.separator+sC++},[t.separator,e])}function cC(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function uC(e){var t=e.contextId,r=e.text,n=Ls("hidden-text",{separator:"-"}),o=Ee(function(){return cC({contextId:t,uniqueId:n})},[n,t]);return h.useEffect(function(){var i=document.createElement("div");return i.id=o,i.textContent=r,i.style.display="none",Qo().appendChild(i),function(){var l=Qo();l.contains(i)&&l.removeChild(i)}},[o,r]),o}var ga=A.createContext(null);function Bf(e){var t=h.useRef(e);return h.useEffect(function(){t.current=e}),t}function dC(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&J();var s={abandon:i};return e=s,s}function o(){e||J(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:a}}var fC=9,pC=13,Fs=27,_f=32,mC=33,gC=34,hC=35,vC=36,yC=37,bC=38,xC=39,wC=40,So,CC=(So={},So[pC]=!0,So[fC]=!0,So),$f=(function(e){CC[e.keyCode]&&e.preventDefault()}),ha=(function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Sr(t,function(n){return"on"+n in document});return r||e})(),zf=0,Ac=5;function SC(e,t){return Math.abs(t.x-e.x)>=Ac||Math.abs(t.y-e.y)>=Ac}var Lc={type:"IDLE"};function jC(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(i){var s=i.button,l=i.clientX,u=i.clientY;if(s===zf){var d={x:l,y:u},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&J();var p=f.point;if(SC(p,d)){i.preventDefault();var g=f.actions.fluidLift(d);o({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var s=n();if(s.type==="PENDING"){t();return}if(i.keyCode===Fs){i.preventDefault(),t();return}$f(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var s=n();if(s.type==="IDLE"&&J(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:ha,fn:t}]}function kC(e){var t=h.useRef(Lc),r=h.useRef(br),n=Ee(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===zf&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var p=e.findClosestDraggableId(f);if(p){var g=e.tryGetLock(p,i,{sourceEvent:f});if(g){f.preventDefault();var y={x:f.clientX,y:f.clientY};r.current(),u(g,y)}}}}}},[e]),o=Ee(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var p=e.findClosestDraggableId(f);if(p){var g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}}}},[e]),a=de(function(){var f={passive:!1,capture:!0};r.current=At(window,[o,n],f)},[o,n]),i=de(function(){var d=t.current;d.type!=="IDLE"&&(t.current=Lc,r.current(),a())},[a]),s=de(function(){var d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),l=de(function(){var f={capture:!0,passive:!1},p=jC({cancel:s,completed:i,getPhase:function(){return t.current},setPhase:function(y){t.current=y}});r.current=At(window,p,f)},[s,i]),u=de(function(f,p){t.current.type!=="IDLE"&&J(),t.current={type:"PENDING",point:p,actions:f},l()},[l]);Nt(function(){return a(),function(){r.current()}},[a])}var Xr;function EC(){}var NC=(Xr={},Xr[gC]=!0,Xr[mC]=!0,Xr[vC]=!0,Xr[hC]=!0,Xr);function DC(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Fs){a.preventDefault(),r();return}if(a.keyCode===_f){a.preventDefault(),n();return}if(a.keyCode===wC){a.preventDefault(),e.moveDown();return}if(a.keyCode===bC){a.preventDefault(),e.moveUp();return}if(a.keyCode===xC){a.preventDefault(),e.moveRight();return}if(a.keyCode===yC){a.preventDefault(),e.moveLeft();return}if(NC[a.keyCode]){a.preventDefault();return}$f(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:ha,fn:r}]}function IC(e){var t=h.useRef(EC),r=Ee(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==_f)return;var i=e.findClosestDraggableId(a);if(!i)return;var s=e.tryGetLock(i,d,{sourceEvent:a});if(!s)return;a.preventDefault();var l=!0,u=s.snapLift();t.current();function d(){l||J(),l=!1,t.current(),n()}t.current=At(window,DC(u,d),{capture:!0,passive:!1})}}},[e]),n=de(function(){var a={passive:!1,capture:!0};t.current=At(window,[r],a)},[r]);Nt(function(){return n(),function(){t.current()}},[n])}var Xa={type:"IDLE"},TC=120,PC=.15;function OC(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(o){o.preventDefault()}},{eventName:"keydown",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.keyCode===Fs&&o.preventDefault(),t()}},{eventName:ha,fn:t}]}function MC(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var s=a.touches[0],l=s.clientX,u=s.clientY,d={x:l,y:u};a.preventDefault(),i.actions.move(d)}},{eventName:"touchend",fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var i=n();i.type==="IDLE"&&J();var s=a.touches[0];if(s){var l=s.force>=PC;if(l){var u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:ha,fn:t}]}function RC(e){var t=h.useRef(Xa),r=h.useRef(br),n=de(function(){return t.current},[]),o=de(function(g){t.current=g},[]),a=Ee(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var y=e.findClosestDraggableId(g);if(y){var x=e.tryGetLock(y,s,{sourceEvent:g});if(x){var E=g.touches[0],j=E.clientX,D=E.clientY,T={x:j,y:D};r.current(),f(x,T)}}}}}},[e]),i=de(function(){var g={capture:!0,passive:!1};r.current=At(window,[a],g)},[a]),s=de(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(Xa),r.current(),i())},[i,o]),l=de(function(){var p=t.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),u=de(function(){var g={capture:!0,passive:!1},y={cancel:l,completed:s,getPhase:n},x=At(window,MC(y),g),E=At(window,OC(y),g);r.current=function(){x(),E()}},[l,n,s]),d=de(function(){var g=n();g.type!=="PENDING"&&J();var y=g.actions.fluidLift(g.point);o({type:"DRAGGING",actions:y,hasMoved:!1})},[n,o]),f=de(function(g,y){n().type!=="IDLE"&&J();var x=setTimeout(d,TC);o({type:"PENDING",point:y,actions:g,longPressTimerId:x}),u()},[u,n,o,d]);Nt(function(){return i(),function(){r.current();var y=n();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),o(Xa))}},[n,i,o]),Nt(function(){var g=At(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var AC={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Hf(e,t){if(t==null)return!1;var r=!!AC[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Hf(e,t.parentElement)}function LC(e,t){var r=t.target;return ma(r)?Hf(e,r):!1}var FC=(function(e){return zt(e.getBoundingClientRect()).center});function BC(e){return e instanceof Ff(e).Element}var _C=(function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Sr(t,function(n){return n in Element.prototype});return r||e})();function Vf(e,t){return e==null?null:e[_C](t)?e:Vf(e.parentElement,t)}function $C(e,t){return e.closest?e.closest(t):Vf(e,t)}function zC(e){return"["+cn.contextId+'="'+e+'"]'}function HC(e,t){var r=t.target;if(!BC(r))return null;var n=zC(e),o=$C(r,n);return!o||!ma(o)?null:o}function VC(e,t){var r=HC(e,t);return r?r.getAttribute(cn.draggableId):null}function GC(e,t){var r="["+Oi.contextId+'="'+e+'"]',n=of(document.querySelectorAll(r)),o=Sr(n,function(a){return a.getAttribute(Oi.id)===t});return!o||!ma(o)?null:o}function WC(e){e.preventDefault()}function jo(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Gf(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(o);return!(!a||!a.options.isEnabled||!Mf(r.getState(),o))}function UC(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,a=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent,l=Gf({lockAPI:t,store:n,registry:o,draggableId:a});if(!l)return null;var u=o.draggable.getById(a),d=GC(r,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&LC(d,s))return null;var f=t.claim(i||br),p="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function y(){return t.isActive(f)}function x(C,v){jo({expected:C,phase:p,isLockActive:y,shouldWarn:!0})&&n.dispatch(v())}var E=x.bind(null,"DRAGGING");function j(C){function v(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(v(),p!=="PRE_DRAG"&&J()),n.dispatch(_1(C.liftActionArgs)),p="DRAGGING";function b(m,S){if(S===void 0&&(S={shouldBlockNextClick:!1}),C.cleanup(),S.shouldBlockNextClick){var k=At(window,[{eventName:"click",fn:WC,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}v(),n.dispatch(Ef({reason:m}))}return ge({isActive:function(){return jo({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(S){return b("DROP",S)},cancel:function(S){return b("CANCEL",S)}},C.actions)}function D(C){var v=qn(function(m){E(function(){return kf({client:m})})}),b=j({liftActionArgs:{id:a,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return v.cancel()},actions:{move:v}});return ge({},b,{move:v})}function T(){var C={moveUp:function(){return E(X1)},moveRight:function(){return E(K1)},moveDown:function(){return E(Y1)},moveLeft:function(){return E(Z1)}};return j({liftActionArgs:{id:a,clientSelection:FC(d),movementMode:"SNAP"},cleanup:br,actions:C})}function w(){var C=jo({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0});C&&t.release()}var I={isActive:function(){return jo({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:D,snapLift:T,abort:w};return I}var qC=[kC,IC,RC];function XC(e){var t=e.contextId,r=e.store,n=e.registry,o=e.customSensors,a=e.enableDefaultSensors,i=[].concat(a?qC:[],o||[]),s=h.useState(function(){return dC()})[0],l=de(function(D,T){D.isDragging&&!T.isDragging&&s.tryAbandon()},[s]);Nt(function(){var D=r.getState(),T=r.subscribe(function(){var w=r.getState();l(D,w),D=w});return T},[s,r,l]),Nt(function(){return s.tryAbandon},[s.tryAbandon]);for(var u=de(function(j){return Gf({lockAPI:s,registry:n,store:r,draggableId:j})},[s,n,r]),d=de(function(j,D,T){return UC({lockAPI:s,registry:n,contextId:t,store:r,draggableId:j,forceSensorStop:D,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null})},[t,s,n,r]),f=de(function(j){return VC(t,j)},[t]),p=de(function(j){var D=n.draggable.findById(j);return D?D.options:null},[n.draggable]),g=de(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Ns()))},[s,r]),y=de(s.isClaimed,[s]),x=Ee(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:y}},[u,d,f,p,g,y]),E=0;E<i.length;E++)i[E](x)}var YC=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function En(e){return e.current||J(),e.current}function KC(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,i=h.useRef(null),s=Bf(e),l=de(function(){return YC(s.current)},[s]),u=iC(t),d=uC({contextId:t,text:a}),f=Q2(t,o),p=de(function(m){En(i).dispatch(m)},[]),g=Ee(function(){return sc({publishWhileDragging:z1,updateDroppableScroll:V1,updateDroppableIsEnabled:G1,updateDroppableIsCombineEnabled:W1,collectionStarting:H1},p)},[p]),y=nC(),x=Ee(function(){return P2(y,g)},[y,g]),E=Ee(function(){return X2(ge({scrollWindow:O2,scrollDroppable:x.scrollDroppable},sc({move:kf},p)))},[x.scrollDroppable,p]),j=tC(t),D=Ee(function(){return N2({announce:u,autoScroller:E,dimensionMarshal:x,focusMarshal:j,getResponders:l,styleMarshal:f})},[u,E,x,j,l,f]);i.current=D;var T=de(function(){var m=En(i),S=m.getState();S.phase!=="IDLE"&&m.dispatch(Ns())},[]),w=de(function(){var m=En(i).getState();return m.isDragging||m.phase==="DROP_ANIMATING"},[]),I=Ee(function(){return{isDragging:w,tryAbort:T}},[w,T]);r(I);var C=de(function(m){return Mf(En(i).getState(),m)},[]),v=de(function(){return Tr(En(i).getState())},[]),b=Ee(function(){return{marshal:x,focus:j,contextId:t,canLift:C,isMovementAllowed:v,dragHandleUsageInstructionsId:d,registry:y}},[t,x,d,j,C,v,y]);return XC({contextId:t,store:D,registry:y,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),h.useEffect(function(){return T},[T]),A.createElement(ga.Provider,{value:b},A.createElement($x,{context:As,store:D},e.children))}var ZC=0;function JC(){return Ee(function(){return""+ZC++},[])}function Bs(e){var t=JC(),r=e.dragHandleUsageInstructions||Oo.dragHandleUsageInstructions;return A.createElement(Iw,null,function(n){return A.createElement(KC,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Wf=function(t){return function(r){return t===r}},QC=Wf("scroll"),eS=Wf("auto"),Fc=function(t,r){return r(t.overflowX)||r(t.overflowY)},tS=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Fc(n,QC)||Fc(n,eS)},rS=function(){return!1},nS=function e(t){return t==null?null:t===document.body?rS()?t:null:t===document.documentElement?null:tS(t)?t:e(t.parentElement)},Mi=(function(e){return{x:e.scrollLeft,y:e.scrollTop}}),oS=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},aS=(function(e){var t=nS(e),r=oS(e);return{closestScrollable:t,isFixedOnPage:r}}),iS=(function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,a=e.direction,i=e.client,s=e.page,l=e.closest,u=(function(){if(!l)return null;var g=l.scrollSize,y=l.client,x=Tf({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:g,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:qe,displacement:qe}}}})(),d=a==="vertical"?Cs:uf,f=sn({page:s,withPlaceholder:null,axis:d,frame:u}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:d,isEnabled:r,client:i,page:s,frame:u,subject:f};return p}),sS=function(t,r){var n=Qd(t);if(!r||t!==r)return n;var o=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,i=o+r.scrollHeight,s=a+r.scrollWidth,l={top:o,right:s,bottom:i,left:a},u=vs(l,n.border),d=ys({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},lS=(function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,a=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,u=n.closestScrollable,d=sS(t,u),f=Xo(d,o),p=(function(){if(!u)return null;var y=Qd(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Xo(y,o),scroll:Mi(u),scrollSize:x,shouldClipSubject:l}})(),g=iS({descriptor:r,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:p});return g}),cS={passive:!1},uS={passive:!0},Bc=(function(e){return e.shouldPublishImmediately?cS:uS});function ea(e){var t=h.useContext(e);return t||J(),t}var ko=function(t){return t&&t.env.closestScrollable||null};function dS(e){var t=h.useRef(null),r=ea(ga),n=Ls("droppable"),o=r.registry,a=r.marshal,i=Bf(e),s=Ee(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=h.useRef(s),u=Ee(function(){return Ue(function(w,I){t.current||J();var C={x:w,y:I};a.updateDroppableScroll(s.id,C)})},[s.id,a]),d=de(function(){var w=t.current;return!w||!w.env.closestScrollable?qe:Mi(w.env.closestScrollable)},[]),f=de(function(){var w=d();u(w.x,w.y)},[d,u]),p=Ee(function(){return qn(f)},[f]),g=de(function(){var w=t.current,I=ko(w);w&&I||J();var C=w.scrollOptions;if(C.shouldPublishImmediately){f();return}p()},[p,f]),y=de(function(w,I){t.current&&J();var C=i.current,v=C.getDroppableRef();v||J();var b=aS(v),m={ref:v,descriptor:s,env:b,scrollOptions:I};t.current=m;var S=lS({ref:v,descriptor:s,env:b,windowScroll:w,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),k=b.closestScrollable;return k&&(k.setAttribute(Mc.contextId,r.contextId),k.addEventListener("scroll",g,Bc(m.scrollOptions))),S},[r.contextId,s,g,i]),x=de(function(){var w=t.current,I=ko(w);return w&&I||J(),Mi(I)},[]),E=de(function(){var w=t.current;w||J();var I=ko(w);t.current=null,I&&(p.cancel(),I.removeAttribute(Mc.contextId),I.removeEventListener("scroll",g,Bc(w.scrollOptions)))},[g,p]),j=de(function(w){var I=t.current;I||J();var C=ko(I);C||J(),C.scrollTop+=w.y,C.scrollLeft+=w.x},[]),D=Ee(function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:x,dragStopped:E,scroll:j}},[E,y,x,j]),T=Ee(function(){return{uniqueId:n,descriptor:s,callbacks:D}},[D,s,n]);Nt(function(){return l.current=T.descriptor,o.droppable.register(T),function(){t.current&&E(),o.droppable.unregister(T)}},[D,s,E,T,a,o.droppable]),Nt(function(){t.current&&a.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Nt(function(){t.current&&a.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Ya(){}var _c={width:0,height:0,margin:Aw},fS=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate;return r||o==="close"?_c:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},pS=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate,a=fS({isAnimatingOpenOnMount:r,placeholder:n,animate:o});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Rn.placeholder:null}};function mS(e){var t=h.useRef(null),r=de(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,o=e.onTransitionEnd,a=e.onClose,i=e.contextId,s=h.useState(e.animate==="open"),l=s[0],u=s[1];h.useEffect(function(){return l?n!=="open"?(r(),u(!1),Ya):t.current?Ya:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):Ya},[n,l,r]);var d=de(function(p){p.propertyName==="height"&&(o(),n==="close"&&a())},[n,a,o]),f=pS({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return A.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}var gS=A.memo(mS),_s=A.createContext(null),hS=(function(e){Li(t,e);function t(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(o,a){return o.shouldAnimate?o.on?{isVisible:!0,data:o.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o.on,data:o.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var o={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o)},t})(A.PureComponent),$c={dragging:5e3,dropAnimating:4500},vS=function(t,r){return r?Rn.drop(r.duration):t?Rn.snap:Rn.fluid},yS=function(t,r){return t?r?Zn.opacity.drop:Zn.opacity.combining:null},bS=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function xS(e){var t=e.dimension,r=t.client,n=e.offset,o=e.combineWith,a=e.dropping,i=!!o,s=bS(e),l=!!a,u=l?Ti.drop(n,i):Ti.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:vS(s,a),transform:u,opacity:yS(i,l),zIndex:l?$c.dropAnimating:$c.dragging,pointerEvents:"none"};return d}function wS(e){return{transform:Ti.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function CS(e){return e.type==="DRAGGING"?xS(e):wS(e)}function SS(e,t,r){r===void 0&&(r=qe);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=Jd(o,n),i=Xo(a,r),s={client:a,tagName:t.tagName.toLowerCase(),display:n.display},l={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:s,displaceBy:l,client:a,page:i};return u}function jS(e){var t=Ls("draggable"),r=e.descriptor,n=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,i=e.shouldRespectForcePress,s=e.isEnabled,l=Ee(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:s}},[a,s,i]),u=de(function(g){var y=o();return y||J(),SS(r,y,g)},[r,o]),d=Ee(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:u}},[r,u,l,t]),f=h.useRef(d),p=h.useRef(!0);Nt(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Nt(function(){if(p.current){p.current=!1;return}var g=f.current;f.current=d,n.draggable.update(d,g)},[d,n.draggable])}function kS(e){e.preventDefault()}function ES(e){var t=h.useRef(null),r=de(function(m){t.current=m},[]),n=de(function(){return t.current},[]),o=ea(ga),a=o.contextId,i=o.dragHandleUsageInstructionsId,s=o.registry,l=ea(_s),u=l.type,d=l.droppableId,f=Ee(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),p=e.children,g=e.draggableId,y=e.isEnabled,x=e.shouldRespectForcePress,E=e.canDragInteractiveElements,j=e.isClone,D=e.mapped,T=e.dropAnimationFinished;if(!j){var w=Ee(function(){return{descriptor:f,registry:s,getDraggableRef:n,canDragInteractiveElements:E,shouldRespectForcePress:x,isEnabled:y}},[f,s,n,E,x,y]);jS(w)}var I=Ee(function(){return y?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:kS}:null},[a,i,g,y]),C=de(function(m){D.type==="DRAGGING"&&D.dropping&&m.propertyName==="transform"&&T()},[T,D]),v=Ee(function(){var m=CS(D),S=D.type==="DRAGGING"&&D.dropping?C:null,k={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":g,style:m,onTransitionEnd:S},dragHandleProps:I};return k},[a,I,g,D,C,r]),b=Ee(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return p(v,D.snapshot,b)}var Uf=(function(e,t){return e===t}),qf=(function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null}),NS=function(t){return t.combine?t.combine.draggableId:null},DS=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function IS(){var e=Ue(function(o,a){return{x:o,y:a}}),t=Ue(function(o,a,i,s,l){return{isDragging:!0,isClone:a,isDropAnimating:!!l,dropAnimation:l,mode:o,draggingOver:i,combineWith:s,combineTargetFor:null}}),r=Ue(function(o,a,i,s,l,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:a,offset:o,dimension:i,forceShouldAnimate:d,snapshot:t(a,s,l,u,null)}}}),n=function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var s=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],u=Et(a.impact),d=DS(a.impact),f=a.forceShouldAnimate;return r(e(s.x,s.y),a.movementMode,l,i.isClone,u,d,f)}if(a.phase==="DROP_ANIMATING"){var p=a.completed;if(p.result.draggableId!==i.draggableId)return null;var g=i.isClone,y=a.dimensions.draggables[i.draggableId],x=p.result,E=x.mode,j=qf(x),D=NS(x),T=a.dropDuration,w={duration:T,curve:Is.drop,moveTo:a.newHomeClientOffset,opacity:D?Zn.opacity.drop:null,scale:D?Zn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:y,dropping:w,draggingOver:j,combineWith:D,mode:E,forceShouldAnimate:null,snapshot:t(E,g,j,D,w)}}}return null};return n}function Xf(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var TS={mapped:{type:"SECONDARY",offset:qe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Xf(null)}};function PS(){var e=Ue(function(i,s){return{x:i,y:s}}),t=Ue(Xf),r=Ue(function(i,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:t(s)}}}),n=function(s){return s?r(qe,s,!0):null},o=function(s,l,u,d){var f=u.displaced.visible[s],p=!!(d.inVirtualList&&d.effected[s]),g=da(u),y=g&&g.draggableId===s?l:null;if(!f){if(!p)return n(y);if(u.displaced.invisible[s])return null;var x=mn(d.displacedBy.point),E=e(x.x,x.y);return r(E,y,!0)}if(p)return n(y);var j=u.displacedBy.point,D=e(j.x,j.y);return r(D,y,f.shouldAnimate)},a=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:o(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var u=s.completed;return u.result.draggableId===l.draggableId?null:o(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var OS=function(){var t=IS(),r=PS(),n=function(a,i){return t(a,i)||r(a,i)||TS};return n},MS={dropAnimationFinished:Nf},RS=Kd(OS,MS,null,{context:As,pure:!0,areStatePropsEqual:Uf})(ES);function Yf(e){var t=ea(_s),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:A.createElement(RS,e)}function $s(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return A.createElement(Yf,ge({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function AS(e){var t=h.useContext(ga);t||J();var r=t.contextId,n=t.isMovementAllowed,o=h.useRef(null),a=h.useRef(null),i=e.children,s=e.droppableId,l=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,g=e.isCombineEnabled,y=e.snapshot,x=e.useClone,E=e.updateViewportMaxScroll,j=e.getContainerForClone,D=de(function(){return o.current},[]),T=de(function(k){o.current=k},[]);de(function(){return a.current},[]);var w=de(function(k){a.current=k},[]),I=de(function(){n()&&E({maxScroll:Of()})},[n,E]);dS({droppableId:s,type:l,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:D});var C=A.createElement(hS,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(k){var M=k.onClose,P=k.data,N=k.animate;return A.createElement(gS,{placeholder:P,onClose:M,innerRef:w,animate:N,contextId:r,onTransitionEnd:I})}),v=Ee(function(){return{innerRef:T,placeholder:C,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,C,T]),b=x?x.dragging.draggableId:null,m=Ee(function(){return{droppableId:s,type:l,isUsingCloneFor:b}},[s,b,l]);function S(){if(!x)return null;var k=x.dragging,M=x.render,P=A.createElement(Yf,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(N,R){return M(N,R,k)});return Sp.createPortal(P,j())}return A.createElement(_s.Provider,{value:m},i(v,y),S())}var Ka=function(t,r){return t===r.droppable.type},zc=function(t,r){return r.draggables[t.draggable.id]},LS=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ge({},t,{shouldAnimatePlaceholder:!1}),n=Ue(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),o=Ue(function(i,s,l,u,d,f){var p=d.descriptor.id,g=d.descriptor.droppableId===i;if(g){var y=f?{render:f,dragging:n(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:y}}if(!s)return r;if(!u)return t;var E={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:E,useClone:null}}),a=function(s,l){var u=l.droppableId,d=l.type,f=!l.isDropDisabled,p=l.renderClone;if(s.isDragging){var g=s.critical;if(!Ka(d,g))return r;var y=zc(g,s.dimensions),x=Et(s.impact)===u;return o(u,f,x,x,y,p)}if(s.phase==="DROP_ANIMATING"){var E=s.completed;if(!Ka(d,E.critical))return r;var j=zc(E.critical,s.dimensions);return o(u,f,qf(E.result)===u,Et(E.impact)===u,j,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var D=s.completed;if(!Ka(d,D.critical))return r;var T=Et(D.impact)===u,w=!!(D.impact.at&&D.impact.at.type==="COMBINE"),I=D.critical.droppable.id===u;return T?w?t:r:I?t:r}return r};return a},FS={updateViewportMaxScroll:q1};function BS(){return document.body||J(),document.body}var _S={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:BS},Kf=Kd(LS,FS,null,{context:As,pure:!0,areStatePropsEqual:Uf})(AS);Kf.defaultProps=_S;const $S=({customField:e,index:t,onDelete:r,expandToEdit:n,length:o})=>c.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:c.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[c.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:c.jsxs("div",{className:"flex min-w-0",children:[c.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Custom Field"})]})}),o>1&&c.jsx("div",{children:c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:a=>{a.stopPropagation(),r(t)},children:""})})]})}),zS=h.memo($S),HS=({optionsData:e,save:t,close:r})=>{const[n,o]=h.useState(e),[a,i]=h.useState([]),[s,l]=h.useState({}),u=h.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),d=h.useMemo(()=>{const v=new Date;return v.setMonth(v.getMonth()+3),v.setHours(23,59,59,999),v},[]);h.useEffect(()=>{o(e)},[e]);const f=(v,b,m,S,k)=>{const M=Qa(b,m,S);M&&i(P=>({...P,customFields:{...P.customFields,[v]:{...P.customFields?.[v],[b]:M}}}))},p=(v,b)=>{const{name:m,value:S}=b.target,k=[...n.customFields],M={...k[v]};M[m]=S,k[v]=M,o({...n,customFields:k}),i(P=>{const N={...P};if(N?.customFields?.[v]?.[m]){delete N.customFields[v][m];const R=N.customFields[v];R&&Object.values(R).every(O=>O==="")&&delete N.customFields[v],Object.keys(N.customFields).length===0&&delete N.customFields}return N})},g=(v,b)=>{delete a?.customFields?.[v]?.[b.target.name];const{value:m}=b.target,{min:S,max:k}=y(m),M=[...n.customFields];M[v].fieldType=m,m!=="phone"&&m!=="email"&&m!=="custom"&&(M[v].min=S,M[v].max=k),m==="custom"&&(M[v].custom=""),o({...n,customFields:M})},y=h.useCallback(v=>{switch(v){case Se.CUSTOM:return l({min:"Custom Expression",max:""}),{min:"",max:""};case Se.STRING:return l({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case Se.NUMBER:return l({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case Se.DATE:return l({min:"Min Date",max:"Max Date"}),{min:"",max:""};case Se.DATETIME:return l({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case Se.TIME:return l({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),x=v=>{const b={customFields:{}},m=new Set;return v.customFields.map((k,M)=>{delete v.customFields[M].isCollapsed;const P={};Object.keys(k).map(N=>{const R=k[N],O=Qa(N,R,k.fieldType,k,m);O&&(P[N]=O)}),P.property===void 0&&m.add(k.property),Object.keys(P).length>0&&(b.customFields[M]=P,k.isCollapsed=!1)}),i(b),Object.keys(b.customFields).some(k=>Object.keys(b.customFields[k]).length>0)},E=v=>{const b=n.customFields.map((m,S)=>S===v?{...m,isCollapsed:!m.isCollapsed}:m);o({...n,customFields:b})},j=()=>{o({...n,customFields:[...n.customFields,{id:$r(),property:"",title:"",whatsAppQuestion:"",fieldType:""}]})},D=v=>{o({...n,customFields:n.customFields.filter((b,m)=>m!==v)})},T=()=>{x(n)||(t(n),r())},w=()=>{x(n)||(t(n),r())},I=()=>{const v=document.querySelector(".p-datepicker");v&&(v.style.visibility="hidden")},C=()=>c.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>I(),children:"Close"});return c.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:c.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[c.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),c.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:""})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[n.customFields.map((v,b)=>c.jsxs("div",{className:"accordion px-2 mb-2",children:[c.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>E(b),children:[c.jsx("span",{className:"mr-3",children:v.isCollapsed?c.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):c.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsx("span",{className:"flex-1",children:v.title||`Custom Filed ${b+1}`}),n.customFields.length>1&&c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:m=>{m.stopPropagation(),D(b)},children:""})]}),!v.isCollapsed&&c.jsx("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Property Name"}),c.jsx("input",{title:"Property Name",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"property",value:v.property,onChange:m=>p(b,m),onBlur:m=>f(b,"property",m.target.value)}),a.customFields?.[b]?.property&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.property.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})}),c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Title"}),c.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:v.title,onChange:m=>p(b,m),onBlur:m=>f(b,"title",m.target.value)}),a.customFields?.[b]?.title&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.title.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})}),c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"WhatApp Question"}),c.jsx("input",{title:"whatsAppQuestion",type:"whatsAppQuestion",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"whatsAppQuestion",value:v.whatsAppQuestion,onChange:m=>p(b,m),onBlur:m=>f(b,"whatsAppQuestion",m.target.value)}),a.customFields?.[b]?.whatsAppQuestion&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.whatsAppQuestion.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})}),c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Select Category"}),c.jsxs("select",{title:"Field Type",name:"fieldType",value:v.fieldType,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",style:{height:"25px"},onChange:m=>g(b,m),onBlur:m=>f(b,"fieldType",m.target.value,v.fieldType),children:[c.jsx("option",{value:"",children:"Select Value Type"}),nu.map(m=>c.jsx("option",{value:m.value,children:m.label},m.value))]}),a.customFields?.[b]?.fieldType&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.fieldType.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})}),[Se.STRING,Se.NUMBER].includes(v.fieldType)&&c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Min & Max"}),c.jsxs("div",{className:"flex space-x-2 ",children:[c.jsxs("div",{children:[c.jsx("input",{title:s.min||"Min Length",type:"number",name:"min",placeholder:s.min,value:v.min||"",onChange:m=>p(b,m),onBlur:m=>f(b,"min",m.target.value,v.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),a.customFields?.[b]?.min&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.min.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]}),c.jsxs("div",{children:[c.jsx("input",{title:s.max||"Max Length",type:"number",name:"max",placeholder:s.max,value:v.max||"",onChange:m=>p(b,m),style:{height:"25px"},onBlur:m=>f(b,"max",m.target.value,v.fieldType),className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),a.customFields?.[b]?.max&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.max.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})]})]})}),[Se.DATE,Se.DATETIME,Se.TIME].includes(v.fieldType)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"min-w-[200px] ",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Select Date Format"}),c.jsxs("select",{title:"Date Format",name:"dateFormat",value:v.dateFormat,onChange:m=>p(b,m),onBlur:m=>f(b,"dateFormat",m.target.value,v.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",children:[c.jsx("option",{value:"",children:"Select Date Format"}),ou.map(m=>c.jsx("option",{value:m,children:m},m))]}),a.customFields?.[b]?.dateFormat&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.dateFormat.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})}),c.jsx("div",{className:"min-w-[200px] mt-2",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Min"}),c.jsx(Ln,{name:"min",tooltip:s.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:s.min||"Min",minDate:u,maxDate:d,value:v.min?new Date(v.min):null,onChange:m=>p(b,m),onBlur:m=>f(b,"min",m.target.value,v.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:v.fieldType!==Se.DATE,timeOnly:Se.TIME===v.fieldType,autoZIndex:!0,footerTemplate:C,showButtonBar:!0}),a.customFields?.[b]?.min&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.min.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})}),c.jsx("div",{className:"min-w-[200px] mt-2",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Max"}),c.jsx(Ln,{name:"max",tooltip:s.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,value:v.max?new Date(v.max):null,placeholder:s.max||"Max",minDate:u,maxDate:d,onChange:m=>p(b,m),onBlur:m=>f(b,"max",m.target.value,v.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:v.fieldType!==Se.DATE,timeOnly:Se.TIME===v.fieldType,autoZIndex:!0,footerTemplate:C,showButtonBar:!0}),a.customFields?.[b]?.max&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.max.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})})]}),v.fieldType===Se.CUSTOM&&c.jsx(c.Fragment,{children:c.jsx("div",{className:"min-w-[200px] ",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Custom "}),c.jsx("input",{title:"Custom Expression",name:"custom",type:"text",placeholder:s.min||"Custom Expression",value:v.custom||"",onBlur:m=>f(b,"custom",m.target.value,v.fieldType),onChange:m=>p(b,m),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded"}),a.customFields?.[b]?.custom&&c.jsx("div",{className:"text-red-500 text-sm",children:a.customFields[b]?.custom.split(". ").map((m,S)=>c.jsx("small",{children:m},S))})]})})})]})})]},b)),c.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:j,children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:c.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[c.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:T,children:[c.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),c.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:w,children:"Save & Close"})]})})]})},VS=h.memo(HS),zs=({children:e,...t})=>{const[r,n]=h.useState(!1);return h.useEffect(()=>{const o=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(o),n(!1)}},[]),r?c.jsx(Kf,{...t,children:e}):null},GS=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:o}=e,[a,i]=h.useState(!1),[s,l]=h.useState(!1),[u,d]=h.useState({}),[f,p]=h.useState(r.data),[g,y]=h.useState(r.data.message),x=(v,b)=>{delete r.data.errors;const m={...f,[v]:b};p(m),o(r.id,m)},E=(v,b)=>{const m=Qa(v,b);d(S=>({...S,[v]:m}))},j=()=>{delete r.data.errors;const v={id:$r(),property:"",title:"",whatsAppQuestion:"",fieldType:""},b={...f,customFields:[...f.customFields,v]};p(b),o(r.id,b),i(!0)},D=v=>{delete r.data.errors;const b=f.customFields.filter((S,k)=>k!==v),m={...f,customFields:b};p(m),o(r.id,m)},T=v=>{const b={...v,customFields:v.customFields.map(m=>({...m}))};y(Math.random().toString()),p(b),o(r.id,b)},w=()=>i(!1),I=v=>{f.customFields.forEach(b=>{b.isCollapsed=!0}),f.customFields[v].isCollapsed=!1,i(!0)},C=v=>{const{source:b,destination:m}=v;if(!m)return;const S=Array.from(f.customFields),[k]=S.splice(b.index,1);S.splice(m.index,0,k);const M={...f,customFields:S};p(M),o(r.id,M)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Custom Form"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(v=>!v),children:c.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:c.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),c.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:""})]})]}),!s&&c.jsxs("div",{className:"space-y-2 py-2 px-2",children:[c.jsxs("div",{className:"mb-2",title:"Property Name",children:[c.jsx("input",{type:"text",placeholder:"Property Name",value:f.property,onChange:v=>x("property",v.target.value),onBlur:v=>E("property",v.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.property&&c.jsx("small",{className:"text-red-500",children:u.property})]}),c.jsxs("div",{children:[c.jsx(kt,{maxLength:300,message:f.message,onChange:v=>x("message",v)},g),u.message&&c.jsx("small",{className:"text-red-500",children:u.message})]}),c.jsx(Bs,{onDragEnd:C,children:c.jsx(zs,{droppableId:"customForm",children:v=>c.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2",children:[f.customFields?.map((b,m)=>c.jsx("div",{className:"nodrag relative subOption-wrapper",children:c.jsx($s,{draggableId:b.id,index:m,children:S=>c.jsx("div",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:{...S.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:c.jsx(zS,{customField:b,index:m,onDelete:D,length:f.customFields.length,expandToEdit:I},m)})},b.id)},m)),v.placeholder]})})}),c.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:j,children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),c.jsx(je,{type:"target",position:Z.Top,id:t}),c.jsx(je,{type:"source",position:Z.Bottom,id:"source"}),c.jsx(fn,{header:"Header",visible:a,style:{width:"100vw"},onHide:()=>{a&&w()},children:c.jsx(VS,{save:T,optionsData:f,close:w})})]})},WS=h.memo(GS),US={borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundColor:"#e0e0e0",color:"#555",fontSize:20},qS=({alt:e,src:t,sx:r,children:n,...o})=>c.jsx("div",{style:{...US,...r},...o,children:t?c.jsx("img",{src:t,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"},onError:a=>{a.target.style.display="none",a.target.parentElement.textContent=e?.[0]||n?.toString()?.[0]||""}}):e?.[0]||n?.toString()?.[0]||""}),XS=({avatar:e,label:t,icon:r,deleteIcon:n,onClick:o,onDelete:a,variant:i="filled",size:s="medium",sx:l,title:u,...d})=>{const f={display:"inline-flex",alignItems:"center",padding:s==="small"?"0 8px":"0 12px",fontSize:s==="small"?11:13,height:s==="small"?28:32,background:i==="outlined"?"transparent":"#e0e0e0",border:i==="outlined"?"1px solid #bdbdbd":"none",cursor:o?"pointer":"default",...l};return c.jsxs("div",{style:f,onClick:o,title:u,...d,children:[e&&c.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:e}),r&&c.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:r}),t&&c.jsx("span",{style:{marginRight:n?6:0},children:t}),n&&a&&c.jsx("span",{style:{marginLeft:6,display:"flex",alignItems:"center",cursor:"pointer"},onClick:p=>{p.stopPropagation(),a(p)},children:n})]})},Hc=e=>{switch(e){case"pdf":case"application/pdf":return"application/pdf";case"images":case"image":case"image/*":return"image/*";case"video":case"video/*":return"video/*";default:return"application/pdf"}},YS=({id:e,data:t})=>{const{node:r,onDelete:n,handleChange:o}=t;r.data.fileType=Hc(r.data.fileType);const[a,i]=h.useState({}),[s,l]=h.useState(r.data.fileType),[u,d]=h.useState(!1),[f,p]=h.useState(r.data.files?.length>0?r.data.files:[]),g=(C,v)=>{let b="";C==="message"&&(v?v.length<3?b="Message must be at least 3 characters":v.length>500&&(b="Message must be at most 500 characters"):b="Message is required"),!b&&(C==="files"||C==="urls")&&r.data.files.length<=0&&r.data.urls.length<=0&&(b="Either Files or Image URLs are mandatory"),i(m=>({...m,[C]:b}))},y=(C,v)=>{delete r.data.errors;const b={...r.data,[C]:v};if(o(r.id,b),r.data=b,C==="fileType"){const m=Hc(v);l(m),r.data.files=[],p([])}},x=()=>{d(!0)},E=C=>{r.data.files=C},j=()=>{y("urls",[...r.data.urls,""])},D=C=>{const v=r.data.urls.filter((b,m)=>m!==C);y("urls",v)},T=(C,v)=>{const b=r.data.urls.map((m,S)=>S===C?v:m);y("urls",b)},w=C=>{window.open(C)},I=C=>{const v=f.filter(b=>b.url!==C.url);p(v),r.data.files=v};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"File Upload"}),c.jsx("button",{title:"Delete File Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:""})]}),c.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx(kt,{message:r.data.message,onChange:C=>y("message",C),maxLength:500,minLength:2}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.message&&c.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),c.jsxs("div",{className:"mb-2",title:"Select File Type",children:[c.jsxs("select",{value:r.data.fileType,onChange:C=>y("fileType",C.target.value),onBlur:C=>g("fileType",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Select File Type"}),c.jsx("option",{value:"application/pdf",children:"PDF"}),c.jsx("option",{value:"image/*",children:"Images"}),c.jsx("option",{value:"video/*",children:"Video"})]}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.fileType&&c.jsx("small",{className:"text-red-500",children:r.data.errors.fileType})]}),f&&c.jsx("div",{className:"d-flex space-y-1",children:f.map((C,v)=>c.jsx(XS,{title:C.name,avatar:c.jsx(qS,{alt:C.name,src:C.url}),label:C.name,onClick:()=>w(C.url),onDelete:()=>I(C),deleteIcon:c.jsx(zp,{}),variant:"outlined"},v))}),c.jsx("div",{className:"mb-2",children:c.jsx("button",{title:"Click to Select/Add Files",disabled:!r.data.fileType||r.data.urls.length>0,type:"button",onClick:x,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:"Add Files"})}),c.jsxs("div",{className:"mb-1",title:"URLs",children:[r.data.urls.map((C,v)=>c.jsxs("div",{className:"flex items-center mb-1",children:[c.jsx("input",{type:"text",placeholder:"URL",value:C,onChange:b=>T(v,b.target.value),onBlur:b=>g("urls",b.target.value),disabled:r.data.files.length>0,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.jsx("button",{type:"button",onClick:()=>D(v),className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-4 w-4 px-1 flex items-center justify-center text-sm font-extrabold ml-2",children:""}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.fileOrUrl&&c.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]},v)),c.jsxs("button",{title:"Click to add Image Url's",type:"button",onClick:j,disabled:f.length>0,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),r.data.urls.length>0?"Add More":"Add Url"]}),a.urls&&!r.data.errors&&c.jsx("small",{className:"text-red-500",children:a.urls}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.fileOrUrl&&c.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]})]})]}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"}),u&&console.log(f,p,u,d,s,E)]})},KS=h.memo(YS),ZS=({data:e,id:t})=>{const{onDelete:r}=e;return c.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"GPT Handler"}),c.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete GPT Handler Node",onClick:()=>r(t),children:""})]}),c.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:c.jsx("p",{className:"nodrag",children:"From here on visitors would be handled by GPT"})}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"})]})},JS=h.memo(ZS);function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function Jn(e){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}function QS(e,t){if(Jn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ej(e){var t=QS(e,"string");return Jn(t)=="symbol"?t:t+""}function Zf(e,t,r){return(t=ej(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tj(e){if(Array.isArray(e))return e}function rj(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,o=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nj(e,t){if(e){if(typeof e=="string")return Vc(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vc(e,t):void 0}}function oj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ar(e,t){return tj(e)||rj(e,t)||nj(e,t)||oj()}var aj=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,Eo=eo.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:aj}});function Gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gc(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Jf=h.memo(h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),o=Eo.getProps(e,n),a=dp(e)||{},i=o.orientation==="vertical",s=o.orientation==="horizontal",l=o.orientation==="both",u=h.useState(l?{rows:0,cols:0}:0),d=ar(u,2),f=d[0],p=d[1],g=h.useState(l?{rows:0,cols:0}:0),y=ar(g,2),x=y[0],E=y[1],j=h.useState(0),D=ar(j,2),T=D[0],w=D[1],I=h.useState(l?{rows:0,cols:0}:0),C=ar(I,2),v=C[0],b=C[1],m=h.useState(o.numToleratedItems),S=ar(m,2),k=S[0],M=S[1],P=h.useState(o.loading||!1),N=ar(P,2),R=N[0],O=N[1],F=h.useState([]),_=ar(F,2),L=_[0],H=_[1],W=Eo.setMetaData({props:o,state:{first:f,last:x,page:T,numItemsInViewport:v,numToleratedItems:k,loading:R,loaderArr:L}}),V=W.ptm;Jc(Eo.css.styles,{name:"virtualscroller"});var U=h.useRef(null),G=h.useRef(null),B=h.useRef(null),q=h.useRef(null),ee=h.useRef(l?{top:0,left:0}:0),ne=h.useRef(null),pe=h.useRef(null),X=h.useRef({}),le=h.useRef({}),xe=h.useRef(null),we=h.useRef(null),Te=h.useRef(null),De=h.useRef(null),Ae=h.useRef(!1),ye=h.useRef(null),ae=h.useRef(!1),Re=fp({listener:function(z){return Qt()},when:!o.disabled}),Ve=ar(Re,1),vt=Ve[0],yt=Dn({target:"window",type:"orientationchange",listener:function(z){return Qt()},when:!o.disabled}),ot=ar(yt,1),He=ot[0],bt=function(){return U},Je=function(z){return Math.floor((z+k*4)/(o.step||1))},at=function(z){G.current=z||G.current||oe.findSingle(U.current,".p-virtualscroller-content")},it=function(z){return o.step?T!==Je(z):!0},st=function(z){ee.current=l?{top:0,left:0}:0,U.current&&U.current.scrollTo(z)},It=function(z){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",te=ct(),re=te.numToleratedItems,ue=Tt(),ce=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,wt=arguments.length>1?arguments[1]:void 0;return et<=wt?0:et},me=function(et,wt,rr){return et*wt+rr},Ne=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return st({left:et,top:wt,behavior:Q})},ke=l?{rows:0,cols:0}:0,$e=!1;l?(ke={rows:ce(z[0],re[0]),cols:ce(z[1],re[1])},Ne(me(ke.cols,o.itemSize[1],ue.left),me(ke.rows,o.itemSize[0],ue.top)),$e=f.rows!==ke.rows||f.cols!==ke.cols):(ke=ce(z,re),s?Ne(me(ke,o.itemSize,ue.left),0):Ne(0,me(ke,o.itemSize,ue.top)),$e=f!==ke),Ae.current=$e,p(ke)},Be=function(z,Q){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(Q){var re=tt(),ue=re.first,ce=re.viewport,me=function(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return st({left:wt,top:rr,behavior:te})},Ne=Q==="to-start",ke=Q==="to-end";if(Ne){if(l)ce.first.rows-ue.rows>z[0]?me(ce.first.cols*o.itemSize[1],(ce.first.rows-1)*o.itemSize[0]):ce.first.cols-ue.cols>z[1]&&me((ce.first.cols-1)*o.itemSize[1],ce.first.rows*o.itemSize[0]);else if(ce.first-ue>z){var $e=(ce.first-1)*o.itemSize;s?me($e,0):me(0,$e)}}else if(ke){if(l)ce.last.rows-ue.rows<=z[0]+1?me(ce.first.cols*o.itemSize[1],(ce.first.rows+1)*o.itemSize[0]):ce.last.cols-ue.cols<=z[1]+1&&me((ce.first.cols+1)*o.itemSize[1],ce.first.rows*o.itemSize[0]);else if(ce.last-ue<=z+1){var We=(ce.first+1)*o.itemSize;s?me(We,0):me(0,We)}}}else It(z,te)},Ge=function(){return R?o.loaderDisabled?L:[]:tr()},lt=function(){return o.columns&&l||s?R&&o.loaderDisabled?l?L[0]:L:o.columns.slice(l?f.cols:f,l?x.cols:x):o.columns},tt=function(){var z=function(ke,$e){return Math.floor(ke/($e||ke))},Q=f,te=0;if(U.current){var re=U.current,ue=re.scrollTop,ce=re.scrollLeft;if(l)Q={rows:z(ue,o.itemSize[0]),cols:z(ce,o.itemSize[1])},te={rows:Q.rows+v.rows,cols:Q.cols+v.cols};else{var me=s?ce:ue;Q=z(me,o.itemSize),te=Q+v}}return{first:f,last:x,viewport:{first:Q,last:te}}},ct=function(){var z=Tt(),Q=U.current?U.current.offsetWidth-z.left:0,te=U.current?U.current.offsetHeight-z.top:0,re=function(ke,$e){return Math.ceil(ke/($e||ke))},ue=function(ke){return Math.ceil(ke/2)},ce=l?{rows:re(te,o.itemSize[0]),cols:re(Q,o.itemSize[1])}:re(s?Q:te,o.itemSize),me=k||(l?[ue(ce.rows),ue(ce.cols)]:ue(ce));return{numItemsInViewport:ce,numToleratedItems:me}},Qe=function(){var z=ct(),Q=z.numItemsInViewport,te=z.numToleratedItems,re=function(me,Ne,ke){var $e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Gt(me+Ne+(me<ke?2:3)*ke,$e)},ue=l?{rows:re(f.rows,Q.rows,te[0]),cols:re(f.cols,Q.cols,te[1],!0)}:re(f,Q,te);b(Q),M(te),E(ue),o.showLoader&&H(l?Array.from({length:Q.rows}).map(function(){return Array.from({length:Q.cols})}):Array.from({length:Q})),o.lazy&&Promise.resolve().then(function(){ye.current={first:o.step?l?{rows:0,cols:f.cols}:0:f,last:Math.min(o.step?o.step:ue,(o.items||[]).length)},o.onLazyLoad&&o.onLazyLoad(ye.current)})},xt=function(z){o.autoSize&&!z&&Promise.resolve().then(function(){if(G.current){G.current.style.minHeight=G.current.style.minWidth="auto",G.current.style.position="relative",U.current.style.contain="none";var Q=[oe.getWidth(U.current),oe.getHeight(U.current)],te=Q[0],re=Q[1];(l||s)&&(U.current.style.width=(te<xe.current?te:o.scrollWidth||xe.current)+"px"),(l||i)&&(U.current.style.height=(re<we.current?re:o.scrollHeight||we.current)+"px"),G.current.style.minHeight=G.current.style.minWidth="",G.current.style.position="",U.current.style.contain=""}})},Gt=function(){var z,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,te=arguments.length>1?arguments[1]:void 0;return o.items?Math.min(te?((z=o.columns||o.items[0])===null||z===void 0?void 0:z.length)||0:(o.items||[]).length,Q):0},Tt=function(){if(G.current){var z=getComputedStyle(G.current),Q=parseFloat(z.paddingLeft)+Math.max(parseFloat(z.left)||0,0),te=parseFloat(z.paddingRight)+Math.max(parseFloat(z.right)||0,0),re=parseFloat(z.paddingTop)+Math.max(parseFloat(z.top)||0,0),ue=parseFloat(z.paddingBottom)+Math.max(parseFloat(z.bottom)||0,0);return{left:Q,right:te,top:re,bottom:ue,x:Q+te,y:re+ue}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},Ft=function(){if(U.current){var z=U.current.parentElement,Q=o.scrollWidth||"".concat(U.current.offsetWidth||z.offsetWidth,"px"),te=o.scrollHeight||"".concat(U.current.offsetHeight||z.offsetHeight,"px"),re=function(ce,me){return U.current.style[ce]=me};l||s?(re("height",te),re("width",Q)):re("height",te)}},Zt=function(){var z=o.items;if(z){var Q=Tt(),te=function(ue,ce,me){var Ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return le.current=Yr(Yr({},le.current),Zf({},"".concat(ue),(ce||[]).length*me+Ne+"px"))};l?(te("height",z,o.itemSize[0],Q.y),te("width",o.columns||z[1],o.itemSize[1],Q.x)):s?te("width",o.columns||z,o.itemSize,Q.x):te("height",z,o.itemSize,Q.y)}},Jt=function(z){if(G.current&&!o.appendOnly){var Q=z?z.first:f,te=function(me,Ne){return me*Ne},re=function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;q.current&&(q.current.style.top="-".concat(Ne,"px")),X.current=Yr(Yr({},X.current),{transform:"translate3d(".concat(me,"px, ").concat(Ne,"px, 0)")})};if(l)re(te(Q.cols,o.itemSize[1]),te(Q.rows,o.itemSize[0]));else{var ue=te(Q,o.itemSize);s?re(ue,0):re(0,ue)}}},ut=function(z){var Q=z.target,te=Tt(),re=function(Ke,Bt){return Ke?Ke>Bt?Ke-Bt:Ke:0},ue=function(Ke,Bt){return Math.floor(Ke/(Bt||Ke))},ce=function(Ke,Bt,vn,so,nr,Nr){return Ke<=nr?nr:Nr?vn-so-nr:Bt+nr-1},me=function(Ke,Bt,vn,so,nr,Nr,yn){return Ke<=Nr?0:Math.max(0,yn?Ke<Bt?vn:Ke-Nr:Ke>Bt?vn:Ke-2*Nr)},Ne=function(Ke,Bt,vn,so,nr,Nr){var yn=Bt+so+2*nr;return Ke>=nr&&(yn=yn+(nr+1)),Gt(yn,Nr)},ke=re(Q.scrollTop,te.top),$e=re(Q.scrollLeft,te.left),We=l?{rows:0,cols:0}:0,et=x,wt=!1,rr=ee.current;if(l){var Er=ee.current.top<=ke,va=ee.current.left<=$e;if(!o.appendOnly||o.appendOnly&&(Er||va)){var zr={rows:ue(ke,o.itemSize[0]),cols:ue($e,o.itemSize[1])},Hs={rows:ce(zr.rows,f.rows,x.rows,v.rows,k[0],Er),cols:ce(zr.cols,f.cols,x.cols,v.cols,k[1],va)};We={rows:me(zr.rows,Hs.rows,f.rows,x.rows,v.rows,k[0],Er),cols:me(zr.cols,Hs.cols,f.cols,x.cols,v.cols,k[1],va)},et={rows:Ne(zr.rows,We.rows,x.rows,v.rows,k[0]),cols:Ne(zr.cols,We.cols,x.cols,v.cols,k[1],!0)},wt=We.rows!==f.rows||et.rows!==x.rows||We.cols!==f.cols||et.cols!==x.cols||Ae.current,rr={top:ke,left:$e}}}else{var ya=s?$e:ke,ba=ee.current<=ya;if(!o.appendOnly||o.appendOnly&&ba){var xa=ue(ya,o.itemSize),op=ce(xa,f,x,v,k,ba);We=me(xa,op,f,x,v,k,ba),et=Ne(xa,We,x,v,k),wt=We!==f||et!==x||Ae.current,rr=ya}}return{first:We,last:et,isRangeChanged:wt,scrollPos:rr}},Wt=function(z){var Q=ut(z),te=Q.first,re=Q.last,ue=Q.isRangeChanged,ce=Q.scrollPos;if(ue){var me={first:te,last:re};if(Jt(me),p(te),E(re),ee.current=ce,o.onScrollIndexChange&&o.onScrollIndexChange(me),o.lazy&&it(te)){var Ne={first:o.step?Math.min(Je(te)*o.step,(o.items||[]).length-o.step):te,last:Math.min(o.step?(Je(te)+1)*o.step:re,(o.items||[]).length)},ke=!ye.current||ye.current.first!==Ne.first||ye.current.last!==Ne.last;ke&&o.onLazyLoad&&o.onLazyLoad(Ne),ye.current=Ne}}},jr=function(z){if(o.onScroll&&o.onScroll(z),o.delay){if(ne.current&&clearTimeout(ne.current),it(f)){if(!R&&o.showLoader){var Q=ut(z),te=Q.isRangeChanged,re=te||(o.step?it(f):!1);re&&O(!0)}ne.current=setTimeout(function(){Wt(z),R&&o.showLoader&&(!o.lazy||o.loading===void 0)&&(O(!1),w(Je(f)))},o.delay)}}else Wt(z)},Qt=function(){pe.current&&clearTimeout(pe.current),pe.current=setTimeout(function(){if(U.current){var z=[oe.getWidth(U.current),oe.getHeight(U.current)],Q=z[0],te=z[1],re=Q!==xe.current,ue=te!==we.current,ce=l?re||ue:s?re:i?ue:!1;ce&&(M(o.numToleratedItems),xe.current=Q,we.current=te,Te.current=oe.getWidth(G.current),De.current=oe.getHeight(G.current))}},o.resizeDelay)},er=function(z){var Q=(o.items||[]).length,te=l?f.rows+z:f+z;return{index:te,count:Q,first:te===0,last:te===Q-1,even:te%2===0,odd:te%2!==0,props:o}},cr=function(z,Q){var te=L.length||0;return Yr({index:z,count:te,first:z===0,last:z===te-1,even:z%2===0,odd:z%2!==0,props:o},Q)},tr=function(){var z=o.items;return z&&!R?l?z.slice(o.appendOnly?0:f.rows,x.rows).map(function(Q){return o.columns?Q:Q.slice(o.appendOnly?0:f.cols,x.cols)}):s&&o.columns?z:z.slice(o.appendOnly?0:f,x):[]},kr=function(){U.current&&fe()&&(at(G.current),Ut(),vt(),He(),xe.current=oe.getWidth(U.current),we.current=oe.getHeight(U.current),Te.current=oe.getWidth(G.current),De.current=oe.getHeight(G.current))},Ut=function(){!o.disabled&&fe()&&(Ft(),Qe(),Zt())},fe=function(){if(oe.isVisible(U.current)){var z=U.current.getBoundingClientRect();return z.width>0&&z.height>0}return!1};h.useEffect(function(){!ae.current&&fe()&&(kr(),ae.current=!0)}),Ot(function(){Ut()},[o.itemSize,o.scrollHeight,o.scrollWidth]),Ot(function(){o.numToleratedItems!==k&&M(o.numToleratedItems)},[o.numToleratedItems]),Ot(function(){o.numToleratedItems===k&&Ut()},[k]),Ot(function(){var se=a.items!==void 0&&a.items!==null,z=o.items!==void 0&&o.items!==null,Q=se?a.items.length:0,te=z?o.items.length:0,re=Q!==te;if(l&&!re){var ue=se&&a.items.length>0?a.items[0].length:0,ce=z&&o.items.length>0?o.items[0].length:0;re=ue!==ce}(!se||re)&&Ut();var me=R;o.lazy&&a.loading!==o.loading&&o.loading!==R&&(O(o.loading),me=o.loading),xt(me)}),Ot(function(){ee.current=l?{top:0,left:0}:0},[o.orientation]),h.useImperativeHandle(t,function(){return{props:o,getElementRef:bt,scrollTo:st,scrollToIndex:It,scrollInView:Be,getRenderedRange:tt}});var $=function(z){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=cr(z,Q),re=ve.getJSXElement(o.loadingTemplate,te);return h.createElement(h.Fragment,{key:z},re)},K=function(){var z="p-virtualscroller-loading-icon",Q=r({className:z},V("loadingIcon")),te=o.loadingIcon||h.createElement(eu,Ri({},Q,{spin:!0})),re=Ar.getJSXIcon(te,Yr({},Q),{props:o});if(!o.loaderDisabled&&o.showLoader&&R){var ue=Fe("p-virtualscroller-loader",{"p-component-overlay":!o.loadingTemplate}),ce=re;if(o.loadingTemplate)ce=L.map(function(ke,$e){return $($e,l&&{numCols:v.cols})});else if(o.loaderIconTemplate){var me={iconClassName:z,element:ce,props:o};ce=ve.getJSXElement(o.loaderIconTemplate,me)}var Ne=r({className:ue},V("loader"));return h.createElement("div",Ne,ce)}return null},Ce=function(){if(o.showSpacer){var z=r({ref:B,style:le.current,className:"p-virtualscroller-spacer"},V("spacer"));return h.createElement("div",z)}return null},Me=function(z,Q){var te=er(Q),re=ve.getJSXElement(o.itemTemplate,z,te);return h.createElement(h.Fragment,{key:te.index},re)},Ye=function(){var z=tr();return z.map(Me)},ie=function(){var z=Ye(),Q=Fe("p-virtualscroller-content",{"p-virtualscroller-loading":R}),te=r({ref:G,style:X.current,className:Q},V("content")),re=h.createElement("div",te,z);if(o.contentTemplate){var ue={style:X.current,className:Q,spacerStyle:le.current,contentRef:function(me){return G.current=ve.getRefElement(me)},spacerRef:function(me){return B.current=ve.getRefElement(me)},stickyRef:function(me){return q.current=ve.getRefElement(me)},items:tr(),getItemOptions:function(me){return er(me)},children:z,element:re,props:o,loading:R,getLoaderOptions:function(me,Ne){return cr(me,Ne)},loadingTemplate:o.loadingTemplate,itemSize:o.itemSize,rows:Ge(),columns:lt(),vertical:i,horizontal:s,both:l};return ve.getJSXElement(o.contentTemplate,ue)}return re};if(o.disabled){var Y=ve.getJSXElement(o.contentTemplate,{items:o.items,rows:o.items,columns:o.columns});return h.createElement(h.Fragment,null,o.children,Y)}var he=Fe("p-virtualscroller",{"p-virtualscroller-inline":o.inline,"p-virtualscroller-both p-both-scroll":l,"p-virtualscroller-horizontal p-horizontal-scroll":s},o.className),Ie=K(),Pe=ie(),dt=Ce(),ft=r({ref:U,className:he,tabIndex:o.tabIndex,style:o.style,onScroll:function(z){return jr(z)}},Eo.getOtherProps(o),V("root"));return h.createElement("div",ft,Pe,dt,Ie)}));Jf.displayName="VirtualScroller";function Qn(e){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(e)}function ij(e,t){if(Qn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sj(e){var t=ij(e,"string");return Qn(t)=="symbol"?t:t+""}function Qf(e,t,r){return(t=sj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mt.apply(null,arguments)}function Ai(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lj(e){if(Array.isArray(e))return Ai(e)}function cj(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ep(e,t){if(e){if(typeof e=="string")return Ai(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ai(e,t):void 0}}function uj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(e){return lj(e)||cj(e)||ep(e)||uj()}function dj(e){if(Array.isArray(e))return e}function fj(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(d){u=!0,o=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}function pj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(e,t){return dj(e)||fj(e,t)||ep(e,t)||pj()}var mj={root:function(t){var r=t.props,n=t.focusedState;return Fe("p-autocomplete p-component p-inputwrapper",{"p-autocomplete-dd":r.dropdown,"p-autocomplete-multiple":r.multiple,"p-inputwrapper-filled":r.value,"p-invalid":r.invalid,"p-inputwrapper-focus":n})},container:function(t){var r=t.props,n=t.context;return Fe("p-autocomplete-multiple-container p-component p-inputtext",{"p-disabled":r.disabled,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},loadingIcon:"p-autocomplete-loader",dropdownButton:"p-autocomplete-dropdown",removeTokenIcon:"p-autocomplete-token-icon",token:"p-autocomplete-token p-highlight",tokenLabel:"p-autocomplete-token-label",inputToken:"p-autocomplete-input-token",input:function(t){var r=t.props,n=t.context;return Fe("p-autocomplete-input",{"p-autocomplete-dd-input":r.dropdown,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},panel:function(t){var r=t.context;return Fe("p-autocomplete-panel p-component",{"p-ripple-disabled":r&&r.ripple===!1||jt.ripple===!1})},listWrapper:"p-autocomplete-items-wrapper",list:function(t){var r=t.virtualScrollerOptions,n=t.options;return r?Fe("p-autocomplete-items",n.className):"p-autocomplete-items"},emptyMessage:"p-autocomplete-item",item:function(t){var r=t.suggestion,n=t.optionGroupLabel,o=t.selected;return n?Fe("p-autocomplete-item",{"p-disabled":r.disabled},{selected:o}):Fe("p-autocomplete-item",{"p-disabled":r.disabled},{"p-highlight":o})},itemGroup:"p-autocomplete-item-group",footer:"p-autocomplete-footer",transition:"p-connected-overlay"},gj=`
@layer primereact {
    .p-autocomplete {
        display: inline-flex;
        position: relative;
    }
    
    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-autocomplete-dd .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }
    
    .p-autocomplete-dd .p-autocomplete-input,
    .p-autocomplete-dd .p-autocomplete-multiple-container {
         border-top-right-radius: 0;
         border-bottom-right-radius: 0;
     }
    
    .p-autocomplete-dd .p-autocomplete-dropdown {
         border-top-left-radius: 0;
         border-bottom-left-radius: 0px;
    }
    
    .p-autocomplete .p-autocomplete-panel {
        min-width: 100%;
    }
    
    .p-autocomplete-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-autocomplete-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-autocomplete-item {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-autocomplete-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-autocomplete-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-autocomplete-token-icon {
        cursor: pointer;
    }
    
    .p-autocomplete-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-autocomplete-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-autocomplete {
        display: flex;
    }
    
    .p-fluid .p-autocomplete-dd .p-autocomplete-input {
        width: 1%;
    }
    
    .p-autocomplete-items-wrapper {
        overflow: auto;
    } 
}
`,No=eo.extend({defaultProps:{__TYPE:"AutoComplete",id:null,appendTo:null,autoFocus:!1,autoHighlight:!1,className:null,completeMethod:null,delay:300,disabled:!1,dropdown:!1,dropdownAriaLabel:null,dropdownAutoFocus:!0,dropdownIcon:null,dropdownMode:"blank",emptyMessage:null,field:null,forceSelection:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,variant:null,invalid:!1,itemTemplate:null,loadingIcon:null,maxLength:null,minLength:1,multiple:!1,name:null,onBlur:null,onChange:null,onClear:null,onClick:null,onContextMenu:null,onDblClick:null,onDropdownClick:null,onFocus:null,onHide:null,onKeyPress:null,onKeyUp:null,onMouseDown:null,onSelect:null,onShow:null,onUnselect:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,readOnly:!1,removeTokenIcon:null,scrollHeight:"200px",selectedItemTemplate:null,selectionLimit:null,showEmptyMessage:!1,size:null,style:null,suggestions:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,type:"text",value:null,virtualScrollerOptions:null,children:void 0},css:{classes:mj,styles:gj}});function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wc(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rp=h.memo(h.forwardRef(function(e,t){var r=un(),n=e.ptm,o=e.cx,a=h.useContext(dn),i=function(b,m){return n(b,fr({hostName:e.hostName},m))},s=function(b,m){return i(m,{context:{selected:e.selectedItem.current===b,disabled:b.disabled}})},l=function(b){return ve.resolveFieldData(b,e.optionGroupLabel)},u=function(b){return ve.resolveFieldData(b,e.field)},d=function(){if(e.panelFooterTemplate){var b=ve.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),m=r({className:o("footer")},i("footer"));return h.createElement("div",m,b)}return null},f=function(b,m,S){return b.findIndex(function(k){return k[m]===S})},p=h.useRef({key:null,index:0,keyIndex:0}),g=function(b,m,S,k){var M=e.optionGroupTemplate?ve.getJSXElement(e.optionGroupTemplate,b,S):e.getOptionGroupLabel(b)||b,P=r(fr({index:S,className:o("itemGroup"),"data-p-highlight":!1},k),i("itemGroup"));return h.createElement("li",Mt({},P,{key:m||null}),M)},y=function(b){return e.selectedItem&&e.selectedItem.current&&Array.isArray(e.selectedItem.current)?e.selectedItem.current.some(function(m){return ve.deepEquals(m,b)}):ve.deepEquals(e.selectedItem.current,b)},x=function(b,m,S,k){var M=y(b),P=e.itemTemplate?ve.getJSXElement(e.itemTemplate,b,S):e.field?ve.resolveFieldData(b,e.field):b,N=r(fr({index:S,role:"option",className:o("item",{optionGroupLabel:e.optionGroupLabel,suggestion:b,selected:M}),onClick:function(O){return e.onItemClick(O,b)},"aria-selected":M},k),s(b,"item"));return h.createElement("li",Mt({key:m},N),P,h.createElement(Mo,null))},E=function(b,m){var S=e.getOptionGroupChildren(b);return S.map(function(k,M){var P=m+"_"+M,N=r({"data-group":m,"data-index":M,"data-p-disabled":k.disabled});return x(k,P,M,N)})},j=function(b,m){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k={height:S.props?S.props.itemSize:void 0};if(e.optionGroupLabel){if(e.virtualScrollerOptions){var M=f(e.suggestions,e.optionGroupLabel,b);if(M!==-1){p.current={key:b,index:m,keyIndex:M};var P=m+"_"+l(b);return g(b,P,m,{style:k})}var N=m+"_"+p.current.keyIndex,R=r({style:k,"data-group":p.current.keyIndex,"data-index":m-p.current.index-1,"data-p-disabled":b.disabled});return x(b,N,m,R)}var O=E(b,m),F=m+"_"+l(b);return h.createElement(h.Fragment,{key:F},g(b,void 0,m,{style:k}),O)}var _="".concat(m,"_").concat(ve.isObject(b)?u(b):b),L=r({style:k,"data-p-disabled":b.disabled},s(b,"item"));return x(b,_,m,L)},D=function(){return e.suggestions?e.suggestions.map(j):null},T=function(b){try{return b?.map(function(m){return[m?.[e?.optionGroupLabel]].concat(tp(m?.[e?.optionGroupChildren]))}).flat()}catch{}},w=function(){if(e.showEmptyMessage&&ve.isEmpty(e.suggestions)){var b=e.emptyMessage||Ja("emptyMessage"),m=r({className:o("emptyMessage")},i("emptyMessage")),S=r({className:o("list")},i("list"));return h.createElement("ul",S,h.createElement("li",m,b))}if(e.virtualScrollerOptions){var k=e.suggestions?e.optionGroupLabel?T(e?.suggestions):e.suggestions:null,M=fr(fr({},e.virtualScrollerOptions),{style:fr(fr({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),autoSize:!0,items:k,itemTemplate:function(F,_){return F&&j(F,_.index,_)},contentTemplate:function(F){var _=r({id:e.listId,ref:F.contentRef,style:F.style,className:o("list",{virtualScrollerProps:M,options:F}),role:"listbox"},i("list"));return h.createElement("ul",_,F.children)}});return h.createElement(Jf,Mt({ref:e.virtualScrollerRef},M,{pt:i("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var P=D(),N=r({id:e.listId,className:o("list"),role:"listbox"},i("list")),R=r({className:o("listWrapper"),style:{maxHeight:e.scrollHeight||"auto"}},i("listWrapper"));return h.createElement("div",R,h.createElement("ul",N,P))},I=function(){var b=fr({},e.panelStyle||{}),m=w(),S=d(),k=r({className:Fe(e.panelClassName,o("panel",{context:a})),style:b,onClick:function(N){return e.onClick(N)},"data-pr-is-overlay":!0},i("panel")),M=r({classNames:o("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},i("transition"));return h.createElement($i,Mt({nodeRef:t},M),h.createElement("div",Mt({ref:t},k),m,S))},C=I();return h.createElement(zi,{element:C,appendTo:e.appendTo})}));rp.displayName="AutoCompletePanel";function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uc(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var np=h.memo(h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),o=No.getProps(e,n),a=h.useState(o.id),i=Nn(a,2),s=i[0],l=i[1],u=h.useState(!1),d=Nn(u,2),f=d[0],p=d[1],g=h.useState(!1),y=Nn(g,2),x=y[0],E=y[1],j=h.useState(!1),D=Nn(j,2),T=D[0],w=D[1],I={props:o,state:{id:s,searching:f,focused:x,overlayVisible:T}},C=No.setMetaData(I),v=C.ptm,b=C.cx,m=C.sx,S=C.isUnstyled;Fi(No.css.styles,S,{name:"autocomplete"});var k=h.useRef(null),M=h.useRef(null),P=h.useRef(o.inputRef),N=h.useRef(null),R=h.useRef(null),O=h.useRef(null),F=h.useRef(null),_=pp({target:k,overlay:M,listener:function($,K){var Ce=K.type,Me=K.valid;Me&&(Ce==="outside"?V($)||X():n.hideOverlaysOnDocumentScrolling?X():oe.isDocument($.target)||ye())},when:T}),L=Nn(_,2),H=L[0],W=L[1],V=function($){return o.multiple?$.target===N.current||N.current.contains($.target):$.target===P.current},U=function($){O.current&&clearTimeout(O.current);var K=$.target.value;o.multiple||q($,K),ve.isEmpty(K)?(X(),o.onClear&&o.onClear($)):K.length>=o.minLength?O.current=setTimeout(function(){G($,K,"input")},o.delay):X()},G=function($,K,Ce){K!=null&&(Ce==="input"&&K.trim().length===0||o.completeMethod&&(p(!0),o.completeMethod({originalEvent:$,query:K})))},B=function($,K,Ce){if(o.multiple){if(P.current.value="",!Be(K)&&ct()){var Me=o.value?[].concat(tp(o.value),[K]):[K];q($,Me)}}else ne(K),q($,K);o.onSelect&&o.onSelect({originalEvent:$,value:K}),Ce||(oe.focus(P.current),X())},q=function($,K){o.onChange&&o.onChange({originalEvent:$,value:K,stopPropagation:function(){$.stopPropagation()},preventDefault:function(){$.preventDefault()},target:{name:o.name,id:s,value:K}}),F.current=ve.isNotEmpty(K)?K:null},ee=function($){if(ve.isEmpty($))return"";if(typeof $=="string")return $;if(o.selectedItemTemplate){var K=ve.getJSXElement(o.selectedItemTemplate,$);return o.multiple||typeof K=="string"?K:$}if(o.field){var Ce;return(Ce=ve.resolveFieldData($,o.field))!==null&&Ce!==void 0?Ce:$}return $},ne=function($){P.current.value=ee($)},pe=function(){w(!0)},X=function(){w(!1),p(!1)},le=function(){Xt.set("overlay",M.current,n&&n.autoZIndex||jt.autoZIndex,n&&n.zIndex.overlay||jt.zIndex.overlay),oe.addStyles(M.current,{position:"absolute",top:"0",left:"0"}),ye()},xe=function(){o.autoHighlight&&o.suggestions&&o.suggestions.length&&we()},we=function(){var $,K=($=Ge())===null||$===void 0||($=$.firstChild)===null||$===void 0?void 0:$.firstChild;K&&(!S()&&oe.addClass(K,"p-highlight"),K.setAttribute("data-p-highlight",!0))},Te=function(){H(),o.onShow&&o.onShow()},De=function(){W()},Ae=function(){Xt.clear(M.current),o.onHide&&o.onHide()},ye=function(){var $=o.multiple?N.current:P.current;oe.alignOverlay(M.current,$,o.appendTo||n&&n.appendTo||jt.appendTo)},ae=function($){yp.emit("overlay-click",{originalEvent:$,target:k.current})},Re=function($){o.dropdownAutoFocus&&oe.focus(P.current,o.dropdownAutoFocus),o.dropdownMode==="blank"?G($,"","dropdown"):o.dropdownMode==="current"&&G($,P.current.value,"dropdown"),o.onDropdownClick&&o.onDropdownClick({originalEvent:$,query:P.current.value})},Ve=function($,K){if(!(o.disabled||o.readOnly)){var Ce=o.value[K],Me=o.value.filter(function(Ye,ie){return K!==ie});q($,Me),o.onUnselect&&o.onUnselect({originalEvent:$,value:Ce})}},vt=function($){if(T){var K=oe.findSingle(M.current,'li[data-p-highlight="true"]');switch($.which){case 40:if(K){var Ce=ot(K);Ce&&(!S()&&oe.addClass(Ce,"p-highlight"),Ce.setAttribute("data-p-highlight",!0),!S()&&oe.removeClass(K,"p-highlight"),K.setAttribute("data-p-highlight",!1),oe.scrollInView(Ge(),Ce))}else K=oe.findSingle(M.current,"li"),oe.getAttribute(K,"data-pc-section")==="itemgroup"&&(K=ot(K)),K&&(!S()&&oe.addClass(K,"p-highlight"),K.setAttribute("data-p-highlight",!0));$.preventDefault();break;case 38:if(K){var Me=He(K);Me&&(!S()&&oe.addClass(Me,"p-highlight"),Me.setAttribute("data-p-highlight",!0),!S()&&oe.removeClass(K,"p-highlight"),K.setAttribute("data-p-highlight",!1),oe.scrollInView(Ge(),Me))}$.preventDefault();break;case 13:K&&(yt($,K),X(),$.preventDefault());break;case 27:X(),$.preventDefault();break;case 9:K&&yt($,K),X();break}}if(o.multiple)switch($.which){case 8:if(o.value&&o.value.length&&!P.current.value){var Ye=o.value[o.value.length-1],ie=o.value.slice(0,-1);q($,ie),o.onUnselect&&o.onUnselect({originalEvent:$,value:Ye})}break}},yt=function($,K){if(o.optionGroupLabel){var Ce=o.suggestions[K.dataset.group];B($,tt(Ce)[K.dataset.index])}else B($,o.suggestions[K.getAttribute("index")])},ot=function($){var K=$.nextElementSibling;return K?oe.getAttribute(K,"data-pc-section")==="itemgroup"?ot(K):K:null},He=function($){var K=$.previousElementSibling;return K?oe.getAttribute(K,"data-pc-section")==="itemgroup"?He(K):K:null},bt=function($){E(!0),o.onFocus&&o.onFocus($)},Je=function($){if(o.multiple){P.current.value="";return}var K=ve.trim($.target.value).toLowerCase(),Ce=(o.suggestions||[]).flatMap(function(Ye){return Ye.items?Ye.items:[Ye]}),Me=Ce.find(function(Ye){var ie=o.field?ve.resolveFieldData(Ye,o.field):Ye,Y=ie?ve.trim(ie).toLowerCase():"";return Y&&K===Y});Me?B($,Me,!0):(P.current.value="",q($,null),o.onClear&&o.onClear($))},at=function($){E(!1),o.forceSelection&&Je($),o.onBlur&&o.onBlur($)},it=function($){oe.focus(P.current),o.onClick&&o.onClick($)},st=function($){bt($),!S()&&oe.addClass(N.current,"p-focus"),N.current.setAttribute("data-p-focus",!0)},It=function($){at($),!S()&&oe.removeClass(N.current,"p-focus"),N.current.setAttribute("data-p-focus",!1)},Be=function($){return o.value?o.value.some(function(K){return ve.equals(K,$)}):!1},Ge=function(){var $;return M==null||($=M.current)===null||$===void 0?void 0:$.firstChild},lt=function($){return o.optionGroupLabel?ve.resolveFieldData($,o.optionGroupLabel):$},tt=function($){return ve.resolveFieldData($,o.optionGroupChildren)},ct=function(){return!o.value||!o.selectionLimit||o.value.length<o.selectionLimit};h.useEffect(function(){ve.combinedRefs(P,o.inputRef)},[P,o.inputRef]),h.useEffect(function(){ve.isNotEmpty(o.value)&&(F.current=o.value)},[o.value]),Bi(function(){s||l(Zc()),o.autoFocus&&oe.focus(P.current,o.autoFocus),ye()}),Ot(function(){f&&o.autoHighlight&&o.suggestions&&o.suggestions.length&&we()},[f]),Ot(function(){f&&(ve.isNotEmpty(o.suggestions)||o.showEmptyMessage?pe():X(),p(!1))},[o.suggestions]),Ot(function(){P.current&&!o.multiple&&ne(o.value),T&&ye()}),_i(function(){O.current&&clearTimeout(O.current),Xt.clear(M.current)}),h.useImperativeHandle(t,function(){return{props:o,search:G,show:pe,hide:X,focus:function(){return oe.focus(P.current)},getElement:function(){return k.current},getOverlay:function(){return M.current},getInput:function(){return P.current},getVirtualScroller:function(){return R.current}}});var Qe=function(){var $=ee(o.value),K=T?s+"_list":null;return h.createElement(vp,Mt({ref:P,id:o.inputId,type:o.type,name:o.name,defaultValue:$,role:"combobox","aria-autocomplete":"list","aria-controls":K,"aria-haspopup":"listbox","aria-expanded":T,className:Fe(o.inputClassName,b("input",{context:n})),style:o.inputStyle,autoComplete:"off",readOnly:o.readOnly,required:o.required,disabled:o.disabled,placeholder:o.placeholder,size:o.size,maxLength:o.maxLength,tabIndex:o.tabIndex,onBlur:at,onFocus:bt,onChange:U,onMouseDown:o.onMouseDown,onKeyUp:o.onKeyUp,onKeyDown:vt,onKeyPress:o.onKeyPress,onContextMenu:o.onContextMenu,onClick:o.onClick,onDoubleClick:o.onDblClick,pt:v("input"),unstyled:o.unstyled},er,{__parentMetadata:{parent:I}}))},xt=function($,K){switch($.code){case"Space":case"NumpadEnter":case"Enter":Ve($,K),$.preventDefault(),$.stopPropagation();break}},Gt=function(){return ve.isNotEmpty(o.value)?o.value.map(function($,K){var Ce=K+"multi-item",Me=r({className:b("removeTokenIcon"),onClick:function(Pe){return Ve(Pe,K)},tabIndex:o.tabIndex||"0","aria-label":Ja("clear"),onKeyDown:function(Pe){return xt(Pe,K)}},v("removeTokenIcon")),Ye=o.removeTokenIcon||h.createElement(qi,Me),ie=!o.disabled&&Ar.getJSXIcon(Ye,Za({},Me),{props:o}),Y=r({className:b("token")},v("token")),he=r({className:b("tokenLabel")},v("tokenLabel"));return h.createElement("li",Mt({key:Ce},Y),h.createElement("span",he,ee($)),ie)}):(F.current=null,null)},Tt=function($){var K=T?s+"_list":null,Ce=r({className:b("inputToken")},v("inputToken")),Me=r(Za({id:o.inputId,ref:P,"aria-autocomplete":"list","aria-controls":K,"aria-expanded":T,"aria-haspopup":"listbox",autoComplete:"off",className:o.inputClassName,disabled:o.disabled,maxLength:o.maxLength,name:o.name,onBlur:It,onChange:$?U:void 0,onFocus:st,onKeyDown:$?vt:void 0,onKeyPress:o.onKeyPress,onKeyUp:o.onKeyUp,placeholder:$?o.placeholder:void 0,readOnly:o.readOnly||!$,required:o.required,role:"combobox",style:o.inputStyle,tabIndex:o.tabIndex,type:o.type},er),v("input"));return h.createElement("li",Ce,h.createElement("input",Me))},Ft=function(){var $=ct(),K=Gt(),Ce=Tt($),Me=r({ref:N,className:b("container",{context:n}),onClick:$?it:void 0,onContextMenu:o.onContextMenu,onMouseDown:o.onMouseDown,onDoubleClick:o.onDblClick,"data-p-focus":x,"data-p-disabled":o.disabled},v("container"));return h.createElement("ul",Me,K,Ce)},Zt=function(){if(o.dropdown){var $=o.dropdownAriaLabel||o.placeholder||Ja("choose");return h.createElement(gp,{type:"button",icon:o.dropdownIcon||h.createElement(hp,null),className:b("dropdownButton"),disabled:o.disabled,onClick:Re,"aria-label":$,pt:v("dropdownButton"),__parentMetadata:{parent:I}})}return null},Jt=function(){if(f){var $=r({className:b("loadingIcon")},v("loadingIcon")),K=o.loadingIcon||h.createElement(eu,Mt({},$,{spin:!0})),Ce=Ar.getJSXIcon(K,Za({},$),{props:o});return Ce}return null},ut=function(){return o.multiple?Ft():Qe()},Wt=s+"_list",jr=ve.isNotEmpty(o.tooltip),Qt=No.getOtherProps(o),er=ve.reduceKeys(Qt,oe.ARIA_PROPS),cr=Jt(),tr=ut(),kr=Zt(),Ut=r({id:s,ref:k,style:o.style,className:Fe(o.className,b("root",{focusedState:x}))},Qt,v("root"));return h.createElement(h.Fragment,null,h.createElement("span",Ut,tr,cr,kr,h.createElement(rp,Mt({hostName:"AutoComplete",ref:M,virtualScrollerRef:R},o,{listId:Wt,onItemClick:B,selectedItem:F,onOverlayHide:X,onClick:ae,getOptionGroupLabel:lt,getOptionGroupChildren:tt,in:T,onEnter:le,onEntering:xe,onEntered:Te,onExit:De,onExited:Ae,ptm:v,cx:b,sx:m}))),jr&&h.createElement(mp,Mt({target:k,content:o.tooltip,pt:v("tooltip")},o.tooltipOptions)))}));np.displayName="AutoComplete";const hj=({paramsData:e,headerData:t,save:r,close:n,properties:o})=>{const[a,i]=h.useState(e),[s,l]=h.useState(t),[u]=h.useState({}),[d,f]=h.useState(o||[]);h.useEffect(()=>{i(e),l(t)},[e,t]);const p=(C,v,b)=>{if(b=="params"){const m=[...a];m[v]={...m[v],value:C.target.value},i(m)}else if(b=="headers"){const m=[...s];m[v]={...m[v],value:C.target.value},l(m)}},g=C=>{const v=d.filter(b=>b.toLowerCase().includes(C.query));f(v)},y=(C,v,b)=>{const{name:m,value:S}=C.target,k=b==="params"?[...a]:[...s];k[v]={...k[v],[m]:S},m==="valueType"&&(k[v].value=S==="date"?new Date:""),b==="params"?i(k):l(k)},x=C=>{const v={key:"",valueType:"",value:""};C==="params"?i(b=>[...b,v]):l(b=>[...b,v])},E=(C,v)=>{const b=v==="params"?a.filter((m,S)=>S!==C):s.filter((m,S)=>S!==C);v==="params"?i(b):l(b)},j=()=>{r(a,s)},D=()=>{r(a,s),n()},T=()=>c.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>w(),children:"Close"}),w=()=>{const C=document.querySelector(".p-datepicker");C&&(C.style.visibility="hidden")},I=(C,v,b)=>c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-800 mb-2 py-2 ",children:[c.jsx("div",{className:"min-w-[200px] px-4 rounded ",children:c.jsx("div",{className:"form-group",children:c.jsx("span",{className:"text-white font-bold",children:"Key"})})}),c.jsx("div",{className:"min-w-[200px] px-4 rounded",children:c.jsx("div",{className:"form-group",children:c.jsx("span",{className:"text-white font-bold",children:"Value Type"})})}),c.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded",children:c.jsx("div",{className:"form-group",children:c.jsx("span",{className:"text-white font-bold",children:"Value"})})}),c.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded flex justify-end",children:c.jsx("div",{className:"form-group",children:c.jsx("span",{className:"text-white font-bold",children:"Delete"})})})]}),C.map((m,S)=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2 bg-gray-800",children:[c.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded ",children:c.jsxs("div",{className:"form-group",children:[c.jsx("input",{title:`${b} key`,placeholder:`${b} key`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"key",value:m.key,onChange:k=>y(k,S,v)}),u[`key-${S}`]&&c.jsx("small",{className:"text-red-500",children:u[`key-${S}`]})]})}),c.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded",children:c.jsxs("div",{className:"form-group",children:[c.jsxs("select",{title:"Value Type",value:m.valueType,onChange:k=>y(k,S,v),className:"w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",name:"valueType",children:[c.jsx("option",{value:"",children:"Select Value Type"}),kp.map(k=>c.jsx("option",{value:k.toLowerCase(),children:k.charAt(0).toUpperCase()+k.slice(1)},k))]}),u[`valueType-${S}`]&&c.jsx("small",{className:"text-red-500",children:u[`valueType-${S}`]})]})}),c.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded",children:c.jsxs("div",{className:"form-group",children:[(!m.valueType||m.valueType!=="date"&&m.valueType!=="number"&&m.valueType!=="header"&&m.valueType!=="param")&&c.jsx("input",{title:`${b} Value`,placeholder:`${b} Value`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:m.value,onChange:k=>y(k,S,v)}),m.valueType&&m.valueType==="number"&&c.jsx("input",{title:`${b} Value`,placeholder:`${b} Value`,type:"number",maxLength:50,className:"appearance-none w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:m.value,onChange:k=>y(k,S,v),style:{MozAppearance:"textfield"}}),m.valueType&&(m.valueType==="date"||m.valueType==="time")&&c.jsx(Ln,{tooltipOptions:{position:"top"},showIcon:!0,placeholder:"Date",value:m.value||null,onChange:k=>y(k,S,v),showTime:m.valueType!==Se.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:Se.TIME===m.valueType,autoZIndex:!0,footerTemplate:T,showButtonBar:!0}),m.valueType&&(m.valueType==="param"||m.valueType==="header")&&c.jsx(np,{value:m.value,suggestions:d,completeMethod:g,onChange:k=>p(k,S,v),dropdown:!0}),u[`value-${S}`]&&c.jsx("small",{className:"text-red-500",children:u[`value-${S}`]})]})}),c.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded flex justify-end items-center",children:C.length&&c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold",onClick:k=>{k.stopPropagation(),E(S,v)},children:""})})]},S)),c.jsxs("button",{className:"ml-1 px-3 py-1 font-semibold text-white btn-primary-custom rounded flex items-center",onClick:()=>x(v),children:[c.jsx("svg",{className:"w-5 h-5 mr-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add ",b.slice(0,-1)]})]});return c.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:c.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[c.jsx("h5",{className:"modal-title text-lg font-bold",children:"HTTP Params"}),c.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:n,children:""})]})}),c.jsxs("div",{className:"overflow-y-auto p-4 mt-16 mb-20",children:[I(a,"params","Params"),I(s,"headers","Headers")]}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:c.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[c.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:j,children:[c.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),c.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:D,children:"Save & Close"})]})})]})},vj=h.memo(hj),yj=({checked:e,onChange:t,className:r,size:n=20,...o})=>c.jsx("input",{type:"checkbox",checked:e,onChange:t,className:r,style:{width:n,height:n},...o}),bj=({id:e,data:t})=>{const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i,edges:s}=t,[l,u]=h.useState({...r.data}),[d,f]=h.useState(!1),[p,g]=h.useState([]);i.forEach(m=>m.type==="question");const y=()=>{a(i.map(m=>({...m,selected:!1})))};h.useEffect(()=>{const m=Ep(r.id,s,i),S=Np(m);g(S)},[i]);const x=(m,S)=>{delete r.data.errors;const k={...r.data,[m]:S};u(k),o(r.id,k)},E=m=>{delete r.data.errors;const S=m.target.value;x("requestType",S)},j=(m,S,k)=>{delete r.data.errors;const{statusWiseFlow:M,...P}=r.data;M[m][S]=k;const N={...P,statusWiseFlow:M};u(N),o(r.id,N)},D=m=>{delete r.data.errors;const S={key:"",valueType:"",value:""},k={...l,[m]:[...l[m]||[],S]};u(k),o(r.id,k),f(!0)},T=(m,S)=>{delete r.data.errors;let k;S=="params"?k=l.params?.filter((P,N)=>N!==m):k=l.headers?.filter((P,N)=>N!==m);const M={...l,[S]:k};u(M),o(r.id,M)},w=()=>{delete r.data.errors;const m={id:$r(),statusCode:""},S={...l,statusWiseFlow:[...l.statusWiseFlow||[],m]};u(S),o(r.id,S)},I=m=>{delete r.data.errors;const S=l.statusWiseFlow?.filter((M,P)=>P!==m),k={...l,statusWiseFlow:S};u(k),o(r.id,k)},C=(m,S)=>{delete r.data.errors;const k={...l,params:m,headers:S};u(k),o(r.id,k)},v=()=>f(!1),b=()=>f(!0);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data?.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"HTTP Node"}),c.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:""})]}),c.jsxs("div",{className:"py-2 px-2",children:[c.jsx("div",{className:"mb-2",title:"Property Name",children:c.jsx("input",{type:"text",placeholder:"Property Name",value:l.property,onClick:y,onChange:m=>x("property",m.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsx("div",{className:"mb-2",title:"Display Text",children:c.jsx("input",{type:"text",placeholder:"Display Text",value:l.displayText,onClick:y,onChange:m=>x("displayText",m.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsx("div",{className:"mb-2",title:"URL",children:c.jsx("input",{type:"text",placeholder:"URL",value:l.url,onClick:y,onChange:m=>x("url",m.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsx("div",{className:"mb-2",children:c.jsxs("select",{title:"Request Type",value:l.requestType,onClick:y,onChange:E,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Select Request Type"}),Dp.map(m=>c.jsx("option",{value:m,children:m.charAt(0).toUpperCase()+m.slice(1)},m))]})}),c.jsx("div",{className:"mb-2",children:c.jsx(Hp,{label:"Hide Data",className:"text-white cursor-pointer",children:c.jsx(yj,{checked:l.hideData,onChange:m=>x("hideData",m.target.checked),size:28})})}),l.params.map((m,S)=>c.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:c.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:m.key||m.valueType||m.value?`${m.key} - ${m.valueType??""} - ${m.value??""}`:"HTTP Request Param",children:[c.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:c.jsxs("div",{className:"flex min-w-0",children:[c.jsxs("svg",{onClick:()=>b(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:m.key||m.valueType||m.value?`${m.key} - ${m.valueType??""} - ${m.value??""}`:"Param"})]})}),l.params.length&&c.jsx("div",{children:c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:k=>{k.stopPropagation(),T(S,"params")},children:""})})]})},S)),r.data.errors?.params?.length>0&&c.jsx("small",{className:"text-red-500",children:"Errors in Params"}),c.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>D("params"),children:[c.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Param"]}),l.headers?.map((m,S)=>c.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:c.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:m.key||m.valueType||m.value?`${m.key} - ${m.valueType??""} - ${m.value??""}`:"HTTP Request Header",children:[c.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:c.jsxs("div",{className:"flex min-w-0",children:[c.jsxs("svg",{onClick:()=>b(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:m.key||m.valueType||m.value?`${m.key} - ${m.valueType??""} - ${m.value??""}`:"Header"})]})}),l.headers.length&&c.jsx("div",{children:c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:k=>{k.stopPropagation(),T(S,"headers")},children:""})})]})},S)),r.data.errors?.headers?.length>0&&c.jsx("small",{className:"text-red-500",children:"Errors in Headers"}),c.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>D("headers"),children:[c.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Header"]}),c.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[c.jsx("div",{className:"col-span-10",title:"Success",children:c.jsx("input",{readOnly:!0,type:"text",value:"Success",onClick:y,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),c.jsx(je,{type:"source",position:Z.Right,id:l.successFlowId})]}),c.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[c.jsx("div",{className:"col-span-10",title:"Fail",children:c.jsx("input",{readOnly:!0,type:"text",value:"Fail",onClick:y,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),c.jsx(je,{type:"source",position:Z.Right,id:l.failureFlowId})]}),l.statusWiseFlow?.map((m,S)=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[c.jsx("div",{className:"col-span-10",title:"Fail Status Message",children:c.jsx("input",{type:"text",placeholder:"Status Message",value:m.statusCode,onClick:y,onChange:k=>j(S,"statusCode",k.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),c.jsx("div",{className:"col-span-2",title:"Delete",children:c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center w-[25px] w-[25px]",onClick:k=>{k.stopPropagation(),I(S)},children:""})}),c.jsx(je,{type:"source",position:Z.Right,id:m.id})]},S)})),r.data.errors?.statusWiseFlow?.length>0&&c.jsx("small",{className:"text-red-500",children:"Errors in statusWiseFlow"}),c.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:w,children:[c.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add More Status"]})]}),c.jsx(je,{type:"target",position:Z.Top,id:e})]}),c.jsx(fn,{header:"Edit HTTP Params",visible:d,style:{width:"600px"},onHide:v,children:c.jsx(vj,{save:C,paramsData:l.params||[],headerData:l.headers||[],close:v,properties:p})})]})},xj=h.memo(bj),wj=({data:e,id:t})=>{const{onDelete:r}=e;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:c.jsxs("div",{className:"flex justify-between items-center pb-2 py-2 px-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Lead Flow"}),c.jsx("button",{title:"Delete Lead Flow Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:""})]})}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"})]})},Cj=h.memo(wj),Sj=({data:e,id:t})=>{const{onDelete:r}=e;return c.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Lead Form"}),c.jsx("button",{title:"Delete Lead Form Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:""})]}),c.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:c.jsx("p",{className:"nodrag",children:"This will display lead form for the visitor"})}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"})]})},jj=h.memo(Sj),kj=({id:e,data:t})=>{const{node:r,onDelete:n,handleChange:o}=t,a=(i,s)=>{delete r.data.errors;const l={...r.data,[i]:s};o(r.id,l)};return c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data?.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Google Maps"}),c.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:""})]}),c.jsxs("div",{className:"py-2 px-2",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx(kt,{maxLength:500,message:r.data.message,onChange:i=>a("message",i)}),r.data?.errors?.message&&c.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("input",{title:"Map Url",type:"text",value:r.data.url,onChange:i=>a("url",i.target.value),placeholder:"Google Maps URL",className:"nodrag w-full p-1 rounded-md border border-gray-600 bg-gray-700 text-white"}),r.data?.errors?.url&&c.jsx("small",{className:"text-red-500",children:r.data.errors.url})]})]}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Ej=h.memo(kj),Nj=({data:e})=>{const{node:t,handleChange:r,onDelete:n,setNodes:o}=e,[a,i]=h.useState(!1),s=h.useRef(null),l=h.useCallback(()=>{o(p=>p.map(g=>g.selected?{...g,selected:!1}:g))},[o]),u=()=>{i(!0),l()},d=p=>{delete t.data.errors;const g={...t,data:{...t.data,message:p}};r(t.id,g.data)},f=h.useCallback(p=>{s.current&&!s.current.contains(p.target)&&i(!1)},[]);return h.useEffect(()=>(document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)),[f]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:s,className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${t.data.errors&&Object.keys(t.data.errors).length?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Message"}),c.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",title:"Delete Message Node",onClick:p=>{p.stopPropagation(),n(t.id)},children:""})]}),c.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[a?c.jsx(kt,{message:t.data.message,onChange:d,onClick:l}):c.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onDoubleClick:u,title:"Double Click ro Enter/Edit the Message",children:[c.jsx("span",{children:t.data.message||"Enter your message"}),c.jsx("svg",{className:"w-4 h-4 text-white ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})})]}),t.data.errors&&c.jsx("small",{className:"text-red-500",children:t.data.errors.message})]})]}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Dj=h.memo(Nj),Ij=({optionsData:e,save:t,close:r})=>{const[n,o]=h.useState(e),[a,i]=h.useState({});h.useEffect(()=>{o(m=>({...m,subOptions:n.dataSource?[e.subOptions[0]]:e.subOptions}))},[e,n.dataSource]);const s=m=>{const{name:S,value:k}=m.target;o({...n,[S]:k})},l=(m,S,k)=>{if(o({...n,message:m}),S&&(k||k==0)){const M=[...n.subOptions],P={...M[k]};P[S]=m,M[k]=P,o({...n,subOptions:M})}},u=(m,S)=>{const k=rn(m,S);i(M=>({...M,[m]:k}))},d=(m,S,k)=>{const M=rn(S,k);i(P=>({...P,subOptions:{...P.subOptions,[m]:{...P.subOptions?.[m],[S]:M}}}))},f=(m,S)=>{const{name:k,value:M}=S.target,P=[...n.subOptions],N={...P[m]};N[k]=M,P[m]=N,o({...n,subOptions:P})},p=(m,S)=>{const{value:k}=S.target,M=[...n.subOptions];M[m].category=k,o({...n,subOptions:M})},g=(m,S)=>{f(m,{...S,target:{name:"isLink",value:S}})},y=(m,S)=>{const{value:k}=S.target,M=[...n.subOptions];M[m].selectedMOG=k,o({...n,subOptions:M})},x=m=>{const S=n.subOptions.map((k,M)=>M===m?{...k,isCollapsed:!k.isCollapsed}:k);o({...n,subOptions:S})},E=()=>{o({...n,subOptions:[...n.subOptions,{id:$r(),title:"",subTitle:"",imageUrl:"",value:"",category:"",description:"",isLink:!1,leadEmailTo:"",leadEmailCc:[]}]})},j=(m,S)=>{if(["Enter","Tab",","].includes(S.key)){S.preventDefault();const k=S.currentTarget.value.trim();k&&(D(n.subOptions[m].id,k),S.currentTarget.value="")}},D=(m,S)=>{const k=n.subOptions.find(M=>M.id===m);k&&(Ro(S)?k.leadEmailTo.includes(S)?i(M=>({...M,subOptions:{...M.subOptions,[m]:{...M.subOptions?.[m],leadEmailCc:"This email is already in Lead Email To."}}})):(o({...n,subOptions:n.subOptions.map(M=>M.id===m?{...M,leadEmailCc:[...M.leadEmailCc,S]}:M)}),i(M=>({...M,subOptions:{...M.subOptions,[m]:{...M.subOptions?.[m],leadEmailCc:""}}}))):i(M=>({...M,subOptions:{...M.subOptions,[m]:{...M.subOptions?.[m],leadEmailCc:"Invalid email address"}}})))},T=(m,S)=>{S.preventDefault();const M=S.clipboardData.getData("text").split(/[ ,;]/).map(O=>O.trim()).filter(O=>O!==""),P=n.subOptions.find(O=>O.id===m);if(!P)return;if(M.filter(O=>!Ro(O)).length>0){i(O=>({...O,subOptions:{...O.subOptions,[m]:{...O.subOptions?.[m],leadEmailCc:"Invalid email address"}}}));return}if(M.filter(O=>P.leadEmailTo.includes(O)).length>0){i(O=>({...O,subOptions:{...O.subOptions,[m]:{...O.subOptions?.[m],leadEmailCc:"Some emails are already in Lead Email To"}}}));return}o({...n,subOptions:n.subOptions.map(O=>O.id===m?{...O,leadEmailCc:[...O.leadEmailCc,...M]}:O)}),i(O=>({...O,subOptions:{...O.subOptions,[m]:{...O.subOptions?.[m],leadEmailCc:""}}}))},w=(m,S)=>{o({...n,subOptions:n.subOptions.map(k=>k.id===m?{...k,leadEmailCc:k.leadEmailCc.filter(M=>M!==S)}:k)})},I=m=>{o({...n,subOptions:n.subOptions.filter((S,k)=>k!==m)})},C=()=>{t(n)},v=()=>{n.subOptions.forEach(m=>{m.isCollapsed=!0}),t(n),r()},b=(m,S=20)=>{if(!m)return null;const k=xp[m];return k?c.jsx(k,{size:S,className:"text-blue-400"}):null};return c.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:c.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[c.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),c.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:""})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Display Text"}),c.jsx("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:n.fieldLabel,onChange:s,onBlur:m=>u("fieldLabel",m.target.value)}),a.fieldLabel&&c.jsx("small",{className:"text-red-500",children:a.fieldLabel})]})}),c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Property Name"}),c.jsx("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:n.property,onChange:s,onBlur:m=>u("property",m.target.value)}),a.property&&c.jsx("small",{className:"text-red-500",children:a.property})]})}),c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Message"}),c.jsx(kt,{maxLength:300,message:n.message,onChange:m=>l(m),onBlur:m=>u("message",m)}),a.message&&c.jsx("small",{className:"text-red-500",children:a.message})]})}),c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Fall back"}),c.jsx("input",{title:"Fallback",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fallback",value:n.fallback,onChange:s,onBlur:m=>u("fallback",m.target.value)}),a.fallback&&c.jsx("small",{className:"text-red-500",children:a.fallback})]})}),c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Data Source"}),c.jsx("input",{title:"DataSource",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"dataSource",value:n.dataSource,onChange:s,onBlur:m=>u("dataSource",m.target.value)}),a.dataSource&&c.jsx("small",{className:"text-red-500",children:a.dataSource})]})})]}),n.subOptions?.map((m,S)=>c.jsxs("div",{className:"accordion px-2 mb-2",children:[c.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>x(S),children:[c.jsx("span",{className:"mr-3",children:m.isCollapsed?c.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):c.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsxs("div",{className:"flex items-center flex-1",children:[m.selectedMOG&&c.jsx("span",{className:"mr-2",children:b(m.selectedMOG)}),c.jsx("span",{children:m.title||`Sub Option ${S+1}`})]}),n.subOptions.length>1&&c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:k=>{k.stopPropagation(),I(S)},children:""})]}),!m.isCollapsed&&c.jsxs("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:[c.jsx("div",{className:"mb-2",children:c.jsx(Wp,{label:"Link",checked:m.isLink,onChange:k=>g(S,k),className:"text-white cursor-pointer"})}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Select Icon (MOG)"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("select",{title:"Select MOG",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",value:m.selectedMOG||"",onChange:k=>y(S,k),style:{height:"32px"},children:bp.map(k=>c.jsx("option",{value:k.value,children:k.label},k.value))}),m.selectedMOG&&c.jsx("div",{className:"flex-shrink-0",children:b(m.selectedMOG,24)})]})]})}),c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Title"}),c.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:m.title,onChange:k=>f(S,k),onBlur:k=>d(S,"title",k.target.value)}),a.subOptions?.[S]?.title&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.title})]})}),c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Sub Title"}),c.jsx("input",{title:"Sub Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"subTitle",value:m.subTitle,onChange:k=>f(S,k),onBlur:k=>d(S,"subTitle",k.target.value)}),a.subOptions?.[S]?.subTitle&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.subTitle})]})}),c.jsx("div",{className:"min-w-[200px",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:m.isLink?"URL":"Value"}),c.jsx("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:m.value,onChange:k=>f(S,k),onBlur:k=>d(S,"value",k.target.value)}),a.subOptions?.[S]?.value&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.value})]})}),c.jsx("div",{className:"min-w-[200px",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Image url"}),c.jsx("input",{title:"Image Url",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"imageUrl",value:m.imageUrl,onChange:k=>f(S,k),onBlur:k=>d(S,"imageUrl",k.target.value)}),a.subOptions?.[S]?.value&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.value})]})}),!n.dataSource&&!m.isLink&&c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Select Category"}),c.jsxs("select",{title:"Select Category",style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",value:m.category,onChange:k=>p(S,k),onBlur:k=>d(S,"category",k.target.value),children:[c.jsx("option",{value:"",children:"Select Category"}),c.jsx("option",{value:"preSale",children:"Presale"}),c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"others",children:"Others"})]}),a.subOptions?.[S]?.category&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.category})]})}),!m.isLink&&c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Lead Email To"}),c.jsx("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:m.leadEmailTo,onChange:k=>f(S,k),onBlur:k=>d(S,"leadEmailTo",k.target.value)}),a.subOptions?.[S]?.leadEmailTo&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.leadEmailTo})]})}),!m.isLink&&c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:" Lead Email Cc"}),c.jsxs("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[m.leadEmailCc.map(k=>c.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[k,c.jsx("button",{type:"button",onClick:()=>w(m.id,k),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:""})]},k)),c.jsx("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:k=>d(S,"leadEmailCc",k.target.value),onKeyDown:k=>j(S,k),onPaste:k=>T(m.id,k)})]}),a.subOptions?.[S]?.leadEmailCc&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.leadEmailCc})]})}),c.jsx("div",{className:"min-w-[200px",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Description"}),c.jsx(kt,{maxLength:300,message:m.description,onChange:k=>l(k,"description",S),onBlur:k=>u("description",k)}),a.subOptions?.[S]?.description&&c.jsx("small",{className:"text-red-500",children:a.subOptions[S]?.description})]})})]})]})]},S)),!n.dataSource&&c.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:E,children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:c.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[c.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:C,children:[c.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),c.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:v,children:"Save & Close"})]})})]})},Tj=h.memo(Ij),Pj=({subOption:e,index:t,onDelete:r,expandToEdit:n,length:o})=>c.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:c.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[c.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:c.jsxs("div",{className:"flex min-w-0",children:[c.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Sub Option"})]})}),o>1&&c.jsx("div",{children:c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:a=>{a.stopPropagation(),r(t)},children:""})})]})}),Oj=h.memo(Pj),Mj=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:o}=e,[a,i]=h.useState(!1),[s,l]=h.useState(!1),[u,d]=h.useState({}),[f,p]=h.useState(r.data),[g,y]=h.useState(r.data.message),x=(v,b)=>{const m=rn(v,b);d(S=>({...S,[v]:m}))},E=(v,b)=>{delete r.data.errors;const m={...f,[v]:b};p(m),o(r.id,m)},j=()=>{delete r.data.errors;const v={id:$r(),title:"",subTitle:"",value:"",imageUrl:"",category:"",description:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1,isLink:!1},b={...f,subOptions:[...f.subOptions,v]};p(b),o(r.id,b),i(!0)},D=v=>{delete r.data.errors;const b=f.subOptions.filter((S,k)=>k!==v),m={...f,subOptions:b};p(m),o(r.id,m)},T=v=>{const b={...v,subOptions:v.subOptions.map(m=>({...m}))};y(Math.random().toString()),p(b),o(r.id,b)},w=()=>i(!1),I=v=>{f.subOptions.forEach(b=>{b.isCollapsed=!0}),f.subOptions[v].isCollapsed=!1,i(!0)},C=v=>{const{source:b,destination:m}=v;if(!m)return;const S=Array.from(f.subOptions),[k]=S.splice(b.index,1);S.splice(m.index,0,k);const M={...f,subOptions:S};p(M),o(r.id,M)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Option"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(v=>!v),children:c.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:c.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),c.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:""})]})]}),!s&&c.jsxs("div",{className:"space-y-2 py-2 px-2",children:[c.jsxs("div",{children:[c.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:f.fieldLabel,onChange:v=>E("fieldLabel",v.target.value),onBlur:v=>x("fieldLabel",v.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.fieldLabel&&c.jsx("small",{className:"text-red-500",children:u.fieldLabel})]}),c.jsxs("div",{children:[c.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:f.property,onChange:v=>E("property",v.target.value),onBlur:v=>x("property",v.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.property&&c.jsx("small",{className:"text-red-500",children:u.property})]}),c.jsxs("div",{children:[c.jsx(kt,{maxLength:300,message:f.message,onChange:v=>E("message",v)},g),u.message&&c.jsx("small",{className:"text-red-500",children:u.message})]}),c.jsxs("div",{children:[c.jsx("input",{title:"Fall back",type:"text",maxLength:50,value:f.fallback,placeholder:"Fall back",onChange:v=>E("fallback",v.target.value),onBlur:v=>x("fallback",v.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.fallback&&c.jsx("small",{className:"text-red-500",children:u.fallback})]}),c.jsx(Bs,{onDragEnd:C,children:c.jsx(zs,{droppableId:"subOptions",children:v=>c.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-2",children:[f.subOptions.map((b,m)=>c.jsxs("div",{className:"nodrag relative subOption-wrapper",children:[c.jsx($s,{draggableId:b.id,index:m,children:S=>c.jsx("div",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:{...S.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:c.jsx(Oj,{subOption:b,index:m,onDelete:D,length:f.subOptions.length,expandToEdit:I},m)})},b.id),c.jsx(je,{type:"source",position:Z.Right,id:b.id})]},m)),v.placeholder]})})}),c.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:j,children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),c.jsx(je,{type:"target",position:Z.Top,id:t}),c.jsx(fn,{header:"Header",visible:a,style:{width:"100vw"},onHide:()=>{a&&w()},children:c.jsx(Tj,{save:T,optionsData:f,close:w})})]})},Rj=h.memo(Mj),Aj=({id:e,data:t})=>{const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i}=t,[s,l]=h.useState({}),u=()=>{a(i.map(p=>({...p,selected:!1})))},d=(p,g)=>{delete r.data.errors;const y={...r.data,[p]:g};o(r.id,y)},f=p=>{delete r.data.errors,p.target.value?s.callConnectId&&l(y=>{const x={...y};return delete x.callConnectId,x}):l(y=>({...y,callConnectId:"Call Connect Name is Mandatory"}));const g=p.target.value;d("otpType",g)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg ",children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"OTP Node"}),c.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:""})]}),c.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx(kt,{maxLength:500,message:r.data.message,onChange:p=>d("message",p),onClick:u}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.message&&c.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("select",{title:"OTP Type",value:r.data.otpType,onClick:u,onChange:f,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Please select OTP type"}),c.jsx("option",{value:"phoneNumber",children:" Mobile Number"},"phoneNumber"),c.jsx("option",{value:"email",children:"Email"},"email")]}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.otpType&&c.jsx("small",{className:"text-red-500",children:r.data.errors.otpType})]})]})]}),c.jsx(je,{id:"target",type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{id:"source",type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Lj=h.memo(Aj),Fj=({id:e,data:t})=>{const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i}=t,[s,l]=h.useState({}),u=h.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),d=h.useMemo(()=>{const w=new Date;return w.setMonth(w.getMonth()+3),w.setHours(23,59,59,999),w},[]),[f,p]=h.useState({}),g=(w,I)=>{delete r.data.errors,l({});const C={...r.data,[w]:I};o(r.id,C)},y=()=>{a(i.map(w=>({...w,selected:!1})))},x=(w,I)=>{let C="";r.data.fieldType===Se.CUSTOM&&!I.trim()&&(C="Regex pattern is required for custom type."),l(v=>({...v,[w]:C}))},E=w=>{delete r.data.errors,w.target.value?s.fieldType&&l(m=>{const S={...m};return delete S.fieldType,S}):l(m=>({...m,fieldType:"Question Type is Mandatory"}));const I=w.target.value,{min:C,max:v}=j(I),b={...r.data,fieldType:I,min:C,max:v,custom:""};o(r.id,b)},j=h.useCallback(w=>{switch(w){case Se.CUSTOM:return p({min:"Custom Expression",max:""}),{min:"",max:""};case Se.STRING:return p({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case Se.NUMBER:return p({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case Se.DATE:return p({min:"Min Date",max:"Max Date"}),{min:"",max:""};case Se.DATETIME:return p({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case Se.TIME:return p({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),D=()=>{const w=document.querySelector(".p-datepicker");w&&(w.style.visibility="hidden")},T=()=>c.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>D(),children:"Close"});return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data?.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Question Node"}),c.jsx("button",{title:"Delete Question Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:""})]}),c.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[c.jsx("div",{className:"mb-2",title:"Field Label",children:c.jsx("input",{type:"text",placeholder:"Field Label",value:r.data.fieldLabel||"",onClick:y,onChange:w=>g("fieldLabel",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsxs("div",{className:"mb-2",title:"Property Name (Alphanumeric, no spaces)",children:[c.jsx("input",{type:"text",placeholder:"Property Name (Alphanumeric, no spaces)",value:r.data.property||"",onClick:y,onChange:w=>g("property",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.property&&c.jsx("small",{className:"text-red-500",children:r.data.errors.property})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx(kt,{maxLength:500,message:r.data.message,onChange:w=>g("message",w)}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.message&&c.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("select",{title:"Field Type",value:r.data.fieldType,onClick:y,onChange:E,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Select Field Type"}),nu.map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))]}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.fieldType&&c.jsx("small",{className:"text-red-500",children:r.data.errors.fieldType})]}),c.jsxs("div",{className:"mb-2",children:[[Se.STRING,Se.NUMBER].includes(r.data.fieldType)&&c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsx("input",{title:f.min||"Min Length",type:"number",placeholder:f.min,value:r.data.min||"",onChange:w=>g("min",w.target.value),onClick:y,className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13}),c.jsx("input",{title:f.max||"Max Length",type:"number",placeholder:f.max,value:r.data.max||"",onClick:y,onChange:w=>g("max",w.target.value),className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13})]}),[Se.DATE,Se.DATETIME,Se.TIME].includes(r.data.fieldType)&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-2",children:c.jsxs("select",{title:"Date Format",value:r.data.dateFormat,onClick:y,onChange:w=>g("dateFormat",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Select Date Format"}),ou.map(w=>c.jsx("option",{value:w,children:w},w))]})}),c.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[c.jsx(Ln,{tooltip:f.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:f.min||"Min",minDate:u,maxDate:d,value:r.data.min||null,onFocus:y,onChange:w=>g("min",w.value),showTime:r.data.fieldType!==Se.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded small-calendar",timeOnly:Se.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:T,showButtonBar:!0}),c.jsx(Ln,{tooltip:f.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,placeholder:f.max||"Max",minDate:r.data.min||u,maxDate:d,value:r.data.max||null,onFocus:y,onChange:w=>g("max",w.value),showTime:r.data.fieldType!==Se.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:Se.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:T,showButtonBar:!0})]})]}),r.data.fieldType===Se.CUSTOM&&c.jsxs(c.Fragment,{children:[c.jsx("input",{title:"Custom Expression",type:"text",placeholder:f.min||"Custom Expression",value:r.data.custom||"",onClick:y,onBlur:w=>x("custom",w.target.value),onChange:w=>g("custom",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded mt-2"}),r.data.errors?.custom&&c.jsx("small",{className:"text-red-500",children:r.data.errors.custom})]}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.answer&&c.jsx("small",{className:"text-red-500",children:r.data.errors.answer})]}),r.data.fieldType&&c.jsx("div",{className:"mb-2",children:c.jsx(kt,{maxLength:500,placeHolder:"Error Message",message:r.data.errorMessage,onChange:w=>g("errorMessage",w)})})]})]}),c.jsx(je,{id:"target",type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"}),c.jsx(je,{id:"source",type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Bj=h.memo(Fj),_j=({data:e})=>{const{message:t}=e.node.data;return c.jsxs("div",{className:"flow-node bg-gray-800 text-white p-2 rounded-md shadow-lg",children:[c.jsx("div",{className:"custom-node-body text-center",children:t}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},$j=h.memo(_j),zj=({data:e,id:t})=>{const{onDelete:r,stop:n}=e;return c.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Stop"}),c.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete Stop Node",onClick:()=>r(t),children:""})]}),c.jsx("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:n||"The chat will stop here"}),c.jsx(je,{type:"target",position:Z.Top,className:"w-2 h-2 bg-white border-none"})]})},Hj=({urlData:e,save:t,close:r})=>{const[n,o]=h.useState(e),[a,i]=h.useState({}),s=w=>{const{name:I,value:C}=w.target;o({...n,[I]:C})},l=(w,I)=>{const C=rn(w,I);i(v=>({...v,[w]:C}))},u=(w,I,C)=>{const v=rn(I,C);i(b=>({...b,subUrl:{...b.subUrl,[w]:{...b.subOptions?.[w],[I]:v}}}))},d=(w,I)=>{const{name:C,value:v}=I.target,b=[...n.subUrls],m={...b[w]};m[C]=v,b[w]=m,o({...n,subUrls:b})},f=w=>{if(w===n.subUrls.length-1)return;const I=n.subUrls.map((C,v)=>v===w?{...C,isCollapsed:!C.isCollapsed}:C);o({...n,subUrls:I})},p=()=>{const w=[...n.subUrls],I=w.pop();w.push({id:$r(),url:"",value:"",leadEmailTo:"",leadEmailCc:[]}),I&&w.push(I),o({...n,subUrls:w})},g=(w,I)=>{if(["Enter","Tab",","].includes(I.key)){I.preventDefault();const C=I.currentTarget.value.trim();C&&(y(n.subUrls[w].id,C),I.currentTarget.value="")}},y=(w,I)=>{const C=n.subUrls.find(v=>v.id===w);C&&(Ro(I)?C.leadEmailTo.includes(I)?i(v=>({...v,subOptions:{...v.subOptions,[w]:{...v.subOptions?.[w],leadEmailCc:"This email is already in Lead Email To."}}})):(o({...n,subUrls:n.subUrls.map(v=>v.id===w?{...v,leadEmailCc:[...v.leadEmailCc,I]}:v)}),i(v=>({...v,subOptions:{...v.subOptions,[w]:{...v.subOptions?.[w],leadEmailCc:""}}}))):i(v=>({...v,subOptions:{...v.subOptions,[w]:{...v.subOptions?.[w],leadEmailCc:"Invalid email address"}}})))},x=(w,I)=>{I.preventDefault();const v=I.clipboardData.getData("text").split(/[ ,;]/).map(k=>k.trim()).filter(k=>k!==""),b=n.subUrls.find(k=>k.id===w);if(!b)return;if(v.filter(k=>!Ro(k)).length>0){i(k=>({...k,subOptions:{...k.subOptions,[w]:{...k.subOptions?.[w],leadEmailCc:"Invalid email address"}}}));return}if(v.filter(k=>b.leadEmailTo.includes(k)).length>0){i(k=>({...k,subUrl:{...k.subUrl,[w]:{...k.subUrl?.[w],leadEmailCc:"Some emails are already in Lead Email To"}}}));return}o({...n,subUrls:n.subUrls.map(k=>k.id===w?{...k,leadEmailCc:[...k.leadEmailCc,...v]}:k)}),i(k=>({...k,subOptions:{...k.subOptions,[w]:{...k.subOptions?.[w],leadEmailCc:""}}}))},E=(w,I)=>{o({...n,subUrls:n.subUrls.map(C=>C.id===w?{...C,leadEmailCc:C.leadEmailCc.filter(v=>v!==I)}:C)})},j=w=>{o({...n,subUrls:n.subUrls.filter((I,C)=>C!==w)})},D=()=>{t(n)},T=()=>{n.subUrls.forEach(w=>{w.isCollapsed=!0}),t(n),r()};return c.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:c.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[c.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),c.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:""})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Display Text"}),c.jsx("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:n.fieldLabel,onChange:s,onBlur:w=>l("fieldLabel",w.target.value)}),a.fieldLabel&&c.jsx("small",{className:"text-red-500",children:a.fieldLabel})]})}),c.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Property Name"}),c.jsx("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:n.property,onChange:s,onBlur:w=>l("property",w.target.value)}),a.property&&c.jsx("small",{className:"text-red-500",children:a.property})]})})]}),n.subUrls?.map((w,I)=>{const C=I===n.subUrls.length-1;return c.jsxs("div",{className:"accordion px-2 mb-2",children:[c.jsxs("div",{className:`accordion-header flex items-center p-1 border border-gray-600 rounded bg-gray-800 ${C?"cursor-not-allowed":"cursor-pointer hover:bg-gray-700"} transition-colors`,onClick:()=>!C&&f(I),children:[c.jsx("span",{className:"mr-3",children:C?c.jsxs("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]}):w.isCollapsed?c.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):c.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),c.jsx("span",{className:"flex-1",children:C?"Default":w.title||`Sub Option ${I+1}`}),!C&&n.subUrls.length>1&&c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:v=>{v.stopPropagation(),j(I)},children:""})]}),!C&&!w.isCollapsed&&c.jsx("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Url"}),c.jsx("input",{title:"Url",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"url",value:w.url,onChange:v=>d(I,v),onBlur:v=>u(I,"url",v.target.value)}),a.subOptions?.[I]?.url&&c.jsx("small",{className:"text-red-500",children:a.subOptions[I]?.url})]})}),c.jsx("div",{className:"min-w-[200px",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:w.isLink?"URL":"Value"}),c.jsx("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:w.value,onChange:v=>d(I,v),onBlur:v=>u(I,"value",v.target.value)}),a.subUrl?.[I]?.value&&c.jsx("small",{className:"text-red-500",children:a.subUrl[I]?.value})]})}),!w.isLink&&c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:"Lead Email To"}),c.jsx("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:w.leadEmailTo,onChange:v=>d(I,v),onBlur:v=>u(I,"leadEmailTo",v.target.value)}),a.subUrl?.[I]?.leadEmailTo&&c.jsx("small",{className:"text-red-500",children:a.subUrl[I]?.leadEmailTo})]})}),!w.isLink&&c.jsx("div",{className:"min-w-[200px]",children:c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"input-label",children:" Lead Email Cc"}),c.jsxs("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[w.leadEmailCc.map(v=>c.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[v,c.jsx("button",{type:"button",onClick:()=>E(w.id,v),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:""})]},v)),c.jsx("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:v=>u(I,"leadEmailCc",v.target.value),onKeyDown:v=>g(I,v),onPaste:v=>x(w.id,v)})]}),a.subUrl?.[I]?.leadEmailCc&&c.jsx("small",{className:"text-red-500",children:a.subUrl[I]?.leadEmailCc})]})})]})})]},I)}),c.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:p,children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:c.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[c.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:D,children:[c.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),c.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:T,children:"Save & Close"})]})})]})},Vj=h.memo(Hj),Gj=({subUrl:e,index:t,onDelete:r,expandToEdit:n,length:o})=>{const a=t===o-1;return c.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:c.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[c.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:c.jsxs("div",{className:"flex min-w-0",children:[a?c.jsxs("svg",{className:"min-w-4 w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]}):c.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),c.jsx("strong",{title:a?"Default":e.url,className:"text-sm grow min-w-0 break-words truncate",children:a?"Default":e.url?`${e.url}`:"Sub URL"})]})}),!a&&o>1&&c.jsx("div",{children:c.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2",onClick:i=>{i.stopPropagation(),r(t)},children:""})})]})})},Wj=h.memo(Gj),Uj=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:o}=e,[a,i]=h.useState(!1),[s,l]=h.useState(!1),[u,d]=h.useState({}),[f,p]=h.useState(r.data),[,g]=h.useState(r.data.message),y=(C,v)=>{const b=rn(C,v);d(m=>({...m,[C]:b}))},x=(C,v)=>{delete r.data.errors;const b={...f,[C]:v};p(b),o(r.id,b)},E=()=>{delete r.data.errors;const C=[...f.subUrls||[]],v=C.pop(),b={id:$r(),url:"",value:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1};C.push(b),v&&C.push(v);const m={...f,subUrls:C};p(m),o(r.id,m),i(!0)},j=C=>{delete r.data.errors;const v=f.subUrls.filter((m,S)=>S!==C),b={...f,subUrls:v};p(b),o(r.id,b)},D=C=>{const v={...C,subUrls:C.subUrls.map(b=>({...b}))};g(Math.random().toString()),p(v),o(r.id,v)},T=()=>i(!1),w=C=>{f.subUrls.forEach(v=>{v.isCollapsed=!0}),f.subUrls[C].isCollapsed=!1,i(!0)},I=C=>{const{source:v,destination:b}=C;if(!b||v.index===0||b.index===0)return;const m=Array.from(f.subUrls),[S]=m.splice(v.index,1);m.splice(b.index,0,S);const k={...f,subUrls:m};p(k),o(r.id,k)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"URL"}),c.jsxs("div",{className:"flex",children:[c.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(C=>!C),children:c.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:c.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),c.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:""})]})]}),!s&&c.jsxs("div",{className:"space-y-2 py-2 px-2",children:[c.jsxs("div",{children:[c.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:f.fieldLabel,onChange:C=>x("fieldLabel",C.target.value),onBlur:C=>y("fieldLabel",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.fieldLabel&&c.jsx("small",{className:"text-red-500",children:u.fieldLabel})]}),c.jsxs("div",{children:[c.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:f.property,onChange:C=>x("property",C.target.value),onBlur:C=>y("property",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.property&&c.jsx("small",{className:"text-red-500",children:u.property})]}),c.jsx(Bs,{onDragEnd:I,children:c.jsx(zs,{droppableId:"subUrls",children:C=>c.jsxs("div",{...C.droppableProps,ref:C.innerRef,className:"space-y-2",children:[f?.subUrls?.map((v,b)=>{const m=b===f.subUrls.length-1;return c.jsxs("div",{className:"nodrag relative subOption-wrapper",children:[c.jsx($s,{draggableId:v.id,index:b,isDragDisabled:m,children:S=>c.jsx("div",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:{...S.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:c.jsx(Wj,{subUrl:v,index:b,onDelete:j,length:f.subUrls.length,expandToEdit:w},b)})},v.id),c.jsx(je,{type:"source",position:Z.Right,id:v.id})]},b)}),C.placeholder]})})}),c.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:E,children:[c.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),c.jsx(je,{type:"target",position:Z.Top,id:t}),c.jsx(fn,{header:"Header",visible:a,style:{width:"100vw"},onHide:()=>{a&&T()},children:c.jsx(Vj,{save:D,urlData:f,close:T})})]})},qj=h.memo(Uj),Xj=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:o}=e,[a,i]=h.useState(!1),[s,l]=h.useState(r.data),u=(d,f)=>{delete r.data.errors;const p={...s,[d]:f};l(p),o(r.id,p)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[c.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>i(!a),children:"WhatsApp Flow"}),c.jsx("div",{className:"flex",children:c.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:""})})]}),!a&&c.jsxs("div",{className:"space-y-2 py-2 px-2",children:[c.jsx("div",{children:c.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:s.fieldLabel,onChange:d=>u("fieldLabel",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsxs("div",{children:[c.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:s.property,onChange:d=>u("property",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.property&&c.jsx("small",{className:"text-red-500",children:r.data.errors.property})]}),c.jsx("div",{children:c.jsx("input",{title:"Header",type:"text",maxLength:100,placeholder:"Header",value:s.header,onChange:d=>u("header",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsxs("div",{children:[c.jsx("input",{title:"Body",type:"text",maxLength:200,placeholder:"Body",value:s.body,onChange:d=>u("body",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.body&&c.jsx("small",{className:"text-red-500",children:r.data.errors.body})]}),c.jsx("div",{children:c.jsx("input",{title:"Footer",type:"text",maxLength:100,placeholder:"Footer",value:s.footer,onChange:d=>u("footer",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsx("div",{children:c.jsx("input",{title:"Flow Token",type:"text",maxLength:200,placeholder:"Flow Token",value:s.flow_token,onChange:d=>u("flow_token",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),c.jsxs("div",{children:[c.jsx("input",{title:"Flow ID",type:"text",maxLength:100,placeholder:"Flow ID",value:s.flow_id,onChange:d=>u("flow_id",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.flow_id&&c.jsx("small",{className:"text-red-500",children:r.data.errors.flow_id})]}),c.jsxs("div",{children:[c.jsxs("select",{title:"Flow Action",value:s.flow_action,onChange:d=>u("flow_action",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[c.jsx("option",{value:"",children:"Select Flow Action"}),c.jsx("option",{value:"navigate",children:"Navigate"}),c.jsx("option",{value:"data_exchange",children:"Data Exchange"})]}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.flow_action&&c.jsx("small",{className:"text-red-500",children:r.data.errors.flow_action})]}),c.jsxs("div",{children:[c.jsx("input",{title:"Submit Button",type:"text",maxLength:30,placeholder:"Submit Button (Max 30)",value:s.flow_cta,onChange:d=>u("flow_cta",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.flow_cta&&c.jsx("small",{className:"text-red-500",children:r.data.errors.flow_cta})]}),c.jsxs("div",{children:[c.jsx("input",{title:"First Screen",type:"text",maxLength:100,placeholder:"First Screen",value:s.screen,onChange:d=>u("screen",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.screen&&c.jsx("small",{className:"text-red-500",children:r.data.errors.screen})]}),c.jsxs("div",{children:[c.jsx("textarea",{rows:4,title:"Response Data",placeholder:"Response Data (JSON)",value:typeof s.responsedata=="object"?JSON.stringify(s.responsedata,null,2):s.responsedata,onChange:d=>u("responsedata",d.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded resize-none"}),r.data.errors&&Object.keys(r.data.errors)?.length>0&&r.data.errors.responsedata&&c.jsx("small",{className:"text-red-500",children:r.data.errors.responsedata})]})]})]}),c.jsx(je,{type:"target",position:Z.Top,id:t}),c.jsx(je,{type:"source",position:Z.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Yj=h.memo(Xj),Kj=e=>e.map(({id:t,type:r,data:n,position:o})=>(n.subOptions&&(n.subOptions=n.subOptions.map(a=>{const{...i}=a;return i})),{id:t,type:r,data:n,position:o})),Zj=(e,t,r={})=>{const n=e.slice(1),o=[],a=e.find(u=>u.type==="start"),i=t.find(u=>u.source===a?.id),s=i?i.target:"",l=n.map(u=>{const d=t.find(g=>g.source===u.id),f=d?d.target:null,p={flowId:u.id,nextFlowId:u.type!=="options"&&u.type!=="http"&&u.type!=="url"?f:"",type:u.type,content:u.data.message?.trim()||""};if((u.type==="options"||u.type==="question"||u.type==="url"||u.type==="whatsAppFlow")&&(p.fieldLabel=u.data.fieldLabel?.trim()),(u.type==="options"||u.type==="question"||u.type==="http"||u.type==="customForm"||u.type==="url"||u.type==="whatsAppFlow")&&(p.property=u.data.property?.trim()),u.type==="options"&&(p.meta={fallback:u.data.fallback?.trim(),dataSource:u.data.dataSource?.trim()}),u.type==="file"){const g=Ip(u.data.fileType);u.data.files.length>0?p.meta={type:g,media:u.data.files.map(y=>({name:y.name||"Unnamed file",url:y.url?.trim()||"",type:Ws(y.url?.trim())}))}:p.meta={type:g,media:u.data.urls.map(y=>({url:y?.trim()||"",type:Ws(y?.trim())}))}}if(u.type==="map"&&u.data.url&&(p.meta={url:u.data.url?.trim()}),u.type==="question"&&(u.data.fieldType==="number"||u.data.fieldType==="string"||u.data.fieldType==="age"?p.meta={min:u.data.min?parseInt(u.data.min):u.data.min,max:u.data.max?parseInt(u.data.max):u.data.max,type:u.data.fieldType}:u.data.fieldType==="date"?p.meta={min:u.data.min?lo(u.data.min,!0):u.data.min,max:u.data.max?lo(u.data.max,!1,!0):u.data.min,type:u.data.fieldType}:u.data.fieldType==="datetime"?p.meta={min:u.data.min?lo(u.data.min):u.data.min,max:u.data.max?lo(u.data.max):u.data.min,type:u.data.fieldType}:u.data.fieldType==="time"?p.meta={min:Us(u.data.min),max:Us(u.data.max),type:u.data.fieldType}:u.data.fieldType==="custom"?p.meta={custom:u.data.custom?.trim(),type:u.data.fieldType}:p.meta={type:u.data.fieldType},p.meta.dateFormat=u.data.dateFormat||"",p.meta.errorMessage=u.data.errorMessage||""),u.data.subOptions&&(p.children=u.data.subOptions.map(g=>{const y=t.find(x=>x.sourceHandle===g.id);return{id:g.id,flowId:g.id,isLink:g.isLink,title:g.title?.trim(),subTitle:g.subTitle?.trim(),imageUrl:g.imageUrl?.trim(),value:g.value?.trim(),category:g.category?.trim(),description:g.description,leadEmailTo:g.leadEmailTo?.trim(),leadEmailCc:g.leadEmailCc?[...g.leadEmailCc]:[],nextFlowId:y?y.target:void 0}})),u.data.subUrls&&(p.children=u.data.subUrls.map(g=>{const y=t.find(x=>x.sourceHandle===g.id);return{id:g.id,flowId:g.id,url:g.url?.trim(),value:g.value?.trim(),leadEmailTo:g.leadEmailTo?.trim(),leadEmailCc:g.leadEmailCc?[...g.leadEmailCc]:[],nextFlowId:y?y.target:void 0}})),u.type==="http"){if(p.meta={displayText:u.data.displayText,requestType:u.data.requestType,hideData:u.data.hideData,url:u.data.url,successFlowId:qc(u.data.successFlowId,t),failureFlowId:qc(u.data.failureFlowId,t)},u.data.params.length>0){const g=u.data.params.map(y=>({key:y.key,valueType:y.valueType,value:Xc(y.valueType,y.value)}));p.meta.params=g}if(u.data.headers.length>0){const g=u.data.headers.map(y=>({key:y.key,valueType:y.valueType,value:Xc(y.valueType,y.value)}));p.meta.headers=g}if(u.data.statusWiseFlow.length>0){const g=u.data.statusWiseFlow.map(y=>{const x=t.find(E=>E.sourceHandle===y.id);return{statusCode:y.statusCode,flowId:y.id,nextFlowId:x?x.target:void 0}});p.meta.statusWiseFlowId=g}}return u.type==="callConnect"&&(p.content=u.data.message,p.meta={callConnectId:u.data.callConnectId,callAccepted:u.data.callAccepted,callRejected:u.data.callRejected,successMessage:u.data.successMessage,failureMessage:u.data.failureMessage}),u.type==="otp"&&(p.content=u.data.message,p.meta={otpType:u.data.otpType}),u.type==="customForm"&&(p.property=u.data.property,p.content=u.data.message,p.meta={customFields:u.data.customFields}),u.type==="url"&&(p.property=u.data.property,p.meta={subUrls:u.data.subUrls}),u.type==="whatsAppFlow"&&(p.meta={header:u.data.header,body:u.data.body,footer:u.data.footer,flow_token:u.data.flow_token,flow_id:u.data.flow_id,flow_action:u.data.flow_action,flow_cta:u.data.flow_cta,screen:u.data.screen,responsedata:u.data.responsedata}),o.push({nodeId:u.id,position:u.position}),p});return{_id:r._id||"",organizationId:r.organizationId||"",botId:r.botId||"",createdAt:new Date().toISOString(),version:0,startFlowId:s,flows:l,__v:0,deployedAt:new Date().toISOString(),modifiedAt:new Date().toISOString(),positions:o}},qc=(e,t)=>t.find(n=>n.sourceHandle===e)?.target||"",Xc=(e,t)=>e==="number"?Number(t):e==="date"?new Date(e):t,Jj=({flowData:e,flowList:t,onSave:r,onVersionSelected:n,onDelete:o})=>{const a=h.useMemo(()=>({start:$j,message:Dj,options:Rj,leadForm:jj,leadFlow:Cj,gpt:JS,stop:zj,file:KS,map:Ej,question:Bj,callConnect:Tx,otp:Lj,customForm:WS,url:qj,whatsAppFlow:Yj,http:xj}),[]),i=h.useMemo(()=>({custom:Ex}),[]),[s,l]=h.useState([]),[u,d]=h.useState([]),[f,p]=h.useState({}),[g,y]=h.useState(!0),[x,E]=h.useState(null),[j,D]=h.useState(!1),T=h.useRef(null),w=h.useRef(!1),I=h.useRef(""),C=h.useRef({}),v=h.useRef({}),b=()=>{p({})};h.useEffect(()=>{w.current&&e&&(w.current=!1,T.current&&T.current.show({severity:"success",summary:"Chatbot Flow",detail:"Chatbot Flow Design has been saved successfully",life:5e3}));const{flowNodes:B,flowEdges:q}=qs(e);l(B),d(q)},[e]),h.useEffect(()=>{y(s.length<2||Object.keys(f).length>0)},[s,f,u]);const m=h.useCallback(B=>{b(),l(q=>yd(B,q))},[]),S=h.useCallback(B=>{if(B[0].type==="reset"&&!j&&v.current){I.current="Edge Delete",v.current=B,D(!0);return}b(),d(q=>Fl(B,q))},[j]),k=B=>{b(),d(q=>Fl(B,q))},M=B=>{b(),d(q=>{const ee=q.filter(ne=>{const pe=ne.source===B.source,X=ne.sourceHandle===B.sourceHandle;return!pe||ne.sourceHandle&&!X});return Qu({...B,type:"custom"},ee)})},P=h.useCallback(B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},[]),N=h.useCallback(B=>{if(!x){console.error("React Flow instance is not initialized yet.");return}if(b(),B.preventDefault(),!B.dataTransfer.getData("application/reactflow"))return;const q=x?.screenToFlowPosition({x:B.clientX,y:B.clientY}),ee=Tp(B,q);l(ne=>ne.concat(ee))},[x]),R=(B,q)=>{b();const ee=s.map(ne=>ne.id===B?{...ne,selected:!1,data:{...ne.data,...q}}:{...ne,selected:!1});l(ee)},O=h.useCallback(B=>{b(),l(q=>q.filter(ee=>ee.id!==B)),d(q=>q.filter(ee=>ee.source!==B&&ee.target!==B))},[]),F=B=>{if(!j&&B){I.current="Node Delete",C.current=B,D(!0);return}},_=h.useCallback(B=>{if(B.key==="Delete"){const q=s.filter(ne=>ne.selected),ee=u.filter(ne=>ne.selected);if(!j&&q.length>0){I.current="Node Delete",C.current=q[0].id,D(!0);return}if(!j&&ee.length>0){I.current="Edge Delete",v.current=ee,D(!0);return}q.length>0&&(O(q[0].id),d(ne=>ne.filter(pe=>!q.some(X=>X.id===pe.source||X.id===pe.target)))),ee.length>0&&d(ne=>ne.filter(pe=>!ee.includes(pe)))}},[s,u,j,O]),L=h.useCallback(B=>{b(),d(B.reduce((q,ee)=>{const ne=_0(ee,s,u),pe=B0(ee,s,u),X=ls([ee],u),le=q.filter(we=>!X.includes(we)),xe=ne.flatMap(({id:we})=>pe.map(({id:Te})=>({id:`${we}->${Te}`,source:we,target:Te})));return[...le,...xe]},u))},[s,u]),H=(B,q)=>{B.dataTransfer.setData("application/reactflow",q)},W=B=>{if(s.length<2){const X={};return X.MinNodes="Minimum 2 nodes required for a valid flow",p(X),!1}let q={},ee={};for(const X of s)if(X.type==="message"){const le=Pp(X.data);q={...q,...le}}else if(X.type==="options"){const le=Op(X,X.data,s,u);q={...q,...le}}else if(X.type==="url"){const le=Mp(X.data);q={...q,...le}}else if(X.type==="whatsAppFlow"){const le=Rp(X.data);q={...q,...le}}else if(X.type==="file"){const le=Ap(X.data);q={...q,...le}}else if(X.type==="map"){const le=Lp(X.data);q={...q,...le}}else if(X.type==="question"){const le=Fp(X.data);q={...q,...le}}else if(X.type==="callConnect"){const le=Bp(X.data);q={...q,...le}}else if(X.type==="otp"){const le=_p(X.data);q={...q,...le}}else if(X.type==="http"){const{newErrors:le,newWarnings:xe}=$p(X,s,u);q={...q,...le},ee={...xe}}if(Object.keys(q).length>0){p(q);const X=Object.values(q);T.current&&T.current.show(X.map(le=>({severity:"error",summary:"Error",detail:le,life:3100}))),l(s),y(!0);return}if(B&&Object.keys(ee).length>0){const X=Object.values(ee);T.current&&T.current.show(X.map(le=>({severity:"warn",summary:"Warning",detail:le,life:3100}))),y(!0);return}const ne=Kj(s),pe=Zj(ne,u,e);w.current=!0,r(pe,B)},V=()=>{I.current="",D(!0)},U=()=>{const{flowNodes:B}=qs(),q=u.filter(ee=>ee.selected);if(I.current=="Node Delete"){O(C.current),D(!1);return}else if(I.current==="Edge Delete"){v.current.length>0&&d(ee=>ee.filter(ne=>!q.includes(ne))),D(!1);return}l([B[0]]),d([]),D(!1)},G=()=>{o(e)};return h.useEffect(()=>{const B=document.getElementById("reactflow-wrap");return B&&B.addEventListener("keydown",_),()=>{B&&B.removeEventListener("keydown",_)}},[_]),c.jsxs(wp,{children:[c.jsxs("div",{className:"flow-diagram",children:[c.jsx("div",{id:"reactflow-wrap",className:"reactflow-wrapper",children:c.jsx("div",{className:"flex flex-col h-full",children:c.jsx("div",{className:"reactflow-box",onDrop:N,onDragOver:P,children:c.jsx(ps,{children:c.jsxs(Pd,{nodes:s.map(B=>({...B,data:{node:B,nodes:s,handleChange:(q,ee)=>R(q,ee),onDelete:F,edges:u,updateEdges:k,setNodes:l}})),edges:u,onInit:E,onNodesChange:m,onEdgesChange:S,onConnect:M,nodeTypes:a,edgeTypes:i,onNodesDelete:L,children:[c.jsx(yb,{}),c.jsx(kb,{}),c.jsx(kx,{})]})})})})}),c.jsx(mu,{ref:T}),c.jsx("div",{className:"toolbar",children:c.jsx(Tb,{onDragStart:H,clearFlow:V,onSave:B=>W(B),errors:f,nodes:s,flowList:t,onFlowSelectionChange:n,flowId:e?._id,onDelete:G,flowData:e,isSaveDisabled:g})})]}),c.jsx(fn,{header:"Confirmation",visible:j,style:{width:"25vw"},onHide:()=>D(!1),footer:c.jsx(Eb,{onAccept:U,onReject:()=>D(!1)}),children:c.jsx("p",{className:"mb-3 text-red",children:"Are you Sure that you want to proceed?"})})]})};async function Yc(e){const{organizationId:t}=tn.getState(),{selectedBotId:r}=ta.getState();return await Qj(t,r,e)}async function Qj(e,t,r){return await Hi(`/bot/${e}/${t}/chat-flow/${r}`)}async function ek(e){try{const{organizationId:t}=tn.getState(),{selectedBotId:r}=ta.getState(),n=await Hi(`/bot/${t}/${r}/chat-flow/${e}/startup`);if(typeof n=="string"&&n.startsWith("<"))throw new Error("Invalid JSON response, received HTML");return n}catch(t){return console.error("Error fetching startup with Flow ID:",t),null}}async function tk(e,t,r,n=!1){const o=tn.getState(),a=ta.getState();e||(e=o.organizationId),t||(t=a.selectedBotId);const i=`/bot/${e}/${t}/chat-flow${n?"?deploy=true":""}`;return await Vp(i,r)}async function rk(e,t,r){return await Gp(`/bot/${e}/${t}/chat-flow/${r}`,null)}async function nk(){const{organizationId:e}=tn.getState(),{selectedBotId:t}=ta.getState();return(await Hi(`/bot/${e}/${t}/chat-flow`)).map(ok).sort((n,o)=>n.label.includes("Draft")?-1:o.label.includes("Draft")?1:0)}function ok(e){return{value:e._id,label:`v${e.version} - ${e.deployedAt?"Deployed":"Draft"}`}}const ak=()=>{};function ik({flowId:e,flow:t}){const[r,n]=ru(),[o,a]=A.useState(),[i,s]=A.useState(!1);return h.useEffect(()=>{let l=!0;return(async()=>{if(!e||t?.length===0){a(null);return}try{s(!0);const d=await ek(e);l&&a(d||null)}catch(d){console.error("Failed to fetch startup flow:",d),l&&a(null)}finally{l&&s(!1)}})(),()=>{l=!1,Cp()}},[e,t,r]),n?c.jsx(c.Fragment,{children:i?c.jsx("div",{children:"Loading chat preview..."}):c.jsx(Up,{botDetails:n,botDesign:n.botDesign,startupFlow:o,autoLaunch:!1,recipientId:Xp(),onReceiveChatResponse:ak,onCallback:qp},r)}):c.jsx(Yp,{})}function Hk(){const{botId:e}=ip(),[t,r]=A.useState(null),[n,o]=A.useState(),[a,i]=A.useState(""),s=A.useRef({flow:n});s.current.flow=n;const l=A.useCallback(()=>{nk().then(f=>{r(f),f[0]?.value?i(f[0]?.value):(o([]),i(""))})},[e]);A.useEffect(l,[l,e]),A.useEffect(()=>{!a||s.current.flow?._id===a||Yc(a).then(f=>{f.length===0&&!f?o([]):o(f)})},[a,e,Yc]);const u=A.useCallback(async(f,p)=>{const g=await tk(f.organizationId,f.botId,f,p===!0);i(g._id),o(g),l()},[l]),d=A.useCallback(async f=>{await rk(f.organizationId,f.botId,f._id)&&(r(null),i(""),l())},[l]);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-6",children:c.jsx(Kp,{title:"Chat Bot Flow"})}),c.jsx(Jj,{flowData:n,flowList:t,onSave:u,onVersionSelected:i,onDelete:d}),c.jsx(ik,{flowId:a,flow:n})]})}export{Hk as default};
