import{r as n,j as e,L as u}from"./AlertSnackbar-lBoJjy_c.js";import{c as j}from"./index-B5a5-Oe8.js";import{F as f}from"./formik.esm-CUDIF_J_.js";import{c as p,a as v}from"./index.esm-f3KrK5uW.js";import{A as b}from"./AnimateButton-CXxZV9uM.js";import{P as N}from"./ProgressButton-CoLcqq_z.js";import{s as g}from"./resetPassword-D_k_Gbiw.js";import{S as y}from"./SignUp-BEcmU35O.js";import{l as E,a as S,F as k}from"./Footer-Bv2YwdBj.js";import"./env-CmL5wTXD.js";const w=({email:l})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:["A verification email has been sent to ",e.jsxs("b",{children:[l,"."]})]}),e.jsx("div",{children:"To initiate the password reset process, kindly click on the verification link enclosed in the email."})]}),V=()=>{const[l,c]=n.useState(!1),[o,d]=n.useState(""),x=async(s,{setErrors:t,setStatus:i,setSubmitting:a})=>{try{await g(s.email),i({success:!0}),a(!1),c(!0),d(s.email)}catch(r){i({success:!1}),t({submit:r.message}),a(!1)}};return l?e.jsx(w,{email:o}):e.jsx(f,{initialValues:{email:""},validationSchema:p().shape({email:v().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:x,children:({errors:s,handleBlur:t,handleChange:i,handleSubmit:a,isSubmitting:r,touched:m,values:h})=>e.jsxs("form",{noValidate:!0,onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:h.email,name:"email",onBlur:t,onChange:i,placeholder:"Enter email address",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 ${m.email&&s.email?"border-red-500":"border-gray-300"}`}),m.email&&s.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),s.submit&&e.jsx("div",{children:e.jsx("p",{className:"text-red-500 text-sm",children:s.submit})}),e.jsx("div",{children:e.jsx(b,{children:e.jsx(N,{isLoading:r,className:"w-full",type:"submit",children:"Verify Email"})})})]})})},O=()=>e.jsxs("div",{className:"auth-layout",children:[e.jsxs("header",{children:[e.jsx("img",{src:E,alt:"",className:"bg-white inline-block",width:"40",height:"42"}),e.jsx("img",{src:S,alt:"Livserv",className:"inline-block ms-2"})]}),e.jsx("section",{children:e.jsxs("div",{className:"content",children:[e.jsx("div",{className:"banner",children:e.jsx(y,{})}),e.jsxs("div",{className:"main",children:[e.jsx("div",{className:"welcome",children:"RESET YOUR PASSWORD"}),e.jsxs("div",{className:"fields",children:[e.jsx(V,{}),e.jsx("div",{className:"nav-link font-secondary text-center mt-4",children:e.jsx(u,{to:"/signin",children:"Back to login"})})]})]})]})}),e.jsx(k,{fontColor:j("text-white")})]});export{O as default};
