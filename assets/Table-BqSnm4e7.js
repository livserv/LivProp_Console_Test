import{j as e,r as b}from"./index-DtJcC2z6.js";import{c as v}from"./ajax-Eg2F-GfI.js";import{S as R}from"./TextBox-CJvlcKYb.js";const D=({columns:d,rows:n,noRowsMessage:t})=>e.jsx("tbody",{children:n.length===0?e.jsx("tr",{className:"border-b border-gray-200",children:e.jsx("td",{className:"px-4 py-2 text-center",colSpan:d.length,children:t||"No records found."})}):n.map((i,l)=>e.jsx("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:d.map((a,r)=>{const s=a.template?a.template(i):i[a.field],x=typeof s=="string"||typeof s=="number"?s:"";return e.jsx("td",{className:v("text-sm px-4 py-2 truncate text-ellipsis",{hidden:!!a.hideBelow,"xs:table-cell":a.hideBelow==="xs","sm:table-cell":a.hideBelow==="sm","md:table-cell":a.hideBelow==="md","mlg:table-cell":a.hideBelow==="mlg","lg:table-cell":a.hideBelow==="lg","xl:table-cell":a.hideBelow==="xl","2xl:table-cell":a.hideBelow==="2xl"},a.cellClassName),title:x.toString(),children:s},r)})},l))});function M({columns:d,rowsCount:n,pageIndex:t,totalPages:i,rowsCounts:l,onChangeCount:a,onNavigate:r,totalRows:s}){const x=l.map(u=>({label:u,value:u})),o=(t-1)*n+1,f=Math.min(t*n,s);return e.jsx("tfoot",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:d.length,children:e.jsx("div",{className:"px-2 md:px-4 py-2 md:py-2",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center md:justify-between gap-2 md:gap-0 mb-2 md:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[e.jsx("span",{className:"text-xs md:text-sm whitespace-nowrap",children:"Rows per page"}),e.jsx(R,{className:"border border-gray-300 rounded px-2 py-1 text-xs md:text-sm",value:n,options:x,showClear:!1,onChange:a}),e.jsxs("span",{className:"text-xs md:text-sm font-medium ml-auto md:ml-0",children:[o,"–",f," of ",s]})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-3 md:gap-6 w-full md:w-auto",children:[e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(1),disabled:t===1,children:"«"}),e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(t-1),disabled:t===1,children:"‹"}),e.jsxs("span",{className:"px-2 text-xs md:text-sm font-medium whitespace-nowrap",children:[t," of ",i||1]}),e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(t+1),disabled:t>=i||!i,children:"›"}),e.jsx("button",{className:"font-bold text-xl md:text-2xl disabled:text-[#695A5A] px-1 md:px-0",onClick:()=>r(i),disabled:t>=i||!i,children:"»"})]})]})})})})})}const I=({columns:d,sortColumn:n,sortAsc:t,onSort:i})=>e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-gray-200",children:d.map((l,a)=>{const r=l.sortable&&(n==null?void 0:n.field)===l.field;return e.jsxs("th",{className:v("px-4 py-2 font-medium cursor-pointer select-none text-left",{hidden:!!l.hideBelow,"xs:table-cell":l.hideBelow==="xs","sm:table-cell":l.hideBelow==="sm","md:table-cell":l.hideBelow==="md","mlg:table-cell":l.hideBelow==="mlg","lg:table-cell":l.hideBelow==="lg","xl:table-cell":l.hideBelow==="xl","2xl:table-cell":l.hideBelow==="2xl","flex items-start":r},l.headerClassName),onClick:()=>i(l),children:[l.title,r&&e.jsx("span",{className:"ml-1",children:t?"↑":"↓"})]},a)})})});function L(d,n,t=!0,i){return b.useMemo(()=>!i||!n||!(d!=null&&d.length)?d:[...d].sort((l,a)=>{const r=l[n],s=a[n];if(N(r)&&N(s))return 0;if(N(r))return t?-1:1;if(N(s))return t?1:-1;let x=0;if(typeof r=="number"&&typeof s=="number")x=r-s;else if(r instanceof Date&&s instanceof Date)x=r.getTime()-s.getTime();else{const o=String(r).toLowerCase(),f=String(s).toLowerCase();o<f?x=-1:o>f?x=1:x=0}return t?x:-x}),[d,n,t,i])}function N(d){return d==null}const F=[10,20,25,50,75,100];function q({columns:d,rows:n,totalRows:t,page:i,sortColumn:l,sortAsc:a,onSort:r,onChange:s,noRowsMessage:x,rowsPerPage:o,rowCounts:f=F,pagination:u}){const[c,C]=b.useState(l),[h,g]=b.useState(a??!0),[y,w]=b.useState(i||1),[p,B]=b.useState(o??f[0]);b.useEffect(()=>{i!==void 0&&w(i)},[i]),b.useEffect(()=>{o!==void 0&&B(o)},[o]);const S=Math.ceil(t/p),A=L(n,c==null?void 0:c.field,h,t===(n==null?void 0:n.length)),T=m=>{if(!m.sortable)return;let j=!0;c&&c.field===m.field&&(j=!h),C(m),g(j),r&&r(m,j),s&&s({sortColumn:m,sortAsc:j,count:p,pageNumber:y})},k=m=>{B(m),w(1),s&&s({sortColumn:c||void 0,sortAsc:h,count:m,pageNumber:1})},E=m=>{m<1||m>S||(w(m),s&&s({sortColumn:c||void 0,sortAsc:h,count:p,pageNumber:m}))};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[e.jsx(I,{columns:d,sortColumn:c,sortAsc:h,onSort:T}),e.jsx(D,{columns:d,rows:A,noRowsMessage:x}),u!==!1&&e.jsx(M,{columns:d,pageIndex:y,rowsCount:p,rowsCounts:f,totalPages:S,onChangeCount:k,onNavigate:E,totalRows:t})]})})}export{q as T};
