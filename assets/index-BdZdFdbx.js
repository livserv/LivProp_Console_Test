import{r as g,R as F,h as cu,i as Np,j as f,b as on,e as Ui}from"./index-DNgbtrVq.js";import{_ as Wi,b as be,c as Ln,T as Qs,I as Hr,u as fn,P as pn,d as to,U as uu,e as Ip,f as qi,g as Tp,E as Dp,h as Tn,D as ce,i as Yi,j as Ot,Z as Kt,k as jt,l as Xi,m as $e,n as Ki,o as Zi,O as Ce,p as du,q as fu,r as $r,R as Lo,s as Pp,t as Fn,v as Mp,w as Ap,S as pu,x as Rp,y as Op,z as oi,B as Lp,A as Fp,F as $p,G as Bp,H as _p,J as mu,K as Qi,L as ia,M as ka,N as zp,Q as Hp,a as Vp,V as Gp,C as Up}from"./index-ByPvKAVV.js";import{m as gu,R as hu,g as ro,p as vu,r as Wp}from"./ajax-CVEl0eD2.js";import{g as qp}from"./integrations-BjuT1hm1.js";import{u as yu}from"./useSelectedBot-CzDcn7AF.js";import{h as Js}from"./hoist-non-react-statics.cjs-2hDGkePX.js";import{h as At}from"./moment-BLMuvzoS.js";import{S as Yp}from"./delete-Cmc6rARb.js";import{L as Xp}from"./LabelWrapper-DVnEPT7l.js";import"./Button-C3bz2KtR.js";import{T as Kp}from"./Toggle-oHUZtYsT.js";import{r as Zp}from"./env-Zr-tPH8F.js";import{S as Qp}from"./loader-CPyEZOOV.js";function Jp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e,t){var r=function(a){return t&&g.isValidElement(a)?t(a):a},n=Object.create(null);return e&&g.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function em(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),o=[];for(var a in e)a in t?o.length&&(n[a]=o,o=[]):o.push(a);var i,s={};for(var l in t){if(n[l])for(i=0;i<n[l].length;i++){var c=n[l][i];s[n[l][i]]=r(c)}s[l]=r(l)}for(i=0;i<o.length;i++)s[o[i]]=r(o[i]);return s}function Rr(e,t,r){return r[t]!=null?r[t]:e.props[t]}function tm(e,t){return Ji(e.children,function(r){return g.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Rr(r,"appear",e),enter:Rr(r,"enter",e),exit:Rr(r,"exit",e)})})}function rm(e,t,r){var n=Ji(e.children),o=em(t,n);return Object.keys(o).forEach(function(a){var i=o[a];if(g.isValidElement(i)){var s=a in t,l=a in n,c=t[a],u=g.isValidElement(c)&&!c.props.in;l&&(!s||u)?o[a]=g.cloneElement(i,{onExited:r.bind(null,i),in:!0,exit:Rr(i,"exit",e),enter:Rr(i,"enter",e)}):!l&&s&&!u?o[a]=g.cloneElement(i,{in:!1}):l&&s&&g.isValidElement(c)&&(o[a]=g.cloneElement(i,{onExited:r.bind(null,i),in:c.props.in,exit:Rr(i,"exit",e),enter:Rr(i,"enter",e)}))}}),o}var nm=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},om={component:"div",childFactory:function(t){return t}},es=function(e){Wi(t,e);function t(n,o){var a;a=e.call(this,n,o)||this;var i=a.handleExited.bind(Jp(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,a){var i=a.children,s=a.handleExited,l=a.firstRender;return{children:l?tm(o,s):rm(o,i,s),firstRender:!1}},r.handleExited=function(o,a){var i=Ji(this.props.children);o.key in i||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(s){var l=be({},s.children);return delete l[o.key],{children:l}}))},r.render=function(){var o=this.props,a=o.component,i=o.childFactory,s=Ln(o,["component","childFactory"]),l=this.state.contextValue,c=nm(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,a===null?F.createElement(Qs.Provider,{value:l},c):F.createElement(Qs.Provider,{value:l},F.createElement(a,s,c))},t}(F.Component);es.propTypes={};es.defaultProps=om;function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(null,arguments)}var ts=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",ai({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));ts.displayName="TimesIcon";function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}var bu=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",ii({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"}))}));bu.displayName="WindowMaximizeIcon";function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(null,arguments)}var wu=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",si({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"}))}));wu.displayName="WindowMinimizeIcon";function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(null,arguments)}function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function ci(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function am(e){if(Array.isArray(e))return ci(e)}function im(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xu(e,t){if(e){if(typeof e=="string")return ci(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ci(e,t):void 0}}function sm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lm(e){return am(e)||im(e)||xu(e)||sm()}function cm(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function um(e){var t=cm(e,"string");return $n(t)=="symbol"?t:t+""}function rs(e,t,r){return(t=um(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dm(e){if(Array.isArray(e))return e}function fm(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}function pm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pr(e,t){return dm(e)||fm(e,t)||xu(e,t)||pm()}var mm="",An=to.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:mm},getProps:function(t){return Ce.getMergedProps(t,An.defaultProps)},getOtherProps:function(t){return Ce.getDiffProps(t,An.defaultProps)}});function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hm=F.memo(F.forwardRef(function(e,t){var r=F.useRef(null),n=F.useRef(null),o=F.useRef(null),a=F.useContext(pn),i=An.getProps(e,a),s={props:i};du(An.css.styles,{name:"focustrap"});var l=An.setMetaData(gm({},s));l.ptm,F.useImperativeHandle(t,function(){return{props:i,getInk:function(){return n.current},getTarget:function(){return r.current}}}),Yi(function(){i.disabled||(r.current=c(),u(r.current))});var c=function(){return n.current&&n.current.parentElement},u=function(C){var w=i||{},k=w.autoFocusSelector,I=k===void 0?"":k,N=w.firstFocusableSelector,T=N===void 0?"":N,P=w.autoFocus,x=P===void 0?!1:P,h="".concat(d(I)),b="[autofocus]".concat(h,", [data-pc-autofocus='true']").concat(h),S=ce.getFirstFocusableElement(C,b);x&&!S&&(S=ce.getFirstFocusableElement(C,d(T))),ce.focus(S)},d=function(C){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(C??"")},p=function(C){var w,k=C.currentTarget,I=C.relatedTarget,N=I===k.$_pfocustrap_lasthiddenfocusableelement||!((w=r.current)!==null&&w!==void 0&&w.contains(I))?ce.getFirstFocusableElement(k.parentElement,d(k.$_pfocustrap_focusableselector)):k.$_pfocustrap_lasthiddenfocusableelement;ce.focus(N)},m=function(C){var w,k=C.currentTarget,I=C.relatedTarget,N=I===k.$_pfocustrap_firsthiddenfocusableelement||!((w=r.current)!==null&&w!==void 0&&w.contains(I))?ce.getLastFocusableElement(k.parentElement,d(k.$_pfocustrap_focusableselector)):k.$_pfocustrap_firsthiddenfocusableelement;ce.focus(N)},v=function(){var C=i||{},w=C.tabIndex,k=w===void 0?0:w,I=function(x,h,b){return F.createElement("span",{ref:x,className:"p-hidden-accessible p-hidden-focusable",tabIndex:k,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:h,"data-pc-section":b})},N=I(n,p,"firstfocusableelement"),T=I(o,m,"lastfocusableelement");return n.current&&o.current&&(n.current.$_pfocustrap_lasthiddenfocusableelement=o.current,o.current.$_pfocustrap_firsthiddenfocusableelement=n.current),F.createElement(F.Fragment,null,N,i.children,T)};return v()})),vm=hm;function tl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tl(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var bm={closeButtonIcon:"p-dialog-header-close-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",maximizableIcon:"p-dialog-header-maximize-icon",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",header:function(t){var r=t.props;return $e("p-dialog-header",r.headerClassName)},headerTitle:"p-dialog-title",headerIcons:"p-dialog-header-icons",content:function(t){var r=t.props;return $e("p-dialog-content",r.contentClassName)},footer:function(t){var r=t.props;return $e("p-dialog-footer",r.footerClassName)},mask:function(t){var r=t.props,n=t.maskVisibleState,o=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"],a=o.find(function(i){return i===r.position||i.replace("-","")===r.position});return $e("p-dialog-mask",a?"p-dialog-".concat(a):"",{"p-component-overlay p-component-overlay-enter":r.modal,"p-dialog-visible":n,"p-dialog-draggable":r.draggable,"p-dialog-resizable":r.resizable},r.maskClassName)},root:function(t){var r=t.props,n=t.maximized,o=t.context;return $e("p-dialog p-component",{"p-dialog-rtl":r.rtl,"p-dialog-maximized":n,"p-dialog-default":!n,"p-input-filled":o&&o.inputStyle==="filled"||jt.inputStyle==="filled","p-ripple-disabled":o&&o.ripple===!1||jt.ripple===!1})},transition:"p-dialog"},wm=`
@layer primereact {
    .p-dialog-mask {
        background-color: transparent;
        transition-property: background-color;
    }

    .p-dialog-visible {
        display: flex;
    }

    .p-dialog-mask.p-component-overlay {
        pointer-events: auto;
    }

    .p-dialog {
        display: flex;
        flex-direction: column;
        pointer-events: auto;
        max-height: 90%;
        transform: scale(1);
        position: relative;
    }

    .p-dialog-content {
        overflow-y: auto;
        flex-grow: 1;
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        flex-shrink: 0;
    }

    .p-dialog-footer {
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icons {
        display: flex;
        align-items: center;
        align-self: flex-start;
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    .p-dialog .p-dialog-title {
        flex-grow: 1;
    }

    /* Fluid */
    .p-fluid .p-dialog-footer .p-button {
        width: auto;
    }

    /* Animation */
    /* Center */
    .p-dialog-enter {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-enter-active {
        opacity: 1;
        transform: scale(1);
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-enter-done {
        transform: none;
    }

    .p-dialog-exit-active {
        opacity: 0;
        transform: scale(0.7);
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Top, Bottom, Left, Right, Top* and Bottom* */
    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-top-left .p-dialog,
    .p-dialog-top-right .p-dialog,
    .p-dialog-bottom-left .p-dialog,
    .p-dialog-bottom-right .p-dialog {
        margin: 0.75em;
    }

    .p-dialog-top .p-dialog-enter,
    .p-dialog-top .p-dialog-exit-active {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter,
    .p-dialog-bottom .p-dialog-exit-active {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-enter,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-enter,
    .p-dialog-bottom-left .p-dialog-exit-active {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-enter,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-enter,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-top-left .p-dialog-enter-active,
    .p-dialog-bottom-left .p-dialog-enter-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-top-right .p-dialog-enter-active,
    .p-dialog-bottom-right .p-dialog-enter-active {
        transform: translate3d(0px, 0px, 0px);
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-exit-active,
    .p-dialog-bottom .p-dialog-exit-active,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-exit-active,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transition: all 0.3s ease-out;
    }

    /* Maximize */
    .p-dialog-maximized {
        transition: none;
        transform: none;
        margin: 0;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }

    .p-confirm-dialog .p-dialog-content {
        display: flex;
        align-items: center;
    }

    /* Resizable */
    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }

    .p-dialog-draggable .p-dialog-header {
        cursor: move;
    }
}
`,xm={mask:function(t){var r=t.props;return ym({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:r.position==="left"||r.position==="top-left"||r.position==="bottom-left"?"flex-start":r.position==="right"||r.position==="top-right"||r.position==="bottom-right"?"flex-end":"center",alignItems:r.position==="top"||r.position==="top-left"||r.position==="top-right"?"flex-start":r.position==="bottom"||r.position==="bottom-left"||r.position==="bottom-right"?"flex-end":"center",pointerEvents:!r.modal&&"none"},r.maskStyle)}},fo=to.extend({defaultProps:{__TYPE:"Dialog",__parentMetadata:null,appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeIcon:null,closeOnEscape:!0,content:null,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,footerClassName:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximizeIcon:null,maximized:!1,minX:0,minY:0,minimizeIcon:null,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,showCloseIcon:!0,style:null,transitionOptions:null,visible:!1,children:void 0},css:{classes:bm,styles:wm,inlineStyles:xm}});function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rl(Object(r),!0).forEach(function(n){rs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var no=g.forwardRef(function(e,t){var r=fn(),n=g.useContext(pn),o=fo.getProps(e,n),a=o.id?o.id:uu(),i=g.useState(a),s=pr(i,2),l=s[0];s[1];var c=g.useState(!1),u=pr(c,2),d=u[0],p=u[1],m=g.useState(!1),v=pr(m,2),y=v[0],C=v[1],w=g.useState(o.maximized),k=pr(w,2),I=k[0],N=k[1],T=g.useRef(null),P=g.useRef(null),x=g.useRef(null),h=g.useRef(null),b=g.useRef(null),S=g.useRef(null),j=g.useRef(null),A=g.useRef(!1),M=g.useRef(!1),E=g.useRef(null),D=g.useRef(null),O=g.useRef(null),B=g.useRef(a),L=g.useRef(null),R=o.onMaximize?o.maximized:I,$=y&&(o.blockScroll||o.maximizable&&R),V=o.closable&&o.closeOnEscape&&y,H=Ip("dialog",V),G=fo.setMetaData(Na(Na({props:o},o.__parentMetadata),{},{state:{id:l,maximized:R,containerVisible:d}})),q=G.ptm,z=G.cx,_=G.sx,X=G.isUnstyled;qi(fo.css.styles,X,{name:"dialog"}),Tp({callback:function(Z){Ve(Z)},when:V&&H,priority:[Dp.DIALOG,H]});var K=Tn({type:"mousemove",target:function(){return window.document},listener:function(Z){return rt(Z)}}),ae=pr(K,2),W=ae[0],se=ae[1],we=Tn({type:"mouseup",target:function(){return window.document},listener:function(Z){return nt(Z)}}),he=pr(we,2),re=he[0],ke=he[1],Ie=Tn({type:"mousemove",target:function(){return window.document},listener:function(Z){return Dt(Z)}}),xe=pr(Ie,2),le=xe[0],Q=xe[1],Ee=Tn({type:"mouseup",target:function(){return window.document},listener:function(Z){return Be(Z)}}),yt=pr(Ee,2),bt=yt[0],st=yt[1],Ve=function(Z){o.onHide(Z),Z.preventDefault()},wt=function(){var Z=document.activeElement,Se=Z&&T.current&&T.current.contains(Z);!Se&&o.closable&&o.showCloseIcon&&o.showHeader&&j.current&&j.current.focus()},Je=function(Z){x.current=Z.target,o.onPointerDown&&o.onPointerDown(Z)},lt=function(Z){o.dismissableMask&&o.modal&&P.current===Z.target&&!x.current&&Ve(Z),o.onMaskClick&&o.onMaskClick(Z),x.current=null},ct=function(Z){o.onMaximize?o.onMaximize({originalEvent:Z,maximized:!R}):N(function(Se){return!Se}),Z.preventDefault()},ut=function(Z){ce.hasClass(Z.target,"p-dialog-header-icon")||ce.hasClass(Z.target.parentElement,"p-dialog-header-icon")||o.draggable&&(A.current=!0,E.current=Z.pageX,D.current=Z.pageY,ce.addClass(document.body,"p-unselectable-text"),o.onDragStart&&o.onDragStart(Z))},Dt=function(Z){if(A.current){var Se=ce.getOuterWidth(T.current),Ae=ce.getOuterHeight(T.current),Re=Z.pageX-E.current,xt=Z.pageY-D.current,pt=T.current.getBoundingClientRect(),de=pt.left+Re,Y=pt.top+xt,te=ce.getViewport(),oe=getComputedStyle(T.current),ie=parseFloat(oe.marginLeft),pe=parseFloat(oe.marginTop);T.current.style.position="fixed",o.keepInViewport?(de>=o.minX&&de+Se<te.width&&(E.current=Z.pageX,T.current.style.left=de-ie+"px"),Y>=o.minY&&Y+Ae<te.height&&(D.current=Z.pageY,T.current.style.top=Y-pe+"px")):(E.current=Z.pageX,T.current.style.left=de-ie+"px",D.current=Z.pageY,T.current.style.top=Y-pe+"px"),o.onDrag&&o.onDrag(Z)}},Be=function(Z){A.current&&(A.current=!1,ce.removeClass(document.body,"p-unselectable-text"),o.onDragEnd&&o.onDragEnd(Z))},Ge=function(Z){o.resizable&&(M.current=!0,E.current=Z.pageX,D.current=Z.pageY,ce.addClass(document.body,"p-unselectable-text"),o.onResizeStart&&o.onResizeStart(Z))},dt=function(Z,Se,Ae){!Ae&&(Ae=ce.getViewport());var Re=parseInt(Z);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(Z)?Re*(Ae[Se]/100):Re},rt=function(Z){if(M.current){var Se=Z.pageX-E.current,Ae=Z.pageY-D.current,Re=ce.getOuterWidth(T.current),xt=ce.getOuterHeight(T.current),pt=T.current.getBoundingClientRect(),de=ce.getViewport(),Y=!parseInt(T.current.style.top)||!parseInt(T.current.style.left),te=dt(T.current.style.minWidth,"width",de),oe=dt(T.current.style.minHeight,"height",de),ie=Re+Se,pe=xt+Ae;Y&&(ie=ie+Se,pe=pe+Ae),(!te||ie>te)&&pt.left+ie<de.width&&(T.current.style.width=ie+"px"),(!oe||pe>oe)&&pt.top+pe<de.height&&(T.current.style.height=pe+"px"),E.current=Z.pageX,D.current=Z.pageY,o.onResize&&o.onResize(Z)}},nt=function(Z){M.current&&(M.current=!1,ce.removeClass(document.body,"p-unselectable-text"),o.onResizeEnd&&o.onResizeEnd(Z))},ot=function(){T.current.style.position="",T.current.style.left="",T.current.style.top="",T.current.style.margin=""},et=function(){T.current.setAttribute(B.current,"")},Pt=function(){o.onShow&&o.onShow(),o.focusOnShow&&wt(),Jt()},Mt=function(){o.modal&&!X()&&ce.addClass(P.current,"p-component-overlay-leave")},_t=function(){A.current=!1,Kt.clear(P.current),p(!1),er(),ce.focus(L.current),L.current=null},Jt=function(){Nr()},er=function(){tr()},ft=function(){var Z=document.primeDialogParams&&document.primeDialogParams.some(function(Se){return Se.hasBlockScroll});Z?ce.blockBodyScroll():ce.unblockBodyScroll()},qt=function(Z){if(Z&&y){var Se={id:l,hasBlockScroll:$};document.primeDialogParams||(document.primeDialogParams=[]);var Ae=document.primeDialogParams.findIndex(function(Re){return Re.id===l});Ae===-1?document.primeDialogParams=[].concat(lm(document.primeDialogParams),[Se]):document.primeDialogParams=document.primeDialogParams.toSpliced(Ae,1,Se)}else document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter(function(Re){return Re.id!==l});ft()},Nr=function(){o.draggable&&(le(),bt()),o.resizable&&(W(),re())},tr=function(){Q(),st(),se(),ke()},rr=function(){O.current=ce.createInlineStyle(n&&n.nonce||jt.nonce,n&&n.styleContainer);var Z="";for(var Se in o.breakpoints)Z=Z+`
                @media screen and (max-width: `.concat(Se,`) {
                     [data-pc-name="dialog"][`).concat(B.current,`] {
                        width: `).concat(o.breakpoints[Se],` !important;
                    }
                }
            `);O.current.innerHTML=Z},fr=function(){O.current=ce.removeInlineStyle(O.current)};Yi(function(){qt(!0),o.visible&&p(!0)}),g.useEffect(function(){return o.breakpoints&&rr(),function(){fr()}},[o.breakpoints]),Ot(function(){o.visible&&!d&&p(!0),o.visible!==y&&d&&C(o.visible),o.visible&&(L.current=document.activeElement)},[o.visible,d]),Ot(function(){d&&(Kt.set("modal",P.current,n&&n.autoZIndex||jt.autoZIndex,o.baseZIndex||n&&n.zIndex.modal||jt.zIndex.modal),C(!0))},[d]),Ot(function(){qt(!0)},[$,y]),Xi(function(){er(),qt(!1),ce.removeInlineStyle(O.current),Kt.clear(P.current)}),g.useImperativeHandle(t,function(){return{props:o,resetPosition:ot,getElement:function(){return T.current},getMask:function(){return P.current},getContent:function(){return h.current},getHeader:function(){return b.current},getFooter:function(){return S.current},getCloseButton:function(){return j.current}}});var nr=function(){if(o.closable&&o.showCloseIcon){var Z=o.ariaCloseIconLabel||fu("close"),Se=r({className:z("closeButtonIcon"),"aria-hidden":!0},q("closeButtonIcon")),Ae=o.closeIcon||g.createElement(ts,Se),Re=$r.getJSXIcon(Ae,Na({},Se),{props:o}),xt=r({ref:j,type:"button",className:z("closeButton"),"aria-label":Z,onClick:Ve,onKeyDown:function(de){de.key!=="Escape"&&de.stopPropagation()}},q("closeButton"));return g.createElement("button",xt,Re,g.createElement(Lo,null))}return null},Ir=function(){var Z,Se=r({className:z("maximizableIcon")},q("maximizableIcon"));R?Z=o.minimizeIcon||g.createElement(wu,Se):Z=o.maximizeIcon||g.createElement(bu,Se);var Ae=$r.getJSXIcon(Z,Se,{props:o});if(o.maximizable){var Re=r({type:"button",className:z("maximizableButton"),onClick:ct},q("maximizableButton"));return g.createElement("button",Re,Ae,g.createElement(Lo,null))}return null},Yt=function(){if(o.showHeader){var Z=nr(),Se=Ir(),Ae=Ce.getJSXElement(o.icons,o),Re=Ce.getJSXElement(o.header,o),xt=l+"_header",pt=r({ref:b,style:o.headerStyle,className:z("header"),onMouseDown:ut},q("header")),de=r({id:xt,className:z("headerTitle")},q("headerTitle")),Y=r({className:z("headerIcons")},q("headerIcons"));return g.createElement("div",pt,g.createElement("div",de,Re),g.createElement("div",Y,Ae,Se,Z))}return null},ge=function(){var Z=l+"_content",Se=r({id:Z,ref:h,style:o.contentStyle,className:z("content")},q("content"));return g.createElement("div",Se,o.children)},U=function(){var Z=Ce.getJSXElement(o.footer,o),Se=r({ref:S,className:z("footer")},q("footer"));return Z&&g.createElement("div",Se,Z)},J=function(){return o.resizable?g.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:Ge}):null},Ne=function(){var Z,Se={header:o.header,content:o.message,message:o==null||(Z=o.children)===null||Z===void 0||(Z=Z[1])===null||Z===void 0||(Z=Z.props)===null||Z===void 0?void 0:Z.children},Ae={headerRef:b,contentRef:h,footerRef:S,closeRef:j,hide:Ve,message:Se};return Ce.getJSXElement(e.content,Ae)},Le=function(){var Z=Yt(),Se=ge(),Ae=U(),Re=J();return g.createElement(g.Fragment,null,Z,Se,Ae,Re)},Xe=function(){var Z=l+"_header",Se=l+"_content",Ae={enter:o.position==="center"?150:300,exit:o.position==="center"?150:300},Re=r({ref:P,style:_("mask"),className:z("mask"),onPointerUp:lt},q("mask")),xt=r({ref:T,id:l,className:$e(o.className,z("root",{props:o,maximized:R,context:n})),style:o.style,onClick:o.onClick,role:"dialog","aria-labelledby":Z,"aria-describedby":Se,"aria-modal":o.modal,onPointerDown:Je},fo.getOtherProps(o),q("root")),pt=r({classNames:z("transition"),timeout:Ae,in:y,options:o.transitionOptions,unmountOnExit:!0,onEnter:et,onEntered:Pt,onExiting:Mt,onExited:_t},q("transition")),de=null;e!=null&&e.content?de=Ne():de=Le();var Y=g.createElement("div",Re,g.createElement(Ki,li({nodeRef:T},pt),g.createElement("div",xt,g.createElement(vm,{autoFocus:o.focusOnShow},de))));return g.createElement(Zi,{element:Y,appendTo:o.appendTo,visible:!0})};return d&&Xe()});no.displayName="Dialog";function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}var Cu=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",ui({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));Cu.displayName="CheckIcon";function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}var Su=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",di({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"}),g.createElement("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"}),g.createElement("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"}))}));Su.displayName="ExclamationTriangleIcon";function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(null,arguments)}var Eu=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",fi({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"}))}));Eu.displayName="InfoCircleIcon";function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(null,arguments)}var ns=g.memo(g.forwardRef(function(e,t){var r=Hr.getPTI(e);return g.createElement("svg",pi({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));ns.displayName="TimesCircleIcon";function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mi.apply(null,arguments)}function gi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Cm(e){if(Array.isArray(e))return gi(e)}function Sm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ju(e,t){if(e){if(typeof e=="string")return gi(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gi(e,t):void 0}}function Em(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ia(e){return Cm(e)||Sm(e)||ju(e)||Em()}function jm(e){if(Array.isArray(e))return e}function km(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}function Nm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hi(e,t){return jm(e)||km(e,t)||ju(e,t)||Nm()}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(e)}function Im(e,t){if(Bn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(e){var t=Im(e,"string");return Bn(t)=="symbol"?t:t+""}function ku(e,t,r){return(t=Tm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dm=`
@layer primereact {
    .p-toast {
        width: calc(100% - var(--toast-indent, 0px));
        max-width: 25rem;
    }
    
    .p-toast-message-icon {
        flex-shrink: 0;
    }
    
    .p-toast-message-content {
        display: flex;
        align-items: flex-start;
    }
    
    .p-toast-message-text {
        flex: 1 1 auto;
    }
    
    .p-toast-summary {
        overflow-wrap: anywhere;
    }
    
    .p-toast-detail {
        overflow-wrap: anywhere;
    }
    
    .p-toast-top-center {
        transform: translateX(-50%);
    }
    
    .p-toast-bottom-center {
        transform: translateX(-50%);
    }
    
    .p-toast-center {
        min-width: 20vw;
        transform: translate(-50%, -50%);
    }
    
    .p-toast-icon-close {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }
    
    .p-toast-icon-close.p-link {
        cursor: pointer;
    }
    
    /* Animations */
    .p-toast-message-enter {
        opacity: 0;
        transform: translateY(50%);
    }
    
    .p-toast-message-enter-active {
        opacity: 1;
        transform: translateY(0);
        transition: transform 0.3s, opacity 0.3s;
    }
    
    .p-toast-message-enter-done {
        transform: none;
    }
    
    .p-toast-message-exit {
        opacity: 1;
        max-height: 1000px;
    }
    
    .p-toast .p-toast-message.p-toast-message-exit-active {
        opacity: 0;
        max-height: 0;
        margin-bottom: 0;
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    }
}
`,Pm={root:function(t){var r=t.props,n=t.context;return $e("p-toast p-component p-toast-"+r.position,r.className,{"p-input-filled":n&&n.inputStyle==="filled"||jt.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||jt.ripple===!1})},message:{message:function(t){var r=t.severity;return $e("p-toast-message",ku({},"p-toast-message-".concat(r),r))},content:"p-toast-message-content",buttonicon:"p-toast-icon-close-icon",closeButton:"p-toast-icon-close p-link",icon:"p-toast-message-icon",text:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail"},transition:"p-toast-message"},Mm={root:function(t){var r=t.props;return{position:"fixed",top:r.position==="top-right"||r.position==="top-left"||r.position==="top-center"?"20px":r.position==="center"?"50%":null,right:(r.position==="top-right"||r.position==="bottom-right")&&"20px",bottom:(r.position==="bottom-left"||r.position==="bottom-right"||r.position==="bottom-center")&&"20px",left:r.position==="top-left"||r.position==="bottom-left"?"20px":r.position==="center"||r.position==="top-center"||r.position==="bottom-center"?"50%":null}}},po=to.extend({defaultProps:{__TYPE:"Toast",id:null,className:null,content:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null,children:void 0},css:{classes:Pm,styles:Dm,inlineStyles:Mm}});function nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nl(Object(r),!0).forEach(function(n){ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Nu=g.memo(g.forwardRef(function(e,t){var r=fn(),n=e.messageInfo,o=e.metaData,a=e.ptCallbacks,i=a.ptm,s=a.ptmo,l=a.cx,c=e.index,u=n.message,d=u.severity,p=u.content,m=u.summary,v=u.detail,y=u.closable,C=u.life,w=u.sticky,k=u.className,I=u.style,N=u.contentClassName,T=u.contentStyle,P=u.icon,x=u.closeIcon,h=u.pt,b={index:c},S=He(He({},o),b),j=g.useState(!1),A=hi(j,2),M=A[0],E=A[1],D=Pp(function(){R()},C||3e3,!w&&!M),O=hi(D,1),B=O[0],L=function(W,se){return i(W,He({hostName:e.hostName},se))},R=function(){B(),e.onClose&&e.onClose(n)},$=function(W){e.onClick&&!(ce.hasClass(W.target,"p-toast-icon-close")||ce.hasClass(W.target,"p-toast-icon-close-icon"))&&e.onClick(n.message)},V=function(W){e.onMouseEnter&&e.onMouseEnter(W),!W.defaultPrevented&&(w||(B(),E(!0)))},H=function(W){e.onMouseLeave&&e.onMouseLeave(W),!W.defaultPrevented&&(w||E(!1))},G=function(){var W=r({className:l("message.buttonicon")},L("buttonicon",S),s(h,"buttonicon",He(He({},b),{},{hostName:e.hostName}))),se=x||g.createElement(ts,W),we=$r.getJSXIcon(se,He({},W),{props:e}),he=r({type:"button",className:l("message.closeButton"),onClick:R,"aria-label":e.ariaCloseLabel||fu("close")},L("closeButton",S),s(h,"closeButton",He(He({},b),{},{hostName:e.hostName})));return y!==!1?g.createElement("div",null,g.createElement("button",he,we,g.createElement(Lo,null))):null},q=function(){if(n){var W=Ce.getJSXElement(p,{message:n.message,onClick:$,onClose:R}),se=r({className:l("message.icon")},L("icon",S),s(h,"icon",He(He({},b),{},{hostName:e.hostName}))),we=P;if(!P)switch(d){case"info":we=g.createElement(Eu,se);break;case"warn":we=g.createElement(Su,se);break;case"error":we=g.createElement(ns,se);break;case"success":we=g.createElement(Cu,se);break}var he=$r.getJSXIcon(we,He({},se),{props:e}),re=r({className:l("message.text")},L("text",S),s(h,"text",He(He({},b),{},{hostName:e.hostName}))),ke=r({className:l("message.summary")},L("summary",S),s(h,"summary",He(He({},b),{},{hostName:e.hostName}))),Ie=r({className:l("message.detail")},L("detail",S),s(h,"detail",He(He({},b),{},{hostName:e.hostName})));return W||g.createElement(g.Fragment,null,he,g.createElement("div",re,g.createElement("span",ke,m),v&&g.createElement("div",Ie,v)))}return null},z=q(),_=G(),X=r({ref:t,className:$e(k,l("message.message",{severity:d})),style:I,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:$,onMouseEnter:V,onMouseLeave:H},L("message",S),s(h,"root",He(He({},b),{},{hostName:e.hostName}))),K=r({className:$e(N,l("message.content")),style:T},L("content",S),s(h,"content",He(He({},b),{},{hostName:e.hostName})));return g.createElement("div",X,g.createElement("div",K,z,_))}));Nu.displayName="ToastMessage";var ol=0,Iu=g.memo(g.forwardRef(function(e,t){var r=fn(),n=g.useContext(pn),o=po.getProps(e,n),a=g.useState([]),i=hi(a,2),s=i[0],l=i[1],c=g.useRef(null),u={props:o,state:{messages:s}},d=po.setMetaData(u);qi(po.css.styles,d.isUnstyled,{name:"toast"});var p=function(x){x&&l(function(h){return m(h,x,!0)})},m=function(x,h,b){var S;if(Array.isArray(h)){var j=h.reduce(function(M,E){return M.push({_pId:ol++,message:E}),M},[]);b?S=x?[].concat(Ia(x),Ia(j)):j:S=j}else{var A={_pId:ol++,message:h};b?S=x?[].concat(Ia(x),[A]):[A]:S=[A]}return S},v=function(){Kt.clear(c.current),l([])},y=function(x){l(function(h){return m(h,x,!1)})},C=function(x){var h=Ce.isNotEmpty(x._pId)?x._pId:x.message||x;l(function(b){return b.filter(function(S){return S._pId!==x._pId&&!Ce.deepEquals(S.message,h)})}),o.onRemove&&o.onRemove(x.message||h)},w=function(x){C(x)},k=function(){o.onShow&&o.onShow()},I=function(){s.length===1&&Kt.clear(c.current),o.onHide&&o.onHide()};Ot(function(){Kt.set("toast",c.current,n&&n.autoZIndex||jt.autoZIndex,o.baseZIndex||n&&n.zIndex.toast||jt.zIndex.toast)},[s,o.baseZIndex]),Xi(function(){Kt.clear(c.current)}),g.useImperativeHandle(t,function(){return{props:o,show:p,replace:y,remove:C,clear:v,getElement:function(){return c.current}}});var N=function(){var x=r({ref:c,id:o.id,className:d.cx("root",{context:n}),style:d.sx("root")},po.getOtherProps(o),d.ptm("root")),h=r({classNames:d.cx("transition"),timeout:{enter:300,exit:300},options:o.transitionOptions,unmountOnExit:!0,onEntered:k,onExited:I},d.ptm("transition"));return g.createElement("div",x,g.createElement(es,null,s&&s.map(function(b,S){var j=g.createRef();return g.createElement(Ki,mi({nodeRef:j,key:b._pId},h),e.content?Ce.getJSXElement(e.content,{message:b.message}):g.createElement(Nu,{hostName:"Toast",ref:j,messageInfo:b,index:S,onClick:o.onClick,onClose:w,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,closeIcon:o.closeIcon,ptCallbacks:d,metaData:u}))})))},T=N();return g.createElement(Zi,{element:T,appendTo:o.appendTo})}));Iu.displayName="Toast";function it(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=it(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var Ta={exports:{}},Da={},Pa={exports:{}},Ma={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al;function Am(){if(al)return Ma;al=1;var e=cu();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function s(d,p){var m=p(),v=n({inst:{value:m,getSnapshot:p}}),y=v[0].inst,C=v[1];return a(function(){y.value=m,y.getSnapshot=p,l(y)&&C({inst:y})},[d,m,p]),o(function(){return l(y)&&C({inst:y}),d(function(){l(y)&&C({inst:y})})},[d]),i(m),m}function l(d){var p=d.getSnapshot;d=d.value;try{var m=p();return!r(d,m)}catch{return!0}}function c(d,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Ma.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Ma}var il;function Rm(){return il||(il=1,Pa.exports=Am()),Pa.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl;function Om(){if(sl)return Da;sl=1;var e=cu(),t=Rm();function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return Da.useSyncExternalStoreWithSelector=function(c,u,d,p,m){var v=a(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=s(function(){function w(P){if(!k){if(k=!0,I=P,P=p(P),m!==void 0&&y.hasValue){var x=y.value;if(m(x,P))return N=x}return N=P}if(x=N,n(I,P))return x;var h=p(P);return m!==void 0&&m(x,h)?(I=P,x):(I=P,N=h)}var k=!1,I,N,T=d===void 0?null:d;return[function(){return w(u())},T===null?void 0:function(){return w(T())}]},[u,d,p,m]);var C=o(c,v[0],v[1]);return i(function(){y.hasValue=!0,y.value=C},[C]),l(C),C},Da}var ll;function Lm(){return ll||(ll=1,Ta.exports=Om()),Ta.exports}var Fm=Lm();const $m=Np(Fm),Bm={},cl=e=>{let t;const r=new Set,n=(u,d)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const m=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(v=>v(t,m))}},o=()=>t,l={setState:n,getState:o,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(Bm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,o,l);return l},_m=e=>e?cl(e):cl,{useDebugValue:zm}=F,{useSyncExternalStoreWithSelector:Hm}=$m,Vm=e=>e;function Tu(e,t=Vm,r){const n=Hm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return zm(n),n}const ul=(e,t)=>{const r=_m(e),n=(o,a=t)=>Tu(r,o,a);return Object.assign(n,r),n},Gm=(e,t)=>e?ul(e,t):ul;function vt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Um={value:()=>{}};function sa(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Po(r)}function Po(e){this._=e}function Wm(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Po.prototype=sa.prototype={constructor:Po,on:function(e,t){var r=this._,n=Wm(e+"",r),o,a=-1,i=n.length;if(arguments.length<2){for(;++a<i;)if((o=(e=n[a]).type)&&(o=qm(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<i;)if(o=(e=n[a]).type)r[o]=dl(r[o],e.name,t);else if(t==null)for(o in r)r[o]=dl(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Po(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,a;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,o=a.length;n<o;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,a=n.length;o<a;++o)n[o].value.apply(t,r)}};function qm(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function dl(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=Um,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var vi="http://www.w3.org/1999/xhtml";const fl={svg:"http://www.w3.org/2000/svg",xhtml:vi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function la(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),fl.hasOwnProperty(t)?{space:fl[t],local:e}:e}function Ym(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===vi&&t.documentElement.namespaceURI===vi?t.createElement(e):t.createElementNS(r,e)}}function Xm(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Du(e){var t=la(e);return(t.local?Xm:Ym)(t)}function Km(){}function os(e){return e==null?Km:function(){return this.querySelector(e)}}function Zm(e){typeof e!="function"&&(e=os(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=new Array(i),l,c,u=0;u<i;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Tt(n,this._parents)}function Qm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Jm(){return[]}function Pu(e){return e==null?Jm:function(){return this.querySelectorAll(e)}}function eg(e){return function(){return Qm(e.apply(this,arguments))}}function tg(e){typeof e=="function"?e=eg(e):e=Pu(e);for(var t=this._groups,r=t.length,n=[],o=[],a=0;a<r;++a)for(var i=t[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(n.push(e.call(l,l.__data__,c,i)),o.push(l));return new Tt(n,o)}function Mu(e){return function(){return this.matches(e)}}function Au(e){return function(t){return t.matches(e)}}var rg=Array.prototype.find;function ng(e){return function(){return rg.call(this.children,e)}}function og(){return this.firstElementChild}function ag(e){return this.select(e==null?og:ng(typeof e=="function"?e:Au(e)))}var ig=Array.prototype.filter;function sg(){return Array.from(this.children)}function lg(e){return function(){return ig.call(this.children,e)}}function cg(e){return this.selectAll(e==null?sg:lg(typeof e=="function"?e:Au(e)))}function ug(e){typeof e!="function"&&(e=Mu(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Tt(n,this._parents)}function Ru(e){return new Array(e.length)}function dg(){return new Tt(this._enter||this._groups.map(Ru),this._parents)}function Fo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fo.prototype={constructor:Fo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fg(e){return function(){return e}}function pg(e,t,r,n,o,a){for(var i=0,s,l=t.length,c=a.length;i<c;++i)(s=t[i])?(s.__data__=a[i],n[i]=s):r[i]=new Fo(e,a[i]);for(;i<l;++i)(s=t[i])&&(o[i]=s)}function mg(e,t,r,n,o,a,i){var s,l,c=new Map,u=t.length,d=a.length,p=new Array(u),m;for(s=0;s<u;++s)(l=t[s])&&(p[s]=m=i.call(l,l.__data__,s,t)+"",c.has(m)?o[s]=l:c.set(m,l));for(s=0;s<d;++s)m=i.call(e,a[s],s,a)+"",(l=c.get(m))?(n[s]=l,l.__data__=a[s],c.delete(m)):r[s]=new Fo(e,a[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(p[s])===l&&(o[s]=l)}function gg(e){return e.__data__}function hg(e,t){if(!arguments.length)return Array.from(this,gg);var r=t?mg:pg,n=this._parents,o=this._groups;typeof e!="function"&&(e=fg(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=n[c],d=o[c],p=d.length,m=vg(e.call(u,u&&u.__data__,c,n)),v=m.length,y=s[c]=new Array(v),C=i[c]=new Array(v),w=l[c]=new Array(p);r(u,d,y,C,w,m,t);for(var k=0,I=0,N,T;k<v;++k)if(N=y[k]){for(k>=I&&(I=k+1);!(T=C[I])&&++I<v;);N._next=T||null}}return i=new Tt(i,n),i._enter=s,i._exit=l,i}function vg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yg(){return new Tt(this._exit||this._groups.map(Ru),this._parents)}function bg(e,t,r){var n=this.enter(),o=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?a.remove():r(a),n&&o?n.merge(o).order():o}function wg(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,a=n.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var c=r[l],u=n[l],d=c.length,p=s[l]=new Array(d),m,v=0;v<d;++v)(m=c[v]||u[v])&&(p[v]=m);for(;l<o;++l)s[l]=r[l];return new Tt(s,this._parents)}function xg(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,a=n[o],i;--o>=0;)(i=n[o])&&(a&&i.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(i,a),a=i);return this}function Cg(e){e||(e=Sg);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var r=this._groups,n=r.length,o=new Array(n),a=0;a<n;++a){for(var i=r[a],s=i.length,l=o[a]=new Array(s),c,u=0;u<s;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new Tt(o,this._parents).order()}function Sg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Eg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jg(){return Array.from(this)}function kg(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length;o<a;++o){var i=n[o];if(i)return i}return null}function Ng(){let e=0;for(const t of this)++e;return e}function Ig(){return!this.node()}function Tg(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],a=0,i=o.length,s;a<i;++a)(s=o[a])&&e.call(s,s.__data__,a,o);return this}function Dg(e){return function(){this.removeAttribute(e)}}function Pg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mg(e,t){return function(){this.setAttribute(e,t)}}function Ag(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Rg(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Og(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Lg(e,t){var r=la(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Pg:Dg:typeof t=="function"?r.local?Og:Rg:r.local?Ag:Mg)(r,t))}function Ou(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Fg(e){return function(){this.style.removeProperty(e)}}function $g(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Bg(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function _g(e,t,r){return arguments.length>1?this.each((t==null?Fg:typeof t=="function"?Bg:$g)(e,t,r??"")):an(this.node(),e)}function an(e,t){return e.style.getPropertyValue(t)||Ou(e).getComputedStyle(e,null).getPropertyValue(t)}function zg(e){return function(){delete this[e]}}function Hg(e,t){return function(){this[e]=t}}function Vg(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Gg(e,t){return arguments.length>1?this.each((t==null?zg:typeof t=="function"?Vg:Hg)(e,t)):this.node()[e]}function Lu(e){return e.trim().split(/^|\s+/)}function as(e){return e.classList||new Fu(e)}function Fu(e){this._node=e,this._names=Lu(e.getAttribute("class")||"")}Fu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $u(e,t){for(var r=as(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function Bu(e,t){for(var r=as(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function Ug(e){return function(){$u(this,e)}}function Wg(e){return function(){Bu(this,e)}}function qg(e,t){return function(){(t.apply(this,arguments)?$u:Bu)(this,e)}}function Yg(e,t){var r=Lu(e+"");if(arguments.length<2){for(var n=as(this.node()),o=-1,a=r.length;++o<a;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?qg:t?Ug:Wg)(r,t))}function Xg(){this.textContent=""}function Kg(e){return function(){this.textContent=e}}function Zg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Qg(e){return arguments.length?this.each(e==null?Xg:(typeof e=="function"?Zg:Kg)(e)):this.node().textContent}function Jg(){this.innerHTML=""}function eh(e){return function(){this.innerHTML=e}}function th(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function rh(e){return arguments.length?this.each(e==null?Jg:(typeof e=="function"?th:eh)(e)):this.node().innerHTML}function nh(){this.nextSibling&&this.parentNode.appendChild(this)}function oh(){return this.each(nh)}function ah(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ih(){return this.each(ah)}function sh(e){var t=typeof e=="function"?e:Du(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function lh(){return null}function ch(e,t){var r=typeof e=="function"?e:Du(e),n=t==null?lh:typeof t=="function"?t:os(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function uh(){var e=this.parentNode;e&&e.removeChild(this)}function dh(){return this.each(uh)}function fh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ph(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mh(e){return this.select(e?ph:fh)}function gh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hh(e){return function(t){e.call(this,t,this.__data__)}}function vh(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function yh(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,o=t.length,a;r<o;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function bh(e,t,r){return function(){var n=this.__on,o,a=hh(t);if(n){for(var i=0,s=n.length;i<s;++i)if((o=n[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=t;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(o):this.__on=[o]}}function wh(e,t,r){var n=vh(e+""),o,a=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(o=0,u=s[l];o<a;++o)if((i=n[o]).type===u.type&&i.name===u.name)return u.value}return}for(s=t?bh:yh,o=0;o<a;++o)this.each(s(n[o],t,r));return this}function _u(e,t,r){var n=Ou(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function xh(e,t){return function(){return _u(this,e,t)}}function Ch(e,t){return function(){return _u(this,e,t.apply(this,arguments))}}function Sh(e,t){return this.each((typeof t=="function"?Ch:xh)(e,t))}function*Eh(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,a=n.length,i;o<a;++o)(i=n[o])&&(yield i)}var zu=[null];function Tt(e,t){this._groups=e,this._parents=t}function oo(){return new Tt([[document.documentElement]],zu)}function jh(){return this}Tt.prototype=oo.prototype={constructor:Tt,select:Zm,selectAll:tg,selectChild:ag,selectChildren:cg,filter:ug,data:hg,enter:dg,exit:yg,join:bg,merge:wg,selection:jh,order:xg,sort:Cg,call:Eg,nodes:jg,node:kg,size:Ng,empty:Ig,each:Tg,attr:Lg,style:_g,property:Gg,classed:Yg,text:Qg,html:rh,raise:oh,lower:ih,append:sh,insert:ch,remove:dh,clone:mh,datum:gh,on:wh,dispatch:Sh,[Symbol.iterator]:Eh};function Ht(e){return typeof e=="string"?new Tt([[document.querySelector(e)]],[document.documentElement]):new Tt([[e]],zu)}function kh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xt(e,t){if(e=kh(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Nh={passive:!1},_n={capture:!0,passive:!1};function Aa(e){e.stopImmediatePropagation()}function en(e){e.preventDefault(),e.stopImmediatePropagation()}function Hu(e){var t=e.document.documentElement,r=Ht(e).on("dragstart.drag",en,_n);"onselectstart"in t?r.on("selectstart.drag",en,_n):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vu(e,t){var r=e.document.documentElement,n=Ht(e).on("dragstart.drag",null);t&&(n.on("click.drag",en,_n),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const mo=e=>()=>e;function yi(e,{sourceEvent:t,subject:r,target:n,identifier:o,active:a,x:i,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}yi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ih(e){return!e.ctrlKey&&!e.button}function Th(){return this.parentNode}function Dh(e,t){return t??{x:e.x,y:e.y}}function Ph(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mh(){var e=Ih,t=Th,r=Dh,n=Ph,o={},a=sa("start","drag","end"),i=0,s,l,c,u,d=0;function p(N){N.on("mousedown.drag",m).filter(n).on("touchstart.drag",C).on("touchmove.drag",w,Nh).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(N,T){if(!(u||!e.call(this,N,T))){var P=I(this,t.call(this,N,T),N,T,"mouse");P&&(Ht(N.view).on("mousemove.drag",v,_n).on("mouseup.drag",y,_n),Hu(N.view),Aa(N),c=!1,s=N.clientX,l=N.clientY,P("start",N))}}function v(N){if(en(N),!c){var T=N.clientX-s,P=N.clientY-l;c=T*T+P*P>d}o.mouse("drag",N)}function y(N){Ht(N.view).on("mousemove.drag mouseup.drag",null),Vu(N.view,c),en(N),o.mouse("end",N)}function C(N,T){if(e.call(this,N,T)){var P=N.changedTouches,x=t.call(this,N,T),h=P.length,b,S;for(b=0;b<h;++b)(S=I(this,x,N,T,P[b].identifier,P[b]))&&(Aa(N),S("start",N,P[b]))}}function w(N){var T=N.changedTouches,P=T.length,x,h;for(x=0;x<P;++x)(h=o[T[x].identifier])&&(en(N),h("drag",N,T[x]))}function k(N){var T=N.changedTouches,P=T.length,x,h;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),x=0;x<P;++x)(h=o[T[x].identifier])&&(Aa(N),h("end",N,T[x]))}function I(N,T,P,x,h,b){var S=a.copy(),j=Xt(b||P,T),A,M,E;if((E=r.call(N,new yi("beforestart",{sourceEvent:P,target:p,identifier:h,active:i,x:j[0],y:j[1],dx:0,dy:0,dispatch:S}),x))!=null)return A=E.x-j[0]||0,M=E.y-j[1]||0,function D(O,B,L){var R=j,$;switch(O){case"start":o[h]=D,$=i++;break;case"end":delete o[h],--i;case"drag":j=Xt(L||B,T),$=i;break}S.call(O,N,new yi(O,{sourceEvent:B,subject:E,target:p,identifier:h,active:$,x:j[0]+A,y:j[1]+M,dx:j[0]-R[0],dy:j[1]-R[1],dispatch:S}),x)}}return p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:mo(!!N),p):e},p.container=function(N){return arguments.length?(t=typeof N=="function"?N:mo(N),p):t},p.subject=function(N){return arguments.length?(r=typeof N=="function"?N:mo(N),p):r},p.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:mo(!!N),p):n},p.on=function(){var N=a.on.apply(a,arguments);return N===a?p:N},p.clickDistance=function(N){return arguments.length?(d=(N=+N)*N,p):Math.sqrt(d)},p}function is(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Gu(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ao(){}var zn=.7,$o=1/zn,tn="\\s*([+-]?\\d+)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ah=/^#([0-9a-f]{3,8})$/,Rh=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),Oh=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),Lh=new RegExp(`^rgba\\(${tn},${tn},${tn},${Hn}\\)$`),Fh=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${Hn}\\)$`),$h=new RegExp(`^hsl\\(${Hn},${Zt},${Zt}\\)$`),Bh=new RegExp(`^hsla\\(${Hn},${Zt},${Zt},${Hn}\\)$`),pl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};is(ao,Vn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ml,formatHex:ml,formatHex8:_h,formatHsl:zh,formatRgb:gl,toString:gl});function ml(){return this.rgb().formatHex()}function _h(){return this.rgb().formatHex8()}function zh(){return Uu(this).formatHsl()}function gl(){return this.rgb().formatRgb()}function Vn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ah.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hl(t):r===3?new gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?go(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?go(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rh.exec(e))?new gt(t[1],t[2],t[3],1):(t=Oh.exec(e))?new gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lh.exec(e))?go(t[1],t[2],t[3],t[4]):(t=Fh.exec(e))?go(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$h.exec(e))?bl(t[1],t[2]/100,t[3]/100,1):(t=Bh.exec(e))?bl(t[1],t[2]/100,t[3]/100,t[4]):pl.hasOwnProperty(e)?hl(pl[e]):e==="transparent"?new gt(NaN,NaN,NaN,0):null}function hl(e){return new gt(e>>16&255,e>>8&255,e&255,1)}function go(e,t,r,n){return n<=0&&(e=t=r=NaN),new gt(e,t,r,n)}function Hh(e){return e instanceof ao||(e=Vn(e)),e?(e=e.rgb(),new gt(e.r,e.g,e.b,e.opacity)):new gt}function bi(e,t,r,n){return arguments.length===1?Hh(e):new gt(e,t,r,n??1)}function gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}is(gt,bi,Gu(ao,{brighter(e){return e=e==null?$o:Math.pow($o,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zn:Math.pow(zn,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gt(Fr(this.r),Fr(this.g),Fr(this.b),Bo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vl,formatHex:vl,formatHex8:Vh,formatRgb:yl,toString:yl}));function vl(){return`#${Or(this.r)}${Or(this.g)}${Or(this.b)}`}function Vh(){return`#${Or(this.r)}${Or(this.g)}${Or(this.b)}${Or((isNaN(this.opacity)?1:this.opacity)*255)}`}function yl(){const e=Bo(this.opacity);return`${e===1?"rgb(":"rgba("}${Fr(this.r)}, ${Fr(this.g)}, ${Fr(this.b)}${e===1?")":`, ${e})`}`}function Bo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Or(e){return e=Fr(e),(e<16?"0":"")+e.toString(16)}function bl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vt(e,t,r,n)}function Uu(e){if(e instanceof Vt)return new Vt(e.h,e.s,e.l,e.opacity);if(e instanceof ao||(e=Vn(e)),!e)return new Vt;if(e instanceof Vt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,l=(a+o)/2;return s?(t===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new Vt(i,s,l,e.opacity)}function Gh(e,t,r,n){return arguments.length===1?Uu(e):new Vt(e,t,r,n??1)}function Vt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}is(Vt,Gh,Gu(ao,{brighter(e){return e=e==null?$o:Math.pow($o,e),new Vt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zn:Math.pow(zn,e),new Vt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new gt(Ra(e>=240?e-240:e+120,o,n),Ra(e,o,n),Ra(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Vt(wl(this.h),ho(this.s),ho(this.l),Bo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bo(this.opacity);return`${e===1?"hsl(":"hsla("}${wl(this.h)}, ${ho(this.s)*100}%, ${ho(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wl(e){return e=(e||0)%360,e<0?e+360:e}function ho(e){return Math.max(0,Math.min(1,e||0))}function Ra(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Wu=e=>()=>e;function Uh(e,t){return function(r){return e+r*t}}function Wh(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qh(e){return(e=+e)==1?qu:function(t,r){return r-t?Wh(t,r,e):Wu(isNaN(t)?r:t)}}function qu(e,t){var r=t-e;return r?Uh(e,r):Wu(isNaN(e)?t:e)}const xl=function e(t){var r=qh(t);function n(o,a){var i=r((o=bi(o)).r,(a=bi(a)).r),s=r(o.g,a.g),l=r(o.b,a.b),c=qu(o.opacity,a.opacity);return function(u){return o.r=i(u),o.g=s(u),o.b=l(u),o.opacity=c(u),o+""}}return n.gamma=e,n}(1);function hr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var wi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oa=new RegExp(wi.source,"g");function Yh(e){return function(){return e}}function Xh(e){return function(t){return e(t)+""}}function Kh(e,t){var r=wi.lastIndex=Oa.lastIndex=0,n,o,a,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=wi.exec(e))&&(o=Oa.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,l.push({i,x:hr(n,o)})),r=Oa.lastIndex;return r<t.length&&(a=t.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?Xh(l[0].x):Yh(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}var Cl=180/Math.PI,xi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yu(e,t,r,n,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Cl,skewX:Math.atan(l)*Cl,scaleX:i,scaleY:s}}var vo;function Zh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?xi:Yu(t.a,t.b,t.c,t.d,t.e,t.f)}function Qh(e){return e==null||(vo||(vo=document.createElementNS("http://www.w3.org/2000/svg","g")),vo.setAttribute("transform",e),!(e=vo.transform.baseVal.consolidate()))?xi:(e=e.matrix,Yu(e.a,e.b,e.c,e.d,e.e,e.f))}function Xu(e,t,r,n){function o(c){return c.length?c.pop()+" ":""}function a(c,u,d,p,m,v){if(c!==d||u!==p){var y=m.push("translate(",null,t,null,r);v.push({i:y-4,x:hr(c,d)},{i:y-2,x:hr(u,p)})}else(d||p)&&m.push("translate("+d+t+p+r)}function i(c,u,d,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:d.push(o(d)+"rotate(",null,n)-2,x:hr(c,u)})):u&&d.push(o(d)+"rotate("+u+n)}function s(c,u,d,p){c!==u?p.push({i:d.push(o(d)+"skewX(",null,n)-2,x:hr(c,u)}):u&&d.push(o(d)+"skewX("+u+n)}function l(c,u,d,p,m,v){if(c!==d||u!==p){var y=m.push(o(m)+"scale(",null,",",null,")");v.push({i:y-4,x:hr(c,d)},{i:y-2,x:hr(u,p)})}else(d!==1||p!==1)&&m.push(o(m)+"scale("+d+","+p+")")}return function(c,u){var d=[],p=[];return c=e(c),u=e(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,p),i(c.rotate,u.rotate,d,p),s(c.skewX,u.skewX,d,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,p),c=u=null,function(m){for(var v=-1,y=p.length,C;++v<y;)d[(C=p[v]).i]=C.x(m);return d.join("")}}}var Jh=Xu(Zh,"px, ","px)","deg)"),ev=Xu(Qh,", ",")",")"),tv=1e-12;function Sl(e){return((e=Math.exp(e))+1/e)/2}function rv(e){return((e=Math.exp(e))-1/e)/2}function nv(e){return((e=Math.exp(2*e))-1)/(e+1)}const ov=function e(t,r,n){function o(a,i){var s=a[0],l=a[1],c=a[2],u=i[0],d=i[1],p=i[2],m=u-s,v=d-l,y=m*m+v*v,C,w;if(y<tv)w=Math.log(p/c)/t,C=function(x){return[s+x*m,l+x*v,c*Math.exp(t*x*w)]};else{var k=Math.sqrt(y),I=(p*p-c*c+n*y)/(2*c*r*k),N=(p*p-c*c-n*y)/(2*p*r*k),T=Math.log(Math.sqrt(I*I+1)-I),P=Math.log(Math.sqrt(N*N+1)-N);w=(P-T)/t,C=function(x){var h=x*w,b=Sl(T),S=c/(r*k)*(b*nv(t*h+T)-rv(T));return[s+S*m,l+S*v,c*b/Sl(t*h+T)]}}return C.duration=w*1e3*t/Math.SQRT2,C}return o.rho=function(a){var i=Math.max(.001,+a),s=i*i,l=s*s;return e(i,s,l)},o}(Math.SQRT2,2,4);var sn=0,Dn=0,wn=0,Ku=1e3,_o,Pn,zo=0,Br=0,ca=0,Gn=typeof performance=="object"&&performance.now?performance:Date,Zu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ss(){return Br||(Zu(av),Br=Gn.now()+ca)}function av(){Br=0}function Ho(){this._call=this._time=this._next=null}Ho.prototype=Qu.prototype={constructor:Ho,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?ss():+r)+(t==null?0:+t),!this._next&&Pn!==this&&(Pn?Pn._next=this:_o=this,Pn=this),this._call=e,this._time=r,Ci()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ci())}};function Qu(e,t,r){var n=new Ho;return n.restart(e,t,r),n}function iv(){ss(),++sn;for(var e=_o,t;e;)(t=Br-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sn}function El(){Br=(zo=Gn.now())+ca,sn=Dn=0;try{iv()}finally{sn=0,lv(),Br=0}}function sv(){var e=Gn.now(),t=e-zo;t>Ku&&(ca-=t,zo=e)}function lv(){for(var e,t=_o,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:_o=r);Pn=e,Ci(n)}function Ci(e){if(!sn){Dn&&(Dn=clearTimeout(Dn));var t=e-Br;t>24?(e<1/0&&(Dn=setTimeout(El,e-Gn.now()-ca)),wn&&(wn=clearInterval(wn))):(wn||(zo=Gn.now(),wn=setInterval(sv,Ku)),sn=1,Zu(El))}}function jl(e,t,r){var n=new Ho;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var cv=sa("start","end","cancel","interrupt"),uv=[],Ju=0,kl=1,Si=2,Mo=3,Nl=4,Ei=5,Ao=6;function ua(e,t,r,n,o,a){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;dv(e,r,{name:t,index:n,group:o,on:cv,tween:uv,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ju})}function ls(e,t){var r=Wt(e,t);if(r.state>Ju)throw new Error("too late; already scheduled");return r}function Qt(e,t){var r=Wt(e,t);if(r.state>Mo)throw new Error("too late; already running");return r}function Wt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function dv(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=Qu(a,0,r.time);function a(c){r.state=kl,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var u,d,p,m;if(r.state!==kl)return l();for(u in n)if(m=n[u],m.name===r.name){if(m.state===Mo)return jl(i);m.state===Nl?(m.state=Ao,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[u]):+u<t&&(m.state=Ao,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[u])}if(jl(function(){r.state===Mo&&(r.state=Nl,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=Si,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Si){for(r.state=Mo,o=new Array(p=r.tween.length),u=0,d=-1;u<p;++u)(m=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(o[++d]=m);o.length=d+1}}function s(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=Ei,1),d=-1,p=o.length;++d<p;)o[d].call(e,u);r.state===Ei&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Ao,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Ro(e,t){var r=e.__transition,n,o,a=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){a=!1;continue}o=n.state>Si&&n.state<Ei,n.state=Ao,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}a&&delete e.__transition}}function fv(e){return this.each(function(){Ro(this,e)})}function pv(e,t){var r,n;return function(){var o=Qt(this,e),a=o.tween;if(a!==r){n=r=a;for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}o.tween=n}}function mv(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var a=Qt(this,e),i=a.tween;if(i!==n){o=(n=i).slice();for(var s={name:t,value:r},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function gv(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Wt(this.node(),r).tween,o=0,a=n.length,i;o<a;++o)if((i=n[o]).name===e)return i.value;return null}return this.each((t==null?pv:mv)(r,e,t))}function cs(e,t,r){var n=e._id;return e.each(function(){var o=Qt(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return Wt(o,n).value[t]}}function ed(e,t){var r;return(typeof t=="number"?hr:t instanceof Vn?xl:(r=Vn(t))?(t=r,xl):Kh)(e,t)}function hv(e){return function(){this.removeAttribute(e)}}function vv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yv(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttribute(e);return i===o?null:i===n?a:a=t(n=i,r)}}function bv(e,t,r){var n,o=r+"",a;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===n?a:a=t(n=i,r)}}function wv(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function xv(e,t,r){var n,o,a;return function(){var i,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s)))}}function Cv(e,t){var r=la(e),n=r==="transform"?ev:ed;return this.attrTween(e,typeof t=="function"?(r.local?xv:wv)(r,n,cs(this,"attr."+e,t)):t==null?(r.local?vv:hv)(r):(r.local?bv:yv)(r,n,t))}function Sv(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Ev(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function jv(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Ev(e,a)),r}return o._value=t,o}function kv(e,t){var r,n;function o(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&Sv(e,a)),r}return o._value=t,o}function Nv(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=la(e);return this.tween(r,(n.local?jv:kv)(n,t))}function Iv(e,t){return function(){ls(this,e).delay=+t.apply(this,arguments)}}function Tv(e,t){return t=+t,function(){ls(this,e).delay=t}}function Dv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Iv:Tv)(t,e)):Wt(this.node(),t).delay}function Pv(e,t){return function(){Qt(this,e).duration=+t.apply(this,arguments)}}function Mv(e,t){return t=+t,function(){Qt(this,e).duration=t}}function Av(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pv:Mv)(t,e)):Wt(this.node(),t).duration}function Rv(e,t){if(typeof t!="function")throw new Error;return function(){Qt(this,e).ease=t}}function Ov(e){var t=this._id;return arguments.length?this.each(Rv(t,e)):Wt(this.node(),t).ease}function Lv(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Qt(this,e).ease=r}}function Fv(e){if(typeof e!="function")throw new Error;return this.each(Lv(this._id,e))}function $v(e){typeof e!="function"&&(e=Mu(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var a=t[o],i=a.length,s=n[o]=[],l,c=0;c<i;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new ur(n,this._parents,this._name,this._id)}function Bv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,a=Math.min(n,o),i=new Array(n),s=0;s<a;++s)for(var l=t[s],c=r[s],u=l.length,d=i[s]=new Array(u),p,m=0;m<u;++m)(p=l[m]||c[m])&&(d[m]=p);for(;s<n;++s)i[s]=t[s];return new ur(i,this._parents,this._name,this._id)}function _v(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function zv(e,t,r){var n,o,a=_v(t)?ls:Qt;return function(){var i=a(this,e),s=i.on;s!==n&&(o=(n=s).copy()).on(t,r),i.on=o}}function Hv(e,t){var r=this._id;return arguments.length<2?Wt(this.node(),r).on.on(e):this.each(zv(r,e,t))}function Vv(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Gv(){return this.on("end.remove",Vv(this._id))}function Uv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=os(e));for(var n=this._groups,o=n.length,a=new Array(o),i=0;i<o;++i)for(var s=n[i],l=s.length,c=a[i]=new Array(l),u,d,p=0;p<l;++p)(u=s[p])&&(d=e.call(u,u.__data__,p,s))&&("__data__"in u&&(d.__data__=u.__data__),c[p]=d,ua(c[p],t,r,p,c,Wt(u,r)));return new ur(a,this._parents,t,r)}function Wv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Pu(e));for(var n=this._groups,o=n.length,a=[],i=[],s=0;s<o;++s)for(var l=n[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var p=e.call(u,u.__data__,d,l),m,v=Wt(u,r),y=0,C=p.length;y<C;++y)(m=p[y])&&ua(m,t,r,y,p,v);a.push(p),i.push(u)}return new ur(a,i,t,r)}var qv=oo.prototype.constructor;function Yv(){return new qv(this._groups,this._parents)}function Xv(e,t){var r,n,o;return function(){var a=an(this,e),i=(this.style.removeProperty(e),an(this,e));return a===i?null:a===r&&i===n?o:o=t(r=a,n=i)}}function td(e){return function(){this.style.removeProperty(e)}}function Kv(e,t,r){var n,o=r+"",a;return function(){var i=an(this,e);return i===o?null:i===n?a:a=t(n=i,r)}}function Zv(e,t,r){var n,o,a;return function(){var i=an(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),an(this,e))),i===l?null:i===n&&l===o?a:(o=l,a=t(n=i,s))}}function Qv(e,t){var r,n,o,a="style."+t,i="end."+a,s;return function(){var l=Qt(this,e),c=l.on,u=l.value[a]==null?s||(s=td(t)):void 0;(c!==r||o!==u)&&(n=(r=c).copy()).on(i,o=u),l.on=n}}function Jv(e,t,r){var n=(e+="")=="transform"?Jh:ed;return t==null?this.styleTween(e,Xv(e,n)).on("end.style."+e,td(e)):typeof t=="function"?this.styleTween(e,Zv(e,n,cs(this,"style."+e,t))).each(Qv(this._id,e)):this.styleTween(e,Kv(e,n,t),r).on("end.style."+e,null)}function ey(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function ty(e,t,r){var n,o;function a(){var i=t.apply(this,arguments);return i!==o&&(n=(o=i)&&ey(e,i,r)),n}return a._value=t,a}function ry(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ty(e,t,r??""))}function ny(e){return function(){this.textContent=e}}function oy(e){return function(){var t=e(this);this.textContent=t??""}}function ay(e){return this.tween("text",typeof e=="function"?oy(cs(this,"text",e)):ny(e==null?"":e+""))}function iy(e){return function(t){this.textContent=e.call(this,t)}}function sy(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&iy(o)),t}return n._value=e,n}function ly(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,sy(e))}function cy(){for(var e=this._name,t=this._id,r=rd(),n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var u=Wt(l,t);ua(l,e,r,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ur(n,this._parents,e,r)}function uy(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(a,i){var s={value:i},l={value:function(){--o===0&&a()}};r.each(function(){var c=Qt(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),o===0&&a()})}var dy=0;function ur(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function rd(){return++dy}var ir=oo.prototype;ur.prototype={constructor:ur,select:Uv,selectAll:Wv,selectChild:ir.selectChild,selectChildren:ir.selectChildren,filter:$v,merge:Bv,selection:Yv,transition:cy,call:ir.call,nodes:ir.nodes,node:ir.node,size:ir.size,empty:ir.empty,each:ir.each,on:Hv,attr:Cv,attrTween:Nv,style:Jv,styleTween:ry,text:ay,textTween:ly,remove:Gv,tween:gv,delay:Dv,duration:Av,ease:Ov,easeVarying:Fv,end:uy,[Symbol.iterator]:ir[Symbol.iterator]};function fy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var py={time:null,delay:0,duration:250,ease:fy};function my(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function gy(e){var t,r;e instanceof ur?(t=e._id,e=e._name):(t=rd(),(r=py).time=ss(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,a=0;a<o;++a)for(var i=n[a],s=i.length,l,c=0;c<s;++c)(l=i[c])&&ua(l,e,t,c,i,r||my(l,t));return new ur(n,this._parents,e,t)}oo.prototype.interrupt=fv;oo.prototype.transition=gy;const yo=e=>()=>e;function hy(e,{sourceEvent:t,target:r,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function cr(e,t,r){this.k=e,this.x=t,this.y=r}cr.prototype={constructor:cr,scale:function(e){return e===1?this:new cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var br=new cr(1,0,0);cr.prototype;function La(e){e.stopImmediatePropagation()}function xn(e){e.preventDefault(),e.stopImmediatePropagation()}function vy(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function yy(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Il(){return this.__zoom||br}function by(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function wy(){return navigator.maxTouchPoints||"ontouchstart"in this}function xy(e,t,r){var n=e.invertX(t[0][0])-r[0][0],o=e.invertX(t[1][0])-r[1][0],a=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function Cy(){var e=vy,t=yy,r=xy,n=by,o=wy,a=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,l=ov,c=sa("start","zoom","end"),u,d,p,m=500,v=150,y=0,C=10;function w(E){E.property("__zoom",Il).on("wheel.zoom",h,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",S).filter(o).on("touchstart.zoom",j).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(E,D,O,B){var L=E.selection?E.selection():E;L.property("__zoom",Il),E!==L?T(E,D,O,B):L.interrupt().each(function(){P(this,arguments).event(B).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},w.scaleBy=function(E,D,O,B){w.scaleTo(E,function(){var L=this.__zoom.k,R=typeof D=="function"?D.apply(this,arguments):D;return L*R},O,B)},w.scaleTo=function(E,D,O,B){w.transform(E,function(){var L=t.apply(this,arguments),R=this.__zoom,$=O==null?N(L):typeof O=="function"?O.apply(this,arguments):O,V=R.invert($),H=typeof D=="function"?D.apply(this,arguments):D;return r(I(k(R,H),$,V),L,i)},O,B)},w.translateBy=function(E,D,O,B){w.transform(E,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),i)},null,B)},w.translateTo=function(E,D,O,B,L){w.transform(E,function(){var R=t.apply(this,arguments),$=this.__zoom,V=B==null?N(R):typeof B=="function"?B.apply(this,arguments):B;return r(br.translate(V[0],V[1]).scale($.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof O=="function"?-O.apply(this,arguments):-O),R,i)},B,L)};function k(E,D){return D=Math.max(a[0],Math.min(a[1],D)),D===E.k?E:new cr(D,E.x,E.y)}function I(E,D,O){var B=D[0]-O[0]*E.k,L=D[1]-O[1]*E.k;return B===E.x&&L===E.y?E:new cr(E.k,B,L)}function N(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function T(E,D,O,B){E.on("start.zoom",function(){P(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(B).end()}).tween("zoom",function(){var L=this,R=arguments,$=P(L,R).event(B),V=t.apply(L,R),H=O==null?N(V):typeof O=="function"?O.apply(L,R):O,G=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),q=L.__zoom,z=typeof D=="function"?D.apply(L,R):D,_=l(q.invert(H).concat(G/q.k),z.invert(H).concat(G/z.k));return function(X){if(X===1)X=z;else{var K=_(X),ae=G/K[2];X=new cr(ae,H[0]-K[0]*ae,H[1]-K[1]*ae)}$.zoom(null,X)}})}function P(E,D,O){return!O&&E.__zooming||new x(E,D)}function x(E,D){this.that=E,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,D),this.taps=0}x.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,D){return this.mouse&&E!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var D=Ht(this.that).datum();c.call(E,this.that,new hy(E,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),D)}};function h(E,...D){if(!e.apply(this,arguments))return;var O=P(this,D).event(E),B=this.__zoom,L=Math.max(a[0],Math.min(a[1],B.k*Math.pow(2,n.apply(this,arguments)))),R=Xt(E);if(O.wheel)(O.mouse[0][0]!==R[0]||O.mouse[0][1]!==R[1])&&(O.mouse[1]=B.invert(O.mouse[0]=R)),clearTimeout(O.wheel);else{if(B.k===L)return;O.mouse=[R,B.invert(R)],Ro(this),O.start()}xn(E),O.wheel=setTimeout($,v),O.zoom("mouse",r(I(k(B,L),O.mouse[0],O.mouse[1]),O.extent,i));function $(){O.wheel=null,O.end()}}function b(E,...D){if(p||!e.apply(this,arguments))return;var O=E.currentTarget,B=P(this,D,!0).event(E),L=Ht(E.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",G,!0),R=Xt(E,O),$=E.clientX,V=E.clientY;Hu(E.view),La(E),B.mouse=[R,this.__zoom.invert(R)],Ro(this),B.start();function H(q){if(xn(q),!B.moved){var z=q.clientX-$,_=q.clientY-V;B.moved=z*z+_*_>y}B.event(q).zoom("mouse",r(I(B.that.__zoom,B.mouse[0]=Xt(q,O),B.mouse[1]),B.extent,i))}function G(q){L.on("mousemove.zoom mouseup.zoom",null),Vu(q.view,B.moved),xn(q),B.event(q).end()}}function S(E,...D){if(e.apply(this,arguments)){var O=this.__zoom,B=Xt(E.changedTouches?E.changedTouches[0]:E,this),L=O.invert(B),R=O.k*(E.shiftKey?.5:2),$=r(I(k(O,R),B,L),t.apply(this,D),i);xn(E),s>0?Ht(this).transition().duration(s).call(T,$,B,E):Ht(this).call(w.transform,$,B,E)}}function j(E,...D){if(e.apply(this,arguments)){var O=E.touches,B=O.length,L=P(this,D,E.changedTouches.length===B).event(E),R,$,V,H;for(La(E),$=0;$<B;++$)V=O[$],H=Xt(V,this),H=[H,this.__zoom.invert(H),V.identifier],L.touch0?!L.touch1&&L.touch0[2]!==H[2]&&(L.touch1=H,L.taps=0):(L.touch0=H,R=!0,L.taps=1+!!u);u&&(u=clearTimeout(u)),R&&(L.taps<2&&(d=H[0],u=setTimeout(function(){u=null},m)),Ro(this),L.start())}}function A(E,...D){if(this.__zooming){var O=P(this,D).event(E),B=E.changedTouches,L=B.length,R,$,V,H;for(xn(E),R=0;R<L;++R)$=B[R],V=Xt($,this),O.touch0&&O.touch0[2]===$.identifier?O.touch0[0]=V:O.touch1&&O.touch1[2]===$.identifier&&(O.touch1[0]=V);if($=O.that.__zoom,O.touch1){var G=O.touch0[0],q=O.touch0[1],z=O.touch1[0],_=O.touch1[1],X=(X=z[0]-G[0])*X+(X=z[1]-G[1])*X,K=(K=_[0]-q[0])*K+(K=_[1]-q[1])*K;$=k($,Math.sqrt(X/K)),V=[(G[0]+z[0])/2,(G[1]+z[1])/2],H=[(q[0]+_[0])/2,(q[1]+_[1])/2]}else if(O.touch0)V=O.touch0[0],H=O.touch0[1];else return;O.zoom("touch",r(I($,V,H),O.extent,i))}}function M(E,...D){if(this.__zooming){var O=P(this,D).event(E),B=E.changedTouches,L=B.length,R,$;for(La(E),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),R=0;R<L;++R)$=B[R],O.touch0&&O.touch0[2]===$.identifier?delete O.touch0:O.touch1&&O.touch1[2]===$.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&($=Xt($,this),Math.hypot(d[0]-$[0],d[1]-$[1])<C)){var V=Ht(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return w.wheelDelta=function(E){return arguments.length?(n=typeof E=="function"?E:yo(+E),w):n},w.filter=function(E){return arguments.length?(e=typeof E=="function"?E:yo(!!E),w):e},w.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:yo(!!E),w):o},w.extent=function(E){return arguments.length?(t=typeof E=="function"?E:yo([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),w):t},w.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],w):[a[0],a[1]]},w.translateExtent=function(E){return arguments.length?(i[0][0]=+E[0][0],i[1][0]=+E[1][0],i[0][1]=+E[0][1],i[1][1]=+E[1][1],w):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},w.constrain=function(E){return arguments.length?(r=E,w):r},w.duration=function(E){return arguments.length?(s=+E,w):s},w.interpolate=function(E){return arguments.length?(l=E,w):l},w.on=function(){var E=c.on.apply(c,arguments);return E===c?w:E},w.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,w):Math.sqrt(y)},w.tapDistance=function(E){return arguments.length?(C=+E,w):C},w}const da=g.createContext(null),Sy=da.Provider,dr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},nd=dr.error001();function Fe(e,t){const r=g.useContext(da);if(r===null)throw new Error(nd);return Tu(r,e,t)}const Ye=()=>{const e=g.useContext(da);if(e===null)throw new Error(nd);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Ey=e=>e.userSelectionActive?"none":"all";function us({position:e,children:t,className:r,style:n,...o}){const a=Fe(Ey),i=`${e}`.split("-");return F.createElement("div",{className:it(["react-flow__panel",r,...i]),style:{...n,pointerEvents:a},...o},t)}function jy({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:F.createElement(us,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},F.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ky=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:i=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...u})=>{const d=g.useRef(null),[p,m]=g.useState({x:0,y:0,width:0,height:0}),v=it(["react-flow__edge-textwrapper",c]);return g.useEffect(()=>{if(d.current){const y=d.current.getBBox();m({x:y.x,y:y.y,width:y.width,height:y.height})}},[r]),typeof r>"u"||!r?null:F.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:v,visibility:p.width?"visible":"hidden",...u},o&&F.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),F.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:n},r),l)};var Ny=g.memo(ky);const ds=e=>({width:e.offsetWidth,height:e.offsetHeight}),ln=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),fs=(e={x:0,y:0},t)=>({x:ln(e.x,t[0][0],t[1][0]),y:ln(e.y,t[0][1],t[1][1])}),Tl=(e,t,r)=>e<t?ln(Math.abs(e-t),1,50)/50:e>r?-ln(Math.abs(e-r),1,50)/50:0,od=(e,t)=>{const r=Tl(e.x,35,t.width-35)*20,n=Tl(e.y,35,t.height-35)*20;return[r,n]},ad=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Iy=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ps=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Ty=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Dl=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ji=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Dy=e=>Ft(e.width)&&Ft(e.height)&&Ft(e.x)&&Ft(e.y),Ft=e=>!isNaN(e)&&isFinite(e),_e=Symbol.for("internals"),id=["Enter"," ","Escape"],Py=(e,t)=>{},My=e=>"nativeEvent"in e;function ki(e){var o,a;const t=My(e)?e.nativeEvent:e,r=((a=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const sd=e=>"clientX"in e,wr=(e,t)=>{var a,i;const r=sd(e),n=r?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,o=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},Vo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},mn=({id:e,path:t,labelX:r,labelY:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:m=20})=>F.createElement(F.Fragment,null,F.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:p}),m&&F.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),o&&Ft(r)&&Ft(n)?F.createElement(Ny,{x:r,y:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null);mn.displayName="BaseEdge";function Cn(e,t,r){return r===void 0?r:n=>{const o=t().edges.find(a=>a.id===e);o&&r(n,{...o})}}function ld({sourceX:e,sourceY:t,targetX:r,targetY:n}){const o=Math.abs(r-e)/2,a=r<e?r+o:r-o,i=Math.abs(n-t)/2,s=n<t?n+i:n-i;return[a,s,o,i]}function cd({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:o,sourceControlY:a,targetControlX:i,targetControlY:s}){const l=e*.125+o*.375+i*.375+r*.125,c=t*.125+a*.375+s*.375+n*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var _r;(function(e){e.Strict="strict",e.Loose="loose"})(_r||(_r={}));var Lr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Lr||(Lr={}));var Un;(function(e){e.Partial="partial",e.Full="full"})(Un||(Un={}));var yr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(yr||(yr={}));var Go;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Go||(Go={}));var ne;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ne||(ne={}));function Pl({pos:e,x1:t,y1:r,x2:n,y2:o}){return e===ne.Left||e===ne.Right?[.5*(t+n),r]:[t,.5*(r+o)]}function ud({sourceX:e,sourceY:t,sourcePosition:r=ne.Bottom,targetX:n,targetY:o,targetPosition:a=ne.Top}){const[i,s]=Pl({pos:r,x1:e,y1:t,x2:n,y2:o}),[l,c]=Pl({pos:a,x1:n,y1:o,x2:e,y2:t}),[u,d,p,m]=cd({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${s} ${l},${c} ${n},${o}`,u,d,p,m]}const ms=g.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:o=ne.Bottom,targetPosition:a=ne.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:v,interactionWidth:y})=>{const[C,w,k]=ud({sourceX:e,sourceY:t,sourcePosition:o,targetX:r,targetY:n,targetPosition:a});return F.createElement(mn,{path:C,labelX:w,labelY:k,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:v,interactionWidth:y})});ms.displayName="SimpleBezierEdge";const Ml={[ne.Left]:{x:-1,y:0},[ne.Right]:{x:1,y:0},[ne.Top]:{x:0,y:-1},[ne.Bottom]:{x:0,y:1}},Ay=({source:e,sourcePosition:t=ne.Bottom,target:r})=>t===ne.Left||t===ne.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Al=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Ry({source:e,sourcePosition:t=ne.Bottom,target:r,targetPosition:n=ne.Top,center:o,offset:a}){const i=Ml[t],s=Ml[n],l={x:e.x+i.x*a,y:e.y+i.y*a},c={x:r.x+s.x*a,y:r.y+s.y*a},u=Ay({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",p=u[d];let m=[],v,y;const C={x:0,y:0},w={x:0,y:0},[k,I,N,T]=ld({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[d]*s[d]===-1){v=o.x??k,y=o.y??I;const x=[{x:v,y:l.y},{x:v,y:c.y}],h=[{x:l.x,y},{x:c.x,y}];i[d]===p?m=d==="x"?x:h:m=d==="x"?h:x}else{const x=[{x:l.x,y:c.y}],h=[{x:c.x,y:l.y}];if(d==="x"?m=i.x===p?h:x:m=i.y===p?x:h,t===n){const M=Math.abs(e[d]-r[d]);if(M<=a){const E=Math.min(a-1,a-M);i[d]===p?C[d]=(l[d]>e[d]?-1:1)*E:w[d]=(c[d]>r[d]?-1:1)*E}}if(t!==n){const M=d==="x"?"y":"x",E=i[d]===s[M],D=l[M]>c[M],O=l[M]<c[M];(i[d]===1&&(!E&&D||E&&O)||i[d]!==1&&(!E&&O||E&&D))&&(m=d==="x"?x:h)}const b={x:l.x+C.x,y:l.y+C.y},S={x:c.x+w.x,y:c.y+w.y},j=Math.max(Math.abs(b.x-m[0].x),Math.abs(S.x-m[0].x)),A=Math.max(Math.abs(b.y-m[0].y),Math.abs(S.y-m[0].y));j>=A?(v=(b.x+S.x)/2,y=m[0].y):(v=m[0].x,y=(b.y+S.y)/2)}return[[e,{x:l.x+C.x,y:l.y+C.y},...m,{x:c.x+w.x,y:c.y+w.y},r],v,y,N,T]}function Oy(e,t,r,n){const o=Math.min(Al(e,t)/2,Al(t,r)/2,n),{x:a,y:i}=t;if(e.x===a&&a===r.x||e.y===i&&i===r.y)return`L${a} ${i}`;if(e.y===i){const c=e.x<r.x?-1:1,u=e.y<r.y?1:-1;return`L ${a+o*c},${i}Q ${a},${i} ${a},${i+o*u}`}const s=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${a},${i+o*l}Q ${a},${i} ${a+o*s},${i}`}function Uo({sourceX:e,sourceY:t,sourcePosition:r=ne.Bottom,targetX:n,targetY:o,targetPosition:a=ne.Top,borderRadius:i=5,centerX:s,centerY:l,offset:c=20}){const[u,d,p,m,v]=Ry({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:o},targetPosition:a,center:{x:s,y:l},offset:c});return[u.reduce((C,w,k)=>{let I="";return k>0&&k<u.length-1?I=Oy(u[k-1],w,u[k+1],i):I=`${k===0?"M":"L"}${w.x} ${w.y}`,C+=I,C},""),d,p,m,v]}const fa=g.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=ne.Bottom,targetPosition:p=ne.Top,markerEnd:m,markerStart:v,pathOptions:y,interactionWidth:C})=>{const[w,k,I]=Uo({sourceX:e,sourceY:t,sourcePosition:d,targetX:r,targetY:n,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return F.createElement(mn,{path:w,labelX:k,labelY:I,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:m,markerStart:v,interactionWidth:C})});fa.displayName="SmoothStepEdge";const gs=g.memo(e=>{var t;return F.createElement(fa,{...e,pathOptions:g.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});gs.displayName="StepEdge";function Ly({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[o,a,i,s]=ld({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,o,a,i,s]}const hs=g.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:m})=>{const[v,y,C]=Ly({sourceX:e,sourceY:t,targetX:r,targetY:n});return F.createElement(mn,{path:v,labelX:y,labelY:C,label:o,labelStyle:a,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:p,interactionWidth:m})});hs.displayName="StraightEdge";function bo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Rl({pos:e,x1:t,y1:r,x2:n,y2:o,c:a}){switch(e){case ne.Left:return[t-bo(t-n,a),r];case ne.Right:return[t+bo(n-t,a),r];case ne.Top:return[t,r-bo(r-o,a)];case ne.Bottom:return[t,r+bo(o-r,a)]}}function dd({sourceX:e,sourceY:t,sourcePosition:r=ne.Bottom,targetX:n,targetY:o,targetPosition:a=ne.Top,curvature:i=.25}){const[s,l]=Rl({pos:r,x1:e,y1:t,x2:n,y2:o,c:i}),[c,u]=Rl({pos:a,x1:n,y1:o,x2:e,y2:t,c:i}),[d,p,m,v]=cd({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${n},${o}`,d,p,m,v]}const Wo=g.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:o=ne.Bottom,targetPosition:a=ne.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:v,pathOptions:y,interactionWidth:C})=>{const[w,k,I]=dd({sourceX:e,sourceY:t,sourcePosition:o,targetX:r,targetY:n,targetPosition:a,curvature:y==null?void 0:y.curvature});return F.createElement(mn,{path:w,labelX:k,labelY:I,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:v,interactionWidth:C})});Wo.displayName="BezierEdge";const vs=g.createContext(null),Fy=vs.Provider;vs.Consumer;const $y=()=>g.useContext(vs),By=e=>"id"in e&&"source"in e&&"target"in e,fd=e=>"id"in e&&!("source"in e)&&!("target"in e),_y=(e,t,r)=>{if(!fd(e))return[];const n=r.filter(o=>o.source===e.id).map(o=>o.target);return t.filter(o=>n.includes(o.id))},zy=(e,t,r)=>{if(!fd(e))return[];const n=r.filter(o=>o.target===e.id).map(o=>o.source);return t.filter(o=>n.includes(o.id))},Hy=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,Ni=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,Vy=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),pd=(e,t)=>{if(!e.source||!e.target)return t;let r;return By(e)?r={...e}:r={...e,id:Hy(e)},Vy(r,t)?t:t.concat(r)},Ii=({x:e,y:t},[r,n,o],a,[i,s])=>{const l={x:(e-r)/o,y:(t-n)/o};return a?{x:i*Math.round(l.x/i),y:s*Math.round(l.y/s)}:l},md=({x:e,y:t},[r,n,o])=>({x:e*o+r,y:t*o+n}),rn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],o={x:e.position.x-r,y:e.position.y-n};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:o}},pa=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,o)=>{const{x:a,y:i}=rn(o,t).positionAbsolute;return Iy(n,ps({x:a,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ty(r)},gd=(e,t,[r,n,o]=[0,0,1],a=!1,i=!1,s=[0,0])=>{const l={x:(t.x-r)/o,y:(t.y-n)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(u=>{const{width:d,height:p,selectable:m=!0,hidden:v=!1}=u;if(i&&!m||v)return!1;const{positionAbsolute:y}=rn(u,s),C={x:y.x,y:y.y,width:d||0,height:p||0},w=ji(l,C),k=typeof d>"u"||typeof p>"u"||d===null||p===null,I=a&&w>0,N=(d||0)*(p||0);(k||I||w>=N||u.dragging)&&c.push(u)}),c},ys=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},bs=(e,t,r,n,o,a=.1)=>{const i=t/(e.width*(1+a)),s=r/(e.height*(1+a)),l=Math.min(i,s),c=ln(l,n,o),u=e.x+e.width/2,d=e.y+e.height/2,p=t/2-u*c,m=r/2-d*c;return{x:p,y:m,zoom:c}},Mr=(e,t=0)=>e.transition().duration(t);function Ol(e,t,r,n){return(t[r]||[]).reduce((o,a)=>{var i,s;return`${e.id}-${a.id}-${r}`!==n&&o.push({id:a.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+a.x+a.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+a.y+a.height/2}),o},[])}function Gy(e,t,r,n,o,a){const{x:i,y:s}=wr(e),c=t.elementsFromPoint(i,s).find(v=>v.classList.contains("react-flow__handle"));if(c){const v=c.getAttribute("data-nodeid");if(v){const y=ws(void 0,c),C=c.getAttribute("data-handleid"),w=a({nodeId:v,id:C,type:y});if(w){const k=o.find(I=>I.nodeId===v&&I.type===y&&I.id===C);return{handle:{id:C,type:y,nodeId:v,x:(k==null?void 0:k.x)||r.x,y:(k==null?void 0:k.y)||r.y},validHandleResult:w}}}}let u=[],d=1/0;if(o.forEach(v=>{const y=Math.sqrt((v.x-r.x)**2+(v.y-r.y)**2);if(y<=n){const C=a(v);y<=d&&(y<d?u=[{handle:v,validHandleResult:C}]:y===d&&u.push({handle:v,validHandleResult:C}),d=y)}}),!u.length)return{handle:null,validHandleResult:hd()};if(u.length===1)return u[0];const p=u.some(({validHandleResult:v})=>v.isValid),m=u.some(({handle:v})=>v.type==="target");return u.find(({handle:v,validHandleResult:y})=>m?v.type==="target":p?y.isValid:!0)||u[0]}const Uy={source:null,target:null,sourceHandle:null,targetHandle:null},hd=()=>({handleDomNode:null,isValid:!1,connection:Uy,endHandle:null});function vd(e,t,r,n,o,a,i){const s=o==="target",l=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...hd(),handleDomNode:l};if(l){const u=ws(void 0,l),d=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),y={source:s?d:r,sourceHandle:s?p:n,target:s?r:d,targetHandle:s?n:p};c.connection=y,m&&v&&(t===_r.Strict?s&&u==="source"||!s&&u==="target":d!==r||p!==n)&&(c.endHandle={nodeId:d,handleId:p,type:u},c.isValid=a(y))}return c}function Wy({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((o,a)=>{if(a[_e]){const{handleBounds:i}=a[_e];let s=[],l=[];i&&(s=Ol(a,i,"source",`${t}-${r}-${n}`),l=Ol(a,i,"target",`${t}-${r}-${n}`)),o.push(...s,...l)}return o},[])}function ws(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Fa(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function qy(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function yd({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:o,getState:a,setState:i,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:c}){const u=ad(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:m,connectionRadius:v,onConnectStart:y,panBy:C,getNodes:w,cancelConnection:k}=a();let I=0,N;const{x:T,y:P}=wr(e),x=u==null?void 0:u.elementFromPoint(T,P),h=ws(l,x),b=p==null?void 0:p.getBoundingClientRect();if(!b||!h)return;let S,j=wr(e,b),A=!1,M=null,E=!1,D=null;const O=Wy({nodes:w(),nodeId:r,handleId:t,handleType:h}),B=()=>{if(!m)return;const[$,V]=od(j,b);C({x:$,y:V}),I=requestAnimationFrame(B)};i({connectionPosition:j,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:h,connectionStartHandle:{nodeId:r,handleId:t,type:h},connectionEndHandle:null}),y==null||y(e,{nodeId:r,handleId:t,handleType:h});function L($){const{transform:V}=a();j=wr($,b);const{handle:H,validHandleResult:G}=Gy($,u,Ii(j,V,!1,[1,1]),v,O,q=>vd(q,d,r,t,o?"target":"source",s,u));if(N=H,A||(B(),A=!0),D=G.handleDomNode,M=G.connection,E=G.isValid,i({connectionPosition:N&&E?md({x:N.x,y:N.y},V):j,connectionStatus:qy(!!N,E),connectionEndHandle:G.endHandle}),!N&&!E&&!D)return Fa(S);M.source!==M.target&&D&&(Fa(S),S=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",E),D.classList.toggle("react-flow__handle-valid",E))}function R($){var V,H;(N||D)&&M&&E&&(n==null||n(M)),(H=(V=a()).onConnectEnd)==null||H.call(V,$),l&&(c==null||c($)),Fa(S),k(),cancelAnimationFrame(I),A=!1,E=!1,M=null,D=null,u.removeEventListener("mousemove",L),u.removeEventListener("mouseup",R),u.removeEventListener("touchmove",L),u.removeEventListener("touchend",R)}u.addEventListener("mousemove",L),u.addEventListener("mouseup",R),u.addEventListener("touchmove",L),u.addEventListener("touchend",R)}const Ll=()=>!0,Yy=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Xy=(e,t,r)=>n=>{const{connectionStartHandle:o,connectionEndHandle:a,connectionClickStartHandle:i}=n;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===r||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},bd=g.forwardRef(({type:e="source",position:t=ne.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:i,onConnect:s,children:l,className:c,onMouseDown:u,onTouchStart:d,...p},m)=>{var b,S;const v=i||null,y=e==="target",C=Ye(),w=$y(),{connectOnClick:k,noPanClassName:I}=Fe(Yy,vt),{connecting:N,clickConnecting:T}=Fe(Xy(w,v,e),vt);w||(S=(b=C.getState()).onError)==null||S.call(b,"010",dr.error010());const P=j=>{const{defaultEdgeOptions:A,onConnect:M,hasDefaultEdges:E}=C.getState(),D={...A,...j};if(E){const{edges:O,setEdges:B}=C.getState();B(pd(D,O))}M==null||M(D),s==null||s(D)},x=j=>{if(!w)return;const A=sd(j);o&&(A&&j.button===0||!A)&&yd({event:j,handleId:v,nodeId:w,onConnect:P,isTarget:y,getState:C.getState,setState:C.setState,isValidConnection:r||C.getState().isValidConnection||Ll}),A?u==null||u(j):d==null||d(j)},h=j=>{const{onClickConnectStart:A,onClickConnectEnd:M,connectionClickStartHandle:E,connectionMode:D,isValidConnection:O}=C.getState();if(!w||!E&&!o)return;if(!E){A==null||A(j,{nodeId:w,handleId:v,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:w,type:e,handleId:v}});return}const B=ad(j.target),L=r||O||Ll,{connection:R,isValid:$}=vd({nodeId:w,id:v,type:e},D,E.nodeId,E.handleId||null,E.type,L,B);$&&P(R),M==null||M(j),C.setState({connectionClickStartHandle:null})};return F.createElement("div",{"data-handleid":v,"data-nodeid":w,"data-handlepos":t,"data-id":`${w}-${v}-${e}`,className:it(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",I,c,{source:!y,target:y,connectable:n,connectablestart:o,connectableend:a,connecting:T,connectionindicator:n&&(o&&!N||a&&N)}]),onMouseDown:x,onTouchStart:x,onClick:k?h:void 0,ref:m,...p},l)});bd.displayName="Handle";var Me=g.memo(bd);const wd=({data:e,isConnectable:t,targetPosition:r=ne.Top,sourcePosition:n=ne.Bottom})=>F.createElement(F.Fragment,null,F.createElement(Me,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,F.createElement(Me,{type:"source",position:n,isConnectable:t}));wd.displayName="DefaultNode";var Ti=g.memo(wd);const xd=({data:e,isConnectable:t,sourcePosition:r=ne.Bottom})=>F.createElement(F.Fragment,null,e==null?void 0:e.label,F.createElement(Me,{type:"source",position:r,isConnectable:t}));xd.displayName="InputNode";var Cd=g.memo(xd);const Sd=({data:e,isConnectable:t,targetPosition:r=ne.Top})=>F.createElement(F.Fragment,null,F.createElement(Me,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);Sd.displayName="OutputNode";var Ed=g.memo(Sd);const xs=()=>null;xs.displayName="GroupNode";const Ky=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),wo=e=>e.id;function Zy(e,t){return vt(e.selectedNodes.map(wo),t.selectedNodes.map(wo))&&vt(e.selectedEdges.map(wo),t.selectedEdges.map(wo))}const jd=g.memo(({onSelectionChange:e})=>{const t=Ye(),{selectedNodes:r,selectedEdges:n}=Fe(Ky,Zy);return g.useEffect(()=>{const o={nodes:r,edges:n};e==null||e(o),t.getState().onSelectionChange.forEach(a=>a(o))},[r,n,e]),null});jd.displayName="SelectionListener";const Qy=e=>!!e.onSelectionChange;function Jy({onSelectionChange:e}){const t=Fe(Qy);return e||t?F.createElement(jd,{onSelectionChange:e}):null}const e0=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Gr(e,t){g.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function je(e,t,r){g.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const t0=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:o,onConnectStart:a,onConnectEnd:i,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:v,minZoom:y,maxZoom:C,nodeExtent:w,onNodesChange:k,onEdgesChange:I,elementsSelectable:N,connectionMode:T,snapGrid:P,snapToGrid:x,translateExtent:h,connectOnClick:b,defaultEdgeOptions:S,fitView:j,fitViewOptions:A,onNodesDelete:M,onEdgesDelete:E,onNodeDrag:D,onNodeDragStart:O,onNodeDragStop:B,onSelectionDrag:L,onSelectionDragStart:R,onSelectionDragStop:$,noPanClassName:V,nodeOrigin:H,rfId:G,autoPanOnConnect:q,autoPanOnNodeDrag:z,onError:_,connectionRadius:X,isValidConnection:K,nodeDragThreshold:ae})=>{const{setNodes:W,setEdges:se,setDefaultNodesAndEdges:we,setMinZoom:he,setMaxZoom:re,setTranslateExtent:ke,setNodeExtent:Ie,reset:xe}=Fe(e0,vt),le=Ye();return g.useEffect(()=>{const Q=n==null?void 0:n.map(Ee=>({...Ee,...S}));return we(r,Q),()=>{xe()}},[]),je("defaultEdgeOptions",S,le.setState),je("connectionMode",T,le.setState),je("onConnect",o,le.setState),je("onConnectStart",a,le.setState),je("onConnectEnd",i,le.setState),je("onClickConnectStart",s,le.setState),je("onClickConnectEnd",l,le.setState),je("nodesDraggable",c,le.setState),je("nodesConnectable",u,le.setState),je("nodesFocusable",d,le.setState),je("edgesFocusable",p,le.setState),je("edgesUpdatable",m,le.setState),je("elementsSelectable",N,le.setState),je("elevateNodesOnSelect",v,le.setState),je("snapToGrid",x,le.setState),je("snapGrid",P,le.setState),je("onNodesChange",k,le.setState),je("onEdgesChange",I,le.setState),je("connectOnClick",b,le.setState),je("fitViewOnInit",j,le.setState),je("fitViewOnInitOptions",A,le.setState),je("onNodesDelete",M,le.setState),je("onEdgesDelete",E,le.setState),je("onNodeDrag",D,le.setState),je("onNodeDragStart",O,le.setState),je("onNodeDragStop",B,le.setState),je("onSelectionDrag",L,le.setState),je("onSelectionDragStart",R,le.setState),je("onSelectionDragStop",$,le.setState),je("noPanClassName",V,le.setState),je("nodeOrigin",H,le.setState),je("rfId",G,le.setState),je("autoPanOnConnect",q,le.setState),je("autoPanOnNodeDrag",z,le.setState),je("onError",_,le.setState),je("connectionRadius",X,le.setState),je("isValidConnection",K,le.setState),je("nodeDragThreshold",ae,le.setState),Gr(e,W),Gr(t,se),Gr(y,he),Gr(C,re),Gr(h,ke),Gr(w,Ie),null},Fl={display:"none"},r0={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},kd="react-flow__node-desc",Nd="react-flow__edge-desc",n0="react-flow__aria-live",o0=e=>e.ariaLiveMessage;function a0({rfId:e}){const t=Fe(o0);return F.createElement("div",{id:`${n0}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:r0},t)}function i0({rfId:e,disableKeyboardA11y:t}){return F.createElement(F.Fragment,null,F.createElement("div",{id:`${kd}-${e}`,style:Fl},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),F.createElement("div",{id:`${Nd}-${e}`,style:Fl},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&F.createElement(a0,{rfId:e}))}var Wn=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=g.useState(!1),o=g.useRef(!1),a=g.useRef(new Set([])),[i,s]=g.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,p)=>d.concat(...p),[]);return[c,u]}return[[],[]]},[e]);return g.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const u=m=>{if(o.current=m.ctrlKey||m.metaKey||m.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&ki(m))return!1;const y=Bl(m.code,s);a.current.add(m[y]),$l(i,a.current,!1)&&(m.preventDefault(),n(!0))},d=m=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&ki(m))return!1;const y=Bl(m.code,s);$l(i,a.current,!0)?(n(!1),a.current.clear()):a.current.delete(m[y]),m.key==="Meta"&&a.current.clear(),o.current=!1},p=()=>{a.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,n]),r};function $l(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(o=>t.has(o)))}function Bl(e,t){return t.includes(e)?"code":"key"}function Id(e,t,r,n){var s,l;const o=e.parentNode||e.parentId;if(!o)return r;const a=t.get(o),i=rn(a,n);return Id(a,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((s=a[_e])==null?void 0:s.z)??0)>(r.z??0)?((l=a[_e])==null?void 0:l.z)??0:r.z??0},n)}function Td(e,t,r){e.forEach(n=>{var a;const o=n.parentNode||n.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||r!=null&&r[n.id]){const{x:i,y:s,z:l}=Id(n,e,{...n.position,z:((a=n[_e])==null?void 0:a.z)??0},t);n.positionAbsolute={x:i,y:s},n[_e].z=l,r!=null&&r[n.id]&&(n[_e].isParent=!0)}})}function $a(e,t,r,n){const o=new Map,a={},i=n?1e3:0;return e.forEach(s=>{var m;const l=(Ft(s.zIndex)?s.zIndex:0)+(s.selected?i:0),c=t.get(s.id),u={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},d=s.parentNode||s.parentId;d&&(a[d]=!0);const p=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==s.type;Object.defineProperty(u,_e,{enumerable:!1,value:{handleBounds:p||(m=c==null?void 0:c[_e])==null?void 0:m.handleBounds,z:l}}),o.set(s.id,u)}),Td(o,r,a),o}function Dd(e,t={}){const{getNodes:r,width:n,height:o,minZoom:a,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),p=t.initial&&!c&&u;if(s&&l&&(p||!t.initial)){const v=r().filter(C=>{var k;const w=t.includeHiddenNodes?C.width&&C.height:!C.hidden;return(k=t.nodes)!=null&&k.length?w&&t.nodes.some(I=>I.id===C.id):w}),y=v.every(C=>C.width&&C.height);if(v.length>0&&y){const C=pa(v,d),{x:w,y:k,zoom:I}=bs(C,n,o,t.minZoom??a,t.maxZoom??i,t.padding??.1),N=br.translate(w,k).scale(I);return typeof t.duration=="number"&&t.duration>0?s.transform(Mr(l,t.duration),N):s.transform(l,N),!0}}return!1}function s0(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[_e]:n[_e],selected:r.selected})}),new Map(t)}function l0(e,t){return t.map(r=>{const n=e.find(o=>o.id===r.id);return n&&(r.selected=n.selected),r})}function xo({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:o,edges:a,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=r();e!=null&&e.length&&(l&&n({nodeInternals:s0(e,o)}),i==null||i(e)),t!=null&&t.length&&(c&&n({edges:l0(t,a)}),s==null||s(t))}const Ur=()=>{},c0={zoomIn:Ur,zoomOut:Ur,zoomTo:Ur,getZoom:()=>1,setViewport:Ur,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ur,fitBounds:Ur,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},u0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),d0=()=>{const e=Ye(),{d3Zoom:t,d3Selection:r}=Fe(u0,vt);return g.useMemo(()=>r&&t?{zoomIn:o=>t.scaleBy(Mr(r,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Mr(r,o==null?void 0:o.duration),1/1.2),zoomTo:(o,a)=>t.scaleTo(Mr(r,a==null?void 0:a.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,a)=>{const[i,s,l]=e.getState().transform,c=br.translate(o.x??i,o.y??s).scale(o.zoom??l);t.transform(Mr(r,a==null?void 0:a.duration),c)},getViewport:()=>{const[o,a,i]=e.getState().transform;return{x:o,y:a,zoom:i}},fitView:o=>Dd(e.getState,o),setCenter:(o,a,i)=>{const{width:s,height:l,maxZoom:c}=e.getState(),u=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:c,d=s/2-o*u,p=l/2-a*u,m=br.translate(d,p).scale(u);t.transform(Mr(r,i==null?void 0:i.duration),m)},fitBounds:(o,a)=>{const{width:i,height:s,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:p}=bs(o,i,s,l,c,(a==null?void 0:a.padding)??.1),m=br.translate(u,d).scale(p);t.transform(Mr(r,a==null?void 0:a.duration),m)},project:o=>{const{transform:a,snapToGrid:i,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ii(o,a,i,s)},screenToFlowPosition:o=>{const{transform:a,snapToGrid:i,snapGrid:s,domNode:l}=e.getState();if(!l)return o;const{x:c,y:u}=l.getBoundingClientRect(),d={x:o.x-c,y:o.y-u};return Ii(d,a,i,s)},flowToScreenPosition:o=>{const{transform:a,domNode:i}=e.getState();if(!i)return o;const{x:s,y:l}=i.getBoundingClientRect(),c=md(o,a);return{x:c.x+s,y:c.y+l}},viewportInitialized:!0}:c0,[t,r])};function io(){const e=d0(),t=Ye(),r=g.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),n=g.useCallback(y=>t.getState().nodeInternals.get(y),[]),o=g.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(C=>({...C}))},[]),a=g.useCallback(y=>{const{edges:C=[]}=t.getState();return C.find(w=>w.id===y)},[]),i=g.useCallback(y=>{const{getNodes:C,setNodes:w,hasDefaultNodes:k,onNodesChange:I}=t.getState(),N=C(),T=typeof y=="function"?y(N):y;if(k)w(T);else if(I){const P=T.length===0?N.map(x=>({type:"remove",id:x.id})):T.map(x=>({item:x,type:"reset"}));I(P)}},[]),s=g.useCallback(y=>{const{edges:C=[],setEdges:w,hasDefaultEdges:k,onEdgesChange:I}=t.getState(),N=typeof y=="function"?y(C):y;if(k)w(N);else if(I){const T=N.length===0?C.map(P=>({type:"remove",id:P.id})):N.map(P=>({item:P,type:"reset"}));I(T)}},[]),l=g.useCallback(y=>{const C=Array.isArray(y)?y:[y],{getNodes:w,setNodes:k,hasDefaultNodes:I,onNodesChange:N}=t.getState();if(I){const P=[...w(),...C];k(P)}else if(N){const T=C.map(P=>({item:P,type:"add"}));N(T)}},[]),c=g.useCallback(y=>{const C=Array.isArray(y)?y:[y],{edges:w=[],setEdges:k,hasDefaultEdges:I,onEdgesChange:N}=t.getState();if(I)k([...w,...C]);else if(N){const T=C.map(P=>({item:P,type:"add"}));N(T)}},[]),u=g.useCallback(()=>{const{getNodes:y,edges:C=[],transform:w}=t.getState(),[k,I,N]=w;return{nodes:y().map(T=>({...T})),edges:C.map(T=>({...T})),viewport:{x:k,y:I,zoom:N}}},[]),d=g.useCallback(({nodes:y,edges:C})=>{const{nodeInternals:w,getNodes:k,edges:I,hasDefaultNodes:N,hasDefaultEdges:T,onNodesDelete:P,onEdgesDelete:x,onNodesChange:h,onEdgesChange:b}=t.getState(),S=(y||[]).map(D=>D.id),j=(C||[]).map(D=>D.id),A=k().reduce((D,O)=>{const B=O.parentNode||O.parentId,L=!S.includes(O.id)&&B&&D.find($=>$.id===B);return(typeof O.deletable=="boolean"?O.deletable:!0)&&(S.includes(O.id)||L)&&D.push(O),D},[]),M=I.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),E=M.filter(D=>j.includes(D.id));if(A||E){const D=ys(A,M),O=[...E,...D],B=O.reduce((L,R)=>(L.includes(R.id)||L.push(R.id),L),[]);if((T||N)&&(T&&t.setState({edges:I.filter(L=>!B.includes(L.id))}),N&&(A.forEach(L=>{w.delete(L.id)}),t.setState({nodeInternals:new Map(w)}))),B.length>0&&(x==null||x(O),b&&b(B.map(L=>({id:L,type:"remove"})))),A.length>0&&(P==null||P(A),h)){const L=A.map(R=>({id:R.id,type:"remove"}));h(L)}}},[]),p=g.useCallback(y=>{const C=Dy(y),w=C?null:t.getState().nodeInternals.get(y.id);return!C&&!w?[null,null,C]:[C?y:Dl(w),w,C]},[]),m=g.useCallback((y,C=!0,w)=>{const[k,I,N]=p(y);return k?(w||t.getState().getNodes()).filter(T=>{if(!N&&(T.id===I.id||!T.positionAbsolute))return!1;const P=Dl(T),x=ji(P,k);return C&&x>0||x>=k.width*k.height}):[]},[]),v=g.useCallback((y,C,w=!0)=>{const[k]=p(y);if(!k)return!1;const I=ji(k,C);return w&&I>0||I>=k.width*k.height},[]);return g.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:o,getEdge:a,setNodes:i,setEdges:s,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:v}),[e,r,n,o,a,i,s,l,c,u,d,m,v])}const f0={actInsideInputWithModifier:!1};var p0=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=Ye(),{deleteElements:n}=io(),o=Wn(e,f0),a=Wn(t);g.useEffect(()=>{if(o){const{edges:i,getNodes:s}=r.getState(),l=s().filter(u=>u.selected),c=i.filter(u=>u.selected);n({nodes:l,edges:c}),r.setState({nodesSelectionActive:!1})}},[o]),g.useEffect(()=>{r.setState({multiSelectionActive:a})},[a])};function m0(e){const t=Ye();g.useEffect(()=>{let r;const n=()=>{var a,i;if(!e.current)return;const o=ds(e.current);(o.height===0||o.width===0)&&((i=(a=t.getState()).onError)==null||i.call(a,"004",dr.error004())),t.setState({width:o.width||500,height:o.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const Cs={position:"absolute",width:"100%",height:"100%",top:0,left:0},g0=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Co=e=>({x:e.x,y:e.y,zoom:e.k}),Wr=(e,t)=>e.target.closest(`.${t}`),_l=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),zl=e=>{const t=e.ctrlKey&&Vo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},h0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),v0=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:o=!0,zoomOnPinch:a=!0,panOnScroll:i=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Lr.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:p,translateExtent:m,minZoom:v,maxZoom:y,zoomActivationKeyCode:C,preventScrolling:w=!0,children:k,noWheelClassName:I,noPanClassName:N})=>{const T=g.useRef(),P=Ye(),x=g.useRef(!1),h=g.useRef(!1),b=g.useRef(null),S=g.useRef({x:0,y:0,zoom:0}),{d3Zoom:j,d3Selection:A,d3ZoomHandler:M,userSelectionActive:E}=Fe(h0,vt),D=Wn(C),O=g.useRef(0),B=g.useRef(!1),L=g.useRef();return m0(b),g.useEffect(()=>{if(b.current){const R=b.current.getBoundingClientRect(),$=Cy().scaleExtent([v,y]).translateExtent(m),V=Ht(b.current).call($),H=br.translate(p.x,p.y).scale(ln(p.zoom,v,y)),G=[[0,0],[R.width,R.height]],q=$.constrain()(H,G,m);$.transform(V,q),$.wheelDelta(zl),P.setState({d3Zoom:$,d3Selection:V,d3ZoomHandler:V.on("wheel.zoom"),transform:[q.x,q.y,q.k],domNode:b.current.closest(".react-flow")})}},[]),g.useEffect(()=>{A&&j&&(i&&!D&&!E?A.on("wheel.zoom",R=>{if(Wr(R,I))return!1;R.preventDefault(),R.stopImmediatePropagation();const $=A.property("__zoom").k||1;if(R.ctrlKey&&a){const K=Xt(R),ae=zl(R),W=$*Math.pow(2,ae);j.scaleTo(A,W,K,R);return}const V=R.deltaMode===1?20:1;let H=l===Lr.Vertical?0:R.deltaX*V,G=l===Lr.Horizontal?0:R.deltaY*V;!Vo()&&R.shiftKey&&l!==Lr.Vertical&&(H=R.deltaY*V,G=0),j.translateBy(A,-(H/$)*s,-(G/$)*s,{internal:!0});const q=Co(A.property("__zoom")),{onViewportChangeStart:z,onViewportChange:_,onViewportChangeEnd:X}=P.getState();clearTimeout(L.current),B.current||(B.current=!0,t==null||t(R,q),z==null||z(q)),B.current&&(e==null||e(R,q),_==null||_(q),L.current=setTimeout(()=>{r==null||r(R,q),X==null||X(q),B.current=!1},150))},{passive:!1}):typeof M<"u"&&A.on("wheel.zoom",function(R,$){if(!w&&R.type==="wheel"&&!R.ctrlKey||Wr(R,I))return null;R.preventDefault(),M.call(this,R,$)},{passive:!1}))},[E,i,l,A,j,M,D,a,w,I,t,e,r]),g.useEffect(()=>{j&&j.on("start",R=>{var H,G;if(!R.sourceEvent||R.sourceEvent.internal)return null;O.current=(H=R.sourceEvent)==null?void 0:H.button;const{onViewportChangeStart:$}=P.getState(),V=Co(R.transform);x.current=!0,S.current=V,((G=R.sourceEvent)==null?void 0:G.type)==="mousedown"&&P.setState({paneDragging:!0}),$==null||$(V),t==null||t(R.sourceEvent,V)})},[j,t]),g.useEffect(()=>{j&&(E&&!x.current?j.on("zoom",null):E||j.on("zoom",R=>{var V;const{onViewportChange:$}=P.getState();if(P.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),h.current=!!(n&&_l(d,O.current??0)),(e||$)&&!((V=R.sourceEvent)!=null&&V.internal)){const H=Co(R.transform);$==null||$(H),e==null||e(R.sourceEvent,H)}}))},[E,j,e,d,n]),g.useEffect(()=>{j&&j.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=P.getState();if(x.current=!1,P.setState({paneDragging:!1}),n&&_l(d,O.current??0)&&!h.current&&n(R.sourceEvent),h.current=!1,(r||$)&&g0(S.current,R.transform)){const V=Co(R.transform);S.current=V,clearTimeout(T.current),T.current=setTimeout(()=>{$==null||$(V),r==null||r(R.sourceEvent,V)},i?150:0)}})},[j,i,d,r,n]),g.useEffect(()=>{j&&j.filter(R=>{const $=D||o,V=a&&R.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&R.button===1&&R.type==="mousedown"&&(Wr(R,"react-flow__node")||Wr(R,"react-flow__edge")))return!0;if(!d&&!$&&!i&&!c&&!a||E||!c&&R.type==="dblclick"||Wr(R,I)&&R.type==="wheel"||Wr(R,N)&&(R.type!=="wheel"||i&&R.type==="wheel"&&!D)||!a&&R.ctrlKey&&R.type==="wheel"||!$&&!i&&!V&&R.type==="wheel"||!d&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(d)&&!d.includes(R.button)&&R.type==="mousedown")return!1;const H=Array.isArray(d)&&d.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&H})},[E,j,o,a,i,c,d,u,D]),F.createElement("div",{className:"react-flow__renderer",ref:b,style:Cs},k)},y0=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function b0(){const{userSelectionActive:e,userSelectionRect:t}=Fe(y0,vt);return e&&t?F.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Hl(e,t){const r=t.parentNode||t.parentId,n=e.find(o=>o.id===r);if(n){const o=t.position.x+t.width-n.width,a=t.position.y+t.height-n.height;if(o>0||a>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,o>0&&(n.style.width+=o),a>0&&(n.style.height+=a),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Pd(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,o)=>{const a=e.filter(s=>s.id===o.id);if(a.length===0)return n.push(o),n;const i={...o};for(const s of a)if(s)switch(s.type){case"select":{i.selected=s.selected;break}case"position":{typeof s.position<"u"&&(i.position=s.position),typeof s.positionAbsolute<"u"&&(i.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(i.dragging=s.dragging),i.expandParent&&Hl(n,i);break}case"dimensions":{typeof s.dimensions<"u"&&(i.width=s.dimensions.width,i.height=s.dimensions.height),typeof s.updateStyle<"u"&&(i.style={...i.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(i.resizing=s.resizing),i.expandParent&&Hl(n,i);break}case"remove":return n}return n.push(i),n},r)}function Md(e,t){return Pd(e,t)}function Vl(e,t){return Pd(e,t)}const vr=(e,t)=>({id:e,type:"select",selected:t});function Qr(e,t){return e.reduce((r,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,r.push(vr(n.id,!0))):n.selected&&!o&&(n.selected=!1,r.push(vr(n.id,!1))),r},[])}const Ba=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},w0=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ad=g.memo(({isSelecting:e,selectionMode:t=Un.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:i,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const p=g.useRef(null),m=Ye(),v=g.useRef(0),y=g.useRef(0),C=g.useRef(),{userSelectionActive:w,elementsSelectable:k,dragging:I}=Fe(w0,vt),N=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},T=M=>{a==null||a(M),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},P=M=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){M.preventDefault();return}i==null||i(M)},x=s?M=>s(M):void 0,h=M=>{const{resetSelectedElements:E,domNode:D}=m.getState();if(C.current=D==null?void 0:D.getBoundingClientRect(),!k||!e||M.button!==0||M.target!==p.current||!C.current)return;const{x:O,y:B}=wr(M,C.current);E(),m.setState({userSelectionRect:{width:0,height:0,startX:O,startY:B,x:O,y:B}}),n==null||n(M)},b=M=>{const{userSelectionRect:E,nodeInternals:D,edges:O,transform:B,onNodesChange:L,onEdgesChange:R,nodeOrigin:$,getNodes:V}=m.getState();if(!e||!C.current||!E)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const H=wr(M,C.current),G=E.startX??0,q=E.startY??0,z={...E,x:H.x<G?H.x:G,y:H.y<q?H.y:q,width:Math.abs(H.x-G),height:Math.abs(H.y-q)},_=V(),X=gd(D,z,B,t===Un.Partial,!0,$),K=ys(X,O).map(W=>W.id),ae=X.map(W=>W.id);if(v.current!==ae.length){v.current=ae.length;const W=Qr(_,ae);W.length&&(L==null||L(W))}if(y.current!==K.length){y.current=K.length;const W=Qr(O,K);W.length&&(R==null||R(W))}m.setState({userSelectionRect:z})},S=M=>{if(M.button!==0)return;const{userSelectionRect:E}=m.getState();!w&&E&&M.target===p.current&&(T==null||T(M)),m.setState({nodesSelectionActive:v.current>0}),N(),o==null||o(M)},j=M=>{w&&(m.setState({nodesSelectionActive:v.current>0}),o==null||o(M)),N()},A=k&&(e||w);return F.createElement("div",{className:it(["react-flow__pane",{dragging:I,selection:e}]),onClick:A?void 0:Ba(T,p),onContextMenu:Ba(P,p),onWheel:Ba(x,p),onMouseEnter:A?void 0:l,onMouseDown:A?h:void 0,onMouseMove:A?b:c,onMouseUp:A?S:void 0,onMouseLeave:A?j:u,ref:p,style:Cs},d,F.createElement(b0,null))});Ad.displayName="Pane";function Rd(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:Rd(n,t):!1}function Gl(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function x0(e,t,r,n){return Array.from(e.values()).filter(o=>(o.selected||o.id===n)&&(!o.parentNode||o.parentId||!Rd(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var a,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((a=o.positionAbsolute)==null?void 0:a.x)??0),y:r.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function C0(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Od(e,t,r,n,o=[0,0],a){const i=C0(e,e.extent||n);let s=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=r.get(l),{x:p,y:m}=rn(d,o).positionAbsolute;s=d&&Ft(p)&&Ft(m)&&Ft(d.width)&&Ft(d.height)?[[p+e.width*o[0],m+e.height*o[1]],[p+d.width-e.width+e.width*o[0],m+d.height-e.height+e.height*o[1]]]:s}else a==null||a("005",dr.error005()),s=i;else if(e.extent&&l&&e.extent!=="parent"){const d=r.get(l),{x:p,y:m}=rn(d,o).positionAbsolute;s=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let c={x:0,y:0};if(l){const d=r.get(l);c=rn(d,o).positionAbsolute}const u=s&&s!=="parent"?fs(t,s):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function _a({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(o=>({...r.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?n.find(o=>o.id===e):n[0],n]}const Ul=(e,t,r,n)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),i=t.getBoundingClientRect(),s={x:i.width*n[0],y:i.height*n[1]};return a.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-i.left-s.x)/r,y:(c.top-i.top-s.y)/r,...ds(l)}})};function Sn(e,t,r){return r===void 0?r:n=>{const o=t().nodeInternals.get(e);o&&r(n,{...o})}}function Di({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:i,nodeInternals:s,onError:l}=t.getState(),c=s.get(e);if(!c){l==null||l("012",dr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&i)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=n==null?void 0:n.current)==null?void 0:u.blur()})):o([e])}function S0(){const e=Ye();return g.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:o,snapToGrid:a}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,l={x:(i-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:a?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:a?o[1]*Math.round(l.y/o[1]):l.y,...l}},[])}function za(e){return(t,r,n)=>e==null?void 0:e(t,n)}function Ld({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:o,isSelectable:a,selectNodesOnDrag:i}){const s=Ye(),[l,c]=g.useState(!1),u=g.useRef([]),d=g.useRef({x:null,y:null}),p=g.useRef(0),m=g.useRef(null),v=g.useRef({x:0,y:0}),y=g.useRef(null),C=g.useRef(!1),w=g.useRef(!1),k=g.useRef(!1),I=S0();return g.useEffect(()=>{if(e!=null&&e.current){const N=Ht(e.current),T=({x:h,y:b})=>{const{nodeInternals:S,onNodeDrag:j,onSelectionDrag:A,updateNodePositions:M,nodeExtent:E,snapGrid:D,snapToGrid:O,nodeOrigin:B,onError:L}=s.getState();d.current={x:h,y:b};let R=!1,$={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&E){const H=pa(u.current,B);$=ps(H)}if(u.current=u.current.map(H=>{const G={x:h-H.distance.x,y:b-H.distance.y};O&&(G.x=D[0]*Math.round(G.x/D[0]),G.y=D[1]*Math.round(G.y/D[1]));const q=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];u.current.length>1&&E&&!H.extent&&(q[0][0]=H.positionAbsolute.x-$.x+E[0][0],q[1][0]=H.positionAbsolute.x+(H.width??0)-$.x2+E[1][0],q[0][1]=H.positionAbsolute.y-$.y+E[0][1],q[1][1]=H.positionAbsolute.y+(H.height??0)-$.y2+E[1][1]);const z=Od(H,G,S,q,B,L);return R=R||H.position.x!==z.position.x||H.position.y!==z.position.y,H.position=z.position,H.positionAbsolute=z.positionAbsolute,H}),!R)return;M(u.current,!0,!0),c(!0);const V=o?j:za(A);if(V&&y.current){const[H,G]=_a({nodeId:o,dragItems:u.current,nodeInternals:S});V(y.current,H,G)}},P=()=>{if(!m.current)return;const[h,b]=od(v.current,m.current);if(h!==0||b!==0){const{transform:S,panBy:j}=s.getState();d.current.x=(d.current.x??0)-h/S[2],d.current.y=(d.current.y??0)-b/S[2],j({x:h,y:b})&&T(d.current)}p.current=requestAnimationFrame(P)},x=h=>{var B;const{nodeInternals:b,multiSelectionActive:S,nodesDraggable:j,unselectNodesAndEdges:A,onNodeDragStart:M,onSelectionDragStart:E}=s.getState();w.current=!0;const D=o?M:za(E);(!i||!a)&&!S&&o&&((B=b.get(o))!=null&&B.selected||A()),o&&a&&i&&Di({id:o,store:s,nodeRef:e});const O=I(h);if(d.current=O,u.current=x0(b,j,O,o),D&&u.current){const[L,R]=_a({nodeId:o,dragItems:u.current,nodeInternals:b});D(h.sourceEvent,L,R)}};if(t)N.on(".drag",null);else{const h=Mh().on("start",b=>{const{domNode:S,nodeDragThreshold:j}=s.getState();j===0&&x(b),k.current=!1;const A=I(b);d.current=A,m.current=(S==null?void 0:S.getBoundingClientRect())||null,v.current=wr(b.sourceEvent,m.current)}).on("drag",b=>{var M,E;const S=I(b),{autoPanOnNodeDrag:j,nodeDragThreshold:A}=s.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(k.current=!0),!k.current){if(!C.current&&w.current&&j&&(C.current=!0,P()),!w.current){const D=S.xSnapped-(((M=d==null?void 0:d.current)==null?void 0:M.x)??0),O=S.ySnapped-(((E=d==null?void 0:d.current)==null?void 0:E.y)??0);Math.sqrt(D*D+O*O)>A&&x(b)}(d.current.x!==S.xSnapped||d.current.y!==S.ySnapped)&&u.current&&w.current&&(y.current=b.sourceEvent,v.current=wr(b.sourceEvent,m.current),T(S))}}).on("end",b=>{if(!(!w.current||k.current)&&(c(!1),C.current=!1,w.current=!1,cancelAnimationFrame(p.current),u.current)){const{updateNodePositions:S,nodeInternals:j,onNodeDragStop:A,onSelectionDragStop:M}=s.getState(),E=o?A:za(M);if(S(u.current,!1,!1),E){const[D,O]=_a({nodeId:o,dragItems:u.current,nodeInternals:j});E(b.sourceEvent,D,O)}}}).filter(b=>{const S=b.target;return!b.button&&(!r||!Gl(S,`.${r}`,e))&&(!n||Gl(S,n,e))});return N.call(h),()=>{N.on(".drag",null)}}}},[e,t,r,n,a,s,o,i,I]),l}function Fd(){const e=Ye();return g.useCallback(r=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:a,getNodes:i,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=i().filter(k=>k.selected&&(k.draggable||u&&typeof k.draggable>"u")),p=s?l[0]:5,m=s?l[1]:5,v=r.isShiftPressed?4:1,y=r.x*p*v,C=r.y*m*v,w=d.map(k=>{if(k.positionAbsolute){const I={x:k.positionAbsolute.x+y,y:k.positionAbsolute.y+C};s&&(I.x=l[0]*Math.round(I.x/l[0]),I.y=l[1]*Math.round(I.y/l[1]));const{positionAbsolute:N,position:T}=Od(k,I,n,o,void 0,c);k.position=T,k.positionAbsolute=N}return k});a(w,!0,!1)},[])}const nn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var En=e=>{const t=({id:r,type:n,data:o,xPos:a,yPos:i,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:p,onMouseLeave:m,onContextMenu:v,onDoubleClick:y,style:C,className:w,isDraggable:k,isSelectable:I,isConnectable:N,isFocusable:T,selectNodesOnDrag:P,sourcePosition:x,targetPosition:h,hidden:b,resizeObserver:S,dragHandle:j,zIndex:A,isParent:M,noDragClassName:E,noPanClassName:D,initialized:O,disableKeyboardA11y:B,ariaLabel:L,rfId:R,hasHandleBounds:$})=>{const V=Ye(),H=g.useRef(null),G=g.useRef(null),q=g.useRef(x),z=g.useRef(h),_=g.useRef(n),X=I||k||u||d||p||m,K=Fd(),ae=Sn(r,V.getState,d),W=Sn(r,V.getState,p),se=Sn(r,V.getState,m),we=Sn(r,V.getState,v),he=Sn(r,V.getState,y),re=xe=>{const{nodeDragThreshold:le}=V.getState();if(I&&(!P||!k||le>0)&&Di({id:r,store:V,nodeRef:H}),u){const Q=V.getState().nodeInternals.get(r);Q&&u(xe,{...Q})}},ke=xe=>{if(!ki(xe)&&!B)if(id.includes(xe.key)&&I){const le=xe.key==="Escape";Di({id:r,store:V,unselect:le,nodeRef:H})}else k&&c&&Object.prototype.hasOwnProperty.call(nn,xe.key)&&(V.setState({ariaLiveMessage:`Moved selected node ${xe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~i}`}),K({x:nn[xe.key].x,y:nn[xe.key].y,isShiftPressed:xe.shiftKey}))};g.useEffect(()=>()=>{G.current&&(S==null||S.unobserve(G.current),G.current=null)},[]),g.useEffect(()=>{if(H.current&&!b){const xe=H.current;(!O||!$||G.current!==xe)&&(G.current&&(S==null||S.unobserve(G.current)),S==null||S.observe(xe),G.current=xe)}},[b,O,$]),g.useEffect(()=>{const xe=_.current!==n,le=q.current!==x,Q=z.current!==h;H.current&&(xe||le||Q)&&(xe&&(_.current=n),le&&(q.current=x),Q&&(z.current=h),V.getState().updateNodeDimensions([{id:r,nodeElement:H.current,forceUpdate:!0}]))},[r,n,x,h]);const Ie=Ld({nodeRef:H,disabled:b||!k,noDragClassName:E,handleSelector:j,nodeId:r,isSelectable:I,selectNodesOnDrag:P});return b?null:F.createElement("div",{className:it(["react-flow__node",`react-flow__node-${n}`,{[D]:k},w,{selected:c,selectable:I,parent:M,dragging:Ie}]),ref:H,style:{zIndex:A,transform:`translate(${s}px,${l}px)`,pointerEvents:X?"all":"none",visibility:O?"visible":"hidden",...C},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:ae,onMouseMove:W,onMouseLeave:se,onContextMenu:we,onClick:re,onDoubleClick:he,onKeyDown:T?ke:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":B?void 0:`${kd}-${R}`,"aria-label":L},F.createElement(Fy,{value:r},F.createElement(e,{id:r,data:o,type:n,xPos:a,yPos:i,selected:c,isConnectable:N,sourcePosition:x,targetPosition:h,dragging:Ie,dragHandle:j,zIndex:A})))};return t.displayName="NodeWrapper",g.memo(t)};const E0=e=>{const t=e.getNodes().filter(r=>r.selected);return{...pa(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function j0({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Ye(),{width:o,height:a,x:i,y:s,transformString:l,userSelectionActive:c}=Fe(E0,vt),u=Fd(),d=g.useRef(null);if(g.useEffect(()=>{var v;r||(v=d.current)==null||v.focus({preventScroll:!0})},[r]),Ld({nodeRef:d}),c||!o||!a)return null;const p=e?v=>{const y=n.getState().getNodes().filter(C=>C.selected);e(v,y)}:void 0,m=v=>{Object.prototype.hasOwnProperty.call(nn,v.key)&&u({x:nn[v.key].x,y:nn[v.key].y,isShiftPressed:v.shiftKey})};return F.createElement("div",{className:it(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},F.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:m,style:{width:o,height:a,top:s,left:i}}))}var k0=g.memo(j0);const N0=e=>e.nodesSelectionActive,$d=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:m,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:C,panActivationKeyCode:w,zoomActivationKeyCode:k,elementsSelectable:I,zoomOnScroll:N,zoomOnPinch:T,panOnScroll:P,panOnScrollSpeed:x,panOnScrollMode:h,zoomOnDoubleClick:b,panOnDrag:S,defaultViewport:j,translateExtent:A,minZoom:M,maxZoom:E,preventScrolling:D,onSelectionContextMenu:O,noWheelClassName:B,noPanClassName:L,disableKeyboardA11y:R})=>{const $=Fe(N0),V=Wn(d),H=Wn(w),G=H||S,q=H||P,z=V||p&&G!==!0;return p0({deleteKeyCode:s,multiSelectionKeyCode:C}),F.createElement(v0,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:a,elementsSelectable:I,zoomOnScroll:N,zoomOnPinch:T,panOnScroll:q,panOnScrollSpeed:x,panOnScrollMode:h,zoomOnDoubleClick:b,panOnDrag:!V&&G,defaultViewport:j,translateExtent:A,minZoom:M,maxZoom:E,zoomActivationKeyCode:k,preventScrolling:D,noWheelClassName:B,noPanClassName:L},F.createElement(Ad,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:i,panOnDrag:G,isSelecting:!!z,selectionMode:m},e,$&&F.createElement(k0,{onSelectionContextMenu:O,noPanClassName:L,disableKeyboardA11y:R})))};$d.displayName="FlowRenderer";var I0=g.memo($d);function T0(e){return Fe(g.useCallback(r=>e?gd(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function D0(e){const t={input:En(e.input||Cd),default:En(e.default||Ti),output:En(e.output||Ed),group:En(e.group||xs)},r={},n=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,a)=>(o[a]=En(e[a]||Ti),o),r);return{...t,...n}}const P0=({x:e,y:t,width:r,height:n,origin:o})=>!r||!n?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-r*o[0],y:t-n*o[1]},M0=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Bd=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:o,updateNodeDimensions:a,onError:i}=Fe(M0,vt),s=T0(e.onlyRenderVisibleElements),l=g.useRef(),c=g.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const p=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));a(p)});return l.current=u,u},[]);return g.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),F.createElement("div",{className:"react-flow__nodes",style:Cs},s.map(u=>{var T,P,x;let d=u.type||"default";e.nodeTypes[d]||(i==null||i("003",dr.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,m=!!(u.draggable||t&&typeof u.draggable>"u"),v=!!(u.selectable||o&&typeof u.selectable>"u"),y=!!(u.connectable||r&&typeof u.connectable>"u"),C=!!(u.focusable||n&&typeof u.focusable>"u"),w=e.nodeExtent?fs(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,k=(w==null?void 0:w.x)??0,I=(w==null?void 0:w.y)??0,N=P0({x:k,y:I,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return F.createElement(p,{key:u.id,id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||ne.Bottom,targetPosition:u.targetPosition||ne.Top,hidden:u.hidden,xPos:k,yPos:I,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:m,isSelectable:v,isConnectable:y,isFocusable:C,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((T=u[_e])==null?void 0:T.z)??0,isParent:!!((P=u[_e])!=null&&P.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((x=u[_e])!=null&&x.handleBounds)})}))};Bd.displayName="NodeRenderer";var A0=g.memo(Bd);const R0=(e,t,r)=>r===ne.Left?e-t:r===ne.Right?e+t:e,O0=(e,t,r)=>r===ne.Top?e-t:r===ne.Bottom?e+t:e,Wl="react-flow__edgeupdater",ql=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:o,onMouseEnter:a,onMouseOut:i,type:s})=>F.createElement("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:i,className:it([Wl,`${Wl}-${s}`]),cx:R0(t,n,e),cy:O0(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),L0=()=>!0;var qr=e=>{const t=({id:r,className:n,type:o,data:a,onClick:i,onEdgeDoubleClick:s,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:y,style:C,source:w,target:k,sourceX:I,sourceY:N,targetX:T,targetY:P,sourcePosition:x,targetPosition:h,elementsSelectable:b,hidden:S,sourceHandleId:j,targetHandleId:A,onContextMenu:M,onMouseEnter:E,onMouseMove:D,onMouseLeave:O,reconnectRadius:B,onReconnect:L,onReconnectStart:R,onReconnectEnd:$,markerEnd:V,markerStart:H,rfId:G,ariaLabel:q,isFocusable:z,isReconnectable:_,pathOptions:X,interactionWidth:K,disableKeyboardA11y:ae})=>{const W=g.useRef(null),[se,we]=g.useState(!1),[he,re]=g.useState(!1),ke=Ye(),Ie=g.useMemo(()=>`url('#${Ni(H,G)}')`,[H,G]),xe=g.useMemo(()=>`url('#${Ni(V,G)}')`,[V,G]);if(S)return null;const le=Be=>{var et;const{edges:Ge,addSelectedEdges:dt,unselectNodesAndEdges:rt,multiSelectionActive:nt}=ke.getState(),ot=Ge.find(Pt=>Pt.id===r);ot&&(b&&(ke.setState({nodesSelectionActive:!1}),ot.selected&&nt?(rt({nodes:[],edges:[ot]}),(et=W.current)==null||et.blur()):dt([r])),i&&i(Be,ot))},Q=Cn(r,ke.getState,s),Ee=Cn(r,ke.getState,M),yt=Cn(r,ke.getState,E),bt=Cn(r,ke.getState,D),st=Cn(r,ke.getState,O),Ve=(Be,Ge)=>{if(Be.button!==0)return;const{edges:dt,isValidConnection:rt}=ke.getState(),nt=Ge?k:w,ot=(Ge?A:j)||null,et=Ge?"target":"source",Pt=rt||L0,Mt=Ge,_t=dt.find(ft=>ft.id===r);re(!0),R==null||R(Be,_t,et);const Jt=ft=>{re(!1),$==null||$(ft,_t,et)};yd({event:Be,handleId:ot,nodeId:nt,onConnect:ft=>L==null?void 0:L(_t,ft),isTarget:Mt,getState:ke.getState,setState:ke.setState,isValidConnection:Pt,edgeUpdaterType:et,onReconnectEnd:Jt})},wt=Be=>Ve(Be,!0),Je=Be=>Ve(Be,!1),lt=()=>we(!0),ct=()=>we(!1),ut=!b&&!i,Dt=Be=>{var Ge;if(!ae&&id.includes(Be.key)&&b){const{unselectNodesAndEdges:dt,addSelectedEdges:rt,edges:nt}=ke.getState();Be.key==="Escape"?((Ge=W.current)==null||Ge.blur(),dt({edges:[nt.find(et=>et.id===r)]})):rt([r])}};return F.createElement("g",{className:it(["react-flow__edge",`react-flow__edge-${o}`,n,{selected:l,animated:c,inactive:ut,updating:se}]),onClick:le,onDoubleClick:Q,onContextMenu:Ee,onMouseEnter:yt,onMouseMove:bt,onMouseLeave:st,onKeyDown:z?Dt:void 0,tabIndex:z?0:void 0,role:z?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":q===null?void 0:q||`Edge from ${w} to ${k}`,"aria-describedby":z?`${Nd}-${G}`:void 0,ref:W},!he&&F.createElement(e,{id:r,source:w,target:k,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:v,labelBgBorderRadius:y,data:a,style:C,sourceX:I,sourceY:N,targetX:T,targetY:P,sourcePosition:x,targetPosition:h,sourceHandleId:j,targetHandleId:A,markerStart:Ie,markerEnd:xe,pathOptions:X,interactionWidth:K}),_&&F.createElement(F.Fragment,null,(_==="source"||_===!0)&&F.createElement(ql,{position:x,centerX:I,centerY:N,radius:B,onMouseDown:wt,onMouseEnter:lt,onMouseOut:ct,type:"source"}),(_==="target"||_===!0)&&F.createElement(ql,{position:h,centerX:T,centerY:P,radius:B,onMouseDown:Je,onMouseEnter:lt,onMouseOut:ct,type:"target"})))};return t.displayName="EdgeWrapper",g.memo(t)};function F0(e){const t={default:qr(e.default||Wo),straight:qr(e.bezier||hs),step:qr(e.step||gs),smoothstep:qr(e.step||fa),simplebezier:qr(e.simplebezier||ms)},r={},n=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,a)=>(o[a]=qr(e[a]||Wo),o),r);return{...t,...n}}function Yl(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,o=((r==null?void 0:r.y)||0)+t.y,a=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case ne.Top:return{x:n+a/2,y:o};case ne.Right:return{x:n+a,y:o+i/2};case ne.Bottom:return{x:n+a/2,y:o+i};case ne.Left:return{x:n,y:o+i/2}}}function Xl(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const $0=(e,t,r,n,o,a)=>{const i=Yl(r,e,t),s=Yl(a,n,o);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}};function B0({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:o,targetHeight:a,width:i,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+o),y2:Math.max(e.y+n,t.y+a)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=ps({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:s/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),p=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*p)>0}function Kl(e){var n,o,a,i,s;const t=((n=e==null?void 0:e[_e])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const _0=[{level:0,isMaxLevel:!0,edges:[]}];function z0(e,t,r=!1){let n=-1;const o=e.reduce((i,s)=>{var u,d;const l=Ft(s.zIndex);let c=l?s.zIndex:0;if(r){const p=t.get(s.target),m=t.get(s.source),v=s.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),y=Math.max(((u=m==null?void 0:m[_e])==null?void 0:u.z)||0,((d=p==null?void 0:p[_e])==null?void 0:d.z)||0,1e3);c=(l?s.zIndex:0)+(v?y:0)}return i[c]?i[c].push(s):i[c]=[s],n=c>n?c:n,i},{}),a=Object.entries(o).map(([i,s])=>{const l=+i;return{edges:s,level:l,isMaxLevel:l===n}});return a.length===0?_0:a}function H0(e,t,r){const n=Fe(g.useCallback(o=>e?o.edges.filter(a=>{const i=t.get(a.source),s=t.get(a.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&B0({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:s.width,targetHeight:s.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return z0(n,t,r)}const V0=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),G0=({color:e="none",strokeWidth:t=1})=>F.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Zl={[Go.Arrow]:V0,[Go.ArrowClosed]:G0};function U0(e){const t=Ye();return g.useMemo(()=>{var o,a;return Object.prototype.hasOwnProperty.call(Zl,e)?Zl[e]:((a=(o=t.getState()).onError)==null||a.call(o,"009",dr.error009(e)),null)},[e])}const W0=({id:e,type:t,color:r,width:n=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:i,orient:s="auto-start-reverse"})=>{const l=U0(t);return l?F.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0"},F.createElement(l,{color:r,strokeWidth:i})):null},q0=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((o,a)=>([a.markerStart,a.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const s=Ni(i,t);n.includes(s)||(o.push({id:s,color:i.color||e,...i}),n.push(s))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))},_d=({defaultColor:e,rfId:t})=>{const r=Fe(g.useCallback(q0({defaultColor:e,rfId:t}),[e,t]),(n,o)=>!(n.length!==o.length||n.some((a,i)=>a.id!==o[i].id)));return F.createElement("defs",null,r.map(n=>F.createElement(W0,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};_d.displayName="MarkerDefinitions";var Y0=g.memo(_d);const X0=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),zd=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:o,noPanClassName:a,onEdgeContextMenu:i,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:m,onReconnectEnd:v,reconnectRadius:y,children:C,disableKeyboardA11y:w})=>{const{edgesFocusable:k,edgesUpdatable:I,elementsSelectable:N,width:T,height:P,connectionMode:x,nodeInternals:h,onError:b}=Fe(X0,vt),S=H0(t,h,r);return T?F.createElement(F.Fragment,null,S.map(({level:j,edges:A,isMaxLevel:M})=>F.createElement("svg",{key:j,style:{zIndex:j},width:T,height:P,className:"react-flow__edges react-flow__container"},M&&F.createElement(Y0,{defaultColor:e,rfId:n}),F.createElement("g",null,A.map(E=>{const[D,O,B]=Kl(h.get(E.source)),[L,R,$]=Kl(h.get(E.target));if(!B||!$)return null;let V=E.type||"default";o[V]||(b==null||b("011",dr.error011(V)),V="default");const H=o[V]||o.default,G=x===_r.Strict?R.target:(R.target??[]).concat(R.source??[]),q=Xl(O.source,E.sourceHandle),z=Xl(G,E.targetHandle),_=(q==null?void 0:q.position)||ne.Bottom,X=(z==null?void 0:z.position)||ne.Top,K=!!(E.focusable||k&&typeof E.focusable>"u"),ae=E.reconnectable||E.updatable,W=typeof p<"u"&&(ae||I&&typeof ae>"u");if(!q||!z)return b==null||b("008",dr.error008(q,E)),null;const{sourceX:se,sourceY:we,targetX:he,targetY:re}=$0(D,q,_,L,z,X);return F.createElement(H,{key:E.id,id:E.id,className:it([E.className,a]),type:V,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:se,sourceY:we,targetX:he,targetY:re,sourcePosition:_,targetPosition:X,elementsSelectable:N,onContextMenu:i,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:m,onReconnectEnd:v,reconnectRadius:y,rfId:n,ariaLabel:E.ariaLabel,isFocusable:K,isReconnectable:W,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:w})})))),C):null};zd.displayName="EdgeRenderer";var K0=g.memo(zd);const Z0=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Q0({children:e}){const t=Fe(Z0);return F.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function J0(e){const t=io(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const eb={[ne.Left]:ne.Right,[ne.Right]:ne.Left,[ne.Top]:ne.Bottom,[ne.Bottom]:ne.Top},Hd=({nodeId:e,handleType:t,style:r,type:n=yr.Bezier,CustomComponent:o,connectionStatus:a})=>{var P,x,h;const{fromNode:i,handleId:s,toX:l,toY:c,connectionMode:u}=Fe(g.useCallback(b=>({fromNode:b.nodeInternals.get(e),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[e]),vt),d=(P=i==null?void 0:i[_e])==null?void 0:P.handleBounds;let p=d==null?void 0:d[t];if(u===_r.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!p)return null;const m=s?p.find(b=>b.id===s):p[0],v=m?m.x+m.width/2:(i.width??0)/2,y=m?m.y+m.height/2:i.height??0,C=(((x=i.positionAbsolute)==null?void 0:x.x)??0)+v,w=(((h=i.positionAbsolute)==null?void 0:h.y)??0)+y,k=m==null?void 0:m.position,I=k?eb[k]:null;if(!k||!I)return null;if(o)return F.createElement(o,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:m,fromX:C,fromY:w,toX:l,toY:c,fromPosition:k,toPosition:I,connectionStatus:a});let N="";const T={sourceX:C,sourceY:w,sourcePosition:k,targetX:l,targetY:c,targetPosition:I};return n===yr.Bezier?[N]=dd(T):n===yr.Step?[N]=Uo({...T,borderRadius:0}):n===yr.SmoothStep?[N]=Uo(T):n===yr.SimpleBezier?[N]=ud(T):N=`M${C},${w} ${l},${c}`,F.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:r})};Hd.displayName="ConnectionLine";const tb=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function rb({containerStyle:e,style:t,type:r,component:n}){const{nodeId:o,handleType:a,nodesConnectable:i,width:s,height:l,connectionStatus:c}=Fe(tb,vt);return!(o&&a&&s&&i)?null:F.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},F.createElement("g",{className:it(["react-flow__connection",c])},F.createElement(Hd,{nodeId:o,handleType:a,style:t,type:r,CustomComponent:n,connectionStatus:c})))}function Ql(e,t){return g.useRef(null),Ye(),g.useMemo(()=>t(e),[e])}const Vd=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:o,onInit:a,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:C,connectionLineType:w,connectionLineStyle:k,connectionLineComponent:I,connectionLineContainerStyle:N,selectionKeyCode:T,selectionOnDrag:P,selectionMode:x,multiSelectionKeyCode:h,panActivationKeyCode:b,zoomActivationKeyCode:S,deleteKeyCode:j,onlyRenderVisibleElements:A,elementsSelectable:M,selectNodesOnDrag:E,defaultViewport:D,translateExtent:O,minZoom:B,maxZoom:L,preventScrolling:R,defaultMarkerColor:$,zoomOnScroll:V,zoomOnPinch:H,panOnScroll:G,panOnScrollSpeed:q,panOnScrollMode:z,zoomOnDoubleClick:_,panOnDrag:X,onPaneClick:K,onPaneMouseEnter:ae,onPaneMouseMove:W,onPaneMouseLeave:se,onPaneScroll:we,onPaneContextMenu:he,onEdgeContextMenu:re,onEdgeMouseEnter:ke,onEdgeMouseMove:Ie,onEdgeMouseLeave:xe,onReconnect:le,onReconnectStart:Q,onReconnectEnd:Ee,reconnectRadius:yt,noDragClassName:bt,noWheelClassName:st,noPanClassName:Ve,elevateEdgesOnSelect:wt,disableKeyboardA11y:Je,nodeOrigin:lt,nodeExtent:ct,rfId:ut})=>{const Dt=Ql(e,D0),Be=Ql(t,F0);return J0(a),F.createElement(I0,{onPaneClick:K,onPaneMouseEnter:ae,onPaneMouseMove:W,onPaneMouseLeave:se,onPaneContextMenu:he,onPaneScroll:we,deleteKeyCode:j,selectionKeyCode:T,selectionOnDrag:P,selectionMode:x,onSelectionStart:y,onSelectionEnd:C,multiSelectionKeyCode:h,panActivationKeyCode:b,zoomActivationKeyCode:S,elementsSelectable:M,onMove:r,onMoveStart:n,onMoveEnd:o,zoomOnScroll:V,zoomOnPinch:H,zoomOnDoubleClick:_,panOnScroll:G,panOnScrollSpeed:q,panOnScrollMode:z,panOnDrag:X,defaultViewport:D,translateExtent:O,minZoom:B,maxZoom:L,onSelectionContextMenu:v,preventScrolling:R,noDragClassName:bt,noWheelClassName:st,noPanClassName:Ve,disableKeyboardA11y:Je},F.createElement(Q0,null,F.createElement(K0,{edgeTypes:Be,onEdgeClick:s,onEdgeDoubleClick:c,onlyRenderVisibleElements:A,onEdgeContextMenu:re,onEdgeMouseEnter:ke,onEdgeMouseMove:Ie,onEdgeMouseLeave:xe,onReconnect:le,onReconnectStart:Q,onReconnectEnd:Ee,reconnectRadius:yt,defaultMarkerColor:$,noPanClassName:Ve,elevateEdgesOnSelect:!!wt,disableKeyboardA11y:Je,rfId:ut},F.createElement(rb,{style:k,type:w,component:I,containerStyle:N})),F.createElement("div",{className:"react-flow__edgelabel-renderer"}),F.createElement(A0,{nodeTypes:Dt,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:E,onlyRenderVisibleElements:A,noPanClassName:Ve,noDragClassName:bt,disableKeyboardA11y:Je,nodeOrigin:lt,nodeExtent:ct,rfId:ut})))};Vd.displayName="GraphView";var nb=g.memo(Vd);const Pi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],mr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Pi,nodeExtent:Pi,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:_r.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Py,isValidConnection:void 0},ob=()=>Gm((e,t)=>({...mr,setNodes:r=>{const{nodeInternals:n,nodeOrigin:o,elevateNodesOnSelect:a}=t();e({nodeInternals:$a(r,n,o,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(o=>({...n,...o}))})},setDefaultNodesAndEdges:(r,n)=>{const o=typeof r<"u",a=typeof n<"u",i=o?$a(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:a?n:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:p}=new window.DOMMatrixReadOnly(d.transform),m=r.reduce((y,C)=>{const w=o.get(C.id);if(w!=null&&w.hidden)o.set(w.id,{...w,[_e]:{...w[_e],handleBounds:void 0}});else if(w){const k=ds(C.nodeElement);!!(k.width&&k.height&&(w.width!==k.width||w.height!==k.height||C.forceUpdate))&&(o.set(w.id,{...w,[_e]:{...w[_e],handleBounds:{source:Ul(".source",C.nodeElement,p,c),target:Ul(".target",C.nodeElement,p,c)}},...k}),y.push({id:w.id,type:"dimensions",dimensions:k}))}return y},[]);Td(o,c);const v=i||a&&!i&&Dd(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:v}),(m==null?void 0:m.length)>0&&(n==null||n(m))},updateNodePositions:(r,n=!0,o=!1)=>{const{triggerNodeChanges:a}=t(),i=r.map(s=>{const l={id:s.id,type:"position",dragging:o};return n&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});a(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:o,hasDefaultNodes:a,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();if(r!=null&&r.length){if(a){const c=Md(r,s()),u=$a(c,o,i,l);e({nodeInternals:u})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:o,getNodes:a}=t();let i,s=null;n?i=r.map(l=>vr(l,!0)):(i=Qr(a(),r),s=Qr(o,[])),xo({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:o,getNodes:a}=t();let i,s=null;n?i=r.map(l=>vr(l,!0)):(i=Qr(o,r),s=Qr(a(),[])),xo({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:o,getNodes:a}=t(),i=r||a(),s=n||o,l=i.map(u=>(u.selected=!1,vr(u.id,!1))),c=s.map(u=>vr(u.id,!1));xo({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:o}=t();n==null||n.scaleExtent([r,o]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:o}=t();n==null||n.scaleExtent([o,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),a=n().filter(s=>s.selected).map(s=>vr(s.id,!1)),i=r.filter(s=>s.selected).map(s=>vr(s.id,!1));xo({changedNodes:a,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(o=>{o.positionAbsolute=fs(o.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:o,height:a,d3Zoom:i,d3Selection:s,translateExtent:l}=t();if(!i||!s||!r.x&&!r.y)return!1;const c=br.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),u=[[0,0],[o,a]],d=i==null?void 0:i.constrain()(c,u,l);return i.transform(s,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:mr.connectionNodeId,connectionHandleId:mr.connectionHandleId,connectionHandleType:mr.connectionHandleType,connectionStatus:mr.connectionStatus,connectionStartHandle:mr.connectionStartHandle,connectionEndHandle:mr.connectionEndHandle}),reset:()=>e({...mr})}),Object.is),Ss=({children:e})=>{const t=g.useRef(null);return t.current||(t.current=ob()),F.createElement(Sy,{value:t.current},e)};Ss.displayName="ReactFlowProvider";const Gd=({children:e})=>g.useContext(da)?F.createElement(F.Fragment,null,e):F.createElement(Ss,null,e);Gd.displayName="ReactFlowWrapper";const ab={input:Cd,default:Ti,output:Ed,group:xs},ib={default:Wo,straight:hs,step:gs,smoothstep:fa,simplebezier:ms},sb=[0,0],lb=[15,15],cb={x:0,y:0,zoom:1},ub={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ud=g.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:o,nodeTypes:a=ab,edgeTypes:i=ib,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onConnect:m,onConnectStart:v,onConnectEnd:y,onClickConnectStart:C,onClickConnectEnd:w,onNodeMouseEnter:k,onNodeMouseMove:I,onNodeMouseLeave:N,onNodeContextMenu:T,onNodeDoubleClick:P,onNodeDragStart:x,onNodeDrag:h,onNodeDragStop:b,onNodesDelete:S,onEdgesDelete:j,onSelectionChange:A,onSelectionDragStart:M,onSelectionDrag:E,onSelectionDragStop:D,onSelectionContextMenu:O,onSelectionStart:B,onSelectionEnd:L,connectionMode:R=_r.Strict,connectionLineType:$=yr.Bezier,connectionLineStyle:V,connectionLineComponent:H,connectionLineContainerStyle:G,deleteKeyCode:q="Backspace",selectionKeyCode:z="Shift",selectionOnDrag:_=!1,selectionMode:X=Un.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:ae=Vo()?"Meta":"Control",zoomActivationKeyCode:W=Vo()?"Meta":"Control",snapToGrid:se=!1,snapGrid:we=lb,onlyRenderVisibleElements:he=!1,selectNodesOnDrag:re=!0,nodesDraggable:ke,nodesConnectable:Ie,nodesFocusable:xe,nodeOrigin:le=sb,edgesFocusable:Q,edgesUpdatable:Ee,elementsSelectable:yt,defaultViewport:bt=cb,minZoom:st=.5,maxZoom:Ve=2,translateExtent:wt=Pi,preventScrolling:Je=!0,nodeExtent:lt,defaultMarkerColor:ct="#b1b1b7",zoomOnScroll:ut=!0,zoomOnPinch:Dt=!0,panOnScroll:Be=!1,panOnScrollSpeed:Ge=.5,panOnScrollMode:dt=Lr.Free,zoomOnDoubleClick:rt=!0,panOnDrag:nt=!0,onPaneClick:ot,onPaneMouseEnter:et,onPaneMouseMove:Pt,onPaneMouseLeave:Mt,onPaneScroll:_t,onPaneContextMenu:Jt,children:er,onEdgeContextMenu:ft,onEdgeDoubleClick:qt,onEdgeMouseEnter:Nr,onEdgeMouseMove:tr,onEdgeMouseLeave:rr,onEdgeUpdate:fr,onEdgeUpdateStart:nr,onEdgeUpdateEnd:Ir,onReconnect:Yt,onReconnectStart:ge,onReconnectEnd:U,reconnectRadius:J=10,edgeUpdaterRadius:Ne=10,onNodesChange:Le,onEdgesChange:Xe,noDragClassName:ue="nodrag",noWheelClassName:Z="nowheel",noPanClassName:Se="nopan",fitView:Ae=!1,fitViewOptions:Re,connectOnClick:xt=!0,attributionPosition:pt,proOptions:de,defaultEdgeOptions:Y,elevateNodesOnSelect:te=!0,elevateEdgesOnSelect:oe=!1,disableKeyboardA11y:ie=!1,autoPanOnConnect:pe=!0,autoPanOnNodeDrag:fe=!0,connectionRadius:ve=20,isValidConnection:Pe,onError:Te,style:ze,id:Ue,nodeDragThreshold:tt,...Ct},or)=>{const Tr=Ue||"1";return F.createElement("div",{...Ct,style:{...ze,...ub},ref:or,className:it(["react-flow",o]),"data-testid":"rf__wrapper",id:Ue},F.createElement(Gd,null,F.createElement(nb,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:p,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:k,onNodeMouseMove:I,onNodeMouseLeave:N,onNodeContextMenu:T,onNodeDoubleClick:P,nodeTypes:a,edgeTypes:i,connectionLineType:$,connectionLineStyle:V,connectionLineComponent:H,connectionLineContainerStyle:G,selectionKeyCode:z,selectionOnDrag:_,selectionMode:X,deleteKeyCode:q,multiSelectionKeyCode:ae,panActivationKeyCode:K,zoomActivationKeyCode:W,onlyRenderVisibleElements:he,selectNodesOnDrag:re,defaultViewport:bt,translateExtent:wt,minZoom:st,maxZoom:Ve,preventScrolling:Je,zoomOnScroll:ut,zoomOnPinch:Dt,zoomOnDoubleClick:rt,panOnScroll:Be,panOnScrollSpeed:Ge,panOnScrollMode:dt,panOnDrag:nt,onPaneClick:ot,onPaneMouseEnter:et,onPaneMouseMove:Pt,onPaneMouseLeave:Mt,onPaneScroll:_t,onPaneContextMenu:Jt,onSelectionContextMenu:O,onSelectionStart:B,onSelectionEnd:L,onEdgeContextMenu:ft,onEdgeDoubleClick:qt,onEdgeMouseEnter:Nr,onEdgeMouseMove:tr,onEdgeMouseLeave:rr,onReconnect:Yt??fr,onReconnectStart:ge??nr,onReconnectEnd:U??Ir,reconnectRadius:J??Ne,defaultMarkerColor:ct,noDragClassName:ue,noWheelClassName:Z,noPanClassName:Se,elevateEdgesOnSelect:oe,rfId:Tr,disableKeyboardA11y:ie,nodeOrigin:le,nodeExtent:lt}),F.createElement(t0,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:v,onConnectEnd:y,onClickConnectStart:C,onClickConnectEnd:w,nodesDraggable:ke,nodesConnectable:Ie,nodesFocusable:xe,edgesFocusable:Q,edgesUpdatable:Ee,elementsSelectable:yt,elevateNodesOnSelect:te,minZoom:st,maxZoom:Ve,nodeExtent:lt,onNodesChange:Le,onEdgesChange:Xe,snapToGrid:se,snapGrid:we,connectionMode:R,translateExtent:wt,connectOnClick:xt,defaultEdgeOptions:Y,fitView:Ae,fitViewOptions:Re,onNodesDelete:S,onEdgesDelete:j,onNodeDragStart:x,onNodeDrag:h,onNodeDragStop:b,onSelectionDrag:E,onSelectionDragStart:M,onSelectionDragStop:D,noPanClassName:Se,nodeOrigin:le,rfId:Tr,autoPanOnConnect:pe,autoPanOnNodeDrag:fe,onError:Te,connectionRadius:ve,isValidConnection:Pe,nodeDragThreshold:tt}),F.createElement(Jy,{onSelectionChange:A}),er,F.createElement(jy,{proOptions:de,position:pt}),F.createElement(i0,{rfId:Tr,disableKeyboardA11y:ie})))});Ud.displayName="ReactFlow";const db=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function fb({children:e}){const t=Fe(db);return t?gu.createPortal(e,t):null}function pb(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}function mb(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},F.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function gb(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},F.createElement("path",{d:"M0 0h32v4.2H0z"}))}function hb(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},F.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function vb(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function yb(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},F.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Mn=({children:e,className:t,...r})=>F.createElement("button",{type:"button",className:it(["react-flow__controls-button",t]),...r},e);Mn.displayName="ControlButton";const bb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Wd=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:i,onFitView:s,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const p=Ye(),[m,v]=g.useState(!1),{isInteractive:y,minZoomReached:C,maxZoomReached:w}=Fe(bb,pb),{zoomIn:k,zoomOut:I,fitView:N}=io();if(g.useEffect(()=>{v(!0)},[]),!m)return null;const T=()=>{k(),a==null||a()},P=()=>{I(),i==null||i()},x=()=>{N(o),s==null||s()},h=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return F.createElement(us,{className:it(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls"},t&&F.createElement(F.Fragment,null,F.createElement(Mn,{onClick:T,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},F.createElement(mb,null)),F.createElement(Mn,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C},F.createElement(gb,null))),r&&F.createElement(Mn,{className:"react-flow__controls-fitview",onClick:x,title:"fit view","aria-label":"fit view"},F.createElement(hb,null)),n&&F.createElement(Mn,{className:"react-flow__controls-interactive",onClick:h,title:"toggle interactivity","aria-label":"toggle interactivity"},y?F.createElement(yb,null):F.createElement(vb,null)),u)};Wd.displayName="Controls";var wb=g.memo(Wd);function xb(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Ut;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ut||(Ut={}));function Cb({color:e,dimensions:t,lineWidth:r}){return F.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Sb({color:e,radius:t}){return F.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Eb={[Ut.Dots]:"#91919a",[Ut.Lines]:"#eee",[Ut.Cross]:"#e2e2e2"},jb={[Ut.Dots]:1,[Ut.Lines]:1,[Ut.Cross]:6},kb=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function qd({id:e,variant:t=Ut.Dots,gap:r=20,size:n,lineWidth:o=1,offset:a=2,color:i,style:s,className:l}){const c=g.useRef(null),{transform:u,patternId:d}=Fe(kb,xb),p=i||Eb[t],m=n||jb[t],v=t===Ut.Dots,y=t===Ut.Cross,C=Array.isArray(r)?r:[r,r],w=[C[0]*u[2]||1,C[1]*u[2]||1],k=m*u[2],I=y?[k,k]:w,N=v?[k/a,k/a]:[I[0]/a,I[1]/a];return F.createElement("svg",{className:it(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},F.createElement("pattern",{id:d+e,x:u[0]%w[0],y:u[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},v?F.createElement(Sb,{color:p,radius:k/a}):F.createElement(Cb,{dimensions:I,color:p,lineWidth:o})),F.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}qd.displayName="Background";var Nb=g.memo(qd);const Ib=({onAccept:e,onReject:t})=>f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx("button",{className:"text-white px-2 bg-green-500 hover:bg-green-700 rounded h-8 flex items-center justify-center",onClick:t,children:"No"}),f.jsx("button",{className:"text-white bg-red-500 px-2 hover:bg-red-700 rounded h-8 flex items-center justify-center",onClick:e,autoFocus:!0,children:"Yes"})]}),Tb=({flowList:e,value:t,onChange:r})=>{g.useEffect(()=>{if(!t&&(e!=null&&e.length)){const o=e.find(a=>a.label.includes("Draft"));o&&r(o.value)}},[t,e,r]);const n=o=>r(o.target.value);return f.jsxs("div",{className:"pb-3",children:[f.jsx("label",{htmlFor:"dropdown",className:"text-xs",children:"Flows"}),f.jsxs("select",{id:"dropdown",className:"border w-full","aria-label":"Select Draft or Version to View and Modify",onChange:n,value:t||"",children:[f.jsx("option",{value:"",children:"Select a flow"}),e==null?void 0:e.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))]})]})},Db=g.memo(Tb),Pb=({onDragStart:e,clearFlow:t,onSave:r,errors:n,nodes:o,flowList:a,onFlowSelectionChange:i,onDelete:s,flowId:l,isSaveDisabled:c})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flow-tools",children:[f.jsx("button",{className:"button",onDragStart:u=>e(u,"message"),draggable:!0,children:"Message"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"options"),draggable:!0,children:"Options"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"leadForm"),draggable:!0,children:"Lead Form"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"file"),draggable:!0,children:"File"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"map"),draggable:!0,children:"Maps"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"question"),draggable:!0,children:"Question"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"callConnect"),draggable:!0,children:"CallConnect"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"otp"),draggable:!0,children:"OTP"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"customForm"),draggable:!0,children:"Custom Form"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"http"),draggable:!0,children:"HTTP"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"gpt"),draggable:!0,children:"GPT Handler"}),f.jsx("button",{className:"button",onDragStart:u=>e(u,"stop"),draggable:!0,children:"Stop"})]}),f.jsxs("div",{className:"flow-actions",children:[f.jsx(Db,{flowList:a,onChange:i,value:l}),f.jsx("button",{disabled:c,className:"px-2 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded items-center text-center",onClick:()=>r(),children:"Save"}),f.jsx("button",{disabled:Object.keys(n).length>0||o.length<2,className:"px-2 py-2 bg-blue-500 hover:bg-blue-700 text-white font-bold rounded items-center text-center",onClick:()=>r(!0),children:"Deploy"}),f.jsx("button",{disabled:o.length<2,title:"Clear Board - Will delete all Nodes and Edges",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center",onClick:()=>t(),children:"Clear"}),f.jsx("button",{disabled:!l,title:"Delete Flow",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center hidden",onClick:()=>s(l),children:"Delete"})]})]}),Mb=F.memo(Pb);function Ab(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}const Rb=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function xr(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Yr=null;function Yd(e={}){return Yr||(e.includeStyleProperties?(Yr=e.includeStyleProperties,Yr):(Yr=xr(window.getComputedStyle(document.documentElement)),Yr))}function qo(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Ob(e){const t=qo(e,"border-left-width"),r=qo(e,"border-right-width");return e.clientWidth+t+r}function Lb(e){const t=qo(e,"border-top-width"),r=qo(e,"border-bottom-width");return e.clientHeight+t+r}function Xd(e,t={}){const r=t.width||Ob(e),n=t.height||Lb(e);return{width:r,height:n}}function Fb(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const St=16384;function $b(e){(e.width>St||e.height>St)&&(e.width>St&&e.height>St?e.width>e.height?(e.height*=St/e.width,e.width=St):(e.width*=St/e.height,e.height=St):e.width>St?(e.height*=St/e.width,e.width=St):(e.width*=St/e.height,e.height=St))}function Yo(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Bb(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function _b(e,t,r){const n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg"),a=document.createElementNS(n,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${t} ${r}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(e),Bb(o)}const ht=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||ht(r,t)};function zb(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Hb(e,t){return Yd(t).map(r=>{const n=e.getPropertyValue(r),o=e.getPropertyPriority(r);return`${r}: ${n}${o?" !important":""};`}).join(" ")}function Vb(e,t,r,n){const o=`.${e}:${t}`,a=r.cssText?zb(r):Hb(r,n);return document.createTextNode(`${o}{${a}}`)}function Jl(e,t,r,n){const o=window.getComputedStyle(e,r),a=o.getPropertyValue("content");if(a===""||a==="none")return;const i=Rb();try{t.className=`${t.className} ${i}`}catch{return}const s=document.createElement("style");s.appendChild(Vb(i,r,o,n)),t.appendChild(s)}function Gb(e,t,r){Jl(e,t,":before",r),Jl(e,t,":after",r)}const ec="application/font-woff",tc="image/jpeg",Ub={woff:ec,woff2:ec,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:tc,jpeg:tc,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Wb(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Es(e){const t=Wb(e).toLowerCase();return Ub[t]||""}function qb(e){return e.split(/,/)[1]}function Mi(e){return e.search(/^(data:)/)!==-1}function Yb(e,t){return`data:${t};base64,${e}`}async function Kd(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const o=await n.blob();return new Promise((a,i)=>{const s=new FileReader;s.onerror=i,s.onloadend=()=>{try{a(r({res:n,result:s.result}))}catch(l){i(l)}},s.readAsDataURL(o)})}const Ha={};function Xb(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function js(e,t,r){const n=Xb(e,t,r.includeQueryParams);if(Ha[n]!=null)return Ha[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const a=await Kd(e,r.fetchRequestInit,({res:i,result:s})=>(t||(t=i.headers.get("Content-Type")||""),qb(s)));o=Yb(a,t)}catch(a){o=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return Ha[n]=o,o}async function Kb(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Yo(t)}async function Zb(e,t){if(e.currentSrc){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,i==null||i.drawImage(e,0,0,a.width,a.height);const s=a.toDataURL();return Yo(s)}const r=e.poster,n=Es(r),o=await js(r,n,t);return Yo(o)}async function Qb(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await ma(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Jb(e,t){return ht(e,HTMLCanvasElement)?Kb(e):ht(e,HTMLVideoElement)?Zb(e,t):ht(e,HTMLIFrameElement)?Qb(e,t):e.cloneNode(Zd(e))}const ew=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Zd=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function tw(e,t,r){var n,o;if(Zd(t))return t;let a=[];return ew(e)&&e.assignedNodes?a=xr(e.assignedNodes()):ht(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?a=xr(e.contentDocument.body.childNodes):a=xr(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),a.length===0||ht(e,HTMLVideoElement)||await a.reduce((i,s)=>i.then(()=>ma(s,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function rw(e,t,r){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Yd(r).forEach(a=>{let i=o.getPropertyValue(a);a==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),ht(e,HTMLIFrameElement)&&a==="display"&&i==="inline"&&(i="block"),a==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(a,i,o.getPropertyPriority(a))})}function nw(e,t){ht(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ht(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function ow(e,t){if(ht(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(o=>e.value===o.getAttribute("value"));n&&n.setAttribute("selected","")}}function aw(e,t,r){return ht(t,Element)&&(rw(e,t,r),Gb(e,t,r),nw(e,t),ow(e,t)),t}async function iw(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let a=0;a<r.length;a++){const s=r[a].getAttribute("xlink:href");if(s){const l=e.querySelector(s),c=document.querySelector(s);!l&&c&&!n[s]&&(n[s]=await ma(c,t,!0))}}const o=Object.values(n);if(o.length){const a="http://www.w3.org/1999/xhtml",i=document.createElementNS(a,"svg");i.setAttribute("xmlns",a),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const s=document.createElementNS(a,"defs");i.appendChild(s);for(let l=0;l<o.length;l++)s.appendChild(o[l]);e.appendChild(i)}return e}async function ma(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Jb(n,t)).then(n=>tw(e,n,t)).then(n=>aw(e,n,t)).then(n=>iw(n,t))}const Qd=/url\((['"]?)([^'"]+?)\1\)/g,sw=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,lw=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function cw(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function uw(e){const t=[];return e.replace(Qd,(r,n,o)=>(t.push(o),r)),t.filter(r=>!Mi(r))}async function dw(e,t,r,n,o){try{const a=r?Ab(t,r):t,i=Es(t);let s;return o||(s=await js(a,i,n)),e.replace(cw(t),`$1${s}$3`)}catch{}return e}function fw(e,{preferredFontFormat:t}){return t?e.replace(lw,r=>{for(;;){const[n,,o]=sw.exec(r)||[];if(!o)return"";if(o===t)return`src: ${n};`}}):e}function Jd(e){return e.search(Qd)!==-1}async function ef(e,t,r){if(!Jd(e))return e;const n=fw(e,r);return uw(n).reduce((a,i)=>a.then(s=>dw(s,i,t,r)),Promise.resolve(n))}async function Xr(e,t,r){var n;const o=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(o){const a=await ef(o,null,r);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function pw(e,t){await Xr("background",e,t)||await Xr("background-image",e,t),await Xr("mask",e,t)||await Xr("-webkit-mask",e,t)||await Xr("mask-image",e,t)||await Xr("-webkit-mask-image",e,t)}async function mw(e,t){const r=ht(e,HTMLImageElement);if(!(r&&!Mi(e.src))&&!(ht(e,SVGImageElement)&&!Mi(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,o=await js(n,Es(n),t);await new Promise((a,i)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){i(c)}}:i;const s=e;s.decode&&(s.decode=a),s.loading==="lazy"&&(s.loading="eager"),r?(e.srcset="",e.src=o):e.href.baseVal=o})}async function gw(e,t){const n=xr(e.childNodes).map(o=>tf(o,t));await Promise.all(n).then(()=>e)}async function tf(e,t){ht(e,Element)&&(await pw(e,t),await mw(e,t),await gw(e,t))}function hw(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(o=>{r[o]=n[o]}),e}const rc={};async function nc(e){let t=rc[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},rc[e]=t,t}async function oc(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,a=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let s=i.replace(n,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),Kd(s,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(a).then(()=>r)}function ac(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=o.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(o,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(i,"gi");for(;;){let l=a.exec(n);if(l===null){if(l=s.exec(n),l===null)break;a.lastIndex=s.lastIndex}else s.lastIndex=a.lastIndex;t.push(l[0])}return t}async function vw(e,t){const r=[],n=[];return e.forEach(o=>{if("cssRules"in o)try{xr(o.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let s=i+1;const l=a.href,c=nc(l).then(u=>oc(u,t)).then(u=>ac(u).forEach(d=>{try{o.insertRule(d,d.startsWith("@import")?s+=1:o.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:d,error:p})}})).catch(u=>{console.error("Error loading remote css",u.toString())});n.push(c)}})}catch(a){const i=e.find(s=>s.href==null)||document.styleSheets[0];o.href!=null&&n.push(nc(o.href).then(s=>oc(s,t)).then(s=>ac(s).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",a)}}),Promise.all(n).then(()=>(e.forEach(o=>{if("cssRules"in o)try{xr(o.cssRules||[]).forEach(a=>{r.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${o.href}`,a)}}),r))}function yw(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Jd(t.style.getPropertyValue("src")))}async function bw(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=xr(e.ownerDocument.styleSheets),n=await vw(r,t);return yw(n)}function rf(e){return e.trim().replace(/["']/g,"")}function ww(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(a=>{t.add(rf(a))}),Array.from(n.children).forEach(a=>{a instanceof HTMLElement&&r(a)})}return r(e),t}async function xw(e,t){const r=await bw(e,t),n=ww(e);return(await Promise.all(r.filter(a=>n.has(rf(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return ef(a.cssText,i,t)}))).join(`
`)}async function Cw(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await xw(e,t);if(r){const n=document.createElement("style"),o=document.createTextNode(r);n.appendChild(o),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Sw(e,t={}){const{width:r,height:n}=Xd(e,t),o=await ma(e,t,!0);return await Cw(o,t),await tf(o,t),hw(o,t),await _b(o,r,n)}async function Ew(e,t={}){const{width:r,height:n}=Xd(e,t),o=await Sw(e,t),a=await Yo(o),i=document.createElement("canvas"),s=i.getContext("2d"),l=t.pixelRatio||Fb(),c=t.canvasWidth||r,u=t.canvasHeight||n;return i.width=c*l,i.height=u*l,t.skipAutoScale||$b(i),i.style.width=`${c}`,i.style.height=`${u}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(a,0,0,i.width,i.height),i}async function jw(e,t={}){return(await Ew(e,t)).toDataURL()}function kw(e){const t=document.createElement("a");t.setAttribute("download","reactflow.png"),t.setAttribute("href",e),t.click()}const Va=1024,Ga=768;function Nw(){const{getNodes:e}=io(),t=()=>{const r=pa(e()),n=bs(r,Va,Ga,.5,2,20);jw(document.querySelector(".react-flow__viewport"),{backgroundColor:"#1a365d",width:Va,height:Ga,style:{width:`${Va}px`,height:`${Ga}px`,transform:`translate(${n.x}px, ${n.y}px) scale(${n.zoom})`}}).then(kw)};return f.jsx(us,{position:"top-right",children:f.jsx("button",{className:"download-btn",onClick:t,children:"Download Image"})})}function Iw({id:e,sourceX:t,sourceY:r,targetX:n,targetY:o,sourcePosition:a,targetPosition:i,style:s={}}){const{setEdges:l}=io(),[c,u,d]=Uo({sourceX:t,sourceY:r,sourcePosition:a,targetX:n,targetY:o,targetPosition:i}),p=()=>{l(m=>m.filter(v=>v.id!==e))};return f.jsxs(f.Fragment,{children:[f.jsx("svg",{style:{position:"absolute"},children:f.jsx("defs",{children:f.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"10",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto",children:f.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#ff0073"})})})}),f.jsx(mn,{path:c,markerEnd:"url(#arrowhead)",style:s}),f.jsx(fb,{children:f.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${u}px,${d}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:f.jsx("button",{className:"w-4 h-4 bg-gray-300 border border-gray-500 rounded-full text-xs font-bold text-gray-800 flex items-baseline justify-center hover:bg-red-600 hover:border-red-700 hover:text-white hover:shadow-md",onClick:p,children:"×"})})})]})}const Tw={Smileys:[{emoji:"😀",keywords:["grinning","happy","smile"]},{emoji:"😁",keywords:["grin","smiley","cheerful"]},{emoji:"😂",keywords:["joy","tears","laugh"]},{emoji:"🤣",keywords:["rofl","roll","laughing"]},{emoji:"😃",keywords:["smile","happy","joy"]},{emoji:"😄",keywords:["smiling","joy","happy"]},{emoji:"😅",keywords:["sweat","relief","nervous"]},{emoji:"😆",keywords:["laugh","happy","joy"]},{emoji:"😉",keywords:["wink","flirt","playful"]},{emoji:"😊",keywords:["blush","happy","smile"]},{emoji:"😋",keywords:["yum","delicious","tasty"]},{emoji:"😎",keywords:["cool","sunglasses","chill"]},{emoji:"😍",keywords:["love","heart","eyes","romantic"]},{emoji:"😘",keywords:["kiss","heart","love"]},{emoji:"😗",keywords:["kiss","face","blowing"]},{emoji:"😙",keywords:["kiss","smiling","love"]},{emoji:"😚",keywords:["kiss","closed","eyes"]},{emoji:"🙂",keywords:["smile","slight","happy"]},{emoji:"🤗",keywords:["hug","face","smile","embrace"]},{emoji:"🤩",keywords:["star","struck","amazed"]},{emoji:"🤔",keywords:["thinking","hmm","curious"]},{emoji:"🤨",keywords:["face","eyebrow","raised"]},{emoji:"😐",keywords:["neutral","meh","blank"]},{emoji:"😑",keywords:["expressionless","blank","deadpan"]},{emoji:"😶",keywords:["silence","no","mouth"]},{emoji:"🙄",keywords:["eye","roll","annoyed"]},{emoji:"😏",keywords:["smirk","sly","looking"]},{emoji:"😣",keywords:["persevere","struggling","face"]},{emoji:"😥",keywords:["relieved","sweat","exhaled"]},{emoji:"😮",keywords:["face","surprise","wow"]},{emoji:"🤤",keywords:["drooling","yum","delicious"]},{emoji:"😪",keywords:["sleepy","tired","exhausted"]},{emoji:"😯",keywords:["hushed","quiet","speechless"]},{emoji:"😫",keywords:["tired","sleepy","exhausted"]},{emoji:"😴",keywords:["sleeping","zzz","sleep"]},{emoji:"🤢",keywords:["nauseated","sick","face"]},{emoji:"🥵",keywords:["hot","sweating","face"]},{emoji:"🥶",keywords:["cold","freezing","face"]},{emoji:"😓",keywords:["sweat","sad","disappointed"]},{emoji:"😠",keywords:["angry","mad","annoyed"]},{emoji:"😡",keywords:["rage","pout","angry"]},{emoji:"🤬",keywords:["swearing","angry","censored"]},{emoji:"😔",keywords:["sad","disappointed","down"]},{emoji:"😕",keywords:["confused","meh","puzzled"]},{emoji:"🙁",keywords:["frowning","sad","unhappy"]},{emoji:"😟",keywords:["worried","anxious","concerned"]},{emoji:"😖",keywords:["confounded","distressed","upset"]},{emoji:"😢",keywords:["crying","sad","tears"]},{emoji:"😭",keywords:["sob","cry","tear"]},{emoji:"😩",keywords:["weary","tired","exhausted"]},{emoji:"😣",keywords:["persevere","struggle","sad"]},{emoji:"😞",keywords:["disappointed","sad","upset"]},{emoji:"😤",keywords:["triumph","proud","smug"]},{emoji:"😫",keywords:["tired","exhausted","sad"]},{emoji:"😰",keywords:["anxious","sad","worried"]},{emoji:"😱",keywords:["screaming","shock","scared"]},{emoji:"😳",keywords:["flushed","embarrassed","shocked"]},{emoji:"🤯",keywords:["mind","blown","shock"]},{emoji:"🤠",keywords:["cowboy","hat","cheerful"]},{emoji:"🥳",keywords:["party","celebrating","fun"]},{emoji:"😎",keywords:["cool","shade","sunglasses"]},{emoji:"🤓",keywords:["nerd","smart","studious"]},{emoji:"🧐",keywords:["monocle","curious","inspect"]},{emoji:"😦",keywords:["frowning","sad","upset"]},{emoji:"😧",keywords:["anguished","distressed","sad"]},{emoji:"😲",keywords:["astonished","surprised","shocked"]},{emoji:"🥺",keywords:["pleading","sad","cute"]},{emoji:"😵",keywords:["dizzy","confused","woozy"]},{emoji:"🤐",keywords:["zipper","mouth","shutup"]},{emoji:"🤕",keywords:["head","injury","sick"]}],Animals:[{emoji:"🐱",keywords:["cat","pet","feline"]},{emoji:"🐶",keywords:["dog","pet","puppy"]},{emoji:"🐭",keywords:["mouse","rodent","small"]},{emoji:"🐹",keywords:["hamster","pet","small"]},{emoji:"🐰",keywords:["rabbit","bunny","pet"]},{emoji:"🦊",keywords:["fox","wild","animal"]},{emoji:"🐻",keywords:["bear","wild","animal"]},{emoji:"🐼",keywords:["panda","bear","animal"]},{emoji:"🐨",keywords:["koala","bear","animal"]},{emoji:"🐯",keywords:["tiger","wild","bigcat"]},{emoji:"🦁",keywords:["lion","wild","king"]},{emoji:"🐮",keywords:["cow","farm","animal"]},{emoji:"🐷",keywords:["pig","farm","animal"]},{emoji:"🐸",keywords:["frog","amphibian","animal"]},{emoji:"🐵",keywords:["monkey","animal","primate"]},{emoji:"🦄",keywords:["unicorn","mythical","animal"]},{emoji:"🐴",keywords:["horse","equine","animal"]},{emoji:"🐤",keywords:["chick","baby","bird"]},{emoji:"🦜",keywords:["parrot","bird","talking"]},{emoji:"🦢",keywords:["swan","bird","majestic"]},{emoji:"🦉",keywords:["owl","bird","night"]},{emoji:"🦇",keywords:["bat","night","animal"]},{emoji:"🐺",keywords:["wolf","animal","wild"]},{emoji:"🐗",keywords:["boar","wild","animal"]},{emoji:"🐹",keywords:["hamster","animal","pet"]},{emoji:"🦔",keywords:["hedgehog","animal","cute"]},{emoji:"🐦",keywords:["bird","animal","flying"]},{emoji:"🐧",keywords:["penguin","bird","cold"]},{emoji:"🦀",keywords:["crab","sea","animal"]},{emoji:"🦞",keywords:["lobster","sea","animal"]},{emoji:"🦐",keywords:["shrimp","sea","animal"]},{emoji:"🐢",keywords:["turtle","reptile","animal"]},{emoji:"🦎",keywords:["lizard","reptile","animal"]},{emoji:"🐍",keywords:["snake","reptile","animal"]},{emoji:"🦕",keywords:["sauropod","dinosaur","extinct"]},{emoji:"🦖",keywords:["T-Rex","dinosaur","extinct"]},{emoji:"🐙",keywords:["octopus","sea","animal"]},{emoji:"🐬",keywords:["dolphin","sea","animal"]},{emoji:"🐳",keywords:["whale","sea","animal"]},{emoji:"🐟",keywords:["fish","sea","animal"]},{emoji:"🐠",keywords:["tropical","fish","sea"]},{emoji:"🐡",keywords:["blowfish","sea","animal"]},{emoji:"🐬",keywords:["dolphin","sea","animal"]},{emoji:"🦈",keywords:["shark","sea","animal"]},{emoji:"🐊",keywords:["crocodile","reptile","animal"]},{emoji:"🐅",keywords:["tiger","wild","animal"]},{emoji:"🐆",keywords:["leopard","wild","animal"]},{emoji:"🦓",keywords:["zebra","wild","animal"]},{emoji:"🦍",keywords:["gorilla","wild","animal"]},{emoji:"🦧",keywords:["orangutan","wild","animal"]},{emoji:"🦏",keywords:["rhinoceros","wild","animal"]},{emoji:"🦛",keywords:["hippopotamus","wild","animal"]},{emoji:"🐃",keywords:["water buffalo","wild","animal"]},{emoji:"🐂",keywords:["ox","farm","animal"]},{emoji:"🦒",keywords:["giraffe","wild","animal"]},{emoji:"🐘",keywords:["elephant","wild","animal"]},{emoji:"🦏",keywords:["rhinoceros","wild","animal"]},{emoji:"🦇",keywords:["bat","wild","animal"]},{emoji:"🐫",keywords:["camel","desert","animal"]},{emoji:"🦙",keywords:["llama","animal","farm"]},{emoji:"🦘",keywords:["kangaroo","wild","animal"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🐩",keywords:["poodle","dog","animal"]},{emoji:"🐕",keywords:["dog","animal","pet"]},{emoji:"🐈",keywords:["cat","animal","pet"]},{emoji:"🐓",keywords:["rooster","farm","bird"]},{emoji:"🐈‍⬛",keywords:["black cat","animal","pet"]},{emoji:"🐖",keywords:["pig","farm","animal"]},{emoji:"🐉",keywords:["dragon","mythical","animal"]},{emoji:"🐇",keywords:["rabbit","animal","pet"]},{emoji:"🦢",keywords:["swan","bird","majestic"]},{emoji:"🐕‍🦺",keywords:["service dog","animal","service"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🐖",keywords:["pig","animal","farm"]},{emoji:"🦨",keywords:["skunk","wild","animal"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🦦",keywords:["otter","wild","animal"]},{emoji:"🦨",keywords:["skunk","wild","animal"]},{emoji:"🦦",keywords:["otter","wild","animal"]},{emoji:"🦥",keywords:["sloth","wild","animal"]},{emoji:"🦩",keywords:["flamingo","wild","bird"]},{emoji:"🦩",keywords:["flamingo","wild","bird"]},{emoji:"🦒",keywords:["giraffe","wild","animal"]}],Food:[{emoji:"🍏",keywords:["apple","green apple","fruit"]},{emoji:"🍎",keywords:["apple","red apple","fruit"]},{emoji:"🍐",keywords:["pear","fruit"]},{emoji:"🍊",keywords:["tangerine","orange","fruit"]},{emoji:"🍋",keywords:["lemon","fruit"]},{emoji:"🍌",keywords:["banana","fruit"]},{emoji:"🍉",keywords:["watermelon","fruit"]},{emoji:"🍇",keywords:["grapes","fruit","vineyard"]},{emoji:"🍓",keywords:["strawberry","fruit"]},{emoji:"🍈",keywords:["melon","fruit"]},{emoji:"🍒",keywords:["cherries","fruit"]},{emoji:"🍑",keywords:["peach","fruit"]},{emoji:"🍍",keywords:["pineapple","fruit"]},{emoji:"🥭",keywords:["mango","fruit"]},{emoji:"🥥",keywords:["coconut","fruit"]},{emoji:"🥝",keywords:["kiwi","fruit"]},{emoji:"🍅",keywords:["tomato","vegetable"]},{emoji:"🍆",keywords:["eggplant","vegetable"]},{emoji:"🥑",keywords:["avocado","fruit"]},{emoji:"🥒",keywords:["cucumber","vegetable"]},{emoji:"🥬",keywords:["leafy greens","vegetable","lettuce"]},{emoji:"🥦",keywords:["broccoli","vegetable"]},{emoji:"🌽",keywords:["corn","vegetable"]},{emoji:"🌶",keywords:["hot pepper","vegetable","spicy"]},{emoji:"🥕",keywords:["carrot","vegetable"]},{emoji:"🧄",keywords:["garlic","vegetable"]},{emoji:"🧅",keywords:["onion","vegetable"]},{emoji:"🥔",keywords:["potato","vegetable"]},{emoji:"🍠",keywords:["yam","vegetable","sweet potato"]},{emoji:"🥐",keywords:["croissant","bread"]},{emoji:"🍞",keywords:["bread","loaf"]},{emoji:"🥖",keywords:["baguette","bread"]},{emoji:"🥨",keywords:["pretzel","bread","snack"]},{emoji:"🥯",keywords:["bagel","bread"]},{emoji:"🥞",keywords:["pancakes","breakfast"]},{emoji:"🧇",keywords:["waffle","breakfast"]},{emoji:"🧀",keywords:["cheese","dairy"]},{emoji:"🍖",keywords:["meat","bone","food"]},{emoji:"🍗",keywords:["poultry leg","chicken leg","food"]},{emoji:"🥩",keywords:["cut of meat","steak","food"]},{emoji:"🍤",keywords:["fried shrimp","seafood"]},{emoji:"🥚",keywords:["egg","food","breakfast"]},{emoji:"🍳",keywords:["cooking","egg","fried egg"]},{emoji:"🥓",keywords:["bacon","meat","breakfast"]},{emoji:"🥗",keywords:["salad","food","healthy"]},{emoji:"🍲",keywords:["pot of food","soup","stew"]},{emoji:"🍿",keywords:["popcorn","snack","movies"]},{emoji:"🧈",keywords:["butter","food"]},{emoji:"🍱",keywords:["bento box","sushi","Japanese food"]},{emoji:"🍣",keywords:["sushi","Japanese food"]},{emoji:"🍛",keywords:["curry","rice","food"]},{emoji:"🍜",keywords:["noodles","ramen","bowl"]},{emoji:"🍝",keywords:["spaghetti","pasta","food"]},{emoji:"🥟",keywords:["dumpling","food"]},{emoji:"🍠",keywords:["sweet potato","food","roasted"]},{emoji:"🍤",keywords:["shrimp","food","fried"]},{emoji:"🍢",keywords:["oden","food","skewer"]},{emoji:"🍵",keywords:["tea","cup"]},{emoji:"🥛",keywords:["milk","glass"]},{emoji:"☕",keywords:["coffee","cup"]},{emoji:"🍰",keywords:["cake","dessert","birthday"]},{emoji:"🎂",keywords:["birthday cake","dessert"]},{emoji:"🍩",keywords:["doughnut","dessert"]},{emoji:"🍪",keywords:["cookie","dessert"]},{emoji:"🍭",keywords:["lollipop","candy"]},{emoji:"🍫",keywords:["chocolate","bar","dessert"]},{emoji:"🍬",keywords:["candy","sweet"]},{emoji:"🍯",keywords:["honey","honey pot","sweet"]},{emoji:"🧂",keywords:["salt","condiment"]}],Activity:[{emoji:"⚽",keywords:["soccer","football","goal"]},{emoji:"🏀",keywords:["basketball","hoops","dunk"]},{emoji:"🏈",keywords:["football","rugby","gridiron"]},{emoji:"⚾",keywords:["baseball","pitch","bat"]},{emoji:"🎾",keywords:["tennis","racket","serve"]},{emoji:"🏐",keywords:["volleyball","spike","serve"]},{emoji:"🏉",keywords:["rugby","ball","scrum"]},{emoji:"🎱",keywords:["pool","billiards","eight ball"]},{emoji:"🏓",keywords:["ping pong","table tennis","paddle"]},{emoji:"🏸",keywords:["badminton","shuttlecock","racket"]},{emoji:"🥅",keywords:["goal","net","hockey"]},{emoji:"🏒",keywords:["hockey","ice hockey","puck"]},{emoji:"🏑",keywords:["field hockey","stick","ball"]},{emoji:"🥍",keywords:["lacrosse","stick","ball"]},{emoji:"🏏",keywords:["cricket","bat","ball"]},{emoji:"⛳",keywords:["golf","flag","hole in one"]},{emoji:"🏹",keywords:["archery","bow","arrow"]},{emoji:"🎣",keywords:["fishing","fish","rod"]},{emoji:"🤿",keywords:["scuba","diving","snorkeling"]},{emoji:"🛷",keywords:["sled","sledge","toboggan"]},{emoji:"🥌",keywords:["curling","stone","sweep"]},{emoji:"🛹",keywords:["skateboard","skating","skate"]},{emoji:"🛼",keywords:["roller skate","skating","rolling"]},{emoji:"⛸️",keywords:["ice skate","skating","ice"]},{emoji:"🛶",keywords:["canoe","kayak","paddle"]},{emoji:"⚽",keywords:["soccer","football","goal"]},{emoji:"🏋️‍♂️",keywords:["weight lifting","gym","workout"]},{emoji:"🏋️‍♀️",keywords:["weight lifting","gym","workout"]},{emoji:"🏋️",keywords:["weight lifting","gym","workout"]},{emoji:"🤺",keywords:["fencing","sword","duel"]},{emoji:"🤼‍♂️",keywords:["wrestling","grappling","fight"]},{emoji:"🤼‍♀️",keywords:["wrestling","grappling","fight"]},{emoji:"🤸‍♂️",keywords:["gymnastics","flip","somersault"]},{emoji:"🤸‍♀️",keywords:["gymnastics","flip","somersault"]},{emoji:"🤾‍♂️",keywords:["handball","goalie","ball"]},{emoji:"🤾‍♀️",keywords:["handball","goalie","ball"]},{emoji:"🤹‍♂️",keywords:["juggle","performance","circus"]},{emoji:"🤹‍♀️",keywords:["juggle","performance","circus"]},{emoji:"🧘‍♂️",keywords:["yoga","meditation","relax"]},{emoji:"🧘‍♀️",keywords:["yoga","meditation","relax"]},{emoji:"🧘",keywords:["yoga","meditation","relax"]},{emoji:"🏄‍♂️",keywords:["surfing","waves","ocean"]},{emoji:"🏄‍♀️",keywords:["surfing","waves","ocean"]},{emoji:"🏂",keywords:["snowboarding","snowboard","snow"]},{emoji:"⛷️",keywords:["skiing","snow","slope"]},{emoji:"🏇",keywords:["horse racing","jockey","race"]},{emoji:"🚴‍♂️",keywords:["biking","cycling","bicycle"]},{emoji:"🚴‍♀️",keywords:["biking","cycling","bicycle"]},{emoji:"🚵‍♂️",keywords:["mountain biking","cycling","bike"]},{emoji:"🚵‍♀️",keywords:["mountain biking","cycling","bike"]},{emoji:"🏇",keywords:["horse racing","jockey","race"]},{emoji:"🥇",keywords:["gold medal","winner","first place"]},{emoji:"🥈",keywords:["silver medal","second place","runner-up"]},{emoji:"🥉",keywords:["bronze medal","third place","winner"]},{emoji:"🏆",keywords:["trophy","winner","champion"]},{emoji:"🏅",keywords:["medal","reward","achievement"]},{emoji:"🎖️",keywords:["military","decoration","award"]},{emoji:"🏵️",keywords:["rosette","badge","award"]},{emoji:"🎗️",keywords:["ribbon","cause","support"]}],Travel:[{emoji:"🚗",keywords:["car","automobile","travel","vehicle"]},{emoji:"🚕",keywords:["taxi","cab","transport","vehicle"]},{emoji:"🚙",keywords:["suv","vehicle","travel","transportation"]},{emoji:"🚌",keywords:["bus","transport","vehicle","travel"]},{emoji:"🚎",keywords:["trolleybus","public transport","vehicle"]},{emoji:"🏎️",keywords:["racecar","racing","vehicle","sport"]},{emoji:"🚓",keywords:["police car","law enforcement","vehicle"]},{emoji:"🚑",keywords:["ambulance","emergency","hospital","vehicle"]},{emoji:"🚒",keywords:["fire truck","firefighter","emergency","vehicle"]},{emoji:"🚐",keywords:["minibus","van","transport","vehicle"]},{emoji:"🚚",keywords:["delivery truck","cargo","shipping","vehicle"]},{emoji:"🚛",keywords:["articulated lorry","semi truck","transport"]},{emoji:"🚜",keywords:["tractor","farming","vehicle","agriculture"]},{emoji:"🏍️",keywords:["motorcycle","bike","riding","vehicle"]},{emoji:"🚲",keywords:["bicycle","bike","cycling","vehicle"]},{emoji:"🛴",keywords:["kick scooter","scooter","ride","vehicle"]},{emoji:"🛵",keywords:["motor scooter","vespa","vehicle","ride"]},{emoji:"🚏",keywords:["bus stop","transport","station","public transport"]},{emoji:"🛤️",keywords:["railway track","train","rail","travel"]},{emoji:"⛽",keywords:["fuel pump","gas station","fuel","transport"]},{emoji:"🚨",keywords:["police light","emergency","alarm","vehicle"]},{emoji:"🚥",keywords:["horizontal traffic light","stoplight","signal"]},{emoji:"🚦",keywords:["vertical traffic light","stoplight","signal"]},{emoji:"🛑",keywords:["stop sign","warning","traffic"]},{emoji:"🚧",keywords:["construction","roadwork","warning"]},{emoji:"⚓",keywords:["anchor","sailing","maritime","nautical"]},{emoji:"⛵",keywords:["sailboat","boat","sailing","watercraft"]},{emoji:"🛶",keywords:["canoe","kayak","paddling","boat"]},{emoji:"🚤",keywords:["speedboat","boat","speed","watercraft"]},{emoji:"🛳️",keywords:["passenger ship","cruise","travel","boat"]},{emoji:"⛴️",keywords:["ferry","boat","nautical","sea"]},{emoji:"🛥️",keywords:["motor boat","yacht","boat","watercraft"]},{emoji:"🚢",keywords:["ship","ocean liner","travel","boating"]},{emoji:"✈️",keywords:["airplane","flight","travel","plane"]},{emoji:"🛩️",keywords:["small airplane","flight","aviation","plane"]},{emoji:"🛫",keywords:["airplane departure","airport","takeoff","flight"]},{emoji:"🛬",keywords:["airplane arrival","landing","airport","flight"]},{emoji:"🪂",keywords:["parachute","skydiving","falling","activity"]},{emoji:"💺",keywords:["seat","sitting","airline","travel"]},{emoji:"🚁",keywords:["helicopter","chopper","aviation","vehicle"]},{emoji:"🚟",keywords:["suspension railway","train","transport","public transit"]},{emoji:"🚠",keywords:["mountain cableway","cable car","transport"]},{emoji:"🚡",keywords:["aerial tramway","cable car","transport","travel"]},{emoji:"🛰️",keywords:["satellite","space station","orbit","communication"]},{emoji:"🚀",keywords:["rocket","space","launch","spaceship"]},{emoji:"🛸",keywords:["flying saucer","UFO","vehicle","alien"]},{emoji:"🛳️",keywords:["passenger ship","cruise","voyage","boat"]},{emoji:"🪂",keywords:["parachute","skydiving","falling","sport"]},{emoji:"🛬",keywords:["landing","airplane","arrival","airport"]},{emoji:"🛫",keywords:["takeoff","airplane","departure","airport"]},{emoji:"✈️",keywords:["airplane","flight","travel","plane"]},{emoji:"🚉",keywords:["station","train","subway","transport"]},{emoji:"🚂",keywords:["locomotive","steam train","rail","engine"]},{emoji:"🚃",keywords:["railway car","train car","public transport"]},{emoji:"🚄",keywords:["high-speed train","shinkansen","transport"]},{emoji:"🚅",keywords:["bullet train","high-speed rail","transport"]},{emoji:"🚆",keywords:["train","rail","commuter","public transport"]},{emoji:"🚇",keywords:["subway","metro","underground","public transport"]},{emoji:"🚈",keywords:["light rail","tram","train","public transport"]},{emoji:"🚊",keywords:["tram","streetcar","public transport","rail"]}],Objects:[{emoji:"📦",'"keywords':["box","package"]},{emoji:"📪",keywords:["mailbox","closed"]},{emoji:"📫",keywords:["mailbox","open","mail"]},{emoji:"📬",keywords:["mail","incoming"]},{emoji:"📭",keywords:["mail","outgoing"]},{emoji:"📮",keywords:["postbox","mail"]},{emoji:"📯",keywords:["postal horn"]},{emoji:"📜",keywords:["scroll","paper"]},{emoji:"📃",keywords:["page","curl","document"]},{emoji:"📑",keywords:["bookmark","tabs"]},{emoji:"📈",keywords:["chart","graph","up"]},{emoji:"📉",keywords:["chart","graph","down"]},{emoji:"📊",keywords:["bar chart","graph"]},{emoji:"📇",keywords:["index card"]},{emoji:"📁",keywords:["file folder"]},{emoji:"📂",keywords:["open file folder"]},{emoji:"🗂️",keywords:["card","file","folders"]},{emoji:"📋",keywords:["clipboard"]},{emoji:"📤",keywords:["outbox","mail"]},{emoji:"📥",keywords:["inbox","mail"]},{emoji:"📦",keywords:["package","box"]},{emoji:"📧",keywords:["email","envelope"]},{emoji:"📨",keywords:["incoming mail"]},{emoji:"📩",keywords:["envelope","arrow"]},{emoji:"📤",keywords:["outbox","tray"]},{emoji:"📥",keywords:["inbox","tray"]},{emoji:"📦",keywords:["package"]},{emoji:"📥",keywords:["inbox"]},{emoji:"📧",keywords:["email"]},{emoji:"📨",keywords:["incoming"]},{emoji:"📩",keywords:["envelope"]},{emoji:"📤",keywords:["outbox"]},{emoji:"📡",keywords:["satellite","antenna"]},{emoji:"🔋",keywords:["battery"]},{emoji:"🔌",keywords:["plug"]},{emoji:"💡",keywords:["bulb"]},{emoji:"🔦",keywords:["flashlight"]},{emoji:"🕯️",keywords:["candle"]},{emoji:"🩺",keywords:["stethoscope","doctor"]},{emoji:"🔑",keywords:["key"]},{emoji:"🔒",keywords:["lock"]},{emoji:"🔓",keywords:["unlock"]},{emoji:"🔐",keywords:["lock","key"]},{emoji:"🔏",keywords:["lock","pen"]},{emoji:"📎",keywords:["paperclip"]},{emoji:"🖇️",keywords:["linked","paperclips"]},{emoji:"✂️",keywords:["scissors"]},{emoji:"🗃️",keywords:["file box"]},{emoji:"🗳️",keywords:["ballot box"]},{emoji:"🗄️",keywords:["file cabinet"]},{emoji:"📅",keywords:["calendar"]},{emoji:"📆",keywords:["tear-off calendar"]},{emoji:"🗓️",keywords:["spiral calendar"]},{emoji:"📇",keywords:["card index"]},{emoji:"📈",keywords:["chart increasing"]},{emoji:"📉",keywords:["chart decreasing"]},{emoji:"📊",keywords:["bar chart"]},{emoji:"📌",keywords:["pushpin"]},{emoji:"📍",keywords:["round pushpin"]},{emoji:"📏",keywords:["straight edge"]},{emoji:"📐",keywords:["triangular ruler"]},{emoji:"✏️",keywords:["pencil"]},{emoji:"🖍️",keywords:["crayon"]},{emoji:"🖌️",keywords:["paintbrush"]},{emoji:"🖊️",keywords:["pen"]},{emoji:"🖋️",keywords:["fountain pen"]},{emoji:"📏",keywords:["straight edge"]},{emoji:"📐",keywords:["triangular ruler"]}],Symbols:[{emoji:"👉🏻",keywords:["point right","hand","gesture"]},{emoji:"👈🏻",keywords:["point left","hand","gesture"]},{emoji:"👆🏻",keywords:["point up","hand","gesture"]},{emoji:"👇🏻",keywords:["point down","hand","gesture"]},{emoji:"👍🏻",keywords:["thumbs up","approval","hand","gesture"]},{emoji:"👎🏻",keywords:["thumbs down","disapproval","hand","gesture"]},{emoji:"👌🏻",keywords:["okay","hand","gesture","perfect"]},{emoji:"✌🏻",keywords:["victory","peace","hand","gesture"]},{emoji:"🤞🏻",keywords:["crossed fingers","luck","hand","gesture"]},{emoji:"🖐🏻",keywords:["raised hand","hi","hand","gesture"]},{emoji:"🤚🏻",keywords:["raised back hand","hi","hand","gesture"]},{emoji:"🖖🏻",keywords:["vulcan salute","hand","gesture","Spock"]},{emoji:"👋🏻",keywords:["waving hand","hello","goodbye","gesture"]},{emoji:"👏🏻",keywords:["clapping hands","applause","gesture"]},{emoji:"🙌🏻",keywords:["raising hands","praise","gesture"]},{emoji:"👐🏻",keywords:["open hands","gesture","offering"]},{emoji:"🤲🏻",keywords:["palms up together","offering","asking"]},{emoji:"🤝🏻",keywords:["handshake","agreement","partnership","gesture"]},{emoji:"🙏🏻",keywords:["folded hands","prayer","thanks","gesture"]},{emoji:"✋🏻",keywords:["raised hand","stop","gesture"]},{emoji:"➡️",keywords:["right arrow","direction","next"]},{emoji:"⬅️",keywords:["left arrow","direction","previous"]},{emoji:"⬆️",keywords:["up arrow","direction","above"]},{emoji:"⬇️",keywords:["down arrow","direction","below"]},{emoji:"↔️",keywords:["left-right arrow","direction"]},{emoji:"↕️",keywords:["up-down arrow","direction"]},{emoji:"🔼",keywords:["up triangle","arrow","direction"]},{emoji:"🔽",keywords:["down triangle","arrow","direction"]},{emoji:"🔻",keywords:["red down triangle","arrow","direction"]},{emoji:"🔺",keywords:["red up triangle","arrow","direction"]},{emoji:"⚫",keywords:["black circle","bullet","point"]},{emoji:"🔴",keywords:["red circle","bullet","point"]},{emoji:"🔵",keywords:["blue circle","bullet","point"]},{emoji:"🟢",keywords:["green circle","bullet","point"]},{emoji:"🟡",keywords:["yellow circle","bullet","point"]},{emoji:"🟣",keywords:["purple circle","bullet","point"]},{emoji:"🟠",keywords:["orange circle","bullet","point"]},{emoji:"🟤",keywords:["brown circle","bullet","point"]},{emoji:"🔸",keywords:["orange diamond","bullet"]},{emoji:"🔹",keywords:["blue diamond","bullet"]},{emoji:"♦️",keywords:["diamonds","card suit"]},{emoji:"♥️",keywords:["hearts","card suit"]},{emoji:"♣️",keywords:["clubs","card suit"]},{emoji:"♠️",keywords:["spades","card suit"]},{emoji:"🔲",keywords:["black square","bullet","point"]},{emoji:"🔳",keywords:["white square","bullet","point"]},{emoji:"▪️",keywords:["small black square","bullet"]},{emoji:"▫️",keywords:["small white square","bullet"]},{emoji:"▪",keywords:["large black square","bullet"]},{emoji:"▫",keywords:["large white square","bullet"]},{emoji:"🔘",keywords:["radio button","bullet","point"]},{emoji:"⭐",keywords:["star","highlight","point"]},{emoji:"💠",keywords:["diamond shape","point"]},{emoji:"✳️",keywords:["eight-pointed star","highlight","bullet"]},{emoji:"❇️",keywords:["sparkle","highlight","point"]},{emoji:"❤️",keywords:["love","heart","red","passion","valentine"]},{emoji:"💛",keywords:["love","heart","yellow","friendship","sunshine"]},{emoji:"💚",keywords:["love","heart","green","environment","jealousy"]},{emoji:"💙",keywords:["love","heart","blue","calm","loyalty"]},{emoji:"💜",keywords:["love","heart","purple","royalty","romance"]},{emoji:"🖤",keywords:["love","heart","black","mystery","gothic"]},{emoji:"💔",keywords:["broken","heartbreak","sad","love"]},{emoji:"❣️",keywords:["exclamation","heart","love","emotion"]},{emoji:"💕",keywords:["two hearts","love","affection","romance"]},{emoji:"💞",keywords:["revolving hearts","love","romance","affection"]},{emoji:"💓",keywords:["beating heart","love","heartbeat","emotion"]},{emoji:"💗",keywords:["growing heart","love","affection","emotion"]},{emoji:"💖",keywords:["sparkling heart","love","affection","emotion"]},{emoji:"💘",keywords:["heart with arrow","love","cupid","valentine"]},{emoji:"💝",keywords:["heart with ribbon","love","gift","present"]},{emoji:"💟",keywords:["heart decoration","love","affection","decoration"]},{emoji:"☮️",keywords:["peace","symbol","pacifism"]},{emoji:"✝️",keywords:["cross","christianity","religion","faith"]},{emoji:"☪️",keywords:["star","crescent","islam","religion"]},{emoji:"🕉️",keywords:["om","hinduism","religion","chant"]},{emoji:"☸️",keywords:["wheel of dharma","buddhism","religion","spirituality"]},{emoji:"✡️",keywords:["star of david","judaism","religion"]},{emoji:"🔯",keywords:["star","hexagram","religion","jewish"]},{emoji:"🕎",keywords:["menorah","hanukkah","religion","jewish"]},{emoji:"☯️",keywords:["yin","yang","balance","taoism"]},{emoji:"☦️",keywords:["orthodox cross","christianity","religion","faith"]},{emoji:"🛐",keywords:["place of worship","religion","faith","prayer"]},{emoji:"⛎",keywords:["ophiuchus","zodiac","astrology","sign"]},{emoji:"♈",keywords:["aries","zodiac","astrology","sign"]},{emoji:"♉",keywords:["taurus","zodiac","astrology","sign"]},{emoji:"♊",keywords:["gemini","zodiac","astrology","sign"]},{emoji:"♋",keywords:["cancer","zodiac","astrology","sign"]},{emoji:"♌",keywords:["leo","zodiac","astrology","sign"]},{emoji:"♍",keywords:["virgo","zodiac","astrology","sign"]},{emoji:"♎",keywords:["libra","zodiac","astrology","sign"]},{emoji:"♏",keywords:["scorpio","zodiac","astrology","sign"]},{emoji:"♐",keywords:["sagittarius","zodiac","astrology","sign"]},{emoji:"♑",keywords:["capricorn","zodiac","astrology","sign"]},{emoji:"♒",keywords:["aquarius","zodiac","astrology","sign"]},{emoji:"♓",keywords:["pisces","zodiac","astrology","sign"]},{emoji:"🆔",keywords:["ID","identification","label"]},{emoji:"⚛️",keywords:["atom","science","chemistry"]},{emoji:"🉑",keywords:["acceptable","kanji","japanese"]},{emoji:"☢️",keywords:["radioactive","hazard","warning"]},{emoji:"☣️",keywords:["biohazard","hazard","warning"]},{emoji:"📴",keywords:["mobile","off","phone"]},{emoji:"📳",keywords:["mobile","vibration","mode"]},{emoji:"🈶",keywords:["have","kanji","japanese"]},{emoji:"🈚",keywords:["free","not","kanji"]},{emoji:"🈷️",keywords:["monthly","kanji","japanese"]},{emoji:"🈸",keywords:["application","kanji","japanese"]},{emoji:"🈺",keywords:["open","kanji","japanese"]},{emoji:"🈯",keywords:["reserved","kanji","japanese"]},{emoji:"㊙️",keywords:["secret","kanji","japanese"]},{emoji:"㊗️",keywords:["congratulations","kanji","japanese"]},{emoji:"🈴",keywords:["passing","kanji","japanese"]},{emoji:"🈵",keywords:["full","kanji","japanese"]},{emoji:"🈹",keywords:["discount","kanji","japanese"]},{emoji:"🈲",keywords:["prohibited","kanji","japanese"]},{emoji:"🅰️",keywords:["A","blood type","letter"]},{emoji:"🅱️",keywords:["B","blood type","letter"]},{emoji:"🆎",keywords:["AB","blood type","letter"]},{emoji:"🆑",keywords:["CL","clear","letter"]},{emoji:"🅾️",keywords:["O","blood type","letter"]},{emoji:"🆘",keywords:["SOS","help","emergency"]},{emoji:"⛔",keywords:["no","entry","forbidden","stop"]},{emoji:"📛",keywords:["badge","label","name"]},{emoji:"🚫",keywords:["no","prohibited","forbidden"]},{emoji:"💯",keywords:["100","score","perfect"]},{emoji:"🔞",keywords:["18","age","restriction"]},{emoji:"🅿️",keywords:["P","parking","letter"]},{emoji:"🆓",keywords:["free","available","letter"]},{emoji:"♻️",keywords:["recycle","environment","symbol"]},{emoji:"‼️",keywords:["exclamation","mark","important"]},{emoji:"⁉️",keywords:["exclamation","question","confusion"]},{emoji:"❗",keywords:["exclamation","mark"]},{emoji:"❕",keywords:["white exclamation","mark"]},{emoji:"❓",keywords:["question","mark"]},{emoji:"❔",keywords:["white question","mark"]},{emoji:"🔅",keywords:["dim","brightness","low"]},{emoji:"🔆",keywords:["bright","brightness","high"]},{emoji:"〽️",keywords:["part alternation","mark"]},{emoji:"⚜️",keywords:["fleur-de-lis"]},{emoji:"🔱",keywords:["trident","emblem","symbol"]},{emoji:"⚠️",keywords:["warning","caution"]},{emoji:"🚸",keywords:["children","crossing","school"]},{emoji:"🔰",keywords:["beginner","japanese"]},{emoji:"♿",keywords:["wheelchair","accessible","disability"]},{emoji:"🚭",keywords:["no smoking","cigarette","prohibited"]}]};function Dw({onSelect:e}){const[t,r]=g.useState(""),n=F.useMemo(()=>Object.entries(Tw).reduce((o,[a,i])=>{const s=i.filter(l=>Array.isArray(l.keywords)).filter(l=>l.keywords.some(c=>c.toLowerCase().includes(t.toLowerCase())));return s.length>0&&(o[a]=s),o},{}),[t]);return f.jsxs("div",{className:"emoji-picker",children:[f.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:o=>r(o.target.value),className:"emoji-search"}),f.jsx("div",{className:"emoji-categories",children:Object.entries(n).map(([o,a])=>f.jsxs("div",{className:"emoji-category",children:[f.jsx("h3",{className:"emoji-category-title",children:o}),f.jsx("div",{className:"emoji-list",children:a.map((i,s)=>f.jsx("span",{onClick:()=>e(i.emoji),title:i.keywords.join(", "),className:"emoji-item",children:i.emoji},s))})]},o))})]})}function ic(e,t){const r=e.selectionStart,n=e.selectionEnd;e.setRangeText(t,r,n,"end")}function kt({message:e,onChange:t,onClick:r,minLength:n=2,maxLength:o=1500,placeHolder:a}){const[i,s]=F.useState(e),[l,c]=F.useState(!1),u=F.useRef(null);g.useEffect(()=>{u.current&&(u.current.style.height="auto",u.current.style.height=`${u.current.scrollHeight+2}px`)},[i]);const d=y=>{s(y.target.value),t(y.target.value)},p=y=>{s(y.target.value),t(y.target.value)},m=y=>{const C=u.current;let w="";switch(y){case"bold":w=`*${C.value.substring(C.selectionStart,C.selectionEnd)}*`;break;case"italic":w=`_${C.value.substring(C.selectionStart,C.selectionEnd)}_`;break;case"strikethrough":w=`~${C.value.substring(C.selectionStart,C.selectionEnd)}~`;break;case"bullet":w=`• ${C.value.substring(C.selectionStart,C.selectionEnd)}`;break;case"numbered":w=`
1. ${C.value.substring(C.selectionStart,C.selectionEnd)}`;break}ic(C,w),d({target:C})},v=y=>{const C=u.current;ic(C,y),d({target:C})};return f.jsxs("div",{className:"message-editor",title:"Message",children:[f.jsxs("div",{className:"toolbar",children:[f.jsx("button",{title:"Bold","data-format":"bold",onClick:()=>m("bold"),children:"B"}),f.jsx("button",{title:"Italic","data-format":"italic",onClick:()=>m("italic"),children:"I"}),f.jsx("button",{title:"Strikethrough","data-format":"strikethrough",onClick:()=>m("strikethrough"),children:"S"}),f.jsx("button",{title:"Bullet","data-format":"bullet",onClick:()=>m("bullet"),children:"⚫"}),f.jsx("button",{title:"Numbered","data-format":"numbered",onClick:()=>m("numbered"),children:"🔢"}),f.jsx("button",{title:"Smiley","data-format":"smiley",onClick:()=>c(y=>!y),children:"😀"})]}),f.jsx("textarea",{ref:u,value:i,onChange:d,placeholder:a,onClick:r,className:"nodrag rounded-md",onBlur:p,minLength:n,maxLength:o}),l&&f.jsx(Dw,{onSelect:v})]})}const Pw=({id:e,data:t})=>{var P,x;const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i}=t,[s]=yu(),l=on(h=>h.botsList),c=on(h=>h.organizationId),[u,d]=g.useState([]),[p,m]=g.useState({}),[v,y]=g.useState({}),C=g.useRef({container:!1,callAccepted:!1,callRejected:!1}),w=()=>{a(i.map(h=>({...h,selected:!1})))},k=(h,b)=>{var S;m(j=>({...j,[h]:b})),(S=C.current[h])==null||S.focus()},I=(h,b)=>{delete r.data.errors,y({});const S={...r.data,[h]:b};o(r.id,S)},N=h=>{delete r.data.errors,h.target.value?v.callConnectId&&y(S=>{const j={...S};return delete j.callConnectId,j}):y(S=>({...S,callConnectId:"Call Connect Name is Mandatory"}));const b=h.target.value;I("callConnectId",b)},T=g.useCallback(h=>{C.current.container&&!C.current.container.contains(h.target)?m(b=>({...b,successMessage:!1,failureMessage:!1})):C.current.callAccepted&&!C.current.callAccepted.contains(h.target)?m(b=>({...b,callAccepted:!1})):C.current.callRejected&&!C.current.callRejected.contains(h.target)&&m(b=>({...b,callRejected:!1}))},[m]);return g.useEffect(()=>(document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)),[T]),g.useEffect(()=>{var S;const h=l.find(j=>j._id===s),b=h?(S=h.integrations)==null?void 0:S.filter(j=>j.channelId==="callConnect_123"):[];if(b&&b.length>0){const j=b.map(A=>({name:A.serviceDetails.name,_id:A._id}));d(j)}else qp({botId:s,organizationId:c})},[s,l,c]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Call Connect Node"}),f.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsxs("select",{title:"callConnectId",value:r.data.callConnectId,onClick:w,onChange:N,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Call Connect Name"}),u.map((h,b)=>f.jsx("option",{value:h._id,children:h.name},`${h._id}-${b}`))]}),r.data.errors&&((P=Object.keys(r.data.errors))==null?void 0:P.length)>0&&r.data.errors.callConnectId&&f.jsx("small",{className:"text-red-500",children:r.data.errors.callConnectId})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx(kt,{maxLength:500,message:r.data.message,onChange:h=>I("message",h)}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{children:[f.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:f.jsxs("div",{className:"col-span-10 flex items-center ",children:[f.jsx(So,{onClick:()=>k("callAccepted",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),f.jsx("input",{type:"text",ref:h=>C.current.callAccepted=h,readOnly:!p.callAccepted,value:r.data.callAccepted,placeholder:"Enter call accepted massage",autoFocus:p.callAccepted,onClick:p.callAccepted?void 0:w,onChange:h=>I("callAccepted",h.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})]})}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.callAccepted})]}),f.jsxs("div",{ref:h=>C.current.container=h,children:[f.jsxs("div",{className:"space-y-2 py-2 px-2 min-w-36",children:[p.successMessage?f.jsx(kt,{maxLength:500,message:r.data.successMessage,onChange:h=>I("successMessage",h)}):f.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[f.jsx("span",{children:r.data.successMessage||"Enter your success message"}),f.jsx(So,{onClick:()=>k("successMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.successMessage})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[p.failureMessage?f.jsx(kt,{maxLength:500,message:r.data.failureMessage,onChange:h=>I("failureMessage",h)}):f.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[f.jsx("span",{children:r.data.failureMessage||"Enter your failure message"}),f.jsx(So,{onClick:()=>k("failureMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.failureMessage})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:f.jsxs("div",{className:"col-span-10 flex items-center ",children:[f.jsx(So,{onClick:()=>k("callRejected",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),f.jsx("input",{type:"text",readOnly:!p.callRejected,placeholder:"Enter call rejected massage",ref:h=>C.current.callRejected=h,value:r.data.callRejected,onClick:p.callRejected?void 0:w,onChange:h=>I("callRejected",h.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700  rounded capitalize"})]})}),r.data.errors&&f.jsx("small",{className:"text-red-500",children:r.data.errors.callRejected})]})]})]}),f.jsx(Me,{id:"target",type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{id:"source",type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Mw=g.memo(Pw),So=({onClick:e,className:t=""})=>f.jsx("svg",{onClick:e,className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})});function qn(e){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}function Aw(e,t){if(qn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rw(e){var t=Aw(e,"string");return qn(t)=="symbol"?t:t+""}function Ow(e,t,r){return(t=Rw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sc(Object(r),!0).forEach(function(n){Ow(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var cc=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),uc=function(){return Math.random().toString(36).substring(7).split("").join(".")},dc={INIT:"@@redux/INIT"+uc(),REPLACE:"@@redux/REPLACE"+uc()};function Lw(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function nf(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mt(1));return r(nf)(e,t)}if(typeof e!="function")throw new Error(mt(2));var o=e,a=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function u(){if(l)throw new Error(mt(3));return a}function d(y){if(typeof y!="function")throw new Error(mt(4));if(l)throw new Error(mt(5));var C=!0;return c(),s.push(y),function(){if(C){if(l)throw new Error(mt(6));C=!1,c();var k=s.indexOf(y);s.splice(k,1),i=null}}}function p(y){if(!Lw(y))throw new Error(mt(7));if(typeof y.type>"u")throw new Error(mt(8));if(l)throw new Error(mt(9));try{l=!0,a=o(a,y)}finally{l=!1}for(var C=i=s,w=0;w<C.length;w++){var k=C[w];k()}return y}function m(y){if(typeof y!="function")throw new Error(mt(10));o=y,p({type:dc.REPLACE})}function v(){var y,C=d;return y={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(mt(11));function I(){k.next&&k.next(u())}I();var N=C(I);return{unsubscribe:N}}},y[cc]=function(){return this},y}return p({type:dc.INIT}),n={dispatch:p,subscribe:d,getState:u,replaceReducer:m},n[cc]=v,n}function fc(e,t){return function(){return t(e.apply(this,arguments))}}function pc(e,t){if(typeof e=="function")return fc(e,t);if(typeof e!="object"||e===null)throw new Error(mt(16));var r={};for(var n in e){var o=e[n];typeof o=="function"&&(r[n]=fc(o,t))}return r}function of(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}function Fw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var o=n.apply(void 0,arguments),a=function(){throw new Error(mt(15))},i={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(l){return l(i)});return a=of.apply(void 0,s)(o.dispatch),lc(lc({},o),{},{dispatch:a})}}}var af=F.createContext(null);function $w(e){e()}var sf=$w,Bw=function(t){return sf=t},_w=function(){return sf};function zw(){var e=_w(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var o=t;o;)o.callback(),o=o.next})},get:function(){for(var o=[],a=t;a;)o.push(a),a=a.next;return o},subscribe:function(o){var a=!0,i=r={callback:o,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var mc={notify:function(){},get:function(){return[]}};function lf(e,t){var r,n=mc;function o(d){return l(),n.subscribe(d)}function a(){n.notify()}function i(){u.onStateChange&&u.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=zw())}function c(){r&&(r(),r=void 0,n.clear(),n=mc)}var u={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return n}};return u}var cf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect;function Hw(e){var t=e.store,r=e.context,n=e.children,o=g.useMemo(function(){var s=lf(t);return{store:t,subscription:s}},[t]),a=g.useMemo(function(){return t.getState()},[t]);cf(function(){var s=o.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[o,a]);var i=r||af;return F.createElement(i.Provider,{value:o},n)}var Ua={exports:{}},Oe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc;function Vw(){if(gc)return Oe;gc=1;var e=60103,t=60106,r=60107,n=60108,o=60114,a=60109,i=60110,s=60112,l=60113,c=60120,u=60115,d=60116,p=60121,m=60122,v=60117,y=60129,C=60131;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;e=w("react.element"),t=w("react.portal"),r=w("react.fragment"),n=w("react.strict_mode"),o=w("react.profiler"),a=w("react.provider"),i=w("react.context"),s=w("react.forward_ref"),l=w("react.suspense"),c=w("react.suspense_list"),u=w("react.memo"),d=w("react.lazy"),p=w("react.block"),m=w("react.server.block"),v=w("react.fundamental"),y=w("react.debug_trace_mode"),C=w("react.legacy_hidden")}function k(M){if(typeof M=="object"&&M!==null){var E=M.$$typeof;switch(E){case e:switch(M=M.type,M){case r:case o:case n:case l:case c:return M;default:switch(M=M&&M.$$typeof,M){case i:case s:case d:case u:case a:return M;default:return E}}case t:return E}}}var I=a,N=e,T=s,P=r,x=d,h=u,b=t,S=o,j=n,A=l;return Oe.ContextConsumer=i,Oe.ContextProvider=I,Oe.Element=N,Oe.ForwardRef=T,Oe.Fragment=P,Oe.Lazy=x,Oe.Memo=h,Oe.Portal=b,Oe.Profiler=S,Oe.StrictMode=j,Oe.Suspense=A,Oe.isAsyncMode=function(){return!1},Oe.isConcurrentMode=function(){return!1},Oe.isContextConsumer=function(M){return k(M)===i},Oe.isContextProvider=function(M){return k(M)===a},Oe.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Oe.isForwardRef=function(M){return k(M)===s},Oe.isFragment=function(M){return k(M)===r},Oe.isLazy=function(M){return k(M)===d},Oe.isMemo=function(M){return k(M)===u},Oe.isPortal=function(M){return k(M)===t},Oe.isProfiler=function(M){return k(M)===o},Oe.isStrictMode=function(M){return k(M)===n},Oe.isSuspense=function(M){return k(M)===l},Oe.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===o||M===y||M===n||M===l||M===c||M===C||typeof M=="object"&&M!==null&&(M.$$typeof===d||M.$$typeof===u||M.$$typeof===a||M.$$typeof===i||M.$$typeof===s||M.$$typeof===v||M.$$typeof===p||M[0]===m)},Oe.typeOf=k,Oe}var hc;function Gw(){return hc||(hc=1,Ua.exports=Vw()),Ua.exports}var Uw=Gw(),Ww=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],qw=["reactReduxForwardedRef"],Yw=[],Xw=[null,null];function Kw(e,t){var r=e[1];return[t.payload,r+1]}function vc(e,t,r){cf(function(){return e.apply(void 0,t)},r)}function Zw(e,t,r,n,o,a,i){e.current=n,t.current=o,r.current=!1,a.current&&(a.current=null,i())}function Qw(e,t,r,n,o,a,i,s,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var y=t.getState(),C,w;try{C=n(y,o.current)}catch(k){w=k,d=k}w||(d=null),C===a.current?i.current||l():(a.current=C,s.current=C,i.current=!0,c({type:"STORE_UPDATED",payload:{error:w}}))}};r.onStateChange=p,r.trySubscribe(),p();var m=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return m}}var Jw=function(){return[null,0]};function ex(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,o=n===void 0?function(I){return"ConnectAdvanced("+I+")"}:n,a=r.methodName,i=a===void 0?"connectAdvanced":a,s=r.renderCountProp,l=s===void 0?void 0:s,c=r.shouldHandleStateChanges,u=c===void 0?!0:c,d=r.storeKey,p=d===void 0?"store":d;r.withRef;var m=r.forwardRef,v=m===void 0?!1:m,y=r.context,C=y===void 0?af:y,w=Ln(r,Ww),k=C;return function(N){var T=N.displayName||N.name||"Component",P=o(T),x=be({},w,{getDisplayName:o,methodName:i,renderCountProp:l,shouldHandleStateChanges:u,storeKey:p,displayName:P,wrappedComponentName:T,WrappedComponent:N}),h=w.pure;function b(E){return e(E.dispatch,x)}var S=h?g.useMemo:function(E){return E()};function j(E){var D=g.useMemo(function(){var Q=E.reactReduxForwardedRef,Ee=Ln(E,qw);return[E.context,Q,Ee]},[E]),O=D[0],B=D[1],L=D[2],R=g.useMemo(function(){return O&&O.Consumer&&Uw.isContextConsumer(F.createElement(O.Consumer,null))?O:k},[O,k]),$=g.useContext(R),V=!!E.store&&!!E.store.getState&&!!E.store.dispatch;$&&$.store;var H=V?E.store:$.store,G=g.useMemo(function(){return b(H)},[H]),q=g.useMemo(function(){if(!u)return Xw;var Q=lf(H,V?null:$.subscription),Ee=Q.notifyNestedSubs.bind(Q);return[Q,Ee]},[H,V,$]),z=q[0],_=q[1],X=g.useMemo(function(){return V?$:be({},$,{subscription:z})},[V,$,z]),K=g.useReducer(Kw,Yw,Jw),ae=K[0],W=ae[0],se=K[1];if(W&&W.error)throw W.error;var we=g.useRef(),he=g.useRef(L),re=g.useRef(),ke=g.useRef(!1),Ie=S(function(){return re.current&&L===he.current?re.current:G(H.getState(),L)},[H,W,L]);vc(Zw,[he,we,ke,L,Ie,re,_]),vc(Qw,[u,H,z,G,he,we,ke,re,_,se],[H,z,G]);var xe=g.useMemo(function(){return F.createElement(N,be({},Ie,{ref:B}))},[B,N,Ie]),le=g.useMemo(function(){return u?F.createElement(R.Provider,{value:X},xe):xe},[R,xe,X]);return le}var A=h?F.memo(j):j;if(A.WrappedComponent=N,A.displayName=j.displayName=P,v){var M=F.forwardRef(function(D,O){return F.createElement(A,be({},D,{reactReduxForwardedRef:O}))});return M.displayName=P,M.WrappedComponent=N,Js(M,N)}return Js(A,N)}}function yc(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Wa(e,t){if(yc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!yc(e[r[o]],t[r[o]]))return!1;return!0}function tx(e,t){var r={},n=function(i){var s=e[i];typeof s=="function"&&(r[i]=function(){return t(s.apply(void 0,arguments))})};for(var o in e)n(o);return r}function ks(e){return function(r,n){var o=e(r,n);function a(){return o}return a.dependsOnOwnProps=!1,a}}function bc(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function uf(e,t){return function(n,o){o.displayName;var a=function(s,l){return a.dependsOnOwnProps?a.mapToProps(s,l):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,l){a.mapToProps=e,a.dependsOnOwnProps=bc(e);var c=a(s,l);return typeof c=="function"&&(a.mapToProps=c,a.dependsOnOwnProps=bc(c),c=a(s,l)),c},a}}function rx(e){return typeof e=="function"?uf(e):void 0}function nx(e){return e?void 0:ks(function(t){return{dispatch:t}})}function ox(e){return e&&typeof e=="object"?ks(function(t){return tx(e,t)}):void 0}const ax=[rx,nx,ox];function ix(e){return typeof e=="function"?uf(e):void 0}function sx(e){return e?void 0:ks(function(){return{}})}const lx=[ix,sx];function cx(e,t,r){return be({},r,e,t)}function ux(e){return function(r,n){n.displayName;var o=n.pure,a=n.areMergedPropsEqual,i=!1,s;return function(c,u,d){var p=e(c,u,d);return i?(!o||!a(p,s))&&(s=p):(i=!0,s=p),s}}}function dx(e){return typeof e=="function"?ux(e):void 0}function fx(e){return e?void 0:function(){return cx}}const px=[dx,fx];var mx=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function gx(e,t,r,n){return function(a,i){return r(e(a,i),t(n,i),i)}}function hx(e,t,r,n,o){var a=o.areStatesEqual,i=o.areOwnPropsEqual,s=o.areStatePropsEqual,l=!1,c,u,d,p,m;function v(I,N){return c=I,u=N,d=e(c,u),p=t(n,u),m=r(d,p,u),l=!0,m}function y(){return d=e(c,u),t.dependsOnOwnProps&&(p=t(n,u)),m=r(d,p,u),m}function C(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(p=t(n,u)),m=r(d,p,u),m}function w(){var I=e(c,u),N=!s(I,d);return d=I,N&&(m=r(d,p,u)),m}function k(I,N){var T=!i(N,u),P=!a(I,c,N,u);return c=I,u=N,T&&P?y():T?C():P?w():m}return function(N,T){return l?k(N,T):v(N,T)}}function vx(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,a=Ln(t,mx),i=r(e,a),s=n(e,a),l=o(e,a),c=a.pure?hx:gx;return c(i,s,l,e,a)}var yx=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function qa(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(a,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function bx(e,t){return e===t}function wx(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?ex:r,o=t.mapStateToPropsFactories,a=o===void 0?lx:o,i=t.mapDispatchToPropsFactories,s=i===void 0?ax:i,l=t.mergePropsFactories,c=l===void 0?px:l,u=t.selectorFactory,d=u===void 0?vx:u;return function(m,v,y,C){C===void 0&&(C={});var w=C,k=w.pure,I=k===void 0?!0:k,N=w.areStatesEqual,T=N===void 0?bx:N,P=w.areOwnPropsEqual,x=P===void 0?Wa:P,h=w.areStatePropsEqual,b=h===void 0?Wa:h,S=w.areMergedPropsEqual,j=S===void 0?Wa:S,A=Ln(w,yx),M=qa(m,a,"mapStateToProps"),E=qa(v,s,"mapDispatchToProps"),D=qa(y,c,"mergeProps");return n(d,be({methodName:"connect",getDisplayName:function(B){return"Connect("+B+")"},shouldHandleStateChanges:!!m,initMapStateToProps:M,initMapDispatchToProps:E,initMergeProps:D,pure:I,areStatesEqual:T,areOwnPropsEqual:x,areStatePropsEqual:b,areMergedPropsEqual:j},A))}}const df=wx();Bw(gu.unstable_batchedUpdates);function xx(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ff(e,t){var r=g.useState(function(){return{inputs:t,result:e()}})[0],n=g.useRef(!0),o=g.useRef(r),a=n.current||!!(t&&o.current.inputs&&xx(t,o.current.inputs)),i=a?o.current:{inputs:t,result:e()};return g.useEffect(function(){n.current=!1,o.current=i},[i]),i.result}function Cx(e,t){return ff(function(){return e},t)}var De=ff,me=Cx,Sx="Invariant failed";function Ex(e,t){throw new Error(Sx)}var Gt=function(t){var r=t.top,n=t.right,o=t.bottom,a=t.left,i=n-a,s=o-r,l={top:r,right:n,bottom:o,left:a,width:i,height:s,x:a,y:r,center:{x:(n+a)/2,y:(o+r)/2}};return l},Ns=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},wc=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},jx=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ya={top:0,right:0,bottom:0,left:0},Is=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?Ya:n,a=t.border,i=a===void 0?Ya:a,s=t.padding,l=s===void 0?Ya:s,c=Gt(Ns(r,o)),u=Gt(wc(r,i)),d=Gt(wc(u,l));return{marginBox:c,borderBox:Gt(r),paddingBox:u,contentBox:d,margin:o,border:i,padding:l}},Rt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&Ex(),o},kx=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Xo=function(t,r){var n=t.borderBox,o=t.border,a=t.margin,i=t.padding,s=jx(n,r);return Is({borderBox:s,border:o,margin:a,padding:i})},Ko=function(t,r){return r===void 0&&(r=kx()),Xo(t,r)},pf=function(t,r){var n={top:Rt(r.marginTop),right:Rt(r.marginRight),bottom:Rt(r.marginBottom),left:Rt(r.marginLeft)},o={top:Rt(r.paddingTop),right:Rt(r.paddingRight),bottom:Rt(r.paddingBottom),left:Rt(r.paddingLeft)},a={top:Rt(r.borderTopWidth),right:Rt(r.borderRightWidth),bottom:Rt(r.borderBottomWidth),left:Rt(r.borderLeftWidth)};return Is({borderBox:t,margin:n,padding:o,border:a})},mf=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return pf(r,n)},xc=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Nx(e,t){return!!(e===t||xc(e)&&xc(t))}function Ix(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Nx(e[r],t[r]))return!1;return!0}function We(e,t){t===void 0&&(t=Ix);var r,n=[],o,a=!1;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a&&r===this&&t(s,n)||(o=e.apply(this,s),a=!0,r=this,n=s),o}return i}var Yn=function(t){var r=[],n=null,o=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function gf(e,t){}gf.bind(null,"warn");gf.bind(null,"error");function Cr(){}function Tx(e,t){return be({},e,{},t)}function $t(e,t,r){var n=t.map(function(o){var a=Tx(r,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){n.forEach(function(a){a()})}}var Dx="Invariant failed";function Zo(e){this.message=e}Zo.prototype.toString=function(){return this.message};function ee(e,t){throw new Zo(Dx)}var Px=function(e){Wi(t,e);function t(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=Cr,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var c=s.error;c instanceof Zo&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=$t(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(o){if(o instanceof Zo){this.setState({});return}throw o},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(F.Component),Mx=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Qo=function(t){return t+1},Ax=function(t){return`
  You have lifted an item in position `+Qo(t.source.index)+`
`},hf=function(t,r){var n=t.droppableId===r.droppableId,o=Qo(t.index),a=Qo(r.index);return n?`
      You have moved the item from position `+o+`
      to position `+a+`
    `:`
    You have moved the item from position `+o+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},vf=function(t,r,n){var o=r.droppableId===n.droppableId;return o?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Rx=function(t){var r=t.destination;if(r)return hf(t.source,r);var n=t.combine;return n?vf(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Cc=function(t){return`
  The item has returned to its starting position
  of `+Qo(t.index)+`
`},Ox=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Cc(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+hf(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+vf(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Cc(t.source)+`
  `},Oo={dragHandleUsageInstructions:Mx,onDragStart:Ax,onDragUpdate:Rx,onDragEnd:Ox},qe={x:0,y:0},Qe=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Et=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Sr=function(t,r){return t.x===r.x&&t.y===r.y},gn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},zr=function(t,r,n){var o;return n===void 0&&(n=0),o={},o[t]=r,o[t==="x"?"y":"x"]=n,o},Xn=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Sc=function(t,r){return Math.min.apply(Math,r.map(function(n){return Xn(t,n)}))},yf=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Lx=function(e,t){var r=Gt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},so=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ec=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Fx={top:0,right:0,bottom:0,left:0},$x=function(t,r){return r?so(t,r.scroll.diff.displacement):t},Bx=function(t,r,n){if(n&&n.increasedBy){var o;return be({},t,(o={},o[r.end]=t[r.end]+n.increasedBy[r.line],o))}return t},_x=function(t,r){return r&&r.shouldClipSubject?Lx(r.pageMarginBox,t):Gt(t)},cn=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,a=$x(t.marginBox,o),i=Bx(a,n,r),s=_x(i,o);return{page:t,withPlaceholder:r,active:s}},Ts=function(e,t){e.frame||ee();var r=e.frame,n=Et(t,r.scroll.initial),o=gn(n),a=be({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}}),i=cn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),s=be({},e,{frame:a,subject:i});return s};function Jo(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Ds(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function kr(e,t){if(e.find)return e.find(t);var r=Ds(e,t);if(r!==-1)return e[r]}function bf(e){return Array.prototype.slice.call(e)}var wf=We(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),xf=We(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ga=We(function(e){return Jo(e)}),zx=We(function(e){return Jo(e)}),hn=We(function(e,t){var r=zx(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,o){return n.descriptor.index-o.descriptor.index});return r});function Ps(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ha(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var va=We(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Hx=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var i=Ps(a);if(!i)return null;function s(y){var C={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return be({},a,{at:C})}var l=a.displaced.all,c=l.length?l[0]:null;if(t)return c?s(c):null;var u=va(r,o);if(!c){if(!u.length)return null;var d=u[u.length-1];return s(d.descriptor.id)}var p=Ds(u,function(y){return y.descriptor.id===c});p===-1&&ee();var m=p-1;if(m<0)return null;var v=u[m];return s(v.descriptor.id)},vn=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Cf={point:qe,value:0},Kn={invisible:{},visible:{},all:[]},Vx={displaced:Kn,displacedBy:Cf,at:null},Bt=function(e,t){return function(r){return e<=r&&r<=t}},Sf=function(e){var t=Bt(e.top,e.bottom),r=Bt(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(o)return!0;var a=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),s=a&&i;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,u=l&&c;if(u)return!0;var d=l&&i||c&&a;return d}},Gx=function(e){var t=Bt(e.top,e.bottom),r=Bt(e.left,e.right);return function(n){var o=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return o}},Ms={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ef={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Ux=function(e){return function(t){var r=Bt(t.top,t.bottom),n=Bt(t.left,t.right);return function(o){return e===Ms?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)}}},Wx=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:qe;return so(t,n)},qx=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Yx=function(t,r,n){return n(r)(t)},As=function(t){var r=t.target,n=t.destination,o=t.viewport,a=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,s=a?Wx(r,n):r;return qx(s,n,i)&&Yx(s,o,i)},Xx=function(t){return As(be({},t,{isVisibleThroughFrameFn:Sf}))},jf=function(t){return As(be({},t,{isVisibleThroughFrameFn:Gx}))},Kx=function(t){return As(be({},t,{isVisibleThroughFrameFn:Ux(t.destination.axis)}))},Zx=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var o=r.invisible,a=r.visible;if(o[t])return!1;var i=a[t];return i?i.shouldAnimate:!0};function Qx(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Gt(Ns(r,n))}function Zn(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,a=e.forceShouldAnimate,i=e.last;return t.reduce(function(l,c){var u=Qx(c,n),d=c.descriptor.id;l.all.push(d);var p=Xx({target:u,destination:r,viewport:o,withDroppableDisplacement:!0});if(!p)return l.invisible[c.descriptor.id]=!0,l;var m=Zx(d,i,a),v={draggableId:d,shouldAnimate:m};return l.visible[d]=v,l},{all:[],visible:{},invisible:{}})}function Jx(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function jc(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,a=Jx(t,{inHomeList:r});return{displaced:Kn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:a}}}}function ea(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,a=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,c=vn(t,n);if(s==null)return jc({insideDestination:r,inHomeList:c,displacedBy:a,destination:n});var u=kr(r,function(y){return y.descriptor.index===s});if(!u)return jc({insideDestination:r,inHomeList:c,displacedBy:a,destination:n});var d=va(t,r),p=r.indexOf(u),m=d.slice(p),v=Zn({afterDragging:m,destination:n,displacedBy:a,last:i,viewport:o.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function jr(e,t){return!!t.effected[e]}var e1=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var i=o.draggableId,s=n[i],l=s.descriptor.index,c=jr(i,a);return c?t?l:l-1:t?l+1:l},t1=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var a=o.index,i=t?a+1:a-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=r?l:l+1;return i<s||i>c?null:i},r1=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,a=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||ee(),u.type==="REORDER"){var d=t1({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:i});return d==null?null:ea({draggable:n,insideDestination:i,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=e1({isMovingForward:t,destination:a,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return p==null?null:ea({draggable:n,insideDestination:i,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},n1=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return jr(n,r)?a?qe:gn(o.point):a?o.point:qe},o1=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=ha(r);o||ee();var a=o.draggableId,i=n[a].page.borderBox.center,s=n1({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Qe(i,s)},kf=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},a1=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Rs=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},kc=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return zr(r.line,n.marginBox[r.end]+kf(r,o),Rs(r,n.marginBox,o))},Nc=function(t){var r=t.axis,n=t.moveRelativeTo,o=t.isMoving;return zr(r.line,n.marginBox[r.start]-a1(r,o),Rs(r,n.marginBox,o))},i1=function(t){var r=t.axis,n=t.moveInto,o=t.isMoving;return zr(r.line,n.contentBox[r.start]+kf(r,o),Rs(r,n.contentBox,o))},s1=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,a=e.afterCritical,i=hn(o.descriptor.id,n),s=r.page,l=o.axis;if(!i.length)return i1({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=n[d];if(jr(d,a))return Nc({axis:l,moveRelativeTo:p.page,isMoving:s});var m=Xo(p.page,u.point);return Nc({axis:l,moveRelativeTo:m,isMoving:s})}var v=i[i.length-1];if(v.descriptor.id===r.descriptor.id)return s.borderBox.center;if(jr(v.descriptor.id,a)){var y=Xo(v.page,gn(a.displacedBy.point));return kc({axis:l,moveRelativeTo:y,isMoving:s})}return kc({axis:l,moveRelativeTo:v.page,isMoving:s})},Ai=function(e,t){var r=e.frame;return r?Qe(t,r.scroll.diff.displacement):t},l1=function(t){var r=t.impact,n=t.draggable,o=t.droppable,a=t.draggables,i=t.afterCritical,s=n.page.borderBox.center,l=r.at;return!o||!l?s:l.type==="REORDER"?s1({impact:r,draggable:n,draggables:a,droppable:o,afterCritical:i}):o1({impact:r,draggables:a,afterCritical:i})},ya=function(e){var t=l1(e),r=e.droppable,n=r?Ai(r,t):t;return n},Nf=function(e,t){var r=Et(t,e.scroll.initial),n=gn(r),o=Gt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:o,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function Ic(e,t){return e.map(function(r){return t[r]})}function c1(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var u1=function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,a=e.maxScrollChange,i=Nf(r,Qe(r.scroll.current,a)),s=n.frame?Ts(n,Qe(n.frame.scroll.current,a)):n,l=t.displaced,c=Zn({afterDragging:Ic(l.all,o),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),u=Zn({afterDragging:Ic(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},p={},m=[l,c,u];l.all.forEach(function(y){var C=c1(y,m);if(C){p[y]=C;return}d[y]=!0});var v=be({},t,{displaced:{all:l.all,invisible:d,visible:p}});return v},d1=function(e,t){return Qe(e.scroll.diff.displacement,t)},Os=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,o=d1(n,t),a=Et(o,r.page.borderBox.center);return Qe(r.client.borderBox.center,a)},If=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=i===void 0?!1:i,l=Et(n,t.page.borderBox.center),c=so(t.page.borderBox,l),u={target:c,destination:r,withDroppableDisplacement:a,viewport:o};return s?Kx(u):jf(u)},f1=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,a=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var u=hn(n.descriptor.id,o),d=vn(r,n),p=Hx({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:a})||r1({isMovingForward:t,isInHomeList:d,draggable:r,draggables:o,destination:n,insideDestination:u,previousImpact:a,viewport:i,afterCritical:c});if(!p)return null;var m=ya({impact:p,draggable:r,droppable:n,draggables:o,afterCritical:c}),v=If({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var y=Os({pageBorderBoxCenter:m,draggable:r,viewport:i});return{clientSelection:y,impact:p,scrollJumpRequest:null}}var C=Et(m,s),w=u1({impact:p,viewport:i,destination:n,draggables:o,maxScrollChange:C});return{clientSelection:l,impact:w,scrollJumpRequest:C}},at=function(t){var r=t.subject.active;return r||ee(),r},p1=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var s=n.axis,l=Bt(i[s.start],i[s.end]),c=ga(o).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return Sf(a.frame)(at(d))}).filter(function(d){var p=at(d);return t?i[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<i[s.crossAxisStart]}).filter(function(d){var p=at(d),m=Bt(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||m(i[s.start])||m(i[s.end])}).sort(function(d,p){var m=at(d)[s.crossAxisStart],v=at(p)[s.crossAxisStart];return t?m-v:v-m}).filter(function(d,p,m){return at(d)[s.crossAxisStart]===at(m[0])[s.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var u=c.filter(function(d){var p=Bt(at(d)[s.start],at(d)[s.end]);return p(r[s.line])});return u.length===1?u[0]:u.length>1?u.sort(function(d,p){return at(d)[s.start]-at(p)[s.start]})[0]:c.sort(function(d,p){var m=Sc(r,Ec(at(d))),v=Sc(r,Ec(at(p)));return m!==v?m-v:at(d)[s.start]-at(p)[s.start]})[0]},Tc=function(t,r){var n=t.page.borderBox.center;return jr(t.descriptor.id,r)?Et(n,r.displacedBy.point):n},m1=function(t,r){var n=t.page.borderBox;return jr(t.descriptor.id,r)?so(n,gn(r.displacedBy.point)):n},g1=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,a=e.afterCritical,i=o.filter(function(s){return jf({target:m1(s,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var c=Xn(t,Ai(n,Tc(s,a))),u=Xn(t,Ai(n,Tc(l,a)));return c<u?-1:u<c?1:s.descriptor.index-l.descriptor.index});return i[0]||null},lo=We(function(t,r){var n=r[t.line];return{value:n,point:zr(t.line,n)}}),h1=function(t,r,n){var o=t.axis;if(t.descriptor.mode==="virtual")return zr(o.line,r[o.line]);var a=t.subject.page.contentBox[o.size],i=hn(t.descriptor.id,n),s=i.reduce(function(u,d){return u+d.client.marginBox[o.size]},0),l=s+r[o.line],c=l-a;return c<=0?null:zr(o.line,c)},Tf=function(t,r){return be({},t,{scroll:be({},t.scroll,{max:r})})},Df=function(t,r,n){var o=t.frame;vn(r,t)&&ee(),t.subject.withPlaceholder&&ee();var a=lo(t.axis,r.displaceBy).point,i=h1(t,a,n),s={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!o){var l=cn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return be({},t,{subject:l})}var c=i?Qe(o.scroll.max,i):o.scroll.max,u=Tf(o,c),d=cn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:u});return be({},t,{subject:d,frame:u})},v1=function(t){var r=t.subject.withPlaceholder;r||ee();var n=t.frame;if(!n){var o=cn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return be({},t,{subject:o})}var a=r.oldFrameMaxScroll;a||ee();var i=Tf(n,a),s=cn({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return be({},t,{subject:s,frame:i})},y1=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,a=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:Kn,displacedBy:Cf,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},u=ya({impact:c,draggable:o,droppable:i,draggables:a,afterCritical:l}),d=vn(o,i)?i:Df(i,o,a),p=If({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?c:null}var m=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],v=function(){var C=r.descriptor.index;return r.descriptor.id===o.descriptor.id||m?C:C+1}(),y=lo(i.axis,o.displaceBy);return ea({draggable:o,insideDestination:n,destination:i,viewport:s,displacedBy:y,last:Kn,index:v})},b1=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,a=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,c=p1({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:i,viewport:s});if(!c)return null;var u=hn(c.descriptor.id,a),d=g1({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:u,afterCritical:l}),p=y1({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:a,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var m=ya({impact:p,draggable:n,droppable:c,draggables:a,afterCritical:l}),v=Os({pageBorderBoxCenter:m,draggable:n,viewport:s});return{clientSelection:v,impact:p,scrollJumpRequest:null}},Nt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},w1=function(t,r){var n=Nt(t);return n?r[n]:null},x1=function(e){var t=e.state,r=e.type,n=w1(t.impact,t.dimensions.droppables),o=!!n,a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,s=i.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!o)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,v=p.droppables;return l?f1({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):b1({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:m,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Ar(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Pf(e){var t=Bt(e.top,e.bottom),r=Bt(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function C1(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function S1(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,a=n.map(function(i){var s=i.axis,l=zr(i.axis.line,t.center[s.line],i.page.borderBox.center[s.crossAxisLine]);return{id:i.descriptor.id,distance:Xn(o,l)}}).sort(function(i,s){return s.distance-i.distance});return a[0]?a[0].id:null}function E1(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=ga(n).filter(function(a){if(!a.isEnabled)return!1;var i=a.subject.active;if(!i||!C1(t,i))return!1;if(Pf(i)(t.center))return!0;var s=a.axis,l=i.center[s.crossAxisLine],c=t[s.crossAxisStart],u=t[s.crossAxisEnd],d=Bt(i[s.crossAxisStart],i[s.crossAxisEnd]),p=d(c),m=d(u);return!p&&!m?!0:p?c<l:u>l});return o.length?o.length===1?o[0].descriptor.id:S1({pageBorderBox:t,draggable:r,candidates:o}):null}var Mf=function(t,r){return Gt(so(t,r))},j1=function(e,t){var r=e.frame;return r?Mf(t,r.scroll.diff.value):t};function Af(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function k1(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var N1=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,a=e.last,i=e.viewport,s=e.afterCritical,l=n.axis,c=lo(n.axis,r.displaceBy),u=c.value,d=t[l.start],p=t[l.end],m=va(r,o),v=kr(m,function(C){var w=C.descriptor.id,k=C.page.borderBox.center[l.line],I=jr(w,s),N=Af({displaced:a,id:w});return I?N?p<=k:d<k-u:N?p<=k+u:d<k}),y=k1({draggable:r,closest:v,inHomeList:vn(r,n)});return ea({draggable:r,insideDestination:o,destination:n,viewport:i,last:a,displacedBy:c,index:y})},I1=4,T1=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,a=e.insideDestination,i=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=lo(o.axis,t.displaceBy),c=l.value,u=r[s.start],d=r[s.end],p=va(t,a),m=kr(p,function(y){var C=y.descriptor.id,w=y.page.borderBox,k=w[s.size],I=k/I1,N=jr(C,i),T=Af({displaced:n.displaced,id:C});return N?T?d>w[s.start]+I&&d<w[s.end]-I:u>w[s.start]-c+I&&u<w[s.end]-c-I:T?d>w[s.start]+c+I&&d<w[s.end]+c-I:u>w[s.start]+I&&u<w[s.end]-I});if(!m)return null;var v={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:o.descriptor.id}}};return v},Rf=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,a=e.previousImpact,i=e.viewport,s=e.afterCritical,l=Mf(r.page.borderBox,t),c=E1({pageBorderBox:l,draggable:r,droppables:o});if(!c)return Vx;var u=o[c],d=hn(u.descriptor.id,n),p=j1(u,l);return T1({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:a,destination:u,insideDestination:d,afterCritical:s})||N1({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:u,insideDestination:d,last:a.displaced,viewport:i,afterCritical:s})},Ls=function(e,t){var r;return be({},e,(r={},r[t.descriptor.id]=t,r))},D1=function(t){var r=t.previousImpact,n=t.impact,o=t.droppables,a=Nt(r),i=Nt(n);if(!a||a===i)return o;var s=o[a];if(!s.subject.withPlaceholder)return o;var l=v1(s);return Ls(o,l)},P1=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,a=e.impact,i=D1({previousImpact:o,impact:a,droppables:n}),s=Nt(a);if(!s)return i;var l=n[s];if(vn(t,l)||l.subject.withPlaceholder)return i;var c=Df(l,t,r);return Ls(i,c)},Rn=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,a=e.impact,i=e.scrollJumpRequest,s=o||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,u=Et(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Qe(t.initial.client.borderBoxCenter,u)},p={selection:Qe(d.selection,s.scroll.current),borderBoxCenter:Qe(d.borderBoxCenter,s.scroll.current),offset:Qe(d.offset,s.scroll.diff.value)},m={client:d,page:p};if(t.phase==="COLLECTING")return be({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:m});var v=l.draggables[t.critical.draggable.id],y=a||Rf({pageOffset:p.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),C=P1({draggable:v,impact:y,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),w=be({},t,{current:m,dimensions:{draggables:l.draggables,droppables:C},impact:y,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return w};function M1(e,t){return e.map(function(r){return t[r]})}var Of=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,a=e.forceShouldAnimate,i=t.displaced,s=M1(i.all,n),l=Zn({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:i});return be({},t,{displaced:l})},Lf=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,a=e.viewport,i=e.afterCritical,s=ya({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i});return Os({pageBorderBoxCenter:s,draggable:r,viewport:a})},Ff=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&ee();var o=t.impact,a=n||t.viewport,i=r||t.dimensions,s=i.draggables,l=i.droppables,c=s[t.critical.draggable.id],u=Nt(o);u||ee();var d=l[u],p=Of({impact:o,viewport:a,destination:d,draggables:s}),m=Lf({impact:p,draggable:c,droppable:d,draggables:s,viewport:a,afterCritical:t.afterCritical});return Rn({impact:p,clientSelection:m,state:t,dimensions:i,viewport:a})},A1=function(e){return{index:e.index,droppableId:e.droppableId}},$f=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,a=lo(r.axis,t.displaceBy),i=hn(r.descriptor.id,n),s=i.indexOf(t);s===-1&&ee();var l=i.slice(s+1),c=l.reduce(function(m,v){return m[v.descriptor.id]=!0,m},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:c},d=Zn({afterDragging:l,destination:r,displacedBy:a,last:null,viewport:o.frame,forceShouldAnimate:!1}),p={displaced:d,displacedBy:a,at:{type:"REORDER",destination:A1(t.descriptor)}};return{impact:p,afterCritical:u}},R1=function(e,t){return{draggables:e.draggables,droppables:Ls(e.droppables,t)}},O1=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=Xo(t.client,r),a=Ko(o,n),i=be({},t,{placeholder:be({},t.placeholder,{client:o}),client:o,page:a});return i},L1=function(e){var t=e.frame;return t||ee(),t},F1=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map(function(a){var i=a.descriptor.droppableId,s=r[i],l=L1(s),c=l.scroll.diff.value,u=Qe(o,c),d=O1({draggable:a,offset:u,initialWindowScroll:n.scroll.initial});return d})},$1=function(e){var t=e.state,r=e.published,n=r.modified.map(function(I){var N=t.dimensions.droppables[I.droppableId],T=Ts(N,I.scroll);return T}),o=be({},t.dimensions.droppables,{},wf(n)),a=xf(F1({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),i=be({},t.dimensions.draggables,{},a);r.removals.forEach(function(I){delete i[I]});var s={droppables:o,draggables:i},l=Nt(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=$f({draggable:u,home:d,draggables:i,viewport:t.viewport}),m=p.impact,v=p.afterCritical,y=c&&c.isCombineEnabled?t.impact:m,C=Rf({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:y,viewport:t.viewport,afterCritical:v}),w=be({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:C,onLiftImpact:m,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return w;var k=be({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return k},Ri=function(t){return t.movementMode==="SNAP"},Xa=function(t,r,n){var o=R1(t.dimensions,r);return!Ri(t)||n?Rn({state:t,dimensions:o}):Ff({state:t,dimensions:o})};function Ka(e){return e.isDragging&&e.movementMode==="SNAP"?be({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Dc={phase:"IDLE",completed:null,shouldFlush:!1},B1=function(e,t){if(e===void 0&&(e=Dc),t.type==="FLUSH")return be({},Dc,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ee();var r=t.payload,n=r.critical,o=r.clientSelection,a=r.viewport,i=r.dimensions,s=r.movementMode,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:o,borderBoxCenter:l.client.borderBox.center,offset:qe},d={client:u,page:{selection:Qe(u.selection,a.scroll.initial),borderBoxCenter:Qe(u.selection,a.scroll.initial),offset:Qe(u.selection,a.scroll.diff.value)}},p=ga(i.droppables).every(function(se){return!se.isFixedOnPage}),m=$f({draggable:l,home:c,draggables:i.draggables,viewport:a}),v=m.impact,y=m.afterCritical,C={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:i,initial:d,current:d,isWindowScrollAllowed:p,impact:v,afterCritical:y,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return C}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ee();var w=be({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ee(),$1({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ar(e)||ee();var k=t.payload.client;return Sr(k,e.current.client.selection)?e:Rn({state:e,clientSelection:k,impact:Ri(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ka(e);Ar(e)||ee();var I=t.payload,N=I.id,T=I.newScroll,P=e.dimensions.droppables[N];if(!P)return e;var x=Ts(P,T);return Xa(e,x,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ar(e)||ee();var h=t.payload,b=h.id,S=h.isEnabled,j=e.dimensions.droppables[b];j||ee(),j.isEnabled===S&&ee();var A=be({},j,{isEnabled:S});return Xa(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ar(e)||ee();var M=t.payload,E=M.id,D=M.isCombineEnabled,O=e.dimensions.droppables[E];O||ee(),O.isCombineEnabled===D&&ee();var B=be({},O,{isCombineEnabled:D});return Xa(e,B,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ar(e)||ee(),e.isWindowScrollAllowed||ee();var L=t.payload.newScroll;if(Sr(e.viewport.scroll.current,L))return Ka(e);var R=Nf(e.viewport,L);return Ri(e)?Ff({state:e,viewport:R}):Rn({state:e,viewport:R})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ar(e))return e;var $=t.payload.maxScroll;if(Sr($,e.viewport.scroll.max))return e;var V=be({},e.viewport,{scroll:be({},e.viewport.scroll,{max:$})});return be({phase:"DRAGGING"},e,{viewport:V})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ee();var H=x1({state:e,type:t.type});return H?Rn({state:e,impact:H.impact,clientSelection:H.clientSelection,scrollJumpRequest:H.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var G=t.payload.reason;e.phase!=="COLLECTING"&&ee();var q=be({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:G});return q}if(t.type==="DROP_ANIMATE"){var z=t.payload,_=z.completed,X=z.dropDuration,K=z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ee();var ae={phase:"DROP_ANIMATING",completed:_,dropDuration:X,newHomeClientOffset:K,dimensions:e.dimensions};return ae}if(t.type==="DROP_COMPLETE"){var W=t.payload.completed;return{phase:"IDLE",completed:W,shouldFlush:!1}}return e},_1=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},z1=function(t){return{type:"LIFT",payload:t}},H1=function(t){return{type:"INITIAL_PUBLISH",payload:t}},V1=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},G1=function(){return{type:"COLLECTION_STARTING",payload:null}},U1=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},W1=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},q1=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Bf=function(t){return{type:"MOVE",payload:t}},Y1=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},X1=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},K1=function(){return{type:"MOVE_UP",payload:null}},Z1=function(){return{type:"MOVE_DOWN",payload:null}},Q1=function(){return{type:"MOVE_RIGHT",payload:null}},J1=function(){return{type:"MOVE_LEFT",payload:null}},Fs=function(){return{type:"FLUSH",payload:null}},e2=function(t){return{type:"DROP_ANIMATE",payload:t}},$s=function(t){return{type:"DROP_COMPLETE",payload:t}},_f=function(t){return{type:"DROP",payload:t}},t2=function(t){return{type:"DROP_PENDING",payload:t}},zf=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},r2=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(o){return function(a){if(a.type!=="LIFT"){o(a);return}var i=a.payload,s=i.id,l=i.clientSelection,c=i.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n($s({completed:u.completed})),r().phase!=="IDLE"&&ee(),n(Fs()),n(_1({draggableId:s,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},p={draggableId:s,scrollOptions:d},m=e.startPublishing(p),v=m.critical,y=m.dimensions,C=m.viewport;n(H1({critical:v,dimensions:y,clientSelection:l,movementMode:c,viewport:C}))}}}},n2=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Bs={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Qn={opacity:{drop:0,combining:.7},scale:{drop:.75}},_s={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Pr=_s.outOfTheWay+"s "+Bs.outOfTheWay,On={fluid:"opacity "+Pr,snap:"transform "+Pr+", opacity "+Pr,drop:function(t){var r=t+"s "+Bs.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Pr,placeholder:"height "+Pr+", width "+Pr+", margin "+Pr},Pc=function(t){return Sr(t,qe)?null:"translate("+t.x+"px, "+t.y+"px)"},Oi={moveTo:Pc,drop:function(t,r){var n=Pc(t);return n?r?n+" scale("+Qn.scale.drop+")":n:null}},Li=_s.minDropTime,Hf=_s.maxDropTime,o2=Hf-Li,Mc=1500,a2=.6,i2=function(e){var t=e.current,r=e.destination,n=e.reason,o=Xn(t,r);if(o<=0)return Li;if(o>=Mc)return Hf;var a=o/Mc,i=Li+o2*a,s=n==="CANCEL"?i*a2:i;return Number(s.toFixed(2))},s2=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,a=e.afterCritical,i=n.draggables,s=n.droppables,l=Nt(t),c=l?s[l]:null,u=s[r.descriptor.droppableId],d=Lf({impact:t,draggable:r,draggables:i,afterCritical:a,droppable:c||u,viewport:o}),p=Et(d,r.client.borderBox.center);return p},l2=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,a=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=Of({draggables:t,impact:i,destination:o,viewport:a,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=be({},n,{displaced:Kn});return{impact:l,didDropInsideDroppable:!0}},c2=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(o){if(o.type!=="DROP"){n(o);return}var a=t(),i=o.payload.reason;if(a.phase==="COLLECTING"){r(t2({reason:i}));return}if(a.phase!=="IDLE"){var s=a.phase==="DROP_PENDING"&&a.isWaiting;s&&ee(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||ee();var l=a.critical,c=a.dimensions,u=c.draggables[a.critical.draggable.id],d=l2({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),p=d.impact,m=d.didDropInsideDroppable,v=m?Ps(p):null,y=m?ha(p):null,C={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:u.descriptor.id,type:u.descriptor.type,source:C,reason:i,mode:a.movementMode,destination:v,combine:y},k=s2({impact:p,draggable:u,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),I={critical:a.critical,afterCritical:a.afterCritical,result:w,impact:p},N=!Sr(a.current.client.offset,k)||!!w.combine;if(!N){r($s({completed:I}));return}var T=i2({current:a.current.client.offset,destination:k,reason:i}),P={newHomeClientOffset:k,dropDuration:T,completed:I};r(e2(P))}}}},Vf=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function u2(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function d2(e){var t=e.onWindowScroll;function r(){t(Vf())}var n=Yn(r),o=u2(n),a=Cr;function i(){return a!==Cr}function s(){i()&&ee(),a=$t(window,[o])}function l(){i()||ee(),n.cancel(),a(),a=Cr}return{start:s,stop:l,isActive:i}}var f2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},p2=function(e){var t=d2({onWindowScroll:function(n){e.dispatch(Y1({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&f2(n)&&t.stop(),r(n)}}},m2=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),o=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return o.wasCalled=function(){return t},o},g2=function(){var e=[],t=function(a){var i=Ds(e,function(c){return c.timerId===a});i===-1&&ee();var s=e.splice(i,1),l=s[0];l.callback()},r=function(a){var i=setTimeout(function(){return t(i)}),s={timerId:i,callback:a};e.push(s)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},h2=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},v2=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},y2=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,o=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&o},jn=function(t,r){r()},Eo=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Za=function(t,r,n,o){if(!t){n(o(r));return}var a=m2(n),i={announce:a};t(r,i),a.wasCalled()||n(o(r))},b2=function(e,t){var r=g2(),n=null,o=function(p,m){n&&ee(),jn("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var y={draggableId:p,mode:m};v(y)}})},a=function(p,m){n&&ee(),jn("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Eo(p,m))})},i=function(p,m){n&&ee();var v=Eo(p,m);n={mode:m,lastCritical:p,lastLocation:v.source,lastCombine:null},r.add(function(){jn("onDragStart",function(){return Za(e().onDragStart,v,t,Oo.onDragStart)})})},s=function(p,m){var v=Ps(m),y=ha(m);n||ee();var C=!y2(p,n.lastCritical);C&&(n.lastCritical=p);var w=!h2(n.lastLocation,v);w&&(n.lastLocation=v);var k=!v2(n.lastCombine,y);if(k&&(n.lastCombine=y),!(!C&&!w&&!k)){var I=be({},Eo(p,n.mode),{combine:y,destination:v});r.add(function(){jn("onDragUpdate",function(){return Za(e().onDragUpdate,I,t,Oo.onDragUpdate)})})}},l=function(){n||ee(),r.flush()},c=function(p){n||ee(),n=null,jn("onDragEnd",function(){return Za(e().onDragEnd,p,t,Oo.onDragEnd)})},u=function(){if(n){var p=be({},Eo(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(p)}};return{beforeCapture:o,beforeStart:a,start:i,update:s,flush:l,drop:c,abort:u}},w2=function(e,t){var r=b2(e,t);return function(n){return function(o){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var i=a.payload.critical;r.beforeStart(i,a.payload.movementMode),o(a),r.start(i,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var s=a.payload.completed.result;r.flush(),o(a),r.drop(s);return}if(o(a),a.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},x2=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&ee(),e.dispatch($s({completed:n.completed}))}}},C2=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(o){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),o(a),a.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(zf())}};r=requestAnimationFrame(function(){r=null,t=$t(window,[i])})}}}},S2=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},E2=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},j2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},k2=function(e){return function(t){return function(r){return function(n){if(j2(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var o=t.getState();o.phase!=="DRAGGING"&&ee(),e.start(o);return}r(n),e.scroll(t.getState())}}}},N2=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(_f({reason:n.reason})))}}}},I2=of,T2=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,o=e.getResponders,a=e.announce,i=e.autoScroller;return nf(B1,I2(Fw(n2(n),S2(t),r2(t),c2,x2,C2,N2,k2(i),p2,E2(r),w2(o,a))))},Qa=function(){return{additions:{},removals:{},modified:{}}};function D2(e){var t=e.registry,r=e.callbacks,n=Qa(),o=null,a=function(){o||(r.collectionStarting(),o=requestAnimationFrame(function(){o=null;var u=n,d=u.additions,p=u.removals,m=u.modified,v=Object.keys(d).map(function(w){return t.draggable.getById(w).getDimension(qe)}).sort(function(w,k){return w.descriptor.index-k.descriptor.index}),y=Object.keys(m).map(function(w){var k=t.droppable.getById(w),I=k.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:I}}),C={additions:v,removals:Object.keys(p),modified:y};n=Qa(),r.publish(C)}))},i=function(u){var d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},s=function(u){var d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},l=function(){o&&(cancelAnimationFrame(o),o=null,n=Qa())};return{add:i,remove:s,stop:l}}var Gf=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,a=Et({x:r,y:t},{x:o,y:n}),i={x:Math.max(0,a.x),y:Math.max(0,a.y)};return i},Uf=function(){var e=document.documentElement;return e||ee(),e},Wf=function(){var e=Uf(),t=Gf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},P2=function(){var e=Vf(),t=Wf(),r=e.y,n=e.x,o=Uf(),a=o.clientWidth,i=o.clientHeight,s=n+a,l=r+i,c=Gt({top:r,left:n,right:s,bottom:l}),u={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:qe,displacement:qe}}};return u},M2=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,o=P2(),a=o.scroll.current,i=t.droppable,s=n.droppable.getAllByType(i.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(a,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(a)}),c={draggables:xf(l),droppables:wf(s)},u={dimensions:c,critical:t,viewport:o};return u};function Ac(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var A2=function(e,t){var r=null,n=D2({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(m,v){e.droppable.exists(m)||ee(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},a=function(m,v){r&&(e.droppable.exists(m)||ee(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},i=function(m,v){r&&(e.droppable.exists(m)||ee(),t.updateDroppableScroll({id:m,newScroll:v}))},s=function(m,v){r&&e.droppable.getById(m).callbacks.scroll(v)},l=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(m){r||ee();var v=r.critical.draggable;m.type==="ADDITION"&&Ac(e,v,m.value)&&n.add(m.value),m.type==="REMOVAL"&&Ac(e,v,m.value)&&n.remove(m.value)},u=function(m){r&&ee();var v=e.draggable.getById(m.draggableId),y=e.droppable.getById(v.descriptor.droppableId),C={draggable:v.descriptor,droppable:y.descriptor},w=e.subscribe(c);return r={critical:C,unsubscribe:w},M2({critical:C,registry:e,scrollOptions:m.scrollOptions})},d={updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:i,startPublishing:u,stopPublishing:l};return d},qf=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},R2=function(e){window.scrollBy(e.x,e.y)},O2=We(function(e){return ga(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),L2=function(t,r){var n=kr(O2(r),function(o){return o.frame||ee(),Pf(o.frame.pageMarginBox)(t)});return n},F2=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var a=L2(t,n);return a},Er={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},$2=function(e,t){var r=e[t.size]*Er.startFromPercentage,n=e[t.size]*Er.maxScrollAtPercentage,o={startScrollingFrom:r,maxScrollValueAt:n};return o},Yf=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;if(o===0)return 0;var a=n-t,i=a/o;return i},zs=1,B2=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Er.maxPixelScroll;if(e===t.startScrollingFrom)return zs;var r=Yf({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,o=Er.maxPixelScroll*Er.ease(n);return Math.ceil(o)},Rc=Er.durationDampening.accelerateAt,Oc=Er.durationDampening.stopDampeningAt,_2=function(e,t){var r=t,n=Oc,o=Date.now(),a=o-r;if(a>=Oc)return e;if(a<Rc)return zs;var i=Yf({startOfRange:Rc,endOfRange:n,current:a}),s=e*Er.ease(i);return Math.ceil(s)},Lc=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,a=B2(t,r);return a===0?0:o?Math.max(_2(a,n),zs):a},Fc=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,a=e.shouldUseTimeDampening,i=$2(t,o),s=r[o.end]<r[o.start];return s?Lc({distanceToEdge:r[o.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Lc({distanceToEdge:r[o.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})},z2=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,a=r.width>t.width;return!a&&!o?n:a&&o?null:{x:a?0:n.x,y:o?0:n.y}},H2=yf(function(e){return e===0?0:e}),Xf=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,a=e.shouldUseTimeDampening,i={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},s=Fc({container:r,distanceToEdges:i,dragStartTime:t,axis:Ms,shouldUseTimeDampening:a}),l=Fc({container:r,distanceToEdges:i,dragStartTime:t,axis:Ef,shouldUseTimeDampening:a}),c=H2({x:l,y:s});if(Sr(c,qe))return null;var u=z2({container:r,subject:n,proposedScroll:c});return u?Sr(u,qe)?null:u:null},V2=yf(function(e){return e===0?0:e>0?1:-1}),Hs=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,o=t.change,a=Qe(r,o),i={x:e(a.x,n.x),y:e(a.y,n.y)};return Sr(i,qe)?null:i}}(),Kf=function(t){var r=t.max,n=t.current,o=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=V2(o),s=Hs({max:a,current:n,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},Vs=function(t,r){return Kf({current:t.scroll.current,max:t.scroll.max,change:r})},G2=function(t,r){if(!Vs(t,r))return null;var n=t.scroll.max,o=t.scroll.current;return Hs({current:o,max:n,change:r})},Gs=function(t,r){var n=t.frame;return n?Kf({current:n.scroll.current,max:n.scroll.max,change:r}):!1},U2=function(t,r){var n=t.frame;return!n||!Gs(t,r)?null:Hs({current:n.scroll.current,max:n.scroll.max,change:r})},W2=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=Xf({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return i&&Vs(t,i)?i:null},q2=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=Xf({dragStartTime:o,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return s&&Gs(t,s)?s:null},$c=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,a=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],l=s.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,u=W2({dragStartTime:r,viewport:c,subject:l,center:i,shouldUseTimeDampening:n});if(u){o(u);return}}var d=F2({center:i,destination:Nt(t.impact),droppables:t.dimensions.droppables});if(d){var p=q2({dragStartTime:r,droppable:d,subject:l,center:i,shouldUseTimeDampening:n});p&&a(d.descriptor.id,p)}},Y2=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Yn(t),o=Yn(r),a=null,i=function(u){a||ee();var d=a,p=d.shouldUseTimeDampening,m=d.dragStartTime;$c({state:u,scrollWindow:n,scrollDroppable:o,dragStartTime:m,shouldUseTimeDampening:p})},s=function(u){a&&ee();var d=Date.now(),p=!1,m=function(){p=!0};$c({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),a={dragStartTime:d,shouldUseTimeDampening:p},p&&i(u)},l=function(){a&&(n.cancel(),o.cancel(),a=null)};return{start:s,stop:l,scroll:i}},X2=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(c,u){var d=Qe(c.current.client.selection,u);t({client:d})},a=function(c,u){if(!Gs(c,u))return u;var d=U2(c,u);if(!d)return r(c.descriptor.id,u),null;var p=Et(u,d);r(c.descriptor.id,p);var m=Et(u,p);return m},i=function(c,u,d){if(!c||!Vs(u,d))return d;var p=G2(u,d);if(!p)return n(d),null;var m=Et(d,p);n(m);var v=Et(d,m);return v},s=function(c){var u=c.scrollJumpRequest;if(u){var d=Nt(c.impact);d||ee();var p=a(c.dimensions.droppables[d],u);if(p){var m=c.viewport,v=i(c.isWindowScrollAllowed,m,p);v&&o(c,v)}}};return s},K2=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=Y2({scrollWindow:r,scrollDroppable:t}),a=X2({move:n,scrollWindow:r,scrollDroppable:t}),i=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&a(c)}},s={scroll:i,start:o.start,stop:o.stop};return s},un="data-rbd",dn=function(){var e=un+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Fi=function(){var e=un+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Z2=function(){var e=un+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Bc={contextId:un+"-scroll-container-context-id"},Q2=function(t){return function(r){return"["+r+'="'+t+'"]'}},kn=function(t,r){return t.map(function(n){var o=n.styles[r];return o?n.selector+" { "+o+" }":""}).join(" ")},J2="pointer-events: none;",eC=function(e){var t=Q2(e),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(dn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:J2,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+On.outOfTheWay+`;
    `;return{selector:t(Fi.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),o={selector:t(Z2.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,o,a];return{always:kn(i,"always"),resting:kn(i,"resting"),dragging:kn(i,"dragging"),dropAnimating:kn(i,"dropAnimating"),userCancel:kn(i,"userCancel")}},It=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?g.useLayoutEffect:g.useEffect,Ja=function(){var t=document.querySelector("head");return t||ee(),t},_c=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function tC(e,t){var r=De(function(){return eC(e)},[e]),n=g.useRef(null),o=g.useRef(null),a=me(We(function(d){var p=o.current;p||ee(),p.textContent=d}),[]),i=me(function(d){var p=n.current;p||ee(),p.textContent=d},[]);It(function(){!n.current&&!o.current||ee();var d=_c(t),p=_c(t);return n.current=d,o.current=p,d.setAttribute(un+"-always",e),p.setAttribute(un+"-dynamic",e),Ja().appendChild(d),Ja().appendChild(p),i(r.always),a(r.resting),function(){var m=function(y){var C=y.current;C||ee(),Ja().removeChild(C),y.current=null};m(n),m(o)}},[t,i,a,r.always,r.resting,e]);var s=me(function(){return a(r.dragging)},[a,r.dragging]),l=me(function(d){if(d==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),c=me(function(){o.current&&a(r.resting)},[a,r.resting]),u=De(function(){return{dragging:s,dropping:l,resting:c}},[s,l,c]);return u}var Zf=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ba(e){return e instanceof Zf(e).HTMLElement}function rC(e,t){var r="["+dn.contextId+'="'+e+'"]',n=bf(document.querySelectorAll(r));if(!n.length)return null;var o=kr(n,function(a){return a.getAttribute(dn.draggableId)===t});return!o||!ba(o)?null:o}function nC(e){var t=g.useRef({}),r=g.useRef(null),n=g.useRef(null),o=g.useRef(!1),a=me(function(p,m){var v={id:p,focus:m};return t.current[p]=v,function(){var C=t.current,w=C[p];w!==v&&delete C[p]}},[]),i=me(function(p){var m=rC(e,p);m&&m!==document.activeElement&&m.focus()},[e]),s=me(function(p,m){r.current===p&&(r.current=m)},[]),l=me(function(){n.current||o.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&i(p)}))},[i]),c=me(function(p){r.current=null;var m=document.activeElement;m&&m.getAttribute(dn.draggableId)===p&&(r.current=p)},[]);It(function(){return o.current=!0,function(){o.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var u=De(function(){return{register:a,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[a,c,l,s]);return u}function oC(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var m=t.indexOf(d);m!==-1&&t.splice(m,1)}}function n(d){t.length&&t.forEach(function(p){return p(d)})}function o(d){return e.draggables[d]||null}function a(d){var p=o(d);return p||ee(),p}var i={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,m){var v=e.draggables[m.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,v=o(m);v&&p.uniqueId===v.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:p}))},getById:a,findById:o,exists:function(p){return!!o(p)},getAllByType:function(p){return Jo(e.draggables).filter(function(m){return m.descriptor.type===p})}};function s(d){return e.droppables[d]||null}function l(d){var p=s(d);return p||ee(),p}var c={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var m=s(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Jo(e.droppables).filter(function(m){return m.descriptor.type===p})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:c,subscribe:r,clean:u}}function aC(){var e=De(oC,[]);return g.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Us=F.createContext(null),ta=function(){var e=document.body;return e||ee(),e},iC={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},sC=function(t){return"rbd-announcement-"+t};function lC(e){var t=De(function(){return sC(e)},[e]),r=g.useRef(null);g.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),be(a.style,iC),ta().appendChild(a),function(){setTimeout(function(){var l=ta();l.contains(a)&&l.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=me(function(o){var a=r.current;if(a){a.textContent=o;return}},[]);return n}var cC=0,uC={separator:"::"};function Ws(e,t){return t===void 0&&(t=uC),De(function(){return""+e+t.separator+cC++},[t.separator,e])}function dC(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function fC(e){var t=e.contextId,r=e.text,n=Ws("hidden-text",{separator:"-"}),o=De(function(){return dC({contextId:t,uniqueId:n})},[n,t]);return g.useEffect(function(){var i=document.createElement("div");return i.id=o,i.textContent=r,i.style.display="none",ta().appendChild(i),function(){var l=ta();l.contains(i)&&l.removeChild(i)}},[o,r]),o}var wa=F.createContext(null);function Qf(e){var t=g.useRef(e);return g.useEffect(function(){t.current=e}),t}function pC(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&ee();var s={abandon:i};return e=s,s}function o(){e||ee(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:a}}var mC=9,gC=13,qs=27,Jf=32,hC=33,vC=34,yC=35,bC=36,wC=37,xC=38,CC=39,SC=40,jo,EC=(jo={},jo[gC]=!0,jo[mC]=!0,jo),ep=function(e){EC[e.keyCode]&&e.preventDefault()},xa=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=kr(t,function(n){return"on"+n in document});return r||e}(),tp=0,zc=5;function jC(e,t){return Math.abs(t.x-e.x)>=zc||Math.abs(t.y-e.y)>=zc}var Hc={type:"IDLE"};function kC(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(i){var s=i.button,l=i.clientX,c=i.clientY;if(s===tp){var u={x:l,y:c},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&ee();var p=d.point;if(jC(p,u)){i.preventDefault();var m=d.actions.fluidLift(u);o({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var s=n();if(s.type==="PENDING"){t();return}if(i.keyCode===qs){i.preventDefault(),t();return}ep(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var s=n();if(s.type==="IDLE"&&ee(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:xa,fn:t}]}function NC(e){var t=g.useRef(Hc),r=g.useRef(Cr),n=De(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===tp&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var p=e.findClosestDraggableId(d);if(p){var m=e.tryGetLock(p,i,{sourceEvent:d});if(m){d.preventDefault();var v={x:d.clientX,y:d.clientY};r.current(),c(m,v)}}}}}},[e]),o=De(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var p=e.findClosestDraggableId(d);if(p){var m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&d.preventDefault())}}}}},[e]),a=me(function(){var d={passive:!1,capture:!0};r.current=$t(window,[o,n],d)},[o,n]),i=me(function(){var u=t.current;u.type!=="IDLE"&&(t.current=Hc,r.current(),a())},[a]),s=me(function(){var u=t.current;i(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[i]),l=me(function(){var d={capture:!0,passive:!1},p=kC({cancel:s,completed:i,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=$t(window,p,d)},[s,i]),c=me(function(d,p){t.current.type!=="IDLE"&&ee(),t.current={type:"PENDING",point:p,actions:d},l()},[l]);It(function(){return a(),function(){r.current()}},[a])}var Kr;function IC(){}var TC=(Kr={},Kr[vC]=!0,Kr[hC]=!0,Kr[bC]=!0,Kr[yC]=!0,Kr);function DC(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===qs){a.preventDefault(),r();return}if(a.keyCode===Jf){a.preventDefault(),n();return}if(a.keyCode===SC){a.preventDefault(),e.moveDown();return}if(a.keyCode===xC){a.preventDefault(),e.moveUp();return}if(a.keyCode===CC){a.preventDefault(),e.moveRight();return}if(a.keyCode===wC){a.preventDefault(),e.moveLeft();return}if(TC[a.keyCode]){a.preventDefault();return}ep(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:xa,fn:r}]}function PC(e){var t=g.useRef(IC),r=De(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Jf)return;var i=e.findClosestDraggableId(a);if(!i)return;var s=e.tryGetLock(i,u,{sourceEvent:a});if(!s)return;a.preventDefault();var l=!0,c=s.snapLift();t.current();function u(){l||ee(),l=!1,t.current(),n()}t.current=$t(window,DC(c,u),{capture:!0,passive:!1})}}},[e]),n=me(function(){var a={passive:!1,capture:!0};t.current=$t(window,[r],a)},[r]);It(function(){return n(),function(){t.current()}},[n])}var ei={type:"IDLE"},MC=120,AC=.15;function RC(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(o){o.preventDefault()}},{eventName:"keydown",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.keyCode===qs&&o.preventDefault(),t()}},{eventName:xa,fn:t}]}function OC(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var s=a.touches[0],l=s.clientX,c=s.clientY,u={x:l,y:c};a.preventDefault(),i.actions.move(u)}},{eventName:"touchend",fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var i=n();i.type==="IDLE"&&ee();var s=a.touches[0];if(s){var l=s.force>=AC;if(l){var c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&t();return}if(c){if(i.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:xa,fn:t}]}function LC(e){var t=g.useRef(ei),r=g.useRef(Cr),n=me(function(){return t.current},[]),o=me(function(m){t.current=m},[]),a=De(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var v=e.findClosestDraggableId(m);if(v){var y=e.tryGetLock(v,s,{sourceEvent:m});if(y){var C=m.touches[0],w=C.clientX,k=C.clientY,I={x:w,y:k};r.current(),d(y,I)}}}}}},[e]),i=me(function(){var m={capture:!0,passive:!1};r.current=$t(window,[a],m)},[a]),s=me(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(ei),r.current(),i())},[i,o]),l=me(function(){var p=t.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),c=me(function(){var m={capture:!0,passive:!1},v={cancel:l,completed:s,getPhase:n},y=$t(window,OC(v),m),C=$t(window,RC(v),m);r.current=function(){y(),C()}},[l,n,s]),u=me(function(){var m=n();m.type!=="PENDING"&&ee();var v=m.actions.fluidLift(m.point);o({type:"DRAGGING",actions:v,hasMoved:!1})},[n,o]),d=me(function(m,v){n().type!=="IDLE"&&ee();var y=setTimeout(u,MC);o({type:"PENDING",point:v,actions:m,longPressTimerId:y}),c()},[c,n,o,u]);It(function(){return i(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),o(ei))}},[n,i,o]),It(function(){var m=$t(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var FC={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function rp(e,t){if(t==null)return!1;var r=!!FC[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:rp(e,t.parentElement)}function $C(e,t){var r=t.target;return ba(r)?rp(e,r):!1}var BC=function(e){return Gt(e.getBoundingClientRect()).center};function _C(e){return e instanceof Zf(e).Element}var zC=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=kr(t,function(n){return n in Element.prototype});return r||e}();function np(e,t){return e==null?null:e[zC](t)?e:np(e.parentElement,t)}function HC(e,t){return e.closest?e.closest(t):np(e,t)}function VC(e){return"["+dn.contextId+'="'+e+'"]'}function GC(e,t){var r=t.target;if(!_C(r))return null;var n=VC(e),o=HC(r,n);return!o||!ba(o)?null:o}function UC(e,t){var r=GC(e,t);return r?r.getAttribute(dn.draggableId):null}function WC(e,t){var r="["+Fi.contextId+'="'+e+'"]',n=bf(document.querySelectorAll(r)),o=kr(n,function(a){return a.getAttribute(Fi.id)===t});return!o||!ba(o)?null:o}function qC(e){e.preventDefault()}function ko(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function op(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(o);return!(!a||!a.options.isEnabled||!qf(r.getState(),o))}function YC(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,a=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent,l=op({lockAPI:t,store:n,registry:o,draggableId:a});if(!l)return null;var c=o.draggable.getById(a),u=WC(r,c.descriptor.id);if(!u||s&&!c.options.canDragInteractiveElements&&$C(u,s))return null;var d=t.claim(i||Cr),p="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function v(){return t.isActive(d)}function y(P,x){ko({expected:P,phase:p,isLockActive:v,shouldWarn:!0})&&n.dispatch(x())}var C=y.bind(null,"DRAGGING");function w(P){function x(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(x(),p!=="PRE_DRAG"&&ee()),n.dispatch(z1(P.liftActionArgs)),p="DRAGGING";function h(b,S){if(S===void 0&&(S={shouldBlockNextClick:!1}),P.cleanup(),S.shouldBlockNextClick){var j=$t(window,[{eventName:"click",fn:qC,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}x(),n.dispatch(_f({reason:b}))}return be({isActive:function(){return ko({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(S){return h("DROP",S)},cancel:function(S){return h("CANCEL",S)}},P.actions)}function k(P){var x=Yn(function(b){C(function(){return Bf({client:b})})}),h=w({liftActionArgs:{id:a,clientSelection:P,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return be({},h,{move:x})}function I(){var P={moveUp:function(){return C(K1)},moveRight:function(){return C(Q1)},moveDown:function(){return C(Z1)},moveLeft:function(){return C(J1)}};return w({liftActionArgs:{id:a,clientSelection:BC(u),movementMode:"SNAP"},cleanup:Cr,actions:P})}function N(){var P=ko({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});P&&t.release()}var T={isActive:function(){return ko({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:k,snapLift:I,abort:N};return T}var XC=[NC,PC,LC];function KC(e){var t=e.contextId,r=e.store,n=e.registry,o=e.customSensors,a=e.enableDefaultSensors,i=[].concat(a?XC:[],o||[]),s=g.useState(function(){return pC()})[0],l=me(function(k,I){k.isDragging&&!I.isDragging&&s.tryAbandon()},[s]);It(function(){var k=r.getState(),I=r.subscribe(function(){var N=r.getState();l(k,N),k=N});return I},[s,r,l]),It(function(){return s.tryAbandon},[s.tryAbandon]);for(var c=me(function(w){return op({lockAPI:s,registry:n,store:r,draggableId:w})},[s,n,r]),u=me(function(w,k,I){return YC({lockAPI:s,registry:n,contextId:t,store:r,draggableId:w,forceSensorStop:k,sourceEvent:I&&I.sourceEvent?I.sourceEvent:null})},[t,s,n,r]),d=me(function(w){return UC(t,w)},[t]),p=me(function(w){var k=n.draggable.findById(w);return k?k.options:null},[n.draggable]),m=me(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Fs()))},[s,r]),v=me(s.isClaimed,[s]),y=De(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:v}},[c,u,d,p,m,v]),C=0;C<i.length;C++)i[C](y)}var ZC=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Nn(e){return e.current||ee(),e.current}function QC(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,o=e.nonce,a=e.dragHandleUsageInstructions,i=g.useRef(null),s=Qf(e),l=me(function(){return ZC(s.current)},[s]),c=lC(t),u=fC({contextId:t,text:a}),d=tC(t,o),p=me(function(b){Nn(i).dispatch(b)},[]),m=De(function(){return pc({publishWhileDragging:V1,updateDroppableScroll:U1,updateDroppableIsEnabled:W1,updateDroppableIsCombineEnabled:q1,collectionStarting:G1},p)},[p]),v=aC(),y=De(function(){return A2(v,m)},[v,m]),C=De(function(){return K2(be({scrollWindow:R2,scrollDroppable:y.scrollDroppable},pc({move:Bf},p)))},[y.scrollDroppable,p]),w=nC(t),k=De(function(){return T2({announce:c,autoScroller:C,dimensionMarshal:y,focusMarshal:w,getResponders:l,styleMarshal:d})},[c,C,y,w,l,d]);i.current=k;var I=me(function(){var b=Nn(i),S=b.getState();S.phase!=="IDLE"&&b.dispatch(Fs())},[]),N=me(function(){var b=Nn(i).getState();return b.isDragging||b.phase==="DROP_ANIMATING"},[]),T=De(function(){return{isDragging:N,tryAbort:I}},[N,I]);r(T);var P=me(function(b){return qf(Nn(i).getState(),b)},[]),x=me(function(){return Ar(Nn(i).getState())},[]),h=De(function(){return{marshal:y,focus:w,contextId:t,canLift:P,isMovementAllowed:x,dragHandleUsageInstructionsId:u,registry:v}},[t,y,u,w,P,x,v]);return KC({contextId:t,store:k,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),g.useEffect(function(){return I},[I]),F.createElement(wa.Provider,{value:h},F.createElement(Hw,{context:Us,store:k},e.children))}var JC=0;function eS(){return De(function(){return""+JC++},[])}function ap(e){var t=eS(),r=e.dragHandleUsageInstructions||Oo.dragHandleUsageInstructions;return F.createElement(Px,null,function(n){return F.createElement(QC,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var ip=function(t){return function(r){return t===r}},tS=ip("scroll"),rS=ip("auto"),Vc=function(t,r){return r(t.overflowX)||r(t.overflowY)},nS=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Vc(n,tS)||Vc(n,rS)},oS=function(){return!1},aS=function e(t){return t==null?null:t===document.body?oS()?t:null:t===document.documentElement?null:nS(t)?t:e(t.parentElement)},$i=function(e){return{x:e.scrollLeft,y:e.scrollTop}},iS=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},sS=function(e){var t=aS(e),r=iS(e);return{closestScrollable:t,isFixedOnPage:r}},lS=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,a=e.direction,i=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var m=l.scrollSize,v=l.client,y=Gf({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:qe,displacement:qe}}}}(),u=a==="vertical"?Ms:Ef,d=cn({page:s,withPlaceholder:null,axis:u,frame:c}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:u,isEnabled:r,client:i,page:s,frame:c,subject:d};return p},cS=function(t,r){var n=mf(t);if(!r||t!==r)return n;var o=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,i=o+r.scrollHeight,s=a+r.scrollWidth,l={top:o,right:s,bottom:i,left:a},c=Ns(l,n.border),u=Is({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return u},uS=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,a=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=cS(t,c),d=Ko(u,o),p=function(){if(!c)return null;var v=mf(c),y={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:Ko(v,o),scroll:$i(c),scrollSize:y,shouldClipSubject:l}}(),m=lS({descriptor:r,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:u,page:d,closest:p});return m},dS={passive:!1},fS={passive:!0},Gc=function(e){return e.shouldPublishImmediately?dS:fS};function ra(e){var t=g.useContext(e);return t||ee(),t}var No=function(t){return t&&t.env.closestScrollable||null};function pS(e){var t=g.useRef(null),r=ra(wa),n=Ws("droppable"),o=r.registry,a=r.marshal,i=Qf(e),s=De(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=g.useRef(s),c=De(function(){return We(function(N,T){t.current||ee();var P={x:N,y:T};a.updateDroppableScroll(s.id,P)})},[s.id,a]),u=me(function(){var N=t.current;return!N||!N.env.closestScrollable?qe:$i(N.env.closestScrollable)},[]),d=me(function(){var N=u();c(N.x,N.y)},[u,c]),p=De(function(){return Yn(d)},[d]),m=me(function(){var N=t.current,T=No(N);N&&T||ee();var P=N.scrollOptions;if(P.shouldPublishImmediately){d();return}p()},[p,d]),v=me(function(N,T){t.current&&ee();var P=i.current,x=P.getDroppableRef();x||ee();var h=sS(x),b={ref:x,descriptor:s,env:h,scrollOptions:T};t.current=b;var S=uS({ref:x,descriptor:s,env:h,windowScroll:N,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),j=h.closestScrollable;return j&&(j.setAttribute(Bc.contextId,r.contextId),j.addEventListener("scroll",m,Gc(b.scrollOptions))),S},[r.contextId,s,m,i]),y=me(function(){var N=t.current,T=No(N);return N&&T||ee(),$i(T)},[]),C=me(function(){var N=t.current;N||ee();var T=No(N);t.current=null,T&&(p.cancel(),T.removeAttribute(Bc.contextId),T.removeEventListener("scroll",m,Gc(N.scrollOptions)))},[m,p]),w=me(function(N){var T=t.current;T||ee();var P=No(T);P||ee(),P.scrollTop+=N.y,P.scrollLeft+=N.x},[]),k=De(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:y,dragStopped:C,scroll:w}},[C,v,y,w]),I=De(function(){return{uniqueId:n,descriptor:s,callbacks:k}},[k,s,n]);It(function(){return l.current=I.descriptor,o.droppable.register(I),function(){t.current&&C(),o.droppable.unregister(I)}},[k,s,C,I,a,o.droppable]),It(function(){t.current&&a.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),It(function(){t.current&&a.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function ti(){}var Uc={width:0,height:0,margin:Fx},mS=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate;return r||o==="close"?Uc:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},gS=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,o=t.animate,a=mS({isAnimatingOpenOnMount:r,placeholder:n,animate:o});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?On.placeholder:null}};function hS(e){var t=g.useRef(null),r=me(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,o=e.onTransitionEnd,a=e.onClose,i=e.contextId,s=g.useState(e.animate==="open"),l=s[0],c=s[1];g.useEffect(function(){return l?n!=="open"?(r(),c(!1),ti):t.current?ti:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):ti},[n,l,r]);var u=me(function(p){p.propertyName==="height"&&(o(),n==="close"&&a())},[n,a,o]),d=gS({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return F.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})}var vS=F.memo(hS),Ys=F.createContext(null),yS=function(e){Wi(t,e);function t(){for(var n,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(o,a){return o.shouldAnimate?o.on?{isVisible:!0,data:o.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o.on,data:o.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var o={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o)},t}(F.PureComponent),Wc={dragging:5e3,dropAnimating:4500},bS=function(t,r){return r?On.drop(r.duration):t?On.snap:On.fluid},wS=function(t,r){return t?r?Qn.opacity.drop:Qn.opacity.combining:null},xS=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function CS(e){var t=e.dimension,r=t.client,n=e.offset,o=e.combineWith,a=e.dropping,i=!!o,s=xS(e),l=!!a,c=l?Oi.drop(n,i):Oi.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:bS(s,a),transform:c,opacity:wS(i,l),zIndex:l?Wc.dropAnimating:Wc.dragging,pointerEvents:"none"};return u}function SS(e){return{transform:Oi.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ES(e){return e.type==="DRAGGING"?CS(e):SS(e)}function jS(e,t,r){r===void 0&&(r=qe);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=pf(o,n),i=Ko(a,r),s={client:a,tagName:t.tagName.toLowerCase(),display:n.display},l={x:a.marginBox.width,y:a.marginBox.height},c={descriptor:e,placeholder:s,displaceBy:l,client:a,page:i};return c}function kS(e){var t=Ws("draggable"),r=e.descriptor,n=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,i=e.shouldRespectForcePress,s=e.isEnabled,l=De(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:s}},[a,s,i]),c=me(function(m){var v=o();return v||ee(),jS(r,v,m)},[r,o]),u=De(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:c}},[r,c,l,t]),d=g.useRef(u),p=g.useRef(!0);It(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),It(function(){if(p.current){p.current=!1;return}var m=d.current;d.current=u,n.draggable.update(u,m)},[u,n.draggable])}function NS(e){e.preventDefault()}function IS(e){var t=g.useRef(null),r=me(function(b){t.current=b},[]),n=me(function(){return t.current},[]),o=ra(wa),a=o.contextId,i=o.dragHandleUsageInstructionsId,s=o.registry,l=ra(Ys),c=l.type,u=l.droppableId,d=De(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:u}},[e.draggableId,e.index,c,u]),p=e.children,m=e.draggableId,v=e.isEnabled,y=e.shouldRespectForcePress,C=e.canDragInteractiveElements,w=e.isClone,k=e.mapped,I=e.dropAnimationFinished;if(!w){var N=De(function(){return{descriptor:d,registry:s,getDraggableRef:n,canDragInteractiveElements:C,shouldRespectForcePress:y,isEnabled:v}},[d,s,n,C,y,v]);kS(N)}var T=De(function(){return v?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:NS}:null},[a,i,m,v]),P=me(function(b){k.type==="DRAGGING"&&k.dropping&&b.propertyName==="transform"&&I()},[I,k]),x=De(function(){var b=ES(k),S=k.type==="DRAGGING"&&k.dropping?P:null,j={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":m,style:b,onTransitionEnd:S},dragHandleProps:T};return j},[a,T,m,k,P,r]),h=De(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return p(x,k.snapshot,h)}var sp=function(e,t){return e===t},lp=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},TS=function(t){return t.combine?t.combine.draggableId:null},DS=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function PS(){var e=We(function(o,a){return{x:o,y:a}}),t=We(function(o,a,i,s,l){return{isDragging:!0,isClone:a,isDropAnimating:!!l,dropAnimation:l,mode:o,draggingOver:i,combineWith:s,combineTargetFor:null}}),r=We(function(o,a,i,s,l,c,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:a,offset:o,dimension:i,forceShouldAnimate:u,snapshot:t(a,s,l,c,null)}}}),n=function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var s=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=Nt(a.impact),u=DS(a.impact),d=a.forceShouldAnimate;return r(e(s.x,s.y),a.movementMode,l,i.isClone,c,u,d)}if(a.phase==="DROP_ANIMATING"){var p=a.completed;if(p.result.draggableId!==i.draggableId)return null;var m=i.isClone,v=a.dimensions.draggables[i.draggableId],y=p.result,C=y.mode,w=lp(y),k=TS(y),I=a.dropDuration,N={duration:I,curve:Bs.drop,moveTo:a.newHomeClientOffset,opacity:k?Qn.opacity.drop:null,scale:k?Qn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:v,dropping:N,draggingOver:w,combineWith:k,mode:C,forceShouldAnimate:null,snapshot:t(C,m,w,k,N)}}}return null};return n}function cp(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var MS={mapped:{type:"SECONDARY",offset:qe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:cp(null)}};function AS(){var e=We(function(i,s){return{x:i,y:s}}),t=We(cp),r=We(function(i,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:t(s)}}}),n=function(s){return s?r(qe,s,!0):null},o=function(s,l,c,u){var d=c.displaced.visible[s],p=!!(u.inVirtualList&&u.effected[s]),m=ha(c),v=m&&m.draggableId===s?l:null;if(!d){if(!p)return n(v);if(c.displaced.invisible[s])return null;var y=gn(u.displacedBy.point),C=e(y.x,y.y);return r(C,v,!0)}if(p)return n(v);var w=c.displacedBy.point,k=e(w.x,w.y);return r(k,v,d.shouldAnimate)},a=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:o(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var c=s.completed;return c.result.draggableId===l.draggableId?null:o(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return a}var RS=function(){var t=PS(),r=AS(),n=function(a,i){return t(a,i)||r(a,i)||MS};return n},OS={dropAnimationFinished:zf},LS=df(RS,OS,null,{context:Us,pure:!0,areStatePropsEqual:sp})(IS);function up(e){var t=ra(Ys),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:F.createElement(LS,e)}function dp(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return F.createElement(up,be({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function FS(e){var t=g.useContext(wa);t||ee();var r=t.contextId,n=t.isMovementAllowed,o=g.useRef(null),a=g.useRef(null),i=e.children,s=e.droppableId,l=e.type,c=e.mode,u=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,v=e.snapshot,y=e.useClone,C=e.updateViewportMaxScroll,w=e.getContainerForClone,k=me(function(){return o.current},[]),I=me(function(j){o.current=j},[]);me(function(){return a.current},[]);var N=me(function(j){a.current=j},[]),T=me(function(){n()&&C({maxScroll:Wf()})},[n,C]);pS({droppableId:s,type:l,mode:c,direction:u,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:d,getDroppableRef:k});var P=F.createElement(yS,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(j){var A=j.onClose,M=j.data,E=j.animate;return F.createElement(vS,{placeholder:M,onClose:A,innerRef:N,animate:E,contextId:r,onTransitionEnd:T})}),x=De(function(){return{innerRef:I,placeholder:P,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,P,I]),h=y?y.dragging.draggableId:null,b=De(function(){return{droppableId:s,type:l,isUsingCloneFor:h}},[s,h,l]);function S(){if(!y)return null;var j=y.dragging,A=y.render,M=F.createElement(up,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(E,D){return A(E,D,j)});return hu.createPortal(M,w())}return F.createElement(Ys.Provider,{value:b},i(x,v),S())}var ri=function(t,r){return t===r.droppable.type},qc=function(t,r){return r.draggables[t.draggable.id]},$S=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=be({},t,{shouldAnimatePlaceholder:!1}),n=We(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),o=We(function(i,s,l,c,u,d){var p=u.descriptor.id,m=u.descriptor.droppableId===i;if(m){var v=d?{render:d,dragging:n(u.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:v}}if(!s)return r;if(!c)return t;var C={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:C,useClone:null}}),a=function(s,l){var c=l.droppableId,u=l.type,d=!l.isDropDisabled,p=l.renderClone;if(s.isDragging){var m=s.critical;if(!ri(u,m))return r;var v=qc(m,s.dimensions),y=Nt(s.impact)===c;return o(c,d,y,y,v,p)}if(s.phase==="DROP_ANIMATING"){var C=s.completed;if(!ri(u,C.critical))return r;var w=qc(C.critical,s.dimensions);return o(c,d,lp(C.result)===c,Nt(C.impact)===c,w,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var k=s.completed;if(!ri(u,k.critical))return r;var I=Nt(k.impact)===c,N=!!(k.impact.at&&k.impact.at.type==="COMBINE"),T=k.critical.droppable.id===c;return I?N?t:r:T?t:r}return r};return a},BS={updateViewportMaxScroll:X1};function _S(){return document.body||ee(),document.body}var zS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_S},fp=df($S,BS,null,{context:Us,pure:!0,areStatePropsEqual:sp})(FS);fp.defaultProps=zS;const HS=({customField:e,index:t,onDelete:r,expandToEdit:n,length:o})=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Custom Field"})]})}),o>1&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:a=>{a.stopPropagation(),r(t)},children:"×"})})]})}),VS=g.memo(HS),ye={STRING:"string",NUMBER:"number",DATE:"date",DATETIME:"datetime",TIME:"time",PHONE_NUMBER:"phone",EMAIL:"email",CUSTOM:"custom"},GS=["GET","POST","PUT"],US=["text","number","date","param","header"],pp=[{value:ye.STRING,label:"Any Text"},{value:ye.NUMBER,label:"Number"},{value:ye.DATE,label:"Date"},{value:ye.DATETIME,label:"Date & time"},{value:ye.TIME,label:"Time only"},{value:ye.PHONE_NUMBER,label:"Phone number"},{value:ye.EMAIL,label:"Email Address"},{value:ye.CUSTOM,label:"Custom value"}],mp=["YYYY-MM-DD","DD-MM-YYYY","MM-DD-YYYY","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],WS={jpg:"image/*",jpeg:"image/*",png:"image/*",gif:"image/*",mp4:"video/*",avi:"video/*",mov:"video/*",wmv:"video/*",mp3:"audio/*",wav:"audio/*",pdf:"application/pdf"},na=[{id:Ze(),type:"start",data:{message:"Chat Window Opened"},position:{x:10,y:10}}],qS=Ze(),YS=Ze();function Ze(e=12){const t="abcdefghijklmnopqrstuvwxyz0123456789";let r="";const n=t.length,o=Date.now().toString(36);for(let a=0;a<e;a++)r+=t.charAt(Math.floor(Math.random()*n));return o+r}const Yc=e=>{if(e&&e.flows.length>0){let t=XS(e);const r=tE(e);return t=[...na,...t],{flowNodes:t,flowEdges:r}}return{flowNodes:[...na],flowEdges:[]}},XS=e=>e.flows.map((r,n)=>({id:r.flowId,type:r.type,data:KS(r),position:eE(r,n,e)})),KS=e=>{var n,o,a,i,s,l,c,u,d,p,m,v,y,C,w,k,I,N,T,P,x,h,b,S;const t={};switch(["message","leadForm","gpt","leadFlow","stop","file","map","question","callConnect","otp","customForm","options"].includes(e.type)&&(t.message=typeof e.content=="string"?e.content:e.content[0]),e.type){case"options":t.fieldLabel=e.fieldLabel,t.fallback=e.fallback?e.fallback:(n=e.meta)==null?void 0:n.fallback,t.dataSource=e.dataSource?e.dataSource:(o=e.meta)==null?void 0:o.dataSource,t.property=e.property,t.subOptions=JS(e.children);break;case"file":t.fileType=(a=e.meta)==null?void 0:a.type,(i=e.meta)!=null&&i.media&&(ZS(e.meta.media,e)||!e.meta.media[0].name)?(t.urls=e.meta.media.map(A=>A.url),t.files=[]):(t.urls=[],t.files=(s=e.meta)!=null&&s.media?e.meta.media:[],t.fileType||(t.fileType=(l=e.meta)!=null&&l.media?oE(e.meta.media):""));break;case"map":t.url=(u=(c=e.meta)==null?void 0:c.url)==null?void 0:u.trim();break;case"question":t.fieldLabel=e.fieldLabel,t.property=e.property,t.dateFormat=((d=e.meta)==null?void 0:d.dateFormat)||"",t.errorMessage=((p=e.meta)==null?void 0:p.errorMessage)||"";const j=e.fieldType?e.fieldType:(m=e.meta)==null?void 0:m.type;t.fieldType=j,(j&&j===ye.DATE||j===ye.DATETIME)&&(t.min=(v=e.meta)!=null&&v.min?Kc(e,"min"):t.min,t.max=(y=e.meta)!=null&&y.max?Kc(e,"max"):t.max),j&&j===ye.TIME?(t.min=(C=e.meta)!=null&&C.min?Zc((w=e.meta)==null?void 0:w.min):(k=e.meta)==null?void 0:k.min,t.max=(I=e.meta)!=null&&I.min?Zc((N=e.meta)==null?void 0:N.max):(T=e.meta)==null?void 0:T.max):(j&&j===ye.STRING||j===ye.NUMBER)&&(t.min=e.min?e.min:(P=e.meta)==null?void 0:P.min,t.max=e.min?e.min:(x=e.meta)==null?void 0:x.max),j===ye.CUSTOM&&(t.custom=e.custom?e.custom:(h=e.meta)==null?void 0:h.custom);break;case"http":if(t.property=e.property||"",e.meta){t.displayText=e.meta.displayText||"",t.requestType=e.meta.requestType||"",t.hideData=e.meta.hideData||!1,t.url=((b=e.meta.url)==null?void 0:b.trim())||"",t.params=e.meta.params||[],t.headers=e.meta.headers||[],t.successFlowId=e.meta.successFlowId?e.meta.successFlowId:Ze(),t.failureFlowId=e.meta.failureFlowId?e.meta.failureFlowId:Ze();const A=(S=e.meta.statusWiseFlowId)==null?void 0:S.map(M=>({statusCode:M.statusCode||"",id:M.flowId||""}));t.statusWiseFlow=A||[]}break;case"callConnect":e.meta&&(t.callConnectId=e.meta.callConnectId,t.callAccepted=e.meta.callAccepted,t.callRejected=e.meta.callRejected,t.successMessage=e.meta.successMessage,t.failureMessage=e.meta.failureMessage);break;case"otp":e.meta&&(t.otpType=e.meta.otpType);break;case"customForm":t.property=e.property,e.meta&&(t.customFields=QS(e.meta.customFields));break}return t},ZS=(e,t)=>e!=null&&e.files?(t.meta.media=e.files,!0):!1,QS=(e=[])=>e.map(t=>({id:t.id,title:t.title,property:t.property,whatsAppQuestion:t.whatsAppQuestion,fieldType:t.fieldType,dateFormat:t==null?void 0:t.dateFormat,min:t==null?void 0:t.min,max:t==null?void 0:t.max,custom:t==null?void 0:t.custom,isCollapsed:!1})),JS=(e=[])=>e.map(t=>({id:t.flowId?t.flowId:t.id,title:t.title,subTitle:t.subTitle,value:t.value,imageUrl:t.imageUrl,category:t.category,isLink:t.isLink,description:t.description,leadEmailTo:t.leadEmailTo?t.leadEmailTo:"",leadEmailCc:t.leadEmailCc?[...t.leadEmailCc]:[],isCollapsed:!1})),eE=(e,t,r)=>{var o;let n={x:t+150,y:t+50};return e.flowId&&r.positions&&(n=((o=r.positions.find(a=>a.nodeId===e.flowId))==null?void 0:o.position)||n),n},tE=e=>{let t={};e!=null&&e.startFlowId&&(t={id:na[0].id,source:na[0].id,target:e==null?void 0:e.startFlowId,type:"custom"});const r=e.flows;let n=r.filter(o=>o.nextFlowId).map(o=>({id:`e-${o.flowId}-${o.nextFlowId}`,source:o.flowId,target:o.nextFlowId,type:"custom"}));return r.forEach(o=>{var a;if(o.children&&o.children.length>0&&o.children.forEach(i=>{i.nextFlowId&&n.push({id:`e-${i.flowId?i.flowId:i.id}-${i.nextFlowId}`,source:o.flowId,target:i.nextFlowId,type:"custom",sourceHandle:i.flowId?i.flowId:i.id})}),o.type==="http"&&o.meta){const i=o.meta;i.successFlowId&&n.push({id:`e-${qS}-${i.successFlowId}`,source:o.flowId,target:i.successFlowId,type:"custom",sourceHandle:i.successFlowId}),i.failureFlowId&&n.push({id:`e-${YS}-${i.failureFlowId}`,source:o.flowId,target:i.failureFlowId,type:"custom",sourceHandle:i.failureFlowId}),(a=i.statusWiseFlowId)==null||a.forEach(s=>{s.nextFlowId&&n.push({id:`e-${s.flowId?s.flowId:""}-${s.nextFlowId}`,source:o.flowId,target:s.nextFlowId,type:"custom",sourceHandle:s.flowId})})}}),r.forEach(o=>{o.children&&o.children.length>0&&o.children.forEach(a=>{a.nextFlowId&&n.push({id:`e-${a.flowId?a.flowId:a.id}-${a.nextFlowId}`,source:o.flowId,target:a.nextFlowId,type:"custom",sourceHandle:a.flowId?a.flowId:a.id})})}),n=Object.keys(t).length>0?[t,...n]:[...n],n},rE=(e,t)=>{const r=e.dataTransfer.getData("application/reactflow");return{id:Ze(),type:r,position:t,data:{message:""},...r==="options"&&{data:{fieldLabel:"",property:"",message:"",fallback:"",subOptions:[{id:Ze(),title:"",subTitle:"",value:"",leadEmailTo:"",leadEmailCc:[],category:"",description:"",isCollapsed:!0,isLink:!1}]}},...r==="file"&&{data:{message:"",fileType:"pdf",urls:[],files:[]}},...r==="map"&&{data:{message:"",url:""}},...r==="leadForm"&&{data:{message:"This will display lead form for the visitor"}},...r==="gpt"&&{data:{message:"From here on visitors would be handled by GPT"}},...r==="question"&&{data:{message:"",fieldLabel:"",property:"",type:"",meta:{min:"",max:"",regex:"",errorMessage:""}}},...r==="http"&&{data:{propertyName:"",displayText:"",url:"",requestType:"",hideData:!1,params:[],headers:[],successFlowId:Ze(),failureFlowId:Ze(),statusWiseFlow:[]}},...r==="callConnect"&&{data:{message:"",meta:{callConnectId:"",callAccepted:"",callRejected:"",successMessage:"",failureMessage:""},callAcceptedId:Ze(),callRejectedId:Ze()}},...r==="otp"&&{data:{message:"",meta:{otpType:""}}},...r==="customForm"&&{data:{property:"",message:"",customFields:[{id:Ze(),title:"",property:"",fieldType:"",isCollapsed:!0}]}}}},nE=e=>WS[e.toLowerCase()]||"",oE=e=>{const t=new Set;for(const r of e){const n=r.name.split(".").pop();if(n){const o=nE(n);o&&t.add(o)}}return Array.from(t).join(", ")},aE={pdf:"application/pdf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",mp4:"video/mp4",mov:"video/mp4",avi:"video/mp4"},iE=e=>e==="application/pdf"||e==="pdf"?"pdf":e.startsWith("image/")?"image":e.startsWith("video/")?"video":"unknown",Xc=e=>{const t=lE(e);return aE[t]||""},sE=e=>(new URL(e).pathname.split("/").pop()||"").split("?")[0],lE=e=>{const t=sE(e),r=t.lastIndexOf(".");return r>-1?t.substring(r+1).toLowerCase():""},Kc=(e,t)=>{var a;let r=new Date;const n=t==="min"?"min":"max",o=e[n]||((a=e.meta)==null?void 0:a[n]);if(o){const[i,s]=o.split("T");r=new Date(i);const[l,c,u]=s.split(":");r.setHours(l||0),r.setMinutes(c||0),r.setSeconds(u.split(".")[0]||0)}return r||""},Zc=e=>{const t=new Date,r=/^([01]\d|2[0-3]):([0-5]\d)$/.test(e);let n;if(r){const[o,a]=e.split(":").map(Number);n=new Date(t),n.setHours(o,a,0,0)}else n=new Date(t),n.setHours(23,59,59,999);return n},Io=(e,t,r)=>{const n=d=>d<10?"0"+d:d;t&&e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),r&&(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(99));const o=e.getFullYear(),a=n(e.getMonth()+1),i=n(e.getDate()),s=n(e.getHours()),l=n(e.getMinutes()),c=n(e.getSeconds()),u=(e.getMilliseconds()/1e3).toFixed(3).slice(2,5);return`${o}-${a}-${i}T${s}:${l}:${c}.${u}Z`},Qc=e=>{if(e){const t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`}return""},Xs=(e,t,r)=>{const n=[e],o=new Set,a=[];for(;n.length>0;){const i=n.pop();if(o.has(i))continue;o.add(i);const l=t.filter(u=>u.target===i).map(u=>u.source),c=r.filter(u=>l.includes(u.id));a.push(...c),n.push(...l)}return a},Ks=(e,t)=>e.filter(a=>t?a.type===t:["options","question","http"].includes(a.type)).map(a=>a.data.property).filter(a=>!a||a.trim()===""?!1:/^[a-zA-Z0-9-_]+$/.test(a.trim())),oa=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function cE(e){return e.charAt(0).toUpperCase()+e.slice(1)}const uE=e=>{const t={};return e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(t.message="Error in Message Node",e.errors.message="Message must be between 3 and 1500 characters"):(t.message="Error in Message Node",e.errors.message="Message is required"),t},dE=(e,t,r,n)=>{const o={};t.errors={};let a=[];const i=Xs(e.id,n,r);a=Ks(i,"http"),c(t.message||"","message",-1,o,t.errors),l("dataSource",t.dataSource||"",-1,a,t.dataSource,o,t.errors),(t.subOptions||[]).forEach((u,d)=>{const p={};l("title",u.title,d,a,null,o,p,(v,y,C,w,k)=>c(v,y,C,w,k)),t.dataSource&&!u.isLink&&l("value",u.value,d,a,null,o,p,(v,y,C,w,k)=>c(v,y,C,w,k));const m=new Set;if(u.leadEmailTo){const v=u.leadEmailTo.trim();oa(v)?m.has(v)?(o[`leadEmailTo_${d}`]="Duplicate Lead Email To",p.leadEmailTo="Duplicate Lead Email To"):m.add(v):(o[`leadEmailTo_${d}`]="Lead Email To must be a valid email",p.leadEmailTo="Lead Email To must be a valid email")}u.leadEmailCc&&Array.isArray(u.leadEmailCc)&&u.leadEmailCc.forEach((v,y)=>{const C=v.trim();oa(C)?m.has(C)?(o[`subOptions[${d}].leadEmailCc[${y}]`]="Duplicate email in Lead Email Cc",p.leadEmailCc="Duplicate email in Lead Email Cc"):m.add(C):(o[`subOptions[${d}].leadEmailCc[${y}]`]="Invalid email format",p.leadEmailCc="Invalid email format")}),t.subOption=p});function l(u,d,p,m,v,y,C,w){if(!(w&&!w(d,u,p,y,C))&&v){const k=d.indexOf("."),I=k!==-1?d.slice(0,k):d;m.includes(I)||(y[`${u}_${p}`]=`Invalid property: ${I} is not in the properties list`,C[u]=`Invalid property: ${I} is not in the properties list`)}}function c(u,d,p,m,v){if(!u||u.length<1||u.length>500){const y=`${cE(d)} must be between 1 and 500 characters`;return m[`${d}_${p}`]=y,v[d]=y,!1}return!0}return o},fE=e=>{var o;const t={};e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(t.message="Error in File Node",e.errors.message="Message must be between 3 and 1500 characters"):(t.message="Error in File Node",e.errors.message="Message is required");const r=Array.isArray(e.urls)&&e.urls.every(a=>gp(a));r||(t.message="Error in File Node",e.errors.urls="Invalid image URL"),e.fileType||(t.message="Error in File Node",e.errors.fileType="File type is required");const n=e.files&&mE(e.files,e.fileType);return(r&&((o=e.urls)==null?void 0:o.length)===0&&!n||!r&&!n)&&(t.message="Error in File Node",e.errors.fileOrUrl="Either valid URLs or valid files must be provided"),t},pE=e=>{const t={};return e.errors={},e.message?(e.message.length<3||e.message.length>500)&&(t.message="Error in Maps Node",e.errors.message="Message must be between 3 and 500 characters"):(t.message="Error in Maps Node",e.errors.message="Message is required"),(!e.url||!gp(e.url))&&(t.message="Error in Maps Node",e.errors.url="URL must be valid"),t},mE=(e,t)=>{if(!e||e.length===0)return!1;const n={pdf:["pdf","application/pdf"],"application/pdf":["pdf","application/pdf"],images:["jpg","jpeg","png","gif"],"image/*":["jpg","jpeg","png","gif"],video:["mp4","avi","mov"],"video/*":["mp4","avi","mov"]}[t];return e.every(o=>{var i;const a=(i=o.name.split(".").pop())==null?void 0:i.toLowerCase();return Array.isArray(n)?n.includes(a||""):a===n})},gp=e=>/^(http|https|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e),Bi=(e,t)=>{switch(t=t==null?void 0:t.trim(),e){case"message":if(!t)return"Message is required";if(t.length<3)return"Message must be at least 3 characters";if(t.length>500)return"Message must be at most 500 characters";break;case"title":if(!t)return"Title is required";if(t.length<1)return"Title must be at least 1 characters";if(t.length>500)return"Title must be at most 500 characters";break;case"leadEmailTo":if(t&&!/\S+@\S+\.\S+/.test(t))return"Lead Email To is invalid";break;case"leadEmailCc":if(t&&!/\S+@\S+\.\S+/.test(t))return"Lead Email CC is invalid";break}return""},gE=e=>{const t={};switch(e.errors={},e.message||(t.message="Error in Question Node",e.errors.message="A message is required"),e.fieldType||(t.message="Error in Question Node",e.errors.fieldType="Question Type is required"),e.property&&(/^[a-zA-Z0-9-_]+$/.test(e.property.trim())||(t.message="Error in Question Node",e.errors.property="Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")),e.fieldType){case ye.DATE:{const r=At().startOf("day"),n=At().add(3,"months").endOf("day"),o=e.min?At(e.min).startOf("day"):r,a=e.max?At(e.max).endOf("day"):n;o&&o.isBefore(r)&&(t.message="Error in Question Node",e.errors.min="Min date cannot be before today."),a&&a.isAfter(n)&&(t.message="Error in Question Node",e.errors.max="Max date cannot be more than 3 months from today."),o&&a&&o.isAfter(a)&&(t.message="Error in Question Node",e.errors.min="Min date cannot be after Max date.");break}case ye.DATETIME:{const r=e.min?At(e.min):null,n=e.max?At(e.max):null,o=At().startOf("day"),a=At().add(3,"months").endOf("day");r&&r.isBefore(o)&&(t.message="Error in Question Node",e.errors.min="Min datetime cannot be before today."),n&&n.isAfter(a)&&(t.message="Error in Question Node",e.errors.max="Max datetime cannot be more than 3 months from today."),r&&n&&r.isAfter(n)&&(t.message="Error in Question Node",e.errors.min="Min datetime cannot be after Max datetime.");break}case ye.TIME:{const r=e.min?At(e.min):null,n=e.max?At(e.max):null,o=At().startOf("day"),a=At().endOf("day");r&&r.isBefore(o)&&(t.message="Error in Question Node",e.errors.min="Min time cannot be before today."),n&&n.isAfter(a)&&(t.message="Error in Question Node",e.errors.max="Max time cannot be after today."),r&&n&&r.isAfter(n)&&(t.message="Error in Question Node",e.errors.min="Min time cannot be after Max time.");break}case"custom":e.custom||(t.message="Error in Question Node",e.errors.custom="A custom regex is required.");break;case"string":case"number":case"age":{const r=e.min?parseInt(e.min,10):void 0,n=e.max?parseInt(e.max,10):void 0,o=hE(r,n,e.fieldType);o&&(t.message="Error in Question Node",e.errors.answer=o);break}}return t},hE=(e,t,r)=>{if(e&&typeof e!="number"||t&&typeof t!="number")return`Both min and max values must be valid numbers for ${r}.`;if(e&&t&&e>t)return`Min value cannot be greater than Max value for ${r}.`;if(r==="string"){if(e&&e<3)return"Min length for string must be at least 3.";if(t&&t>2500)return"Max length for string must not exceed 500."}if(r==="number"){if(e&&(e<1||e>9999999999))return`Min value for ${r} must be between 1 and ${9999999999}.`;if(t&&(t<1||t>9999999999))return`Max value for ${r} must be between 1 and ${9999999999}.`}return""},vE=e=>{const t={};return e.errors={},["message","successMessage","failureMessage"].forEach(r=>aa(e[r],r,t,"Call Connect",e)),["callConnectId","callAccepted","callRejected"].forEach(r=>aa(e[r],r,t,"Call Connect",e,!1)),t},yE=e=>{const t={};return e.errors={},aa(e.message,"message",t,"OTP",e),aa(e.otpType,"otpType",t,"OTP",e,!1),t},_i=(e,t,r,n,o)=>{let a="";switch(e){case"message":t?t.length<3?a="Message must be at least 3 characters":t.length>500&&(a="Message must be at most 500 characters"):a="Message is required";break;case"property":t?t.length<3?a="Property must be at least 3 characters":t.length>500?a="Property must be at most 500 characters":/^[A-Za-z][\w]*$/.test(t)?o!=null&&o.has(t)&&(a="Property name must be unique"):a='Property must start with a letter, cannot contain spaces, or special characters like "@", and should not start with a number':a="Property is required";break;case"title":t?t.length<3?a="Title must be at least 1 character":t.length>500&&(a="Title must be at most 500 characters"):a="Title is required";break;case"whatsAppQuestion":t?t.length<3?a="whatsAppQuestion must be at least 1 character":t.length>500&&(a="whatsAppQuestion must be at most 500 characters"):a="whatsAppQuestion is required";break;case"fieldType":t||(a="Field Type is required");break;case"custom":r===e&&(t||(a="A custom regex is required."));break}return a};function aa(e,t,r,n,o,a=!0){e?a&&(e.length<3||e.length>500)&&(r.message=`Error in ${t} Node`,o.errors[t]=`${t} must be between 3 and 500 characters`):(r.message=`Error in ${n} Node`,o.errors[t]=`${t} is required`)}const bE=(e,t,r)=>{var l;const n=e.data,o={},a={};n.errors={};let i=[];const s=Xs(e.id,r,t);if(i=Ks(s),!n.url||n.url.length===0)o.message="Error in HTTP Node";else{const c=n.url.match(/\{(.*?)\}/);if(c){const u=(l=c[1])==null?void 0:l.trim();(!/^[a-zA-Z0-9-_]+$/.test(u)||i.length==0||!i.includes(u))&&(a.url="HTTP Node - Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")}}return(!n.requestType||n.requestType.length===0)&&(o.message="Error in HTTP Node"),n.statusWiseFlow.length&&n.statusWiseFlow.forEach(c=>{c.statusCode||(o.message="Error in HTTP Node")}),n.params.length&&(n.errors.params=[],n.params.forEach((c,u)=>{const d=Jc(c,u,i,"Param",o);d&&Object.keys(d).length>0&&n.errors.params.push({index:u,errors:d.errors})})),n.headers.length&&(n.errors.headers=[],n.headers.forEach((c,u)=>{const d=Jc(c,u,i,"Header",o);d&&Object.keys(d).length>0&&n.errors.headers.push({index:u,errors:d.errors})})),n.successFlowId||(o.message="Error in HTTP Node",n.errors.successFlowStatusCode="HTTP Node - Success flow statusCode is mandatory"),n.failureFlowId||(o.message="Error in HTTP Node",n.errors.failureFlowStatusCode="HTTP Node - Failure flow statusCode is mandatory"),n.statusWiseFlow&&n.statusWiseFlow.length>0&&(n.errors.statusWiseFlow=[],n.statusWiseFlow.forEach((c,u)=>{c.statusCode||n.errors.statusWiseFlow.push({index:u,message:"HTTP Node - Status code is mandatory"})})),{newErrors:o,newWarnings:a}},Jc=(e,t,r,n,o)=>{var c;const a={},{key:i,valueType:s,value:l}=e;if(i||(a.key=`${n} - Key is mandatory`,o.message="Error in HTTP Node"),s||(a.valueType=`${n} - ValueType is mandatory`,o.message="Error in HTTP Node"),l?s==="number"&&isNaN(Number(l))?(a.value=`${n} - Value is not a valid Number`,o.message="Error in HTTP Node"):s==="date"&&!(l instanceof Date)&&(a.value=`${n} - Value is not a valid Date`,o.message="Error in HTTP Node"):(a.value=`${n} - Value is mandatory`,o.message="Error in HTTP Node"),(s=="param"||s=="header")&&((c=Object.keys(a))==null?void 0:c.length)===0){const u=l.trim();u?(!/^[A-Za-z][\w]*$/.test(u)||r.length===0||!r.includes(u))&&(a.property=`${n} - Property must contain only alphanumeric characters, hyphens (-), underscores (_), and no spaces.`,o.message="Error in HTTP Node"):(a.property=`${n} - Property must contain only alphanumeric characters, hyphens (-), underscores (_), and no spaces.`,o.message="Error in HTTP Node")}return Object.keys(a).length>0?{index:t,errors:a}:null},wE=({optionsData:e,save:t,close:r})=>{const[n,o]=g.useState(e),[a,i]=g.useState([]),[s,l]=g.useState({}),c=g.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),u=g.useMemo(()=>{const x=new Date;return x.setMonth(x.getMonth()+3),x.setHours(23,59,59,999),x},[]);g.useEffect(()=>{o(e)},[e]);const d=(x,h,b,S,j)=>{const A=_i(h,b,S);A&&i(M=>{var E;return{...M,customFields:{...M.customFields,[x]:{...(E=M.customFields)==null?void 0:E[x],[h]:A}}}})},p=(x,h)=>{const{name:b,value:S}=h.target,j=[...n.customFields],A={...j[x]};A[b]=S,j[x]=A,o({...n,customFields:j}),i(M=>{var D,O;const E={...M};if((O=(D=E==null?void 0:E.customFields)==null?void 0:D[x])!=null&&O[b]){delete E.customFields[x][b];const B=E.customFields[x];B&&Object.values(B).every(L=>L==="")&&delete E.customFields[x],Object.keys(E.customFields).length===0&&delete E.customFields}return E})},m=(x,h)=>{var M,E;(E=(M=a==null?void 0:a.customFields)==null?void 0:M[x])==null||delete E[h.target.name];const{value:b}=h.target,{min:S,max:j}=v(b),A=[...n.customFields];A[x].fieldType=b,b!=="phone"&&b!=="email"&&b!=="custom"&&(A[x].min=S,A[x].max=j),b==="custom"&&(A[x].custom=""),o({...n,customFields:A})},v=g.useCallback(x=>{switch(x){case ye.CUSTOM:return l({min:"Custom Expression",max:""}),{min:"",max:""};case ye.STRING:return l({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case ye.NUMBER:return l({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case ye.DATE:return l({min:"Min Date",max:"Max Date"}),{min:"",max:""};case ye.DATETIME:return l({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case ye.TIME:return l({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),y=x=>{const h={customFields:{}},b=new Set;return x.customFields.map((j,A)=>{delete x.customFields[A].isCollapsed;const M={};Object.keys(j).map(E=>{const D=j[E],O=_i(E,D,j.fieldType,j,b);O&&(M[E]=O)}),M.property===void 0&&b.add(j.property),Object.keys(M).length>0&&(h.customFields[A]=M,j.isCollapsed=!1)}),i(h),Object.keys(h.customFields).some(j=>Object.keys(h.customFields[j]).length>0)},C=x=>{const h=n.customFields.map((b,S)=>S===x?{...b,isCollapsed:!b.isCollapsed}:b);o({...n,customFields:h})},w=()=>{o({...n,customFields:[...n.customFields,{id:Ze(),property:"",title:"",whatsAppQuestion:"",fieldType:""}]})},k=x=>{o({...n,customFields:n.customFields.filter((h,b)=>b!==x)})},I=()=>{y(n)||(t(n),r())},N=()=>{y(n)||(t(n),r())},T=()=>{const x=document.querySelector(".p-datepicker");x&&(x.style.visibility="hidden")},P=()=>f.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>T(),children:"Close"});return f.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:f.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[f.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),f.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[n.customFields.map((x,h)=>{var b,S,j,A,M,E,D,O,B,L,R,$,V,H,G,q,z,_,X,K,ae,W,se,we,he,re,ke,Ie,xe,le;return f.jsxs("div",{className:"accordion px-2 mb-2",children:[f.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>C(h),children:[f.jsx("span",{className:"mr-3",children:x.isCollapsed?f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),f.jsx("span",{className:"flex-1",children:x.title||`Custom Filed ${h+1}`}),n.customFields.length>1&&f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:Q=>{Q.stopPropagation(),k(h)},children:"×"})]}),!x.isCollapsed&&f.jsx("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Property Name"}),f.jsx("input",{title:"Property Name",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"property",value:x.property,onChange:Q=>p(h,Q),onBlur:Q=>d(h,"property",Q.target.value)}),((S=(b=a.customFields)==null?void 0:b[h])==null?void 0:S.property)&&f.jsx("div",{className:"text-red-500 text-sm",children:(j=a.customFields[h])==null?void 0:j.property.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Title"}),f.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:x.title,onChange:Q=>p(h,Q),onBlur:Q=>d(h,"title",Q.target.value)}),((M=(A=a.customFields)==null?void 0:A[h])==null?void 0:M.title)&&f.jsx("div",{className:"text-red-500 text-sm",children:(E=a.customFields[h])==null?void 0:E.title.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"WhatApp Question"}),f.jsx("input",{title:"whatsAppQuestion",type:"whatsAppQuestion",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"whatsAppQuestion",value:x.whatsAppQuestion,onChange:Q=>p(h,Q),onBlur:Q=>d(h,"whatsAppQuestion",Q.target.value)}),((O=(D=a.customFields)==null?void 0:D[h])==null?void 0:O.whatsAppQuestion)&&f.jsx("div",{className:"text-red-500 text-sm",children:(B=a.customFields[h])==null?void 0:B.whatsAppQuestion.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Select Category"}),f.jsxs("select",{title:"Field Type",name:"fieldType",value:x.fieldType,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",style:{height:"25px"},onChange:Q=>m(h,Q),onBlur:Q=>d(h,"fieldType",Q.target.value,x.fieldType),children:[f.jsx("option",{value:"",children:"Select Value Type"}),pp.map(Q=>f.jsx("option",{value:Q.value,children:Q.label},Q.value))]}),((R=(L=a.customFields)==null?void 0:L[h])==null?void 0:R.fieldType)&&f.jsx("div",{className:"text-red-500 text-sm",children:($=a.customFields[h])==null?void 0:$.fieldType.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})}),[ye.STRING,ye.NUMBER].includes(x.fieldType)&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Min & Max"}),f.jsxs("div",{className:"flex space-x-2 ",children:[f.jsxs("div",{children:[f.jsx("input",{title:s.min||"Min Length",type:"number",name:"min",placeholder:s.min,value:x.min||"",onChange:Q=>p(h,Q),onBlur:Q=>d(h,"min",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),((H=(V=a.customFields)==null?void 0:V[h])==null?void 0:H.min)&&f.jsx("div",{className:"text-red-500 text-sm",children:(G=a.customFields[h])==null?void 0:G.min.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]}),f.jsxs("div",{children:[f.jsx("input",{title:s.max||"Max Length",type:"number",name:"max",placeholder:s.max,value:x.max||"",onChange:Q=>p(h,Q),style:{height:"25px"},onBlur:Q=>d(h,"max",Q.target.value,x.fieldType),className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),((z=(q=a.customFields)==null?void 0:q[h])==null?void 0:z.max)&&f.jsx("div",{className:"text-red-500 text-sm",children:(_=a.customFields[h])==null?void 0:_.max.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})]})]})}),[ye.DATE,ye.DATETIME,ye.TIME].includes(x.fieldType)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"min-w-[200px] ",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Select Date Format"}),f.jsxs("select",{title:"Date Format",name:"dateFormat",value:x.dateFormat,onChange:Q=>p(h,Q),onBlur:Q=>d(h,"dateFormat",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Date Format"}),mp.map(Q=>f.jsx("option",{value:Q,children:Q},Q))]}),((K=(X=a.customFields)==null?void 0:X[h])==null?void 0:K.dateFormat)&&f.jsx("div",{className:"text-red-500 text-sm",children:(ae=a.customFields[h])==null?void 0:ae.dateFormat.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})}),f.jsx("div",{className:"min-w-[200px] mt-2",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Min"}),f.jsx(Fn,{name:"min",tooltip:s.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:s.min||"Min",minDate:c,maxDate:u,value:x.min?new Date(x.min):null,onChange:Q=>p(h,Q),onBlur:Q=>d(h,"min",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:x.fieldType!==ye.DATE,timeOnly:ye.TIME===x.fieldType,autoZIndex:!0,footerTemplate:P,showButtonBar:!0}),((se=(W=a.customFields)==null?void 0:W[h])==null?void 0:se.min)&&f.jsx("div",{className:"text-red-500 text-sm",children:(we=a.customFields[h])==null?void 0:we.min.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})}),f.jsx("div",{className:"min-w-[200px] mt-2",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Max"}),f.jsx(Fn,{name:"max",tooltip:s.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,value:x.max?new Date(x.max):null,placeholder:s.max||"Max",minDate:c,maxDate:u,onChange:Q=>p(h,Q),onBlur:Q=>d(h,"max",Q.target.value,x.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:x.fieldType!==ye.DATE,timeOnly:ye.TIME===x.fieldType,autoZIndex:!0,footerTemplate:P,showButtonBar:!0}),((re=(he=a.customFields)==null?void 0:he[h])==null?void 0:re.max)&&f.jsx("div",{className:"text-red-500 text-sm",children:(ke=a.customFields[h])==null?void 0:ke.max.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})})]}),x.fieldType===ye.CUSTOM&&f.jsx(f.Fragment,{children:f.jsx("div",{className:"min-w-[200px] ",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Custom "}),f.jsx("input",{title:"Custom Expression",name:"custom",type:"text",placeholder:s.min||"Custom Expression",value:x.custom||"",onBlur:Q=>d(h,"custom",Q.target.value,x.fieldType),onChange:Q=>p(h,Q),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded"}),((xe=(Ie=a.customFields)==null?void 0:Ie[h])==null?void 0:xe.custom)&&f.jsx("div",{className:"text-red-500 text-sm",children:(le=a.customFields[h])==null?void 0:le.custom.split(". ").map((Q,Ee)=>f.jsx("small",{children:Q},Ee))})]})})})]})})]},h)}),f.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[f.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:I,children:[f.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),f.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:N,children:"Save & Close"})]})})]})},xE=g.memo(wE),hp=({children:e,...t})=>{const[r,n]=g.useState(!1);return g.useEffect(()=>{const o=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(o),n(!1)}},[]),r?f.jsx(fp,{...t,children:e}):null},CE=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:o}=e,[a,i]=g.useState(!1),[s,l]=g.useState(!1),[c,u]=g.useState({}),[d,p]=g.useState(r.data),[m,v]=g.useState(r.data.message),y=(x,h)=>{delete r.data.errors;const b={...d,[x]:h};p(b),o(r.id,b)},C=(x,h)=>{const b=_i(x,h);u(S=>({...S,[x]:b}))},w=()=>{delete r.data.errors;const x={id:Ze(),property:"",title:"",whatsAppQuestion:"",fieldType:""},h={...d,customFields:[...d.customFields,x]};p(h),o(r.id,h),i(!0)},k=x=>{delete r.data.errors;const h=d.customFields.filter((S,j)=>j!==x),b={...d,customFields:h};p(b),o(r.id,b)},I=x=>{const h={...x,customFields:x.customFields.map(b=>({...b}))};v(Math.random().toString()),p(h),o(r.id,h)},N=()=>i(!1),T=x=>{d.customFields.forEach(h=>{h.isCollapsed=!0}),d.customFields[x].isCollapsed=!1,i(!0)},P=x=>{const{source:h,destination:b}=x;if(!b)return;const S=Array.from(d.customFields),[j]=S.splice(h.index,1);S.splice(b.index,0,j);const A={...d,customFields:S};p(A),o(r.id,A)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Custom Form"}),f.jsxs("div",{className:"flex",children:[f.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(x=>!x),children:f.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:f.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),f.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&f.jsxs("div",{className:"space-y-2 py-2 px-2",children:[f.jsxs("div",{className:"mb-2",title:"Property Name",children:[f.jsx("input",{type:"text",placeholder:"Property Name",value:d.property,onChange:x=>y("property",x.target.value),onBlur:x=>C("property",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&f.jsx("small",{className:"text-red-500",children:c.property})]}),f.jsxs("div",{children:[f.jsx(kt,{maxLength:300,message:d.message,onChange:x=>y("message",x)},m),c.message&&f.jsx("small",{className:"text-red-500",children:c.message})]}),f.jsx(ap,{onDragEnd:P,children:f.jsx(hp,{droppableId:"customForm",children:x=>{var h;return f.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:"space-y-2",children:[(h=d.customFields)==null?void 0:h.map((b,S)=>f.jsx("div",{className:"nodrag relative subOption-wrapper",children:f.jsx(dp,{draggableId:b.id,index:S,children:j=>f.jsx("div",{ref:j.innerRef,...j.draggableProps,...j.dragHandleProps,style:{...j.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:f.jsx(VS,{customField:b,index:S,onDelete:k,length:d.customFields.length,expandToEdit:T},S)})},b.id)},S)),x.placeholder]})}})}),f.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),f.jsx(Me,{type:"target",position:ne.Top,id:t}),f.jsx(Me,{type:"source",position:ne.Bottom,id:"source"}),f.jsx(no,{header:"Header",visible:a,style:{width:"100vw"},onHide:()=>{a&&N()},children:f.jsx(xE,{save:I,optionsData:d,close:N})})]})},SE=g.memo(CE),EE={borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundColor:"#e0e0e0",color:"#555",fontSize:20},jE=({alt:e,src:t,sx:r,children:n,...o})=>{var a;return f.jsx("div",{style:{...EE,...r},...o,children:t?f.jsx("img",{src:t,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"},onError:i=>{var s;i.target.style.display="none",i.target.parentElement.textContent=(e==null?void 0:e[0])||((s=n==null?void 0:n.toString())==null?void 0:s[0])||""}}):(e==null?void 0:e[0])||((a=n==null?void 0:n.toString())==null?void 0:a[0])||""})},kE=({avatar:e,label:t,icon:r,deleteIcon:n,onClick:o,onDelete:a,variant:i="filled",size:s="medium",sx:l,title:c,...u})=>{const d={display:"inline-flex",alignItems:"center",padding:s==="small"?"0 8px":"0 12px",fontSize:s==="small"?11:13,height:s==="small"?28:32,background:i==="outlined"?"transparent":"#e0e0e0",border:i==="outlined"?"1px solid #bdbdbd":"none",cursor:o?"pointer":"default",...l};return f.jsxs("div",{style:d,onClick:o,title:c,...u,children:[e&&f.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:e}),r&&f.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:r}),t&&f.jsx("span",{style:{marginRight:n?6:0},children:t}),n&&a&&f.jsx("span",{style:{marginLeft:6,display:"flex",alignItems:"center",cursor:"pointer"},onClick:p=>{p.stopPropagation(),a(p)},children:n})]})},eu=e=>{switch(e){case"pdf":case"application/pdf":return"application/pdf";case"images":case"image":case"image/*":return"image/*";case"video":case"video/*":return"video/*";default:return"application/pdf"}},NE=({id:e,data:t})=>{var P,x,h,b;const{node:r,onDelete:n,handleChange:o}=t;r.data.fileType=eu(r.data.fileType);const[a,i]=g.useState({}),[s,l]=g.useState(r.data.fileType),[c,u]=g.useState(!1),[d,p]=g.useState(((P=r.data.files)==null?void 0:P.length)>0?r.data.files:[]),m=(S,j)=>{let A="";S==="message"&&(j?j.length<3?A="Message must be at least 3 characters":j.length>500&&(A="Message must be at most 500 characters"):A="Message is required"),!A&&(S==="files"||S==="urls")&&r.data.files.length<=0&&r.data.urls.length<=0&&(A="Either Files or Image URLs are mandatory"),i(M=>({...M,[S]:A}))},v=(S,j)=>{delete r.data.errors;const A={...r.data,[S]:j};if(o(r.id,A),r.data=A,S==="fileType"){const M=eu(j);l(M),r.data.files=[],p([])}},y=()=>{u(!0)},C=S=>{r.data.files=S},w=()=>{v("urls",[...r.data.urls,""])},k=S=>{const j=r.data.urls.filter((A,M)=>M!==S);v("urls",j)},I=(S,j)=>{const A=r.data.urls.map((M,E)=>E===S?j:M);v("urls",A)},N=S=>{window.open(S)},T=S=>{const j=d.filter(A=>A.url!==S.url);p(j),r.data.files=j};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"File Upload"}),f.jsx("button",{title:"Delete File Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx(kt,{message:r.data.message,onChange:S=>v("message",S),maxLength:500,minLength:2}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",title:"Select File Type",children:[f.jsxs("select",{value:r.data.fileType,onChange:S=>v("fileType",S.target.value),onBlur:S=>m("fileType",S.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select File Type"}),f.jsx("option",{value:"application/pdf",children:"PDF"}),f.jsx("option",{value:"image/*",children:"Images"}),f.jsx("option",{value:"video/*",children:"Video"})]}),r.data.errors&&((h=Object.keys(r.data.errors))==null?void 0:h.length)>0&&r.data.errors.fileType&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fileType})]}),d&&f.jsx("div",{className:"d-flex space-y-1",children:d.map((S,j)=>f.jsx(kE,{title:S.name,avatar:f.jsx(jE,{alt:S.name,src:S.url}),label:S.name,onClick:()=>N(S.url),onDelete:()=>T(S),deleteIcon:f.jsx(Yp,{}),variant:"outlined"},j))}),f.jsx("div",{className:"mb-2",children:f.jsx("button",{title:"Click to Select/Add Files",disabled:!r.data.fileType||r.data.urls.length>0,type:"button",onClick:y,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:"Add Files"})}),f.jsxs("div",{className:"mb-1",title:"URLs",children:[r.data.urls.map((S,j)=>{var A;return f.jsxs("div",{className:"flex items-center mb-1",children:[f.jsx("input",{type:"text",placeholder:"URL",value:S,onChange:M=>I(j,M.target.value),onBlur:M=>m("urls",M.target.value),disabled:r.data.files.length>0,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),f.jsx("button",{type:"button",onClick:()=>k(j),className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-4 w-4 px-1 flex items-center justify-center text-sm font-extrabold ml-2",children:"×"}),r.data.errors&&((A=Object.keys(r.data.errors))==null?void 0:A.length)>0&&r.data.errors.fileOrUrl&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]},j)}),f.jsxs("button",{title:"Click to add Image Url's",type:"button",onClick:w,disabled:d.length>0,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),r.data.urls.length>0?"Add More":"Add Url"]}),a.urls&&!r.data.errors&&f.jsx("small",{className:"text-red-500",children:a.urls}),r.data.errors&&((b=Object.keys(r.data.errors))==null?void 0:b.length)>0&&r.data.errors.fileOrUrl&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]})]})]}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"}),c&&console.log(d,p,c,u,s,C)]})},IE=g.memo(NE),TE=({data:e,id:t})=>{const{onDelete:r}=e;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"GPT Handler"}),f.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete GPT Handler Node",onClick:()=>r(t),children:"×"})]}),f.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:f.jsx("p",{className:"nodrag",children:"From here on visitors would be handled by GPT"})}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"})]})},DE=g.memo(TE);function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(null,arguments)}function Jn(e){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}function PE(e,t){if(Jn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ME(e){var t=PE(e,"string");return Jn(t)=="symbol"?t:t+""}function vp(e,t,r){return(t=ME(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AE(e){if(Array.isArray(e))return e}function RE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}function tu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function OE(e,t){if(e){if(typeof e=="string")return tu(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tu(e,t):void 0}}function LE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sr(e,t){return AE(e)||RE(e,t)||OE(e,t)||LE()}var FE=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,To=to.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:FE}});function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ru(Object(r),!0).forEach(function(n){vp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var yp=g.memo(g.forwardRef(function(e,t){var r=fn(),n=g.useContext(pn),o=To.getProps(e,n),a=Mp(e)||{},i=o.orientation==="vertical",s=o.orientation==="horizontal",l=o.orientation==="both",c=g.useState(l?{rows:0,cols:0}:0),u=sr(c,2),d=u[0],p=u[1],m=g.useState(l?{rows:0,cols:0}:0),v=sr(m,2),y=v[0],C=v[1],w=g.useState(0),k=sr(w,2),I=k[0],N=k[1],T=g.useState(l?{rows:0,cols:0}:0),P=sr(T,2),x=P[0],h=P[1],b=g.useState(o.numToleratedItems),S=sr(b,2),j=S[0],A=S[1],M=g.useState(o.loading||!1),E=sr(M,2),D=E[0],O=E[1],B=g.useState([]),L=sr(B,2),R=L[0],$=L[1],V=To.setMetaData({props:o,state:{first:d,last:y,page:I,numItemsInViewport:x,numToleratedItems:j,loading:D,loaderArr:R}}),H=V.ptm;du(To.css.styles,{name:"virtualscroller"});var G=g.useRef(null),q=g.useRef(null),z=g.useRef(null),_=g.useRef(null),X=g.useRef(l?{top:0,left:0}:0),K=g.useRef(null),ae=g.useRef(null),W=g.useRef({}),se=g.useRef({}),we=g.useRef(null),he=g.useRef(null),re=g.useRef(null),ke=g.useRef(null),Ie=g.useRef(!1),xe=g.useRef(null),le=g.useRef(!1),Q=Ap({listener:function(Y){return tr()},when:!o.disabled}),Ee=sr(Q,1),yt=Ee[0],bt=Tn({target:"window",type:"orientationchange",listener:function(Y){return tr()},when:!o.disabled}),st=sr(bt,1),Ve=st[0],wt=function(){return G},Je=function(Y){return Math.floor((Y+j*4)/(o.step||1))},lt=function(Y){q.current=Y||q.current||ce.findSingle(G.current,".p-virtualscroller-content")},ct=function(Y){return o.step?I!==Je(Y):!0},ut=function(Y){X.current=l?{top:0,left:0}:0,G.current&&G.current.scrollTo(Y)},Dt=function(Y){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",oe=nt(),ie=oe.numToleratedItems,pe=Mt(),fe=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ct=arguments.length>1?arguments[1]:void 0;return tt<=Ct?0:tt},ve=function(tt,Ct,or){return tt*Ct+or},Pe=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ut({left:tt,top:Ct,behavior:te})},Te=l?{rows:0,cols:0}:0,ze=!1;l?(Te={rows:fe(Y[0],ie[0]),cols:fe(Y[1],ie[1])},Pe(ve(Te.cols,o.itemSize[1],pe.left),ve(Te.rows,o.itemSize[0],pe.top)),ze=d.rows!==Te.rows||d.cols!==Te.cols):(Te=fe(Y,ie),s?Pe(ve(Te,o.itemSize,pe.left),0):Pe(0,ve(Te,o.itemSize,pe.top)),ze=d!==Te),Ie.current=ze,p(Te)},Be=function(Y,te){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(te){var ie=rt(),pe=ie.first,fe=ie.viewport,ve=function(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ut({left:Ct,top:or,behavior:oe})},Pe=te==="to-start",Te=te==="to-end";if(Pe){if(l)fe.first.rows-pe.rows>Y[0]?ve(fe.first.cols*o.itemSize[1],(fe.first.rows-1)*o.itemSize[0]):fe.first.cols-pe.cols>Y[1]&&ve((fe.first.cols-1)*o.itemSize[1],fe.first.rows*o.itemSize[0]);else if(fe.first-pe>Y){var ze=(fe.first-1)*o.itemSize;s?ve(ze,0):ve(0,ze)}}else if(Te){if(l)fe.last.rows-pe.rows<=Y[0]+1?ve(fe.first.cols*o.itemSize[1],(fe.first.rows+1)*o.itemSize[0]):fe.last.cols-pe.cols<=Y[1]+1&&ve((fe.first.cols+1)*o.itemSize[1],fe.first.rows*o.itemSize[0]);else if(fe.last-pe<=Y+1){var Ue=(fe.first+1)*o.itemSize;s?ve(Ue,0):ve(0,Ue)}}}else Dt(Y,oe)},Ge=function(){return D?o.loaderDisabled?R:[]:nr()},dt=function(){return o.columns&&l||s?D&&o.loaderDisabled?l?R[0]:R:o.columns.slice(l?d.cols:d,l?y.cols:y):o.columns},rt=function(){var Y=function(Te,ze){return Math.floor(Te/(ze||Te))},te=d,oe=0;if(G.current){var ie=G.current,pe=ie.scrollTop,fe=ie.scrollLeft;if(l)te={rows:Y(pe,o.itemSize[0]),cols:Y(fe,o.itemSize[1])},oe={rows:te.rows+x.rows,cols:te.cols+x.cols};else{var ve=s?fe:pe;te=Y(ve,o.itemSize),oe=te+x}}return{first:d,last:y,viewport:{first:te,last:oe}}},nt=function(){var Y=Mt(),te=G.current?G.current.offsetWidth-Y.left:0,oe=G.current?G.current.offsetHeight-Y.top:0,ie=function(Te,ze){return Math.ceil(Te/(ze||Te))},pe=function(Te){return Math.ceil(Te/2)},fe=l?{rows:ie(oe,o.itemSize[0]),cols:ie(te,o.itemSize[1])}:ie(s?te:oe,o.itemSize),ve=j||(l?[pe(fe.rows),pe(fe.cols)]:pe(fe));return{numItemsInViewport:fe,numToleratedItems:ve}},ot=function(){var Y=nt(),te=Y.numItemsInViewport,oe=Y.numToleratedItems,ie=function(ve,Pe,Te){var ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Pt(ve+Pe+(ve<Te?2:3)*Te,ze)},pe=l?{rows:ie(d.rows,te.rows,oe[0]),cols:ie(d.cols,te.cols,oe[1],!0)}:ie(d,te,oe);h(te),A(oe),C(pe),o.showLoader&&$(l?Array.from({length:te.rows}).map(function(){return Array.from({length:te.cols})}):Array.from({length:te})),o.lazy&&Promise.resolve().then(function(){xe.current={first:o.step?l?{rows:0,cols:d.cols}:0:d,last:Math.min(o.step?o.step:pe,(o.items||[]).length)},o.onLazyLoad&&o.onLazyLoad(xe.current)})},et=function(Y){o.autoSize&&!Y&&Promise.resolve().then(function(){if(q.current){q.current.style.minHeight=q.current.style.minWidth="auto",q.current.style.position="relative",G.current.style.contain="none";var te=[ce.getWidth(G.current),ce.getHeight(G.current)],oe=te[0],ie=te[1];(l||s)&&(G.current.style.width=(oe<we.current?oe:o.scrollWidth||we.current)+"px"),(l||i)&&(G.current.style.height=(ie<he.current?ie:o.scrollHeight||he.current)+"px"),q.current.style.minHeight=q.current.style.minWidth="",q.current.style.position="",G.current.style.contain=""}})},Pt=function(){var Y,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,oe=arguments.length>1?arguments[1]:void 0;return o.items?Math.min(oe?((Y=o.columns||o.items[0])===null||Y===void 0?void 0:Y.length)||0:(o.items||[]).length,te):0},Mt=function(){if(q.current){var Y=getComputedStyle(q.current),te=parseFloat(Y.paddingLeft)+Math.max(parseFloat(Y.left)||0,0),oe=parseFloat(Y.paddingRight)+Math.max(parseFloat(Y.right)||0,0),ie=parseFloat(Y.paddingTop)+Math.max(parseFloat(Y.top)||0,0),pe=parseFloat(Y.paddingBottom)+Math.max(parseFloat(Y.bottom)||0,0);return{left:te,right:oe,top:ie,bottom:pe,x:te+oe,y:ie+pe}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},_t=function(){if(G.current){var Y=G.current.parentElement,te=o.scrollWidth||"".concat(G.current.offsetWidth||Y.offsetWidth,"px"),oe=o.scrollHeight||"".concat(G.current.offsetHeight||Y.offsetHeight,"px"),ie=function(fe,ve){return G.current.style[fe]=ve};l||s?(ie("height",oe),ie("width",te)):ie("height",oe)}},Jt=function(){var Y=o.items;if(Y){var te=Mt(),oe=function(pe,fe,ve){var Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return se.current=Zr(Zr({},se.current),vp({},"".concat(pe),(fe||[]).length*ve+Pe+"px"))};l?(oe("height",Y,o.itemSize[0],te.y),oe("width",o.columns||Y[1],o.itemSize[1],te.x)):s?oe("width",o.columns||Y,o.itemSize,te.x):oe("height",Y,o.itemSize,te.y)}},er=function(Y){if(q.current&&!o.appendOnly){var te=Y?Y.first:d,oe=function(ve,Pe){return ve*Pe},ie=function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_.current&&(_.current.style.top="-".concat(Pe,"px")),W.current=Zr(Zr({},W.current),{transform:"translate3d(".concat(ve,"px, ").concat(Pe,"px, 0)")})};if(l)ie(oe(te.cols,o.itemSize[1]),oe(te.rows,o.itemSize[0]));else{var pe=oe(te,o.itemSize);s?ie(pe,0):ie(0,pe)}}},ft=function(Y){var te=Y.target,oe=Mt(),ie=function(Ke,zt){return Ke?Ke>zt?Ke-zt:Ke:0},pe=function(Ke,zt){return Math.floor(Ke/(zt||Ke))},fe=function(Ke,zt,yn,uo,ar,Dr){return Ke<=ar?ar:Dr?yn-uo-ar:zt+ar-1},ve=function(Ke,zt,yn,uo,ar,Dr,bn){return Ke<=Dr?0:Math.max(0,bn?Ke<zt?yn:Ke-Dr:Ke>zt?yn:Ke-2*Dr)},Pe=function(Ke,zt,yn,uo,ar,Dr){var bn=zt+uo+2*ar;return Ke>=ar&&(bn=bn+(ar+1)),Pt(bn,Dr)},Te=ie(te.scrollTop,oe.top),ze=ie(te.scrollLeft,oe.left),Ue=l?{rows:0,cols:0}:0,tt=y,Ct=!1,or=X.current;if(l){var Tr=X.current.top<=Te,Ca=X.current.left<=ze;if(!o.appendOnly||o.appendOnly&&(Tr||Ca)){var Vr={rows:pe(Te,o.itemSize[0]),cols:pe(ze,o.itemSize[1])},Zs={rows:fe(Vr.rows,d.rows,y.rows,x.rows,j[0],Tr),cols:fe(Vr.cols,d.cols,y.cols,x.cols,j[1],Ca)};Ue={rows:ve(Vr.rows,Zs.rows,d.rows,y.rows,x.rows,j[0],Tr),cols:ve(Vr.cols,Zs.cols,d.cols,y.cols,x.cols,j[1],Ca)},tt={rows:Pe(Vr.rows,Ue.rows,y.rows,x.rows,j[0]),cols:Pe(Vr.cols,Ue.cols,y.cols,x.cols,j[1],!0)},Ct=Ue.rows!==d.rows||tt.rows!==y.rows||Ue.cols!==d.cols||tt.cols!==y.cols||Ie.current,or={top:Te,left:ze}}}else{var Sa=s?ze:Te,Ea=X.current<=Sa;if(!o.appendOnly||o.appendOnly&&Ea){var ja=pe(Sa,o.itemSize),kp=fe(ja,d,y,x,j,Ea);Ue=ve(ja,kp,d,y,x,j,Ea),tt=Pe(ja,Ue,y,x,j),Ct=Ue!==d||tt!==y||Ie.current,or=Sa}}return{first:Ue,last:tt,isRangeChanged:Ct,scrollPos:or}},qt=function(Y){var te=ft(Y),oe=te.first,ie=te.last,pe=te.isRangeChanged,fe=te.scrollPos;if(pe){var ve={first:oe,last:ie};if(er(ve),p(oe),C(ie),X.current=fe,o.onScrollIndexChange&&o.onScrollIndexChange(ve),o.lazy&&ct(oe)){var Pe={first:o.step?Math.min(Je(oe)*o.step,(o.items||[]).length-o.step):oe,last:Math.min(o.step?(Je(oe)+1)*o.step:ie,(o.items||[]).length)},Te=!xe.current||xe.current.first!==Pe.first||xe.current.last!==Pe.last;Te&&o.onLazyLoad&&o.onLazyLoad(Pe),xe.current=Pe}}},Nr=function(Y){if(o.onScroll&&o.onScroll(Y),o.delay){if(K.current&&clearTimeout(K.current),ct(d)){if(!D&&o.showLoader){var te=ft(Y),oe=te.isRangeChanged,ie=oe||(o.step?ct(d):!1);ie&&O(!0)}K.current=setTimeout(function(){qt(Y),D&&o.showLoader&&(!o.lazy||o.loading===void 0)&&(O(!1),N(Je(d)))},o.delay)}}else qt(Y)},tr=function(){ae.current&&clearTimeout(ae.current),ae.current=setTimeout(function(){if(G.current){var Y=[ce.getWidth(G.current),ce.getHeight(G.current)],te=Y[0],oe=Y[1],ie=te!==we.current,pe=oe!==he.current,fe=l?ie||pe:s?ie:i?pe:!1;fe&&(A(o.numToleratedItems),we.current=te,he.current=oe,re.current=ce.getWidth(q.current),ke.current=ce.getHeight(q.current))}},o.resizeDelay)},rr=function(Y){var te=(o.items||[]).length,oe=l?d.rows+Y:d+Y;return{index:oe,count:te,first:oe===0,last:oe===te-1,even:oe%2===0,odd:oe%2!==0,props:o}},fr=function(Y,te){var oe=R.length||0;return Zr({index:Y,count:oe,first:Y===0,last:Y===oe-1,even:Y%2===0,odd:Y%2!==0,props:o},te)},nr=function(){var Y=o.items;return Y&&!D?l?Y.slice(o.appendOnly?0:d.rows,y.rows).map(function(te){return o.columns?te:te.slice(o.appendOnly?0:d.cols,y.cols)}):s&&o.columns?Y:Y.slice(o.appendOnly?0:d,y):[]},Ir=function(){G.current&&ge()&&(lt(q.current),Yt(),yt(),Ve(),we.current=ce.getWidth(G.current),he.current=ce.getHeight(G.current),re.current=ce.getWidth(q.current),ke.current=ce.getHeight(q.current))},Yt=function(){!o.disabled&&ge()&&(_t(),ot(),Jt())},ge=function(){if(ce.isVisible(G.current)){var Y=G.current.getBoundingClientRect();return Y.width>0&&Y.height>0}return!1};g.useEffect(function(){!le.current&&ge()&&(Ir(),le.current=!0)}),Ot(function(){Yt()},[o.itemSize,o.scrollHeight,o.scrollWidth]),Ot(function(){o.numToleratedItems!==j&&A(o.numToleratedItems)},[o.numToleratedItems]),Ot(function(){o.numToleratedItems===j&&Yt()},[j]),Ot(function(){var de=a.items!==void 0&&a.items!==null,Y=o.items!==void 0&&o.items!==null,te=de?a.items.length:0,oe=Y?o.items.length:0,ie=te!==oe;if(l&&!ie){var pe=de&&a.items.length>0?a.items[0].length:0,fe=Y&&o.items.length>0?o.items[0].length:0;ie=pe!==fe}(!de||ie)&&Yt();var ve=D;o.lazy&&a.loading!==o.loading&&o.loading!==D&&(O(o.loading),ve=o.loading),et(ve)}),Ot(function(){X.current=l?{top:0,left:0}:0},[o.orientation]),g.useImperativeHandle(t,function(){return{props:o,getElementRef:wt,scrollTo:ut,scrollToIndex:Dt,scrollInView:Be,getRenderedRange:rt}});var U=function(Y){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=fr(Y,te),ie=Ce.getJSXElement(o.loadingTemplate,oe);return g.createElement(g.Fragment,{key:Y},ie)},J=function(){var Y="p-virtualscroller-loading-icon",te=r({className:Y},H("loadingIcon")),oe=o.loadingIcon||g.createElement(pu,zi({},te,{spin:!0})),ie=$r.getJSXIcon(oe,Zr({},te),{props:o});if(!o.loaderDisabled&&o.showLoader&&D){var pe=$e("p-virtualscroller-loader",{"p-component-overlay":!o.loadingTemplate}),fe=ie;if(o.loadingTemplate)fe=R.map(function(Te,ze){return U(ze,l&&{numCols:x.cols})});else if(o.loaderIconTemplate){var ve={iconClassName:Y,element:fe,props:o};fe=Ce.getJSXElement(o.loaderIconTemplate,ve)}var Pe=r({className:pe},H("loader"));return g.createElement("div",Pe,fe)}return null},Ne=function(){if(o.showSpacer){var Y=r({ref:z,style:se.current,className:"p-virtualscroller-spacer"},H("spacer"));return g.createElement("div",Y)}return null},Le=function(Y,te){var oe=rr(te),ie=Ce.getJSXElement(o.itemTemplate,Y,oe);return g.createElement(g.Fragment,{key:oe.index},ie)},Xe=function(){var Y=nr();return Y.map(Le)},ue=function(){var Y=Xe(),te=$e("p-virtualscroller-content",{"p-virtualscroller-loading":D}),oe=r({ref:q,style:W.current,className:te},H("content")),ie=g.createElement("div",oe,Y);if(o.contentTemplate){var pe={style:W.current,className:te,spacerStyle:se.current,contentRef:function(ve){return q.current=Ce.getRefElement(ve)},spacerRef:function(ve){return z.current=Ce.getRefElement(ve)},stickyRef:function(ve){return _.current=Ce.getRefElement(ve)},items:nr(),getItemOptions:function(ve){return rr(ve)},children:Y,element:ie,props:o,loading:D,getLoaderOptions:function(ve,Pe){return fr(ve,Pe)},loadingTemplate:o.loadingTemplate,itemSize:o.itemSize,rows:Ge(),columns:dt(),vertical:i,horizontal:s,both:l};return Ce.getJSXElement(o.contentTemplate,pe)}return ie};if(o.disabled){var Z=Ce.getJSXElement(o.contentTemplate,{items:o.items,rows:o.items,columns:o.columns});return g.createElement(g.Fragment,null,o.children,Z)}var Se=$e("p-virtualscroller",{"p-virtualscroller-inline":o.inline,"p-virtualscroller-both p-both-scroll":l,"p-virtualscroller-horizontal p-horizontal-scroll":s},o.className),Ae=J(),Re=ue(),xt=Ne(),pt=r({ref:G,className:Se,tabIndex:o.tabIndex,style:o.style,onScroll:function(Y){return Nr(Y)}},To.getOtherProps(o),H("root"));return g.createElement("div",pt,Re,xt,Ae)}));yp.displayName="VirtualScroller";function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function $E(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BE(e){var t=$E(e,"string");return eo(t)=="symbol"?t:t+""}function bp(e,t,r){return(t=BE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lt.apply(null,arguments)}function Hi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _E(e){if(Array.isArray(e))return Hi(e)}function zE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wp(e,t){if(e){if(typeof e=="string")return Hi(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hi(e,t):void 0}}function HE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xp(e){return _E(e)||zE(e)||wp(e)||HE()}function VE(e){if(Array.isArray(e))return e}function GE(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}function UE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function In(e,t){return VE(e)||GE(e,t)||wp(e,t)||UE()}var WE={root:function(t){var r=t.props,n=t.focusedState;return $e("p-autocomplete p-component p-inputwrapper",{"p-autocomplete-dd":r.dropdown,"p-autocomplete-multiple":r.multiple,"p-inputwrapper-filled":r.value,"p-invalid":r.invalid,"p-inputwrapper-focus":n})},container:function(t){var r=t.props,n=t.context;return $e("p-autocomplete-multiple-container p-component p-inputtext",{"p-disabled":r.disabled,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},loadingIcon:"p-autocomplete-loader",dropdownButton:"p-autocomplete-dropdown",removeTokenIcon:"p-autocomplete-token-icon",token:"p-autocomplete-token p-highlight",tokenLabel:"p-autocomplete-token-label",inputToken:"p-autocomplete-input-token",input:function(t){var r=t.props,n=t.context;return $e("p-autocomplete-input",{"p-autocomplete-dd-input":r.dropdown,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},panel:function(t){var r=t.context;return $e("p-autocomplete-panel p-component",{"p-ripple-disabled":r&&r.ripple===!1||jt.ripple===!1})},listWrapper:"p-autocomplete-items-wrapper",list:function(t){var r=t.virtualScrollerOptions,n=t.options;return r?$e("p-autocomplete-items",n.className):"p-autocomplete-items"},emptyMessage:"p-autocomplete-item",item:function(t){var r=t.suggestion,n=t.optionGroupLabel,o=t.selected;return n?$e("p-autocomplete-item",{"p-disabled":r.disabled},{selected:o}):$e("p-autocomplete-item",{"p-disabled":r.disabled},{"p-highlight":o})},itemGroup:"p-autocomplete-item-group",footer:"p-autocomplete-footer",transition:"p-connected-overlay"},qE=`
@layer primereact {
    .p-autocomplete {
        display: inline-flex;
        position: relative;
    }
    
    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-autocomplete-dd .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }
    
    .p-autocomplete-dd .p-autocomplete-input,
    .p-autocomplete-dd .p-autocomplete-multiple-container {
         border-top-right-radius: 0;
         border-bottom-right-radius: 0;
     }
    
    .p-autocomplete-dd .p-autocomplete-dropdown {
         border-top-left-radius: 0;
         border-bottom-left-radius: 0px;
    }
    
    .p-autocomplete .p-autocomplete-panel {
        min-width: 100%;
    }
    
    .p-autocomplete-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-autocomplete-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-autocomplete-item {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-autocomplete-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-autocomplete-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-autocomplete-token-icon {
        cursor: pointer;
    }
    
    .p-autocomplete-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-autocomplete-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-autocomplete {
        display: flex;
    }
    
    .p-fluid .p-autocomplete-dd .p-autocomplete-input {
        width: 1%;
    }
    
    .p-autocomplete-items-wrapper {
        overflow: auto;
    } 
}
`,Do=to.extend({defaultProps:{__TYPE:"AutoComplete",id:null,appendTo:null,autoFocus:!1,autoHighlight:!1,className:null,completeMethod:null,delay:300,disabled:!1,dropdown:!1,dropdownAriaLabel:null,dropdownAutoFocus:!0,dropdownIcon:null,dropdownMode:"blank",emptyMessage:null,field:null,forceSelection:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,variant:null,invalid:!1,itemTemplate:null,loadingIcon:null,maxLength:null,minLength:1,multiple:!1,name:null,onBlur:null,onChange:null,onClear:null,onClick:null,onContextMenu:null,onDblClick:null,onDropdownClick:null,onFocus:null,onHide:null,onKeyPress:null,onKeyUp:null,onMouseDown:null,onSelect:null,onShow:null,onUnselect:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,readOnly:!1,removeTokenIcon:null,scrollHeight:"200px",selectedItemTemplate:null,selectionLimit:null,showEmptyMessage:!1,size:null,style:null,suggestions:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,type:"text",value:null,virtualScrollerOptions:null,children:void 0},css:{classes:WE,styles:qE}});function nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nu(Object(r),!0).forEach(function(n){bp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Cp=g.memo(g.forwardRef(function(e,t){var r=fn(),n=e.ptm,o=e.cx,a=g.useContext(pn),i=function(h,b){return n(h,gr({hostName:e.hostName},b))},s=function(h,b){return i(b,{context:{selected:e.selectedItem.current===h,disabled:h.disabled}})},l=function(h){return Ce.resolveFieldData(h,e.optionGroupLabel)},c=function(h){return Ce.resolveFieldData(h,e.field)},u=function(){if(e.panelFooterTemplate){var h=Ce.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),b=r({className:o("footer")},i("footer"));return g.createElement("div",b,h)}return null},d=function(h,b,S){return h.findIndex(function(j){return j[b]===S})},p=g.useRef({key:null,index:0,keyIndex:0}),m=function(h,b,S,j){var A=e.optionGroupTemplate?Ce.getJSXElement(e.optionGroupTemplate,h,S):e.getOptionGroupLabel(h)||h,M=r(gr({index:S,className:o("itemGroup"),"data-p-highlight":!1},j),i("itemGroup"));return g.createElement("li",Lt({},M,{key:b||null}),A)},v=function(h){return e.selectedItem&&e.selectedItem.current&&Array.isArray(e.selectedItem.current)?e.selectedItem.current.some(function(b){return Ce.deepEquals(b,h)}):Ce.deepEquals(e.selectedItem.current,h)},y=function(h,b,S,j){var A=v(h),M=e.itemTemplate?Ce.getJSXElement(e.itemTemplate,h,S):e.field?Ce.resolveFieldData(h,e.field):h,E=r(gr({index:S,role:"option",className:o("item",{optionGroupLabel:e.optionGroupLabel,suggestion:h,selected:A}),onClick:function(O){return e.onItemClick(O,h)},"aria-selected":A},j),s(h,"item"));return g.createElement("li",Lt({key:b},E),M,g.createElement(Lo,null))},C=function(h,b){var S=e.getOptionGroupChildren(h);return S.map(function(j,A){var M=b+"_"+A,E=r({"data-group":b,"data-index":A,"data-p-disabled":j.disabled});return y(j,M,A,E)})},w=function(h,b){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j={height:S.props?S.props.itemSize:void 0};if(e.optionGroupLabel){if(e.virtualScrollerOptions){var A=d(e.suggestions,e.optionGroupLabel,h);if(A!==-1){p.current={key:h,index:b,keyIndex:A};var M=b+"_"+l(h);return m(h,M,b,{style:j})}var E=b+"_"+p.current.keyIndex,D=r({style:j,"data-group":p.current.keyIndex,"data-index":b-p.current.index-1,"data-p-disabled":h.disabled});return y(h,E,b,D)}var O=C(h,b),B=b+"_"+l(h);return g.createElement(g.Fragment,{key:B},m(h,void 0,b,{style:j}),O)}var L="".concat(b,"_").concat(Ce.isObject(h)?c(h):h),R=r({style:j,"data-p-disabled":h.disabled},s(h,"item"));return y(h,L,b,R)},k=function(){return e.suggestions?e.suggestions.map(w):null},I=function(h){try{return h==null?void 0:h.map(function(b){return[b==null?void 0:b[e==null?void 0:e.optionGroupLabel]].concat(xp(b==null?void 0:b[e==null?void 0:e.optionGroupChildren]))}).flat()}catch{}},N=function(){if(e.showEmptyMessage&&Ce.isEmpty(e.suggestions)){var h=e.emptyMessage||oi("emptyMessage"),b=r({className:o("emptyMessage")},i("emptyMessage")),S=r({className:o("list")},i("list"));return g.createElement("ul",S,g.createElement("li",b,h))}if(e.virtualScrollerOptions){var j=e.suggestions?e.optionGroupLabel?I(e==null?void 0:e.suggestions):e.suggestions:null,A=gr(gr({},e.virtualScrollerOptions),{style:gr(gr({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),autoSize:!0,items:j,itemTemplate:function(B,L){return B&&w(B,L.index,L)},contentTemplate:function(B){var L=r({id:e.listId,ref:B.contentRef,style:B.style,className:o("list",{virtualScrollerProps:A,options:B}),role:"listbox"},i("list"));return g.createElement("ul",L,B.children)}});return g.createElement(yp,Lt({ref:e.virtualScrollerRef},A,{pt:i("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var M=k(),E=r({id:e.listId,className:o("list"),role:"listbox"},i("list")),D=r({className:o("listWrapper"),style:{maxHeight:e.scrollHeight||"auto"}},i("listWrapper"));return g.createElement("div",D,g.createElement("ul",E,M))},T=function(){var h=gr({},e.panelStyle||{}),b=N(),S=u(),j=r({className:$e(e.panelClassName,o("panel",{context:a})),style:h,onClick:function(E){return e.onClick(E)}},i("panel")),A=r({classNames:o("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},i("transition"));return g.createElement(Ki,Lt({nodeRef:t},A),g.createElement("div",Lt({ref:t},j),b,S))},P=T();return g.createElement(Zi,{element:P,appendTo:e.appendTo})}));Cp.displayName="AutoCompletePanel";function ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ou(Object(r),!0).forEach(function(n){bp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ou(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Sp=g.memo(g.forwardRef(function(e,t){var r=fn(),n=g.useContext(pn),o=Do.getProps(e,n),a=g.useState(o.id),i=In(a,2),s=i[0],l=i[1],c=g.useState(!1),u=In(c,2),d=u[0],p=u[1],m=g.useState(!1),v=In(m,2),y=v[0],C=v[1],w=g.useState(!1),k=In(w,2),I=k[0],N=k[1],T={props:o,state:{id:s,searching:d,focused:y,overlayVisible:I}},P=Do.setMetaData(T),x=P.ptm,h=P.cx,b=P.sx,S=P.isUnstyled;qi(Do.css.styles,S,{name:"autocomplete"});var j=g.useRef(null),A=g.useRef(null),M=g.useRef(o.inputRef),E=g.useRef(null),D=g.useRef(null),O=g.useRef(null),B=g.useRef(null),L=Rp({target:j,overlay:A,listener:function(U,J){var Ne=J.type,Le=J.valid;Le&&(Ne==="outside"?H(U)||W():n.hideOverlaysOnDocumentScrolling?W():ce.isDocument(U.target)||xe())},when:I}),R=In(L,2),$=R[0],V=R[1],H=function(U){return o.multiple?U.target===E.current||E.current.contains(U.target):U.target===M.current},G=function(U){O.current&&clearTimeout(O.current);var J=U.target.value;o.multiple||_(U,J),Ce.isEmpty(J)?(W(),o.onClear&&o.onClear(U)):J.length>=o.minLength?O.current=setTimeout(function(){q(U,J,"input")},o.delay):W()},q=function(U,J,Ne){J!=null&&(Ne==="input"&&J.trim().length===0||o.completeMethod&&(p(!0),o.completeMethod({originalEvent:U,query:J})))},z=function(U,J,Ne){if(o.multiple){if(M.current.value="",!Be(J)&&nt()){var Le=o.value?[].concat(xp(o.value),[J]):[J];_(U,Le)}}else K(J),_(U,J);o.onSelect&&o.onSelect({originalEvent:U,value:J}),Ne||(ce.focus(M.current),W())},_=function(U,J){o.onChange&&o.onChange({originalEvent:U,value:J,stopPropagation:function(){U.stopPropagation()},preventDefault:function(){U.preventDefault()},target:{name:o.name,id:s,value:J}}),B.current=Ce.isNotEmpty(J)?J:null},X=function(U){if(Ce.isEmpty(U))return"";if(typeof U=="string")return U;if(o.selectedItemTemplate){var J=Ce.getJSXElement(o.selectedItemTemplate,U);return o.multiple||typeof J=="string"?J:U}if(o.field){var Ne;return(Ne=Ce.resolveFieldData(U,o.field))!==null&&Ne!==void 0?Ne:U}return U},K=function(U){M.current.value=X(U)},ae=function(){N(!0)},W=function(){N(!1),p(!1)},se=function(){Kt.set("overlay",A.current,n&&n.autoZIndex||jt.autoZIndex,n&&n.zIndex.overlay||jt.zIndex.overlay),ce.addStyles(A.current,{position:"absolute",top:"0",left:"0"}),xe()},we=function(){o.autoHighlight&&o.suggestions&&o.suggestions.length&&he()},he=function(){var U,J=(U=Ge())===null||U===void 0||(U=U.firstChild)===null||U===void 0?void 0:U.firstChild;J&&(!S()&&ce.addClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!0))},re=function(){$(),o.onShow&&o.onShow()},ke=function(){V()},Ie=function(){Kt.clear(A.current),o.onHide&&o.onHide()},xe=function(){var U=o.multiple?E.current:M.current;ce.alignOverlay(A.current,U,o.appendTo||n&&n.appendTo||jt.appendTo)},le=function(U){Bp.emit("overlay-click",{originalEvent:U,target:j.current})},Q=function(U){o.dropdownAutoFocus&&ce.focus(M.current,o.dropdownAutoFocus),o.dropdownMode==="blank"?q(U,"","dropdown"):o.dropdownMode==="current"&&q(U,M.current.value,"dropdown"),o.onDropdownClick&&o.onDropdownClick({originalEvent:U,query:M.current.value})},Ee=function(U,J){if(!(o.disabled||o.readOnly)){var Ne=o.value[J],Le=o.value.filter(function(Xe,ue){return J!==ue});_(U,Le),o.onUnselect&&o.onUnselect({originalEvent:U,value:Ne})}},yt=function(U){if(I){var J=ce.findSingle(A.current,'li[data-p-highlight="true"]');switch(U.which){case 40:if(J){var Ne=st(J);Ne&&(!S()&&ce.addClass(Ne,"p-highlight"),Ne.setAttribute("data-p-highlight",!0),!S()&&ce.removeClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!1),ce.scrollInView(Ge(),Ne))}else J=ce.findSingle(A.current,"li"),ce.getAttribute(J,"data-pc-section")==="itemgroup"&&(J=st(J)),J&&(!S()&&ce.addClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!0));U.preventDefault();break;case 38:if(J){var Le=Ve(J);Le&&(!S()&&ce.addClass(Le,"p-highlight"),Le.setAttribute("data-p-highlight",!0),!S()&&ce.removeClass(J,"p-highlight"),J.setAttribute("data-p-highlight",!1),ce.scrollInView(Ge(),Le))}U.preventDefault();break;case 13:J&&(bt(U,J),W(),U.preventDefault());break;case 27:W(),U.preventDefault();break;case 9:J&&bt(U,J),W();break}}if(o.multiple)switch(U.which){case 8:if(o.value&&o.value.length&&!M.current.value){var Xe=o.value[o.value.length-1],ue=o.value.slice(0,-1);_(U,ue),o.onUnselect&&o.onUnselect({originalEvent:U,value:Xe})}break}},bt=function(U,J){if(o.optionGroupLabel){var Ne=o.suggestions[J.dataset.group];z(U,rt(Ne)[J.dataset.index])}else z(U,o.suggestions[J.getAttribute("index")])},st=function(U){var J=U.nextElementSibling;return J?ce.getAttribute(J,"data-pc-section")==="itemgroup"?st(J):J:null},Ve=function(U){var J=U.previousElementSibling;return J?ce.getAttribute(J,"data-pc-section")==="itemgroup"?Ve(J):J:null},wt=function(U){C(!0),o.onFocus&&o.onFocus(U)},Je=function(U){if(o.multiple){M.current.value="";return}var J=Ce.trim(U.target.value).toLowerCase(),Ne=(o.suggestions||[]).flatMap(function(Xe){return Xe.items?Xe.items:[Xe]}),Le=Ne.find(function(Xe){var ue=o.field?Ce.resolveFieldData(Xe,o.field):Xe,Z=ue?Ce.trim(ue).toLowerCase():"";return Z&&J===Z});Le?z(U,Le,!0):(M.current.value="",_(U,null),o.onClear&&o.onClear(U))},lt=function(U){C(!1),o.forceSelection&&Je(U),o.onBlur&&o.onBlur(U)},ct=function(U){ce.focus(M.current),o.onClick&&o.onClick(U)},ut=function(U){wt(U),!S()&&ce.addClass(E.current,"p-focus"),E.current.setAttribute("data-p-focus",!0)},Dt=function(U){lt(U),!S()&&ce.removeClass(E.current,"p-focus"),E.current.setAttribute("data-p-focus",!1)},Be=function(U){return o.value?o.value.some(function(J){return Ce.equals(J,U)}):!1},Ge=function(){var U;return A==null||(U=A.current)===null||U===void 0?void 0:U.firstChild},dt=function(U){return o.optionGroupLabel?Ce.resolveFieldData(U,o.optionGroupLabel):U},rt=function(U){return Ce.resolveFieldData(U,o.optionGroupChildren)},nt=function(){return!o.value||!o.selectionLimit||o.value.length<o.selectionLimit};g.useEffect(function(){Ce.combinedRefs(M,o.inputRef)},[M,o.inputRef]),g.useEffect(function(){Ce.isNotEmpty(o.value)&&(B.current=o.value)},[o.value]),Yi(function(){s||l(uu()),o.autoFocus&&ce.focus(M.current,o.autoFocus),xe()}),Ot(function(){d&&o.autoHighlight&&o.suggestions&&o.suggestions.length&&he()},[d]),Ot(function(){d&&(Ce.isNotEmpty(o.suggestions)||o.showEmptyMessage?ae():W(),p(!1))},[o.suggestions]),Ot(function(){M.current&&!o.multiple&&K(o.value),I&&xe()}),Xi(function(){O.current&&clearTimeout(O.current),Kt.clear(A.current)}),g.useImperativeHandle(t,function(){return{props:o,search:q,show:ae,hide:W,focus:function(){return ce.focus(M.current)},getElement:function(){return j.current},getOverlay:function(){return A.current},getInput:function(){return M.current},getVirtualScroller:function(){return D.current}}});var ot=function(){var U=X(o.value),J=I?s+"_list":null;return g.createElement($p,Lt({ref:M,id:o.inputId,type:o.type,name:o.name,defaultValue:U,role:"combobox","aria-autocomplete":"list","aria-controls":J,"aria-haspopup":"listbox","aria-expanded":I,className:$e(o.inputClassName,h("input",{context:n})),style:o.inputStyle,autoComplete:"off",readOnly:o.readOnly,required:o.required,disabled:o.disabled,placeholder:o.placeholder,size:o.size,maxLength:o.maxLength,tabIndex:o.tabIndex,onBlur:lt,onFocus:wt,onChange:G,onMouseDown:o.onMouseDown,onKeyUp:o.onKeyUp,onKeyDown:yt,onKeyPress:o.onKeyPress,onContextMenu:o.onContextMenu,onClick:o.onClick,onDoubleClick:o.onDblClick,pt:x("input"),unstyled:o.unstyled},rr,{__parentMetadata:{parent:T}}))},et=function(U,J){switch(U.code){case"Space":case"NumpadEnter":case"Enter":Ee(U,J),U.preventDefault(),U.stopPropagation();break}},Pt=function(){return Ce.isNotEmpty(o.value)?o.value.map(function(U,J){var Ne=J+"multi-item",Le=r({className:h("removeTokenIcon"),onClick:function(Re){return Ee(Re,J)},tabIndex:o.tabIndex||"0","aria-label":oi("clear"),onKeyDown:function(Re){return et(Re,J)}},x("removeTokenIcon")),Xe=o.removeTokenIcon||g.createElement(ns,Le),ue=!o.disabled&&$r.getJSXIcon(Xe,ni({},Le),{props:o}),Z=r({className:h("token")},x("token")),Se=r({className:h("tokenLabel")},x("tokenLabel"));return g.createElement("li",Lt({key:Ne},Z),g.createElement("span",Se,X(U)),ue)}):(B.current=null,null)},Mt=function(U){var J=I?s+"_list":null,Ne=r({className:h("inputToken")},x("inputToken")),Le=r(ni({id:o.inputId,ref:M,"aria-autocomplete":"list","aria-controls":J,"aria-expanded":I,"aria-haspopup":"listbox",autoComplete:"off",className:o.inputClassName,disabled:o.disabled,maxLength:o.maxLength,name:o.name,onBlur:Dt,onChange:U?G:void 0,onFocus:ut,onKeyDown:U?yt:void 0,onKeyPress:o.onKeyPress,onKeyUp:o.onKeyUp,placeholder:U?o.placeholder:void 0,readOnly:o.readOnly||!U,required:o.required,role:"combobox",style:o.inputStyle,tabIndex:o.tabIndex,type:o.type},rr),x("input"));return g.createElement("li",Ne,g.createElement("input",Le))},_t=function(){var U=nt(),J=Pt(),Ne=Mt(U),Le=r({ref:E,className:h("container",{context:n}),onClick:U?ct:void 0,onContextMenu:o.onContextMenu,onMouseDown:o.onMouseDown,onDoubleClick:o.onDblClick,"data-p-focus":y,"data-p-disabled":o.disabled},x("container"));return g.createElement("ul",Le,J,Ne)},Jt=function(){if(o.dropdown){var U=o.dropdownAriaLabel||o.placeholder||oi("choose");return g.createElement(Lp,{type:"button",icon:o.dropdownIcon||g.createElement(Fp,null),className:h("dropdownButton"),disabled:o.disabled,onClick:Q,"aria-label":U,pt:x("dropdownButton"),__parentMetadata:{parent:T}})}return null},er=function(){if(d){var U=r({className:h("loadingIcon")},x("loadingIcon")),J=o.loadingIcon||g.createElement(pu,Lt({},U,{spin:!0})),Ne=$r.getJSXIcon(J,ni({},U),{props:o});return Ne}return null},ft=function(){return o.multiple?_t():ot()},qt=s+"_list",Nr=Ce.isNotEmpty(o.tooltip),tr=Do.getOtherProps(o),rr=Ce.reduceKeys(tr,ce.ARIA_PROPS),fr=er(),nr=ft(),Ir=Jt(),Yt=r({id:s,ref:j,style:o.style,className:$e(o.className,h("root",{focusedState:y}))},tr,x("root"));return g.createElement(g.Fragment,null,g.createElement("span",Yt,nr,fr,Ir,g.createElement(Cp,Lt({hostName:"AutoComplete",ref:A,virtualScrollerRef:D},o,{listId:qt,onItemClick:z,selectedItem:B,onOverlayHide:W,onClick:le,getOptionGroupLabel:dt,getOptionGroupChildren:rt,in:I,onEnter:se,onEntering:we,onEntered:re,onExit:ke,onExited:Ie,ptm:x,cx:h,sx:b}))),Nr&&g.createElement(Op,Lt({target:j,content:o.tooltip,pt:x("tooltip")},o.tooltipOptions)))}));Sp.displayName="AutoComplete";const YE=({paramsData:e,headerData:t,save:r,close:n,properties:o})=>{const[a,i]=g.useState(e),[s,l]=g.useState(t),[c]=g.useState({}),[u,d]=g.useState(o||[]);g.useEffect(()=>{i(e),l(t)},[e,t]);const p=(P,x,h)=>{if(h=="params"){const b=[...a];b[x]={...b[x],value:P.target.value},i(b)}else if(h=="headers"){const b=[...s];b[x]={...b[x],value:P.target.value},l(b)}},m=P=>{const x=u.filter(h=>h.toLowerCase().includes(P.query));d(x)},v=(P,x,h)=>{const{name:b,value:S}=P.target,j=h==="params"?[...a]:[...s];j[x]={...j[x],[b]:S},b==="valueType"&&(j[x].value=S==="date"?new Date:""),h==="params"?i(j):l(j)},y=P=>{const x={key:"",valueType:"",value:""};P==="params"?i(h=>[...h,x]):l(h=>[...h,x])},C=(P,x)=>{const h=x==="params"?a.filter((b,S)=>S!==P):s.filter((b,S)=>S!==P);x==="params"?i(h):l(h)},w=()=>{r(a,s)},k=()=>{r(a,s),n()},I=()=>f.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>N(),children:"Close"}),N=()=>{const P=document.querySelector(".p-datepicker");P&&(P.style.visibility="hidden")},T=(P,x,h)=>f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-800 mb-2 py-2 ",children:[f.jsx("div",{className:"min-w-[200px] px-4 rounded ",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Key"})})}),f.jsx("div",{className:"min-w-[200px] px-4 rounded",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Value Type"})})}),f.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Value"})})}),f.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded flex justify-end",children:f.jsx("div",{className:"form-group",children:f.jsx("span",{className:"text-white font-bold",children:"Delete"})})})]}),P.map((b,S)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2 bg-gray-800",children:[f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded ",children:f.jsxs("div",{className:"form-group",children:[f.jsx("input",{title:`${h} key`,placeholder:`${h} key`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"key",value:b.key,onChange:j=>v(j,S,x)}),c[`key-${S}`]&&f.jsx("small",{className:"text-red-500",children:c[`key-${S}`]})]})}),f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded",children:f.jsxs("div",{className:"form-group",children:[f.jsxs("select",{title:"Value Type",value:b.valueType,onChange:j=>v(j,S,x),className:"w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",name:"valueType",children:[f.jsx("option",{value:"",children:"Select Value Type"}),US.map(j=>f.jsx("option",{value:j.toLowerCase(),children:j.charAt(0).toUpperCase()+j.slice(1)},j))]}),c[`valueType-${S}`]&&f.jsx("small",{className:"text-red-500",children:c[`valueType-${S}`]})]})}),f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded",children:f.jsxs("div",{className:"form-group",children:[(!b.valueType||b.valueType!=="date"&&b.valueType!=="number"&&b.valueType!=="header"&&b.valueType!=="param")&&f.jsx("input",{title:`${h} Value`,placeholder:`${h} Value`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:b.value,onChange:j=>v(j,S,x)}),b.valueType&&b.valueType==="number"&&f.jsx("input",{title:`${h} Value`,placeholder:`${h} Value`,type:"number",maxLength:50,className:"appearance-none w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:b.value,onChange:j=>v(j,S,x),style:{MozAppearance:"textfield"}}),b.valueType&&(b.valueType==="date"||b.valueType==="time")&&f.jsx(Fn,{tooltipOptions:{position:"top"},showIcon:!0,placeholder:"Date",value:b.value||null,onChange:j=>v(j,S,x),showTime:b.valueType!==ye.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:ye.TIME===b.valueType,autoZIndex:!0,footerTemplate:I,showButtonBar:!0}),b.valueType&&(b.valueType==="param"||b.valueType==="header")&&f.jsx(Sp,{value:b.value,suggestions:u,completeMethod:m,onChange:j=>p(j,S,x),dropdown:!0}),c[`value-${S}`]&&f.jsx("small",{className:"text-red-500",children:c[`value-${S}`]})]})}),f.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded flex justify-end items-center",children:P.length&&f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold",onClick:j=>{j.stopPropagation(),C(S,x)},children:"×"})})]},S)),f.jsxs("button",{className:"ml-1 px-3 py-1 font-semibold text-white btn-primary-custom rounded flex items-center",onClick:()=>y(x),children:[f.jsx("svg",{className:"w-5 h-5 mr-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add ",h.slice(0,-1)]})]});return f.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:f.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[f.jsx("h5",{className:"modal-title text-lg font-bold",children:"HTTP Params"}),f.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:n,children:"×"})]})}),f.jsxs("div",{className:"overflow-y-auto p-4 mt-16 mb-20",children:[T(a,"params","Params"),T(s,"headers","Headers")]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[f.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:w,children:[f.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),f.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:k,children:"Save & Close"})]})})]})},XE=g.memo(YE),KE=({checked:e,onChange:t,className:r,size:n=20,...o})=>f.jsx("input",{type:"checkbox",checked:e,onChange:t,className:r,style:{width:n,height:n},...o}),ZE=({id:e,data:t})=>{var b,S,j,A,M,E,D,O,B;const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i,edges:s}=t,[l,c]=g.useState({...r.data}),[u,d]=g.useState(!1),[p,m]=g.useState([]);i.forEach(L=>L.type==="question");const v=()=>{a(i.map(L=>({...L,selected:!1})))};g.useEffect(()=>{const L=Xs(r.id,s,i),R=Ks(L);m(R)},[i]);const y=(L,R)=>{delete r.data.errors;const $={...r.data,[L]:R};c($),o(r.id,$)},C=L=>{delete r.data.errors;const R=L.target.value;y("requestType",R)},w=(L,R,$)=>{delete r.data.errors;const{statusWiseFlow:V,...H}=r.data;V[L][R]=$;const G={...H,statusWiseFlow:V};c(G),o(r.id,G)},k=L=>{delete r.data.errors;const R={key:"",valueType:"",value:""},$={...l,[L]:[...l[L]||[],R]};c($),o(r.id,$),d(!0)},I=(L,R)=>{var H,G;delete r.data.errors;let $;R=="params"?$=(H=l.params)==null?void 0:H.filter((q,z)=>z!==L):$=(G=l.headers)==null?void 0:G.filter((q,z)=>z!==L);const V={...l,[R]:$};c(V),o(r.id,V)},N=()=>{delete r.data.errors;const L={id:Ze(),statusCode:""},R={...l,statusWiseFlow:[...l.statusWiseFlow||[],L]};c(R),o(r.id,R)},T=L=>{var V;delete r.data.errors;const R=(V=l.statusWiseFlow)==null?void 0:V.filter((H,G)=>G!==L),$={...l,statusWiseFlow:R};c($),o(r.id,$)},P=(L,R)=>{delete r.data.errors;const $={...l,params:L,headers:R};c($),o(r.id,$)},x=()=>d(!1),h=()=>d(!0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(b=r.data)!=null&&b.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"HTTP Node"}),f.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"py-2 px-2",children:[f.jsx("div",{className:"mb-2",title:"Property Name",children:f.jsx("input",{type:"text",placeholder:"Property Name",value:l.property,onClick:v,onChange:L=>y("property",L.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsx("div",{className:"mb-2",title:"Display Text",children:f.jsx("input",{type:"text",placeholder:"Display Text",value:l.displayText,onClick:v,onChange:L=>y("displayText",L.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsx("div",{className:"mb-2",title:"URL",children:f.jsx("input",{type:"text",placeholder:"URL",value:l.url,onClick:v,onChange:L=>y("url",L.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsx("div",{className:"mb-2",children:f.jsxs("select",{title:"Request Type",value:l.requestType,onClick:v,onChange:C,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Request Type"}),GS.map(L=>f.jsx("option",{value:L,children:L.charAt(0).toUpperCase()+L.slice(1)},L))]})}),f.jsx("div",{className:"mb-2",children:f.jsx(Xp,{label:"Hide Data",className:"text-white cursor-pointer",children:f.jsx(KE,{checked:l.hideData,onChange:L=>y("hideData",L.target.checked),size:28})})}),l.params.map((L,R)=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"HTTP Request Param",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>h(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"Param"})]})}),l.params.length&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:$=>{$.stopPropagation(),I(R,"params")},children:"×"})})]})},R)),((j=(S=r.data.errors)==null?void 0:S.params)==null?void 0:j.length)>0&&f.jsx("small",{className:"text-red-500",children:"Errors in Params"}),f.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>k("params"),children:[f.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Param"]}),(A=l.headers)==null?void 0:A.map((L,R)=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"HTTP Request Header",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>h(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"Header"})]})}),l.headers.length&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:$=>{$.stopPropagation(),I(R,"headers")},children:"×"})})]})},R)),((E=(M=r.data.errors)==null?void 0:M.headers)==null?void 0:E.length)>0&&f.jsx("small",{className:"text-red-500",children:"Errors in Headers"}),f.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>k("headers"),children:[f.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Header"]}),f.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[f.jsx("div",{className:"col-span-10",title:"Success",children:f.jsx("input",{readOnly:!0,type:"text",value:"Success",onClick:v,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),f.jsx(Me,{type:"source",position:ne.Right,id:l.successFlowId})]}),f.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[f.jsx("div",{className:"col-span-10",title:"Fail",children:f.jsx("input",{readOnly:!0,type:"text",value:"Fail",onClick:v,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),f.jsx(Me,{type:"source",position:ne.Right,id:l.failureFlowId})]}),(D=l.statusWiseFlow)==null?void 0:D.map((L,R)=>f.jsx(f.Fragment,{children:f.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[f.jsx("div",{className:"col-span-10",title:"Fail Status Message",children:f.jsx("input",{type:"text",placeholder:"Status Message",value:L.statusCode,onClick:v,onChange:$=>w(R,"statusCode",$.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),f.jsx("div",{className:"col-span-2",title:"Delete",children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center w-[25px] w-[25px]",onClick:$=>{$.stopPropagation(),T(R)},children:"×"})}),f.jsx(Me,{type:"source",position:ne.Right,id:L.id})]},R)})),((B=(O=r.data.errors)==null?void 0:O.statusWiseFlow)==null?void 0:B.length)>0&&f.jsx("small",{className:"text-red-500",children:"Errors in statusWiseFlow"}),f.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:N,children:[f.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add More Status"]})]}),f.jsx(Me,{type:"target",position:ne.Top,id:e})]}),f.jsx(no,{header:"Edit HTTP Params",visible:u,style:{width:"600px"},onHide:x,children:f.jsx(XE,{save:P,paramsData:l.params||[],headerData:l.headers||[],close:x,properties:p})})]})},QE=g.memo(ZE),JE=({data:e,id:t})=>{const{onDelete:r}=e;return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:f.jsxs("div",{className:"flex justify-between items-center pb-2 py-2 px-4",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Lead Flow"}),f.jsx("button",{title:"Delete Lead Flow Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:"×"})]})}),f.jsx(Me,{type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"})]})},ej=g.memo(JE),tj=({data:e,id:t})=>{const{onDelete:r}=e;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Lead Form"}),f.jsx("button",{title:"Delete Lead Form Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:"×"})]}),f.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:f.jsx("p",{className:"nodrag",children:"This will display lead form for the visitor"})}),f.jsx(Me,{type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"})]})},rj=g.memo(tj),nj=({id:e,data:t})=>{var i,s,l,c,u;const{node:r,onDelete:n,handleChange:o}=t,a=(d,p)=>{delete r.data.errors;const m={...r.data,[d]:p};o(r.id,m)};return f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(i=r.data)!=null&&i.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Google Maps"}),f.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"py-2 px-2",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx(kt,{maxLength:500,message:r.data.message,onChange:d=>a("message",d)}),((l=(s=r.data)==null?void 0:s.errors)==null?void 0:l.message)&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("input",{title:"Map Url",type:"text",value:r.data.url,onChange:d=>a("url",d.target.value),placeholder:"Google Maps URL",className:"nodrag w-full p-1 rounded-md border border-gray-600 bg-gray-700 text-white"}),((u=(c=r.data)==null?void 0:c.errors)==null?void 0:u.url)&&f.jsx("small",{className:"text-red-500",children:r.data.errors.url})]})]}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"})]})},oj=g.memo(nj),aj=({data:e})=>{const{node:t,handleChange:r,onDelete:n,setNodes:o}=e,[a,i]=g.useState(!1),s=g.useRef(null),l=g.useCallback(()=>{o(p=>p.map(m=>m.selected?{...m,selected:!1}:m))},[o]),c=()=>{i(!0),l()},u=p=>{delete t.data.errors;const m={...t,data:{...t.data,message:p}};r(t.id,m.data)},d=g.useCallback(p=>{s.current&&!s.current.contains(p.target)&&i(!1)},[]);return g.useEffect(()=>(document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)),[d]),f.jsxs(f.Fragment,{children:[f.jsxs("div",{ref:s,className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${t.data.errors&&Object.keys(t.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Message"}),f.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",title:"Delete Message Node",onClick:p=>{p.stopPropagation(),n(t.id)},children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[a?f.jsx(kt,{message:t.data.message,onChange:u,onClick:l}):f.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onDoubleClick:c,title:"Double Click ro Enter/Edit the Message",children:[f.jsx("span",{children:t.data.message||"Enter your message"}),f.jsx("svg",{className:"w-4 h-4 text-white ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})})]}),t.data.errors&&f.jsx("small",{className:"text-red-500",children:t.data.errors.message})]})]}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"})]})},ij=g.memo(aj),sj=({optionsData:e,save:t,close:r})=>{var x;const[n,o]=g.useState(e),[a,i]=g.useState({});g.useEffect(()=>{o(h=>({...h,subOptions:n.dataSource?[e.subOptions[0]]:e.subOptions}))},[e,n.dataSource]);const s=h=>{const{name:b,value:S}=h.target;o({...n,[b]:S})},l=(h,b,S)=>{if(o({...n,message:h}),b&&(S||S==0)){const j=[...n.subOptions],A={...j[S]};A[b]=h,j[S]=A,o({...n,subOptions:j})}},c=(h,b)=>{const S=Bi(h,b);i(j=>({...j,[h]:S}))},u=(h,b,S)=>{const j=Bi(b,S);i(A=>{var M;return{...A,subOptions:{...A.subOptions,[h]:{...(M=A.subOptions)==null?void 0:M[h],[b]:j}}}})},d=(h,b)=>{const{name:S,value:j}=b.target,A=[...n.subOptions],M={...A[h]};M[S]=j,A[h]=M,o({...n,subOptions:A})},p=(h,b)=>{const{value:S}=b.target,j=[...n.subOptions];j[h].category=S,o({...n,subOptions:j})},m=(h,b)=>{d(h,{...b,target:{name:b.target.name,value:b.target.checked}})},v=h=>{const b=n.subOptions.map((S,j)=>j===h?{...S,isCollapsed:!S.isCollapsed}:S);o({...n,subOptions:b})},y=()=>{o({...n,subOptions:[...n.subOptions,{id:Ze(),title:"",subTitle:"",imageUrl:"",value:"",category:"",description:"",isLink:!1,leadEmailTo:"",leadEmailCc:[]}]})},C=(h,b)=>{if(["Enter","Tab",","].includes(b.key)){b.preventDefault();const S=b.currentTarget.value.trim();S&&(w(n.subOptions[h].id,S),b.currentTarget.value="")}},w=(h,b)=>{const S=n.subOptions.find(j=>j.id===h);S&&(oa(b)?S.leadEmailTo.includes(b)?i(j=>{var A;return{...j,subOptions:{...j.subOptions,[h]:{...(A=j.subOptions)==null?void 0:A[h],leadEmailCc:"This email is already in Lead Email To."}}}}):(o({...n,subOptions:n.subOptions.map(j=>j.id===h?{...j,leadEmailCc:[...j.leadEmailCc,b]}:j)}),i(j=>{var A;return{...j,subOptions:{...j.subOptions,[h]:{...(A=j.subOptions)==null?void 0:A[h],leadEmailCc:""}}}})):i(j=>{var A;return{...j,subOptions:{...j.subOptions,[h]:{...(A=j.subOptions)==null?void 0:A[h],leadEmailCc:"Invalid email address"}}}}))},k=(h,b)=>{b.preventDefault();const j=b.clipboardData.getData("text").split(/[ ,;]/).map(D=>D.trim()).filter(D=>D!==""),A=n.subOptions.find(D=>D.id===h);if(!A)return;if(j.filter(D=>!oa(D)).length>0){i(D=>{var O;return{...D,subOptions:{...D.subOptions,[h]:{...(O=D.subOptions)==null?void 0:O[h],leadEmailCc:"Invalid email address"}}}});return}if(j.filter(D=>A.leadEmailTo.includes(D)).length>0){i(D=>{var O;return{...D,subOptions:{...D.subOptions,[h]:{...(O=D.subOptions)==null?void 0:O[h],leadEmailCc:"Some emails are already in Lead Email To"}}}});return}o({...n,subOptions:n.subOptions.map(D=>D.id===h?{...D,leadEmailCc:[...D.leadEmailCc,...j]}:D)}),i(D=>{var O;return{...D,subOptions:{...D.subOptions,[h]:{...(O=D.subOptions)==null?void 0:O[h],leadEmailCc:""}}}})},I=(h,b)=>{o({...n,subOptions:n.subOptions.map(S=>S.id===h?{...S,leadEmailCc:S.leadEmailCc.filter(j=>j!==b)}:S)})},N=h=>{o({...n,subOptions:n.subOptions.filter((b,S)=>S!==h)})},T=()=>{t(n)},P=()=>{n.subOptions.forEach(h=>{h.isCollapsed=!0}),t(n),r()};return f.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:f.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[f.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),f.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Display Text"}),f.jsx("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:n.fieldLabel,onChange:s,onBlur:h=>c("fieldLabel",h.target.value)}),a.fieldLabel&&f.jsx("small",{className:"text-red-500",children:a.fieldLabel})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Property Name"}),f.jsx("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:n.property,onChange:s,onBlur:h=>c("property",h.target.value)}),a.property&&f.jsx("small",{className:"text-red-500",children:a.property})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Message"}),f.jsx(kt,{maxLength:300,message:n.message,onChange:h=>l(h),onBlur:h=>c("message",h)}),a.message&&f.jsx("small",{className:"text-red-500",children:a.message})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Fall back"}),f.jsx("input",{title:"Fallback",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fallback",value:n.fallback,onChange:s,onBlur:h=>c("fallback",h.target.value)}),a.fallback&&f.jsx("small",{className:"text-red-500",children:a.fallback})]})}),f.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Data Source"}),f.jsx("input",{title:"DataSource",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"dataSource",value:n.dataSource,onChange:s,onBlur:h=>c("dataSource",h.target.value)}),a.dataSource&&f.jsx("small",{className:"text-red-500",children:a.dataSource})]})})]}),(x=n.subOptions)==null?void 0:x.map((h,b)=>{var S,j,A,M,E,D,O,B,L,R,$,V,H,G,q,z,_,X,K,ae,W,se,we,he;return f.jsxs("div",{className:"accordion px-2 mb-2",children:[f.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>v(b),children:[f.jsx("span",{className:"mr-3",children:h.isCollapsed?f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):f.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),f.jsx("span",{className:"flex-1",children:h.title||`Sub Option ${b+1}`}),n.subOptions.length>1&&f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:re=>{re.stopPropagation(),N(b)},children:"×"})]}),!h.isCollapsed&&f.jsxs("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:[f.jsx("div",{className:"mb-2",children:f.jsx(Kp,{label:"Link",checked:h.isLink,onChange:re=>m(b,re),className:"text-white cursor-pointer"})}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Title"}),f.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:h.title,onChange:re=>d(b,re),onBlur:re=>u(b,"title",re.target.value)}),((j=(S=a.subOptions)==null?void 0:S[b])==null?void 0:j.title)&&f.jsx("small",{className:"text-red-500",children:(A=a.subOptions[b])==null?void 0:A.title})]})}),f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Sub Title"}),f.jsx("input",{title:"Sub Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"subTitle",value:h.subTitle,onChange:re=>d(b,re),onBlur:re=>u(b,"subTitle",re.target.value)}),((E=(M=a.subOptions)==null?void 0:M[b])==null?void 0:E.subTitle)&&f.jsx("small",{className:"text-red-500",children:(D=a.subOptions[b])==null?void 0:D.subTitle})]})}),f.jsx("div",{className:"min-w-[200px",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:h.isLink?"URL":"Value"}),f.jsx("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:h.value,onChange:re=>d(b,re),onBlur:re=>u(b,"value",re.target.value)}),((B=(O=a.subOptions)==null?void 0:O[b])==null?void 0:B.value)&&f.jsx("small",{className:"text-red-500",children:(L=a.subOptions[b])==null?void 0:L.value})]})}),f.jsx("div",{className:"min-w-[200px",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Image url"}),f.jsx("input",{title:"Image Url",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"imageUrl",value:h.imageUrl,onChange:re=>d(b,re),onBlur:re=>u(b,"imageUrl",re.target.value)}),(($=(R=a.subOptions)==null?void 0:R[b])==null?void 0:$.value)&&f.jsx("small",{className:"text-red-500",children:(V=a.subOptions[b])==null?void 0:V.value})]})}),!n.dataSource&&!h.isLink&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Select Category"}),f.jsxs("select",{title:"Select Category",style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",value:h.category,onChange:re=>p(b,re),onBlur:re=>u(b,"category",re.target.value),children:[f.jsx("option",{value:"",children:"Select Category"}),f.jsx("option",{value:"preSale",children:"Presale"}),f.jsx("option",{value:"general",children:"General"}),f.jsx("option",{value:"others",children:"Others"})]}),((G=(H=a.subOptions)==null?void 0:H[b])==null?void 0:G.category)&&f.jsx("small",{className:"text-red-500",children:(q=a.subOptions[b])==null?void 0:q.category})]})}),!h.isLink&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Lead Email To"}),f.jsx("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:h.leadEmailTo,onChange:re=>d(b,re),onBlur:re=>u(b,"leadEmailTo",re.target.value)}),((_=(z=a.subOptions)==null?void 0:z[b])==null?void 0:_.leadEmailTo)&&f.jsx("small",{className:"text-red-500",children:(X=a.subOptions[b])==null?void 0:X.leadEmailTo})]})}),!h.isLink&&f.jsx("div",{className:"min-w-[200px]",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:" Lead Email Cc"}),f.jsxs("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[h.leadEmailCc.map(re=>f.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[re,f.jsx("button",{type:"button",onClick:()=>I(h.id,re),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:"×"})]},re)),f.jsx("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:re=>u(b,"leadEmailCc",re.target.value),onKeyDown:re=>C(b,re),onPaste:re=>k(h.id,re)})]}),((ae=(K=a.subOptions)==null?void 0:K[b])==null?void 0:ae.leadEmailCc)&&f.jsx("small",{className:"text-red-500",children:(W=a.subOptions[b])==null?void 0:W.leadEmailCc})]})}),f.jsx("div",{className:"min-w-[200px",children:f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"input-label",children:"Description"}),f.jsx(kt,{maxLength:300,message:h.description,onChange:re=>l(re,"description",b),onBlur:re=>c("description",re)}),((we=(se=a.subOptions)==null?void 0:se[b])==null?void 0:we.description)&&f.jsx("small",{className:"text-red-500",children:(he=a.subOptions[b])==null?void 0:he.description})]})})]})]})]},b)}),!n.dataSource&&f.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:y,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:f.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[f.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:T,children:[f.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),f.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:P,children:"Save & Close"})]})})]})},lj=g.memo(sj),cj=({subOption:e,index:t,onDelete:r,expandToEdit:n,length:o})=>f.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:f.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[f.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:f.jsxs("div",{className:"flex min-w-0",children:[f.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),f.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Sub Option"})]})}),o>1&&f.jsx("div",{children:f.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:a=>{a.stopPropagation(),r(t)},children:"×"})})]})}),uj=g.memo(cj),dj=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:o}=e,[a,i]=g.useState(!1),[s,l]=g.useState(!1),[c,u]=g.useState({}),[d,p]=g.useState(r.data),[m,v]=g.useState(r.data.message),y=(x,h)=>{const b=Bi(x,h);u(S=>({...S,[x]:b}))},C=(x,h)=>{delete r.data.errors;const b={...d,[x]:h};p(b),o(r.id,b)},w=()=>{delete r.data.errors;const x={id:Ze(),title:"",subTitle:"",value:"",imageUrl:"",category:"",description:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1,isLink:!1},h={...d,subOptions:[...d.subOptions,x]};p(h),o(r.id,h),i(!0)},k=x=>{delete r.data.errors;const h=d.subOptions.filter((S,j)=>j!==x),b={...d,subOptions:h};p(b),o(r.id,b)},I=x=>{const h={...x,subOptions:x.subOptions.map(b=>({...b}))};v(Math.random().toString()),p(h),o(r.id,h)},N=()=>i(!1),T=x=>{d.subOptions.forEach(h=>{h.isCollapsed=!0}),d.subOptions[x].isCollapsed=!1,i(!0)},P=x=>{const{source:h,destination:b}=x;if(!b)return;const S=Array.from(d.subOptions),[j]=S.splice(h.index,1);S.splice(b.index,0,j);const A={...d,subOptions:S};p(A),o(r.id,A)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Option"}),f.jsxs("div",{className:"flex",children:[f.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(x=>!x),children:f.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:f.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),f.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&f.jsxs("div",{className:"space-y-2 py-2 px-2",children:[f.jsxs("div",{children:[f.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:d.fieldLabel,onChange:x=>C("fieldLabel",x.target.value),onBlur:x=>y("fieldLabel",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fieldLabel&&f.jsx("small",{className:"text-red-500",children:c.fieldLabel})]}),f.jsxs("div",{children:[f.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:d.property,onChange:x=>C("property",x.target.value),onBlur:x=>y("property",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&f.jsx("small",{className:"text-red-500",children:c.property})]}),f.jsxs("div",{children:[f.jsx(kt,{maxLength:300,message:d.message,onChange:x=>C("message",x)},m),c.message&&f.jsx("small",{className:"text-red-500",children:c.message})]}),f.jsxs("div",{children:[f.jsx("input",{title:"Fall back",type:"text",maxLength:50,value:d.fallback,placeholder:"Fall back",onChange:x=>C("fallback",x.target.value),onBlur:x=>y("fallback",x.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fallback&&f.jsx("small",{className:"text-red-500",children:c.fallback})]}),f.jsx(ap,{onDragEnd:P,children:f.jsx(hp,{droppableId:"subOptions",children:x=>f.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:"space-y-2",children:[d.subOptions.map((h,b)=>f.jsxs("div",{className:"nodrag relative subOption-wrapper",children:[f.jsx(dp,{draggableId:h.id,index:b,children:S=>f.jsx("div",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:{...S.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:f.jsx(uj,{subOption:h,index:b,onDelete:k,length:d.subOptions.length,expandToEdit:T},b)})},h.id),f.jsx(Me,{type:"source",position:ne.Right,id:h.id})]},b)),x.placeholder]})})}),f.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[f.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),f.jsx(Me,{type:"target",position:ne.Top,id:t}),f.jsx(no,{header:"Header",visible:a,style:{width:"100vw"},onHide:()=>{a&&N()},children:f.jsx(lj,{save:I,optionsData:d,close:N})})]})},fj=g.memo(dj),pj=({id:e,data:t})=>{var p,m;const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i}=t,[s,l]=g.useState({}),c=()=>{a(i.map(v=>({...v,selected:!1})))},u=(v,y)=>{delete r.data.errors;const C={...r.data,[v]:y};o(r.id,C)},d=v=>{delete r.data.errors,v.target.value?s.callConnectId&&l(C=>{const w={...C};return delete w.callConnectId,w}):l(C=>({...C,callConnectId:"Call Connect Name is Mandatory"}));const y=v.target.value;u("otpType",y)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg ",children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"OTP Node"}),f.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsxs("div",{className:"mb-2",children:[f.jsx(kt,{maxLength:500,message:r.data.message,onChange:v=>u("message",v),onClick:c}),r.data.errors&&((p=Object.keys(r.data.errors))==null?void 0:p.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("select",{title:"OTP Type",value:r.data.otpType,onClick:c,onChange:d,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Please select OTP type"}),f.jsx("option",{value:"phoneNumber",children:" Mobile Number"},"phoneNumber"),f.jsx("option",{value:"email",children:"Email"},"email")]}),r.data.errors&&((m=Object.keys(r.data.errors))==null?void 0:m.length)>0&&r.data.errors.otpType&&f.jsx("small",{className:"text-red-500",children:r.data.errors.otpType})]})]})]}),f.jsx(Me,{id:"target",type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{id:"source",type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"})]})},mj=g.memo(pj),gj=({id:e,data:t})=>{var N,T,P,x,h,b;const{node:r,onDelete:n,handleChange:o,setNodes:a,nodes:i}=t,[s,l]=g.useState({}),c=g.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),u=g.useMemo(()=>{const S=new Date;return S.setMonth(S.getMonth()+3),S.setHours(23,59,59,999),S},[]),[d,p]=g.useState({}),m=(S,j)=>{delete r.data.errors,l({});const A={...r.data,[S]:j};o(r.id,A)},v=()=>{a(i.map(S=>({...S,selected:!1})))},y=(S,j)=>{let A="";r.data.fieldType===ye.CUSTOM&&!j.trim()&&(A="Regex pattern is required for custom type."),l(M=>({...M,[S]:A}))},C=S=>{delete r.data.errors,S.target.value?s.fieldType&&l(D=>{const O={...D};return delete O.fieldType,O}):l(D=>({...D,fieldType:"Question Type is Mandatory"}));const j=S.target.value,{min:A,max:M}=w(j),E={...r.data,fieldType:j,min:A,max:M,custom:""};o(r.id,E)},w=g.useCallback(S=>{switch(S){case ye.CUSTOM:return p({min:"Custom Expression",max:""}),{min:"",max:""};case ye.STRING:return p({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case ye.NUMBER:return p({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case ye.DATE:return p({min:"Min Date",max:"Max Date"}),{min:"",max:""};case ye.DATETIME:return p({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case ye.TIME:return p({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),k=()=>{const S=document.querySelector(".p-datepicker");S&&(S.style.visibility="hidden")},I=()=>f.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>k(),children:"Close"});return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(N=r.data)!=null&&N.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Question Node"}),f.jsx("button",{title:"Delete Question Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),f.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[f.jsx("div",{className:"mb-2",title:"Field Label",children:f.jsx("input",{type:"text",placeholder:"Field Label",value:r.data.fieldLabel||"",onClick:v,onChange:S=>m("fieldLabel",S.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),f.jsxs("div",{className:"mb-2",title:"Property Name (Alphanumeric, no spaces)",children:[f.jsx("input",{type:"text",placeholder:"Property Name (Alphanumeric, no spaces)",value:r.data.property||"",onClick:v,onChange:S=>m("property",S.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((T=Object.keys(r.data.errors))==null?void 0:T.length)>0&&r.data.errors.property&&f.jsx("small",{className:"text-red-500",children:r.data.errors.property})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx(kt,{maxLength:500,message:r.data.message,onChange:S=>m("message",S)}),r.data.errors&&((P=Object.keys(r.data.errors))==null?void 0:P.length)>0&&r.data.errors.message&&f.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("select",{title:"Field Type",value:r.data.fieldType,onClick:v,onChange:C,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Field Type"}),pp.map(S=>f.jsx("option",{value:S.value,children:S.label},S.value))]}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.fieldType&&f.jsx("small",{className:"text-red-500",children:r.data.errors.fieldType})]}),f.jsxs("div",{className:"mb-2",children:[[ye.STRING,ye.NUMBER].includes(r.data.fieldType)&&f.jsxs("div",{className:"flex space-x-2 mt-2",children:[f.jsx("input",{title:d.min||"Min Length",type:"number",placeholder:d.min,value:r.data.min||"",onChange:S=>m("min",S.target.value),onClick:v,className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13}),f.jsx("input",{title:d.max||"Max Length",type:"number",placeholder:d.max,value:r.data.max||"",onClick:v,onChange:S=>m("max",S.target.value),className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13})]}),[ye.DATE,ye.DATETIME,ye.TIME].includes(r.data.fieldType)&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-2",children:f.jsxs("select",{title:"Date Format",value:r.data.dateFormat,onClick:v,onChange:S=>m("dateFormat",S.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[f.jsx("option",{value:"",children:"Select Date Format"}),mp.map(S=>f.jsx("option",{value:S,children:S},S))]})}),f.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[f.jsx(Fn,{tooltip:d.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:d.min||"Min",minDate:c,maxDate:u,value:r.data.min||null,onFocus:v,onChange:S=>m("min",S.value),showTime:r.data.fieldType!==ye.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded small-calendar",timeOnly:ye.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:I,showButtonBar:!0}),f.jsx(Fn,{tooltip:d.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,placeholder:d.max||"Max",minDate:r.data.min||c,maxDate:u,value:r.data.max||null,onFocus:v,onChange:S=>m("max",S.value),showTime:r.data.fieldType!==ye.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:ye.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:I,showButtonBar:!0})]})]}),r.data.fieldType===ye.CUSTOM&&f.jsxs(f.Fragment,{children:[f.jsx("input",{title:"Custom Expression",type:"text",placeholder:d.min||"Custom Expression",value:r.data.custom||"",onClick:v,onBlur:S=>y("custom",S.target.value),onChange:S=>m("custom",S.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded mt-2"}),((h=r.data.errors)==null?void 0:h.custom)&&f.jsx("small",{className:"text-red-500",children:r.data.errors.custom})]}),r.data.errors&&((b=Object.keys(r.data.errors))==null?void 0:b.length)>0&&r.data.errors.answer&&f.jsx("small",{className:"text-red-500",children:r.data.errors.answer})]}),r.data.fieldType&&f.jsx("div",{className:"mb-2",children:f.jsx(kt,{maxLength:500,placeHolder:"Error Message",message:r.data.errorMessage,onChange:S=>m("errorMessage",S)})})]})]}),f.jsx(Me,{id:"target",type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"}),f.jsx(Me,{id:"source",type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"})]})},hj=g.memo(gj),vj=({data:e})=>{const{message:t}=e.node.data;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white p-2 rounded-md shadow-lg",children:[f.jsx("div",{className:"custom-node-body text-center",children:t}),f.jsx(Me,{type:"source",position:ne.Bottom,className:"w-2 h-2 bg-white border-none"})]})},yj=g.memo(vj),bj=({data:e,id:t})=>{const{onDelete:r,stop:n}=e;return f.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[f.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[f.jsx("h3",{className:"text-sm font-semibold",children:"Stop"}),f.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete Stop Node",onClick:()=>r(t),children:"×"})]}),f.jsx("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:n||"The chat will stop here"}),f.jsx(Me,{type:"target",position:ne.Top,className:"w-2 h-2 bg-white border-none"})]})},wj=e=>e.map(({id:t,type:r,data:n,position:o})=>(n.subOptions&&(n.subOptions=n.subOptions.map(a=>{const{...i}=a;return i})),{id:t,type:r,data:n,position:o})),xj=(e,t,r={})=>{const n=e.slice(1),o=[],a=e.find(c=>c.type==="start"),i=t.find(c=>c.source===(a==null?void 0:a.id)),s=i?i.target:"",l=n.map(c=>{var m,v,y,C,w,k,I;const u=t.find(N=>N.source===c.id),d=u?u.target:null,p={flowId:c.id,nextFlowId:c.type!=="options"&&c.type!=="http"?d:"",type:c.type,content:((m=c.data.message)==null?void 0:m.trim())||""};if((c.type==="options"||c.type==="question")&&(p.fieldLabel=(v=c.data.fieldLabel)==null?void 0:v.trim()),(c.type==="options"||c.type==="question"||c.type==="http"||c.type==="customForm")&&(p.property=(y=c.data.property)==null?void 0:y.trim()),c.type==="options"&&(p.meta={fallback:(C=c.data.fallback)==null?void 0:C.trim(),dataSource:(w=c.data.dataSource)==null?void 0:w.trim()}),c.type==="file"){const N=iE(c.data.fileType);c.data.files.length>0?p.meta={type:N,media:c.data.files.map(T=>{var P,x;return{name:T.name||"Unnamed file",url:((P=T.url)==null?void 0:P.trim())||"",type:Xc((x=T.url)==null?void 0:x.trim())}})}:p.meta={type:N,media:c.data.urls.map(T=>({url:(T==null?void 0:T.trim())||"",type:Xc(T==null?void 0:T.trim())}))}}if(c.type==="map"&&c.data.url&&(p.meta={url:(k=c.data.url)==null?void 0:k.trim()}),c.type==="question"&&(c.data.fieldType==="number"||c.data.fieldType==="string"||c.data.fieldType==="age"?p.meta={min:c.data.min?parseInt(c.data.min):c.data.min,max:c.data.max?parseInt(c.data.max):c.data.max,type:c.data.fieldType}:c.data.fieldType==="date"?p.meta={min:c.data.min?Io(c.data.min,!0):c.data.min,max:c.data.max?Io(c.data.max,!1,!0):c.data.min,type:c.data.fieldType}:c.data.fieldType==="datetime"?p.meta={min:c.data.min?Io(c.data.min):c.data.min,max:c.data.max?Io(c.data.max):c.data.min,type:c.data.fieldType}:c.data.fieldType==="time"?p.meta={min:Qc(c.data.min),max:Qc(c.data.max),type:c.data.fieldType}:c.data.fieldType==="custom"?p.meta={custom:(I=c.data.custom)==null?void 0:I.trim(),type:c.data.fieldType}:p.meta={type:c.data.fieldType},p.meta.dateFormat=c.data.dateFormat||"",p.meta.errorMessage=c.data.errorMessage||""),c.data.subOptions&&(p.children=c.data.subOptions.map(N=>{var P,x,h,b,S,j;const T=t.find(A=>A.sourceHandle===N.id);return{id:N.id,flowId:N.id,isLink:N.isLink,title:(P=N.title)==null?void 0:P.trim(),subTitle:(x=N.subTitle)==null?void 0:x.trim(),imageUrl:(h=N.imageUrl)==null?void 0:h.trim(),value:(b=N.value)==null?void 0:b.trim(),category:(S=N.category)==null?void 0:S.trim(),description:N.description,leadEmailTo:(j=N.leadEmailTo)==null?void 0:j.trim(),leadEmailCc:N.leadEmailCc?[...N.leadEmailCc]:[],nextFlowId:T?T.target:void 0}})),c.type==="http"){if(p.meta={displayText:c.data.displayText,requestType:c.data.requestType,hideData:c.data.hideData,url:c.data.url,successFlowId:au(c.data.successFlowId,t),failureFlowId:au(c.data.failureFlowId,t)},c.data.params.length>0){const N=c.data.params.map(T=>({key:T.key,valueType:T.valueType,value:iu(T.valueType,T.value)}));p.meta.params=N}if(c.data.headers.length>0){const N=c.data.headers.map(T=>({key:T.key,valueType:T.valueType,value:iu(T.valueType,T.value)}));p.meta.headers=N}if(c.data.statusWiseFlow.length>0){const N=c.data.statusWiseFlow.map(T=>{const P=t.find(x=>x.sourceHandle===T.id);return{statusCode:T.statusCode,flowId:T.id,nextFlowId:P?P.target:void 0}});p.meta.statusWiseFlowId=N}}return c.type==="callConnect"&&(p.content=c.data.message,p.meta={callConnectId:c.data.callConnectId,callAccepted:c.data.callAccepted,callRejected:c.data.callRejected,successMessage:c.data.successMessage,failureMessage:c.data.failureMessage}),c.type==="otp"&&(p.content=c.data.message,p.meta={otpType:c.data.otpType}),c.type==="customForm"&&(p.property=c.data.property,p.content=c.data.message,p.meta={customFields:c.data.customFields}),o.push({nodeId:c.id,position:c.position}),p});return{_id:r._id||"",organizationId:r.organizationId||"",botId:r.botId||"",createdAt:new Date().toISOString(),version:0,startFlowId:s,flows:l,__v:0,deployedAt:new Date().toISOString(),modifiedAt:new Date().toISOString(),positions:o}},au=(e,t)=>{const r=t.find(n=>n.sourceHandle===e);return(r==null?void 0:r.target)||""},iu=(e,t)=>e==="number"?Number(t):e==="date"?new Date(e):t,Cj=({flowData:e,flowList:t,onSave:r,onVersionSelected:n,onDelete:o})=>{const a=g.useMemo(()=>({start:yj,message:ij,options:fj,leadForm:rj,leadFlow:ej,gpt:DE,stop:bj,file:IE,map:oj,question:hj,callConnect:Mw,otp:mj,customForm:SE,http:QE}),[]),i=g.useMemo(()=>({custom:Iw}),[]),[s,l]=g.useState([]),[c,u]=g.useState([]),[d,p]=g.useState({}),[m,v]=g.useState(!0),[y,C]=g.useState(null),[w,k]=g.useState(!1),I=g.useRef(null),N=g.useRef(!1),T=g.useRef(""),P=g.useRef({}),x=g.useRef({}),h=()=>{p({})};g.useEffect(()=>{N.current&&e&&(N.current=!1,I.current&&I.current.show({severity:"success",summary:"Chatbot Flow",detail:"Chatbot Flow Design has been saved successfully",life:5e3}));const{flowNodes:z,flowEdges:_}=Yc(e);l(z),u(_)},[e]),g.useEffect(()=>{v(s.length<2||Object.keys(d).length>0)},[s,d,c]);const b=g.useCallback(z=>{h(),l(_=>Md(z,_))},[]),S=g.useCallback(z=>{if(z[0].type==="reset"&&!w&&x.current){T.current="Edge Delete",x.current=z,k(!0);return}h(),u(_=>Vl(z,_))},[w]),j=z=>{h(),u(_=>Vl(z,_))},A=z=>{h(),u(_=>{const X=_.filter(K=>{const ae=K.source===z.source,W=K.sourceHandle===z.sourceHandle;return!ae||K.sourceHandle&&!W});return pd({...z,type:"custom"},X)})},M=g.useCallback(z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},[]),E=g.useCallback(z=>{if(!y){console.error("React Flow instance is not initialized yet.");return}if(h(),z.preventDefault(),!z.dataTransfer.getData("application/reactflow"))return;const _=y==null?void 0:y.screenToFlowPosition({x:z.clientX,y:z.clientY}),X=rE(z,_);l(K=>K.concat(X))},[y]),D=(z,_)=>{h();const X=s.map(K=>K.id===z?{...K,selected:!1,data:{...K.data,..._}}:{...K,selected:!1});l(X)},O=g.useCallback(z=>{h(),l(_=>_.filter(X=>X.id!==z)),u(_=>_.filter(X=>X.source!==z&&X.target!==z))},[]),B=z=>{if(!w&&z){T.current="Node Delete",P.current=z,k(!0);return}},L=g.useCallback(z=>{if(z.key==="Delete"){const _=s.filter(K=>K.selected),X=c.filter(K=>K.selected);if(!w&&_.length>0){T.current="Node Delete",P.current=_[0].id,k(!0);return}if(!w&&X.length>0){T.current="Edge Delete",x.current=X,k(!0);return}_.length>0&&(O(_[0].id),u(K=>K.filter(ae=>!_.some(W=>W.id===ae.source||W.id===ae.target)))),X.length>0&&u(K=>K.filter(ae=>!X.includes(ae)))}},[s,c,w,O]),R=g.useCallback(z=>{h(),u(z.reduce((_,X)=>{const K=zy(X,s,c),ae=_y(X,s,c),W=ys([X],c),se=_.filter(he=>!W.includes(he)),we=K.flatMap(({id:he})=>ae.map(({id:re})=>({id:`${he}->${re}`,source:he,target:re})));return[...se,...we]},c))},[s,c]),$=(z,_)=>{z.dataTransfer.setData("application/reactflow",_)},V=z=>{if(s.length<2){const W={};return W.MinNodes="Minimum 2 nodes required for a valid flow",p(W),!1}let _={},X={};for(const W of s)if(W.type==="message"){const se=uE(W.data);_={..._,...se}}else if(W.type==="options"){const se=dE(W,W.data,s,c);_={..._,...se}}else if(W.type==="file"){const se=fE(W.data);_={..._,...se}}else if(W.type==="map"){const se=pE(W.data);_={..._,...se}}else if(W.type==="question"){const se=gE(W.data);_={..._,...se}}else if(W.type==="callConnect"){const se=vE(W.data);_={..._,...se}}else if(W.type==="otp"){const se=yE(W.data);_={..._,...se}}else if(W.type==="http"){const{newErrors:se,newWarnings:we}=bE(W,s,c);_={..._,...se},X={...we}}if(Object.keys(_).length>0){p(_);const W=Object.values(_);I.current&&I.current.show(W.map(se=>({severity:"error",summary:"Error",detail:se,life:3100}))),l(s),v(!0);return}if(z&&Object.keys(X).length>0){const W=Object.values(X);I.current&&I.current.show(W.map(se=>({severity:"warn",summary:"Warning",detail:se,life:3100}))),v(!0);return}const K=wj(s),ae=xj(K,c,e);N.current=!0,r(ae,z)},H=()=>{T.current="",k(!0)},G=()=>{const{flowNodes:z}=Yc(),_=c.filter(X=>X.selected);if(T.current=="Node Delete"){O(P.current),k(!1);return}else if(T.current==="Edge Delete"){x.current.length>0&&u(X=>X.filter(K=>!_.includes(K))),k(!1);return}l([z[0]]),u([]),k(!1)},q=()=>{o(e)};return g.useEffect(()=>{const z=document.getElementById("reactflow-wrap");return z&&z.addEventListener("keydown",L),()=>{z&&z.removeEventListener("keydown",L)}},[L]),f.jsxs(_p,{children:[f.jsxs("div",{className:"flow-diagram",children:[f.jsx("div",{id:"reactflow-wrap",className:"reactflow-wrapper",children:f.jsx("div",{className:"flex flex-col h-full",children:f.jsx("div",{className:"reactflow-box",onDrop:E,onDragOver:M,children:f.jsx(Ss,{children:f.jsxs(Ud,{nodes:s.map(z=>({...z,data:{node:z,nodes:s,handleChange:(_,X)=>D(_,X),onDelete:B,edges:c,updateEdges:j,setNodes:l}})),edges:c,onInit:C,onNodesChange:b,onEdgesChange:S,onConnect:A,nodeTypes:a,edgeTypes:i,onNodesDelete:R,children:[f.jsx(wb,{}),f.jsx(Nb,{}),f.jsx(Nw,{})]})})})})}),f.jsx(Iu,{ref:I}),f.jsx("div",{className:"toolbar",children:f.jsx(Mb,{onDragStart:$,clearFlow:H,onSave:z=>V(z),errors:d,nodes:s,flowList:t,onFlowSelectionChange:n,flowId:e==null?void 0:e._id,onDelete:q,flowData:e,isSaveDisabled:m})})]}),f.jsx(no,{header:"Confirmation",visible:w,style:{width:"25vw"},onHide:()=>k(!1),footer:f.jsx(Ib,{onAccept:G,onReject:()=>k(!1)}),children:f.jsx("p",{className:"mb-3 text-red",children:"Are you Sure that you want to proceed?"})})]})};let lr=null;function Sj(e){e.origin||(e.origin=null),e.botId||(e.botId=null);try{const{origin:t,botId:r}=e;lr=new BroadcastChannel("lp_web_chat");const n=Ej(e);return lr.addEventListener("message",n),lr.postMessage({action:"GetConversationId",origin:t,botId:r}),()=>{lr&&(lr.removeEventListener("message",n),lr.close(),lr=null)}}catch(t){console.error("Unable to start session sharing:",t)}}function Ej({onHistoryChange:e,getHistory:t,origin:r=null,botId:n=null}){return o=>{const a=o.data||{};if(!(a.origin!==r||a.botId!==n))try{if(a.action==="GetConversationId"){const i=t();Vi(i,r,n)}else if(a.action==="SetConversationId"){const{conversationId:i,history:s}=a;i?mu(i||void 0):Qi(),s&&(e==null||e(s))}}catch(i){console.log("Error occurred when trying to handle session sharing:",i)}}}function Vi(e,t,r,n){if(lr)try{const o=ia()||"";if(!n&&!o)return;lr.postMessage({action:"SetConversationId",origin:t,botId:r,conversationId:o,history:e})}catch(o){console.error("Error sharing session:",o)}}function Gi(){return{role:"assistant",type:"text",content:"Hello, greetings for the day, how may I assist you?"}}function jj(e,t,r){var v;const{updateContact:n,onReceiveChatResponse:o,bot:a,locationDetails:i,onCallback:s,recipientId:l,history:c,chatFlowId:u,preferredLanguage:d}=t,{flowId:p,flowType:m}=((v=c==null?void 0:c[c.length-1])==null?void 0:v.media)||{};return typeof e=="string"&&p&&(e={method:"flow-response",type:m,flowId:p,answer:e}),(e==null?void 0:e.type)==="customForm"&&(e!=null&&e.answer)&&(e={method:"flow-response",type:m,flowId:p,answer:e.answer}),r?Nj(e,a,{onReceiveChatResponse:o,updateContact:n,onCallback:s,recipientId:l,chatFlowId:u,language:d},i):kj(e,a,{onReceiveChatResponse:o,updateContact:n,onCallback:s,recipientId:l,chatFlowId:u,language:d},i)}async function kj(e,t,{onReceiveChatResponse:r,updateContact:n,onCallback:o,recipientId:a,chatFlowId:i,language:s},l){const c=ia(),{_id:u,organizationId:d,botSettings:p}=t,m={userQuery:e,recipientDetails:{recipientId:a,conversationId:c,language:s,...l},chatFlowId:i};r&&(m.testMode=!0);try{const v=await vu(`/bot/${d}/${u}/chat`,m,{noAuth:!0});return r==null||r(v),Ep(v,{updateContact:n,botSettings:p,onCallback:o})}catch(v){return[{role:"assistant",type:"text",content:v.message||"Unknown Server error"}]}}async function Nj(e,t,{onReceiveChatResponse:r,updateContact:n,onCallback:o,recipientId:a,chatFlowId:i,language:s},l){const c=ia(),{_id:u,organizationId:d,botSettings:p}=t,m={userQuery:e,recipientDetails:{recipientId:a,conversationId:c,language:s,...l},chatFlowId:i};r&&(m.testMode=!0);try{const y=await(await fetch(`${Zp}voicebot/voiceChat?organizationId=${d}&botId=${u}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();return r==null||r(y.data),{data:Ep(y.data,{updateContact:n,botSettings:p,onCallback:o}),audioUri:y.data.audioUri}}catch(v){return console.log(v,"error"),[{role:"assistant",type:"text",content:v.message||"Unknown Server error"}]}}function Ep(e,{updateContact:t,botSettings:r,onCallback:n}){const{chatRefId:o,recipientId:a,messages:i}=e;return mu(o),n==null||n("set-visitor-id",{recipientId:a}),Jr(i,{updateContact:t,botSettings:r})}function Jr(e,{updateContact:t,botSettings:r}){if(!(e!=null&&e.length))return e;const n=e[e.length-1];return n.type==="form"&&e.push({role:"user",type:"lead",content:"",profile:n.media,updateContact:t,botSettings:r}),n.type==="customForm"&&(n.role==="assistant"&&(n.role="user"),Object.assign(n,{type:"customForm",content:"",media:n.media,updateContact:t,botSettings:r})),e}async function Ij(e){try{const t=new URLSearchParams(window.location.search),r=t.get("token"),n=t.get("sourceUrl"),o={authToken:r,recipientId:e,sourceUrl:n},{startupFlow:a,hideChatWindow:i,...s}=await ro("/bot/get-bot-details-by-auth-token",o,{noAuth:!0});return{startupFlow:a,hideChatWindow:i,bot:s}}catch(t){console.log("Failed to init chat:-",t)}}async function su(e,t,r,{autoLaunch:n,startupMessages:o}){const{_id:a,organizationId:i,botSettings:s={}}=e,l=ia();if(!t||!l)return n?o||[Gi()]:[];try{const c=await ro(`/bot/${i}/${a}/chat/history/${t}/${l}`,null,{noAuth:!0}),{messages:u}=c||{};return Jr(u,{updateContact:r,botSettings:s})}catch(c){console.error("Failed to fetch chat history:-",c)}return n?[Gi()]:[]}function Tj({text:e="We are Online!",onHide:t,design:r,isLeft:n}){const o=Dj(r,n),[a,i]=F.useState(!0),s=F.useCallback(l=>{l.preventDefault(),l.stopPropagation(),i(!1),t==null||t()},[t]);return a?f.jsxs("div",{className:"button-tooltip",style:o,children:[f.jsxs("div",{children:[f.jsx("img",{draggable:!1,className:"chat-hand",alt:"👋",src:"https://cwc.livserv.in/uploads/Templates/cwc_trend1/hand.png"}),f.jsx("b",{children:e}),f.jsx("br",{})]}),f.jsx("a",{className:"close-indicator",onClick:s,children:f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M1490 1245q0 40-24 68l-136 136q-24 24-68 24t-68-28l-294-294-294 294q-24 24-68 24t-68-28l-136-136q-24-24-24-68t24-68l294-294-294-294q-24-24-24-68t24-68l136-136q24-24 68-24t68 28l294 294 294-294q24-24 68-28t68 28l136 136q28 24 24 68t-24 68l-294 294 294 294q24 24 24 68z",fill:"#fff"})})})]}):null}function Dj(e,t){let{spacingCorner:r,spacingBottom:n}=(e==null?void 0:e.launcher)||{};if(r=parseFloat(r)||void 0,n=parseFloat(n)||void 0,r&&(r+=5),n&&(n+=75),r||n)return{bottom:n,[t?"left":"right"]:r}}function Pj({isLeft:e,bgColor:t,secBgColor:r,imageUrl:n,chatIcon:o,barText:a="Live Chat",fontSize:i,color:s,autoAnimate:l=!0,style:c,onClick:u}){const d=e?"bottom-left":"bottom-right",p={backgroundColor:t},m={backgroundImage:`linear-gradient(90deg, ${t}, ${r})`},v=F.useRef(null);return F.useEffect(()=>{if(l){const y=setInterval(()=>{var C;(C=v.current)==null||C.classList.remove("bar-hide"),setTimeout(()=>{var w;return(w=v.current)==null?void 0:w.classList.add("bar-hide")},7e3)},35e3);return()=>clearInterval(y)}},[l]),f.jsxs("div",{className:`lp-launcher expand-button ${d}`,onClick:u,style:c,children:[f.jsx("div",{ref:v,className:"text-container bar-hide",style:m,children:f.jsx("div",{className:"bar-text",style:{minWidth:"150px",fontSize:i,color:s},children:f.jsxs("p",{children:["Hi there, ",f.jsx("img",{draggable:!1,className:"chat-hand",alt:"👋",src:"https://cwc.livserv.in/uploads/Templates/cwc_trend1/hand.png"})," We are online!"]})})}),f.jsx("div",{className:"image-container",style:p,children:f.jsxs("div",{className:"image-sub-container",children:[n&&f.jsx("img",{src:n,alt:a}),!n&&o]})})]})}function Mj({design:e,onToggle:t}){const{launcher:{launcherType:r,buttonLogoUrl:n,buttonOnMobile:o,barText:a,fontSize:i,spacingCorner:s,spacingBottom:l,showMinimizeButtonToolTip:c=!0}={},header:{bgColor:u,secBgColor:d,fontColor:p}={},window:{fontFamily:m,align:v}={}}=e||{},y=v==="bottomLeft",C={bottom:l,[y?"left":"right"]:s};return r==="icon"||o?f.jsxs("div",{id:"lp-launcher",className:"lp-launcher button"+(n?"":" bordered"),onClick:t,style:{borderColor:u,color:p,background:n?"transparent":"linear-gradient(to right,"+u+", "+d+")",verticalAlign:"middle",padding:n?void 0:"16px",display:"flex",...C},children:[c&&f.jsx(Tj,{design:e,isLeft:y}),n&&f.jsx("img",{src:n,alt:"Live Chat"}),!n&&ka]}):r==="expand"?f.jsx(Pj,{isLeft:y,color:p,style:C,bgColor:u,secBgColor:d,imageUrl:n,chatIcon:ka,barText:a,fontSize:i,onClick:t}):f.jsxs("div",{id:"lp-launcher",className:"lp-launcher bar",onClick:t,style:{background:"linear-gradient(to right, "+u+", "+d+")",color:p,fontFamily:m,...C},children:[ka,f.jsx("span",{children:a||"Live Chat"})]})}function Aj({design:e}){const t=e==null?void 0:e.remoteFontLink;return t?hu.createPortal(f.jsx("link",{rel:"stylesheet",href:t}),document.head,"remoteFont"):null}const Rj={window:{spacingCorner:"0px",spacingBottom:"7px"},launcher:{spacingCorner:"0px",spacingBottom:"7px"}},lu=["lead","options","customForm","stop"];function Oj(e){var q,z;const{botDetails:t,botDesign:r,startupFlow:n,onReceiveChatResponse:o,autoLaunch:a,recipientId:i,origin:s,onCallback:l,optionsRenderer:c,fullscreen:u}=e,[d,p]=F.useState(a||!1),[m,v]=F.useState(r),[y,C]=F.useState(!1),[w,k]=F.useState(t),[I,N]=F.useState(n),[T,P]=F.useState(n==null?void 0:n.messages),[x,h]=F.useState(i),[b,S]=F.useState([]),[j,A]=F.useState(),[M,E]=F.useState(),D=F.useRef({autoLaunch:a});if(u)try{const _=window.innerWidth+"px",X=window.innerHeight+"px";m.window.width=_,m.window.height=X,m.window.spacingBottom="0px",m.window.spacingCorner="0px",m.launcher.spacingBottom="0px",m.launcher.spacingCorner="0px"}catch(_){console.error("Error setting fullscreen design:",_)}D.current.recipientId=x,D.current.bot=w,D.current.chatFlowId=I==null?void 0:I.flowId,D.current.startupMessages=T,D.current.origin=s,D.current.preferredLanguage=M;const O=F.useCallback(_=>{zp(_),E(_)},[]);D.current.setAndBroadcastHistory=F.useCallback(_=>{var X;typeof _=="function"?S(K=>{var W;const ae=_(K);return Vi(ae,D.current.origin,(W=D.current.bot)==null?void 0:W._id,!0),ae}):(S(_),Vi(_,D.current.origin,(X=D.current.bot)==null?void 0:X._id,!0))},[]),D.current.onCallback=F.useCallback((_,X)=>{_==="set-visitor-id"&&X.recipientId&&h(X.recipientId),l==null||l(_,X)},[l]),D.current.history=b,D.current.showBot=d,D.current.design=m,D.current.locationDetails=j,D.current.onReceiveChatResponse=o,D.current.isLoadedInConsole=!!o,F.useEffect(()=>{k(t)},[t]),F.useEffect(()=>{var K;const{updateContact:_,bot:X}=D.current;N(n),(K=n==null?void 0:n.messages)!=null&&K.length?P(Jr([...n.messages],{updateContact:_,botSettings:X.botSettings})):P(!1)},[n]),F.useEffect(()=>{if(w&&!D.current.isLoadedInConsole)return Sj({botId:w._id,origin:D.current.origin,onHistoryChange:_=>{var X;!(_!=null&&_.length)&&!((X=D.current.history)!=null&&X.length)||S(_)},getHistory:()=>D.current.history})},[w]),F.useEffect(()=>{v(r)},[r]),F.useEffect(()=>{E(Hp());const{updateContact:_,bot:X,recipientId:K,autoLaunch:ae,setAndBroadcastHistory:W,startupMessages:se}=D.current;X?su(X,K,_,{autoLaunch:ae,startupMessages:Jr(se,{updateContact:_,botSettings:X.botSettings})}).then(W):Ij(K).then(we=>{if(!we)return;const{bot:he,startupFlow:re,hideChatWindow:ke}=we;if(ke)try{window.top&&window.top!==window.self&&window.top.postMessage({lsMessage:"hide_ls_window"},"*")}catch(Ie){console.error("Error hiding chat window:",Ie.message||Ie)}else{k(he),N(re);const Ie=Jr(re==null?void 0:re.messages,{updateContact:_,botSettings:he.botSettings});P(Ie);const{design:xe,isLoadedInConsole:le}=D.current;!xe&&he.botDesign&&v(Vp(he.botDesign,le?void 0:Rj)),su(he,K,_,{autoLaunch:ae,startupMessages:Jr(Ie,{updateContact:_,botSettings:he.botSettings})}).then(W)}}),Gp().then(A)},[]);const B=F.useCallback((_,X)=>{var se,we,he,re;const{design:K,onCallback:ae}=D.current;let{showBot:W}=D.current;W=_?!W:W,ae==null||ae("windowToggle",{state:W,design:W?{width:(se=K==null?void 0:K.window)==null?void 0:se.width,height:(we=K==null?void 0:K.window)==null?void 0:we.height,spacingBottom:(he=K==null?void 0:K.window)==null?void 0:he.spacingBottom,spacingCorner:(re=K==null?void 0:K.window)==null?void 0:re.spacingCorner}:X})},[]),L=F.useCallback(async _=>{var X;(X=D.current.history)!=null&&X.length||setTimeout(()=>{var ae;if((ae=D.current.startupMessages)!=null&&ae.length){D.current.setAndBroadcastHistory(W=>W.concat(...D.current.startupMessages));return}const K=Gi();D.current.setAndBroadcastHistory(W=>W?W.concat(K):[K])},_||1700)},[]),R=F.useCallback(()=>{B(!0),p(_=>!_),C(!0),setTimeout(()=>C(!1),1e3),L()},[B,L]);F.useLayoutEffect(()=>{m&&B(!1,!0)},[m,B]);const $=F.useCallback(async(_,X=!1)=>jj(_,D.current,X),[]);D.current.updateContact=F.useCallback(async _=>{const X=await $(_);D.current.setAndBroadcastHistory(K=>K.filter(ae=>!lu.includes(ae.type)).concat(...Array.isArray(X)?X:[]))},[$]);const V=F.useCallback(()=>{D.current.setAndBroadcastHistory([]),Qi(),delete D.current.history,L(700)},[L]);if(!w||!j)return null;let H="hide-chat";d&&y?H="opening":d&&!y?H="show-chat":!d&&y&&(H="closing"),H+=((q=m==null?void 0:m.window)==null?void 0:q.align)==="bottomLeft"?" bottom-left ":" bottom-right ",o&&(H+=" test-console");const G=b&&lu.includes((z=b[b.length-1])==null?void 0:z.type);return f.jsxs(f.Fragment,{children:[f.jsx(Aj,{design:m}),f.jsxs("div",{className:"chat-handler "+H,children:[d&&!!w&&f.jsx(Up,{botDesign:m,messages:b,showTime:!0,displayComponents:void 0,onUserMessage:$,disabledMessage:G,onHistoryChange:D.current.setAndBroadcastHistory,onClear:V,onHide:R,onCallback:D.current.onCallback,optionsRenderer:c,language:M,setLanguage:O,fullscreen:u}),!d&&!y&&f.jsx(Mj,{design:m,onToggle:R})]})]})}async function Lj(e){const{organizationId:t}=on.getState(),{selectedBotId:r}=Ui.getState();return await Fj(t,r,e)}async function Fj(e,t,r){return await ro(`/bot/${e}/${t}/chat-flow/${r}`)}async function $j(e){try{const{organizationId:t}=on.getState(),{selectedBotId:r}=Ui.getState(),n=await ro(`/bot/${t}/${r}/chat-flow/${e}/startup`);if(typeof n=="string"&&n.startsWith("<"))throw new Error("Invalid JSON response, received HTML");return n}catch(t){return console.error("Error fetching startup with Flow ID:",t),null}}async function Bj(e,t,r,n=!1){const o=on.getState();e||(e=o.organizationId),t||(t=o.selectedBotId);const a=`/bot/${e}/${t}/chat-flow${n?"?deploy=true":""}`;return await vu(a,r)}async function _j(e,t,r){return await Wp(`/bot/${e}/${t}/chat-flow/${r}`,null)}async function zj(){const{organizationId:e}=on.getState(),{selectedBotId:t}=Ui.getState();return(await ro(`/bot/${e}/${t}/chat-flow`)).map(Hj).sort((n,o)=>n.label.includes("Draft")?-1:o.label.includes("Draft")?1:0)}function Hj(e){return{value:e._id,label:`v${e.version} - ${e.deployedAt?"Deployed":"Draft"}`}}const jp="lp-vid";function Vj(e,t){if(e==="set-visitor-id"){const{recipientId:r}=t||{};r&&Uj(r)}}function Gj(){try{return localStorage.getItem(jp)||void 0}catch(e){console.error("Unable to use browser cache",e)}}function Uj(e){try{localStorage.setItem(jp,e)}catch(t){console.error("Unable to use browser cache",t)}}const Wj=()=>{};function qj({flowId:e,flow:t}){const[,r]=yu(),[n,o]=F.useState();return F.useEffect(()=>{if(!e){o(null);return}return async function(){const a=await $j(e);o(a)}(),()=>Qi()},[e,t]),r?f.jsx(Oj,{botDetails:r,botDesign:r.botDesign,startupFlow:n,autoLaunch:!1,recipientId:Gj(),onReceiveChatResponse:Wj,onCallback:Vj}):f.jsx(Qp,{})}function sk(){const[e,t]=F.useState(null),[r,n]=F.useState(),[o,a]=F.useState(""),i=F.useRef({flow:r});i.current.flow=r;const s=F.useCallback(()=>{zj().then(u=>{var d;t(u),a(((d=u[0])==null?void 0:d.value)||"")})},[]);F.useEffect(s,[s]),F.useEffect(()=>{var u;!o||((u=i.current.flow)==null?void 0:u._id)===o||Lj(o).then(n)},[o]);const l=F.useCallback(async(u,d)=>{const p=await Bj(u.organizationId,u.botId,u,d===!0);a(p._id),n(p),s()},[s]),c=F.useCallback(async u=>{await _j(u.organizationId,u.botId,u._id)&&(t(null),a(""),s())},[s]);return f.jsxs(f.Fragment,{children:[f.jsx(Cj,{flowData:r,flowList:e,onSave:l,onVersionSelected:a,onDelete:c}),f.jsx(qj,{flowId:o,flow:r})]})}export{sk as default};
