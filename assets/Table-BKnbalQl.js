import{j as n,r as c}from"./AlertSnackbar-BZv5XCa6.js";import{c as C}from"./index-BmF1FII0.js";import{T as L}from"./TableFooter-Dn6rnFKD.js";const M=({columns:s,rows:i,noRowsMessage:o})=>n.jsx("tbody",{children:i.length===0?n.jsx("tr",{className:"border-b border-gray-200",children:n.jsx("td",{className:"px-4 py-2 text-center",colSpan:s.length,children:o||"No records found."})}):i.map((d,e)=>n.jsx("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:s.map((l,r)=>{const t=l.template?l.template(d):d[l.field],m=typeof t=="string"||typeof t=="number"?t:"";return n.jsx("td",{className:C("text-sm px-4 py-2 truncate text-ellipsis",{hidden:!!l.hideBelow,"xs:table-cell":l.hideBelow==="xs","sm:table-cell":l.hideBelow==="sm","md:table-cell":l.hideBelow==="md","mlg:table-cell":l.hideBelow==="mlg","lg:table-cell":l.hideBelow==="lg","xl:table-cell":l.hideBelow==="xl","2xl:table-cell":l.hideBelow==="2xl"},l.cellClassName),title:m.toString(),children:t},r)})},e))}),R=({columns:s,sortColumn:i,sortAsc:o,onSort:d})=>n.jsx("thead",{children:n.jsx("tr",{className:"border-b border-gray-200",children:s.map((e,l)=>{const r=e.sortable&&i?.field===e.field;return n.jsxs("th",{className:C("px-4 py-2 font-medium cursor-pointer select-none text-left",{hidden:!!e.hideBelow,"xs:table-cell":e.hideBelow==="xs","sm:table-cell":e.hideBelow==="sm","md:table-cell":e.hideBelow==="md","mlg:table-cell":e.hideBelow==="mlg","lg:table-cell":e.hideBelow==="lg","xl:table-cell":e.hideBelow==="xl","2xl:table-cell":e.hideBelow==="2xl","flex items-start":r},e.headerClassName),onClick:()=>d(e),children:[e.title,r&&n.jsx("span",{className:"ml-1",children:o?"↑":"↓"})]},l)})})});function k(s,i,o=!0,d){return c.useMemo(()=>!d||!i||!s?.length?s:[...s].sort((e,l)=>{const r=e[i],t=l[i];if(g(r)&&g(t))return 0;if(g(r))return o?-1:1;if(g(t))return o?1:-1;let m=0;if(typeof r=="number"&&typeof t=="number")m=r-t;else if(r instanceof Date&&t instanceof Date)m=r.getTime()-t.getTime();else{const u=String(r).toLowerCase(),x=String(t).toLowerCase();u<x?m=-1:u>x?m=1:m=0}return o?m:-m}),[s,i,o,d])}function g(s){return s==null}const F=[10,20,25,50,75,100];function U({columns:s,rows:i,totalRows:o,page:d,sortColumn:e,sortAsc:l,onSort:r,onChange:t,noRowsMessage:m,rowsPerPage:u,rowCounts:x=F,pagination:y}){const[f,S]=c.useState(e),[h,v]=c.useState(l??!0),[N,B]=c.useState(d||1),[b,j]=c.useState(u??x[0]);c.useEffect(()=>{d!==void 0&&B(d)},[d]),c.useEffect(()=>{u!==void 0&&j(u)},[u]);const w=Math.ceil(o/b),T=k(i,f?.field,h,o===i?.length),E=a=>{if(!a.sortable)return;let p=!0;f&&f.field===a.field&&(p=!h),S(a),v(p),r&&r(a,p),t&&t({sortColumn:a,sortAsc:p,count:b,pageNumber:N})},A=a=>{j(a),B(1),t&&t({sortColumn:f||void 0,sortAsc:h,count:a,pageNumber:1})},D=a=>{a<1||a>w||(B(a),t&&t({sortColumn:f||void 0,sortAsc:h,count:b,pageNumber:a}))};return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[n.jsx(R,{columns:s,sortColumn:f,sortAsc:h,onSort:E}),n.jsx(M,{columns:s,rows:T,noRowsMessage:m}),y!==!1&&n.jsx(L,{columns:s,pageIndex:N,rowsCount:b,rowsCounts:x,totalPages:w,onChangeCount:A,onNavigate:D,totalRows:o})]})})}export{U as T};
