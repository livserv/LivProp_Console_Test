import{r as t,d as D,u as A,c as T,j as e,h as V}from"./AlertSnackbar-BZv5XCa6.js";import{h as B,s as M}from"./utils-BPLOM7gE.js";import{g as R}from"./integrations-CukURsZc.js";import{u as E}from"./useSelectedBot-De1owT-_.js";import"./Button-G0N6qh_I.js";import{c as L}from"./index-BmF1FII0.js";import U from"./KbDocsList-GK7HZsV3.js";import{a as F}from"./index-BCBe3WsG.js";import{S as O}from"./send-BwQvgGFa.js";import{B as v}from"./Button-Bp3KLPoL.js";import{a as I,r as H,v as Z,u as z}from"./organization-DGedQ_Gd.js";import{T as W}from"./TextBox-DOuaDUpj.js";import{u as Y,a as G}from"./trainingDocuments-CLBzY402.js";import{i as K}from"./validation-DMgK8rQ1.js";/* empty css                */import{s as $}from"./bots-R5UKFFoc.js";import{B as J}from"./ChatHandler-ClvsObc9.js";import"./env-CmL5wTXD.js";import"./delete-DMobMiQi.js";import"./download-3fltnL9L.js";import"./edit-DO3kkDAl.js";import"./plus-Cj5yGcnd.js";import"./TableFooter-Dn6rnFKD.js";import"./SelectBox-1plhzATO.js";import"./LabelWrapper-COY-wAmE.js";import"./ConfirmDialog-CcXuGu7e.js";import"./PageHeader-Dxt-ivdX.js";import"./index-F7RWJ0Hq.js";import"./KbDocsEditor-24WSYT2u.js";import"./svg-icons-DYx9xu16.js";import"./env-CBDBHzQq.js";import"./ProgressButton-BXdCpKCq.js";import"./formik.esm-B6xhVahS.js";import"./YesNoDropdown-Bb78i0Zv.js";import"./PopUpDialog-B08UFC5Z.js";const X=["Upload Document","Create Theme","Reviews & Generate"],_=r=>t.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{d:"M11.1221 2.43842V2.44444H4.87833C3.54227 2.44444 2.44444 3.54114 2.44444 4.88251V17.1175C2.44444 18.4617 3.53765 19.5556 4.88251 19.5556H17.1175C18.4611 19.5556 19.5556 18.4604 19.5556 17.1116V12.1945C19.5703 11.5323 20.112 11 20.7778 11C21.4435 11 21.985 11.5323 21.9997 12.1945L22 17.1116C22 19.8114 19.8101 22 17.1175 22H4.88251C2.18597 22 0 19.8101 0 17.1175V4.88251C0 2.18597 2.19739 0 4.87833 0H11.1221V0.00602383C11.7398 0.0672926 12.2222 0.588418 12.2222 1.22222C12.2222 1.85603 11.7398 2.37715 11.1221 2.43842ZM14.1857 11.1312L15.6982 12.6436L11.8659 16.4759C10.5074 17.8344 8.15672 17.3902 6.52931 15.7628C4.90897 14.1425 4.45828 11.7842 5.81205 10.4304L9.64854 6.59391L11.1609 8.10634L7.32446 11.9428C6.98082 12.2865 7.18267 13.3426 8.06608 14.2261C8.95597 15.1159 10.0031 15.3138 10.3535 14.9635L14.1857 11.1312ZM17.238 11.1038L15.7256 9.59137L19.5578 5.75914C19.9082 5.40878 19.7103 4.36159 18.8204 3.4717C17.937 2.5883 16.8808 2.38645 16.5372 2.73008L12.7007 6.56657L11.1883 5.05414L15.0248 1.21765C16.3785 -0.136113 18.7369 0.3146 20.3572 1.93494C21.9846 3.56235 22.4288 5.91301 21.0703 7.27155L17.238 11.1038ZM14.2324 6.54731C14.6528 6.12686 15.3294 6.12168 15.7499 6.54223C16.1676 6.95988 16.1746 7.63 15.7448 8.05974L12.6571 11.1474C12.2367 11.5679 11.5602 11.5731 11.1396 11.1525C10.722 10.7349 10.7149 10.0647 11.1447 9.63501L14.2324 6.54731Z",fill:"white"}));function q(){const r=D(),[m]=E(),i=A(o=>o.botsList),a=T(o=>o.organizationId);t.useEffect(()=>{(async()=>{const b={organizationId:a,botId:m};try{await R(b)}catch{console.error("Error fetching integrations:"),V(!0,"Not able to fetch integrations details. Try after sometime!","error")}})()},[m,a]);const p=(i.find(o=>o._id===m)?.integrations||[]).filter(o=>o.channelName==="Webchat"),c=p.length>0?p[0].scriptTag:"",u=()=>{navigator.clipboard.writeText(c),r("/bots"),B()};return e.jsx("div",{className:"fixed inset-0 bg-opacity-50 p-8 flex justify-center items-center ",children:e.jsxs("div",{className:"relative card bg-white w-[70%] mx-auto p-6 rounded-lg text-center p-8",children:[e.jsx("div",{className:"text-fBlue text-4xl font-thin my-6 text-center",children:"Registration Successfully Completed"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-black font-bold text-lg mb-1",children:"To Activate The Chat Window"}),e.jsxs("p",{className:"text-sm",children:["Copy And Paste The Produced Chat Code Into Your Website's HTML File, Just Above The Closing ",e.jsx("b",{children:"</body>"})," ","Tag."]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("input",{readOnly:!0,value:c,className:"w-full max-w-xl h-12 shadow-md rounded bg-white px-3 cursor-pointer outline-none border border-gray-200 text-gray-700 text-base",onFocus:o=>o.target.select()}),e.jsx("button",{className:"bg-[#2ED47A] rounded-full w-16 h-16 flex items-center justify-center shadow-md hover:bg-[#24b865] transition",onClick:u,title:"Copy to clipboard",type:"button",children:e.jsx(_,{className:"w-10 h-10"})})]})]})})}function Q({onSubmit:r,loading:m,error:i,setPhoneNumber:a}){const[n,p]=t.useState(["","","","","","","","","",""]),[c,u]=t.useState("in"),[o,b]=t.useState("+91"),x=t.useRef(Array(n.length).fill(null));t.useEffect(()=>{x.current[0]&&x.current[0].focus()},[]);const C=(s,h)=>{if(!/^\d*$/.test(h)||h.length>1)return;const f=[...n];f[s]=h,p(f),a(f.join("")),h&&s<n.length-1&&x.current[s+1]?.focus()},y=(s,h)=>{if(h.key==="Backspace"&&n[s]===""&&s>0){x.current[s-1]?.focus();const f=[...n];f[s-1]="",p(f),h.preventDefault()}},l=()=>{const s=n.join("");s.length<10||r(s,o)},d=({iso2:s,dialCode:h})=>{u(s),b("+"+h)};return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Kindly Help Us To Verify Your Mobile No ",e.jsx("br",{})," Before Generating Code."]}),e.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[e.jsxs("div",{className:"flex items-center border px-2 py-2 rounded-md",children:[e.jsx(F,{selectedCountry:c,onSelect:d}),e.jsx("span",{className:"ml-2 text-sm font-medium",children:o})]}),n.map((s,h)=>e.jsx("input",{type:"text",maxLength:1,value:s,ref:f=>{x.current[h]=f},onChange:f=>C(h,f.target.value),onKeyDown:f=>y(h,f),className:"w-10 h-10 text-center border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",inputMode:"numeric",pattern:"[0-9]*",disabled:m},h))]}),i&&e.jsx("div",{className:"text-red-500 text-sm mt-2",children:i}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(v,{icon:e.jsx(O,{}),size:"lg",type:"rounded",className:"bg-green-400 hover:bg-green-500 text-white p-4 disabled:opacity-50 disabled:cursor-not-allowed",onClick:l,disabled:m||n.join("").length<10})}),m&&e.jsx("div",{className:"text-blue-500 text-sm mt-2",children:"Adding phone number..."})]})}function ee({phoneNumber:r,dialCode:m,onClose:i}){return t.useEffect(()=>{const a=setTimeout(()=>{i()},3e3);return()=>clearTimeout(a)},[i,r]),e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Verification Successful!"}),e.jsxs("p",{className:"text-gray-700 text-lg",children:["Your mobile number ",e.jsx("br",{}),e.jsxs("span",{className:"font-semibold text-green-600",children:[m," ",r]}),e.jsx("br",{}),"has been successfully verified."]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-green-700 font-medium",children:"You can now proceed with generating your code!"})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200",onClick:i,children:"Continue"})}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"This window will close automatically in 3 seconds..."})]})}function te({phoneNumber:r,dialCode:m,onVerify:i,onResendOtp:a,loading:n,error:p}){const[c,u]=t.useState(["","","","","",""]),o=t.useRef(Array(c.length).fill(null));t.useEffect(()=>{o.current[0]&&o.current[0].focus()},[]);const b=(l,d)=>{if(!/^\d*$/.test(d)||d.length>1)return;const s=[...c];s[l]=d,u(s),d&&l<c.length-1&&o.current[l+1]?.focus()},x=(l,d)=>{if(d.key==="Backspace"&&c[l]===""&&l>0){o.current[l-1]?.focus();const s=[...c];s[l-1]="",u(s),d.preventDefault()}},C=()=>{const l=c.join("");l.length<6||i(l)},y=()=>{u(["","","","","",""]),o.current[0]?.focus(),a()};return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Enter the 6-digit OTP sent to ",e.jsx("br",{}),e.jsxs("span",{className:"text-green-600",children:[m," ",r]})]}),e.jsx("div",{className:"flex items-center justify-center mt-4 space-x-2",children:c.map((l,d)=>e.jsx("input",{type:"text",maxLength:1,value:l,ref:s=>{o.current[d]=s},onChange:s=>b(d,s.target.value),onKeyDown:s=>x(d,s),className:"w-12 h-12 text-center border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg font-semibold",inputMode:"numeric",pattern:"[0-9]*",disabled:n},d))}),e.jsx("div",{className:"mt-4 flex justify-center space-x-3",children:e.jsx(v,{size:"sm",label:n?"Resending...":"Resend OTP",className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",onClick:y,disabled:n})}),p&&e.jsx("div",{className:"text-red-500 text-sm mt-2",children:p}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(v,{icon:e.jsx(O,{}),size:"lg",type:"rounded",className:"bg-green-400 hover:bg-green-500 text-white p-4 disabled:opacity-50 disabled:cursor-not-allowed",onClick:C,disabled:n||c.join("").length<6})}),n&&e.jsx("div",{className:"text-blue-500 text-sm mt-2",children:"Processing..."})]})}function se({onClose:r,setPhoneNumber:m=()=>{}}){const{organizationId:i}=T.getState(),[a,n]=t.useState(""),[p,c]=t.useState(!1),[u,o]=t.useState(!1),[b,x]=t.useState(!1),[C,y]=t.useState(""),[l,d]=t.useState("+91"),s=async(w,g)=>{c(!0),n("");try{(await I(g,w))?.status==="SUCCESS"?(o(!0),y(w),d(g),console.log("Phone number added successfully, showing OTP fields")):n("Failed to send OTP. Please try again.")}catch(j){console.error("Error adding phone number:",j),n("Failed to add phone number. Please try again.")}finally{c(!1)}},h=async w=>{c(!0),n("");try{(await Z(l,C,w))?.status==="SUCCESS"?(x(!0),await z({isPhoneNumberVerified:!0},i)):n("Invalid OTP. Please try again.")}catch(g){console.error("Error verifying OTP:",g),n("Failed to verify OTP. Please try again.")}finally{c(!1)}},f=async()=>{c(!0),n("");try{(await H(l,C))?.status==="SUCCESS"?n(""):n("Failed to resend OTP. Please try again.")}catch(w){console.error("Error resending OTP:",w),n("Failed to resend OTP. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"bg-white w-auto text-center py-4",children:b?e.jsx(ee,{phoneNumber:C,dialCode:l,onClose:r}):u?e.jsx(te,{phoneNumber:C,dialCode:l,onVerify:h,onResendOtp:f,loading:p,error:a}):e.jsx(Q,{onSubmit:s,loading:p,error:a,setPhoneNumber:m})})}function re({activeIndex:r,onNavigate:m,setPhoneNumber:i}){const{organization:a}=T.getState();return t.useEffect(()=>{a.isPhoneNumberVerified||M(e.jsx(se,{onClose:()=>B(),setPhoneNumber:i}),{showCloseButton:!0,width:"700px"})},[a.isPhoneNumberVerified,i]),e.jsx("div",{className:"mt-10",children:e.jsx(U,{activeIndex:r,onNavigate:m})})}const ne=r=>t.createElement("svg",{width:27,height:24,viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8921 7.00306V15.4789H22.582C25.0193 15.4789 27 13.3967 27 10.8435C27 9.41924 26.3874 8.09586 25.3195 7.21232C24.248 6.32636 22.8715 6.00484 21.5437 6.33383C21.4102 6.36622 21.2768 6.27775 21.2481 6.13694C20.533 2.58072 17.4867 0 14.0054 0C10.8743 0 8.07002 2.07226 7.02592 5.15633C6.98183 5.28967 6.84 5.35945 6.71248 5.31209C3.44442 4.08844 0 6.61674 0 10.2403C0 13.1276 2.23352 15.479 5.01178 15.479H11.1079V7.00312C11.1079 6.86231 11.2176 6.74767 11.3523 6.74767H15.6476C15.7823 6.74767 15.8921 6.86225 15.8921 7.00306ZM15.4034 17.6685C15.4034 17.8093 15.513 17.924 15.6477 17.924H18.3794L13.5001 24L8.6207 17.924H11.3524C11.4871 17.924 11.5967 17.8093 11.5967 17.6685V7.25858H15.4036L15.4034 17.6685Z",fill:"#8B959A"}));function ae({activeIndex:r,onNavigate:m,selectedFile:i,webPageURL:a,setSelectedFile:n,setWebPageURL:p}){const[,c]=E(),u=c?.trainingMedia,[o,b]=t.useState(null),[x,C]=t.useState(null),[y,l]=t.useState(null),[d,s]=t.useState(!1),h=()=>{b(null),C(null),l(null)},f=g=>{h(),g.target.files&&g.target.files.length>0&&n(g.target.files[0])},w=async(g,j)=>{if(h(),s(!0),!g&&!(typeof j=="string"&&j.trim())){l("Please provide either a file to upload or a webpage URL."),s(!1);return}try{let N=!1;if(g)if(!u.some(k=>k.originalName===g.name))await Y(g),N=!0;else{C("The file already uploaded! Please select another file."),s(!1);return}if(typeof j=="string"&&j.trim())if(K(j.trim())){const S=j.trim();if(!u.some(P=>P.url?.toLowerCase()===S.toLowerCase()))await G({url:S,useBrowser:!1}),N=!0;else{b("This URL is already available in the Training Documents! Please add another URL."),s(!1);return}}else{b("Please enter a valid URL."),s(!1);return}N&&m(r+1)}catch(N){l(N?.message||"Error uploading the document."),m(r)}finally{s(!1)}};return e.jsxs("div",{className:"mt-8 max-w-lg mx-auto py-10 space-y-3",children:[e.jsx(W,{value:a,wrapperClassName:"border-black h-9",label:"Webpage Url",placeholder:"Train Your Bot Using Website Scraping",onChange:g=>p(g.target.value)}),o&&e.jsx("div",{className:"text-xs text-red-500 mt-1",children:o}),e.jsx("div",{className:"text-center text-sm",children:"or"}),e.jsx(oe,{placeholder:"Train Your Bot Using Files (.csv, .pdf, .docx, .txt)",onFileChange:f}),x&&e.jsx("div",{className:"text-xs text-red-500 mt-1",children:x}),e.jsxs("div",{className:"flex justify-between items-center text-xs mt-1",children:[i&&e.jsx("span",{className:"text-left text-gray-700",children:i.name}),e.jsx("span",{className:"text-end",children:"Maximum Size: 30MB"})]}),y&&e.jsx("div",{className:"text-xs text-center text-red-500 mt-1",children:y}),e.jsxs("div",{className:"flex flex-row justify-between items-center border border-dotted border-mildBlueAlt py-2 bg-gray-100 rounded-lg w-full h-12",children:[e.jsx("span",{className:"text-black text-xs ml-2",children:" You can download the attached example file to scrape your own file "}),e.jsx(v,{icon:e.jsx(ne,{}),type:"plain",className:"mr-2"})]}),e.jsx("div",{className:"flex mt-12 justify-end",children:e.jsx(v,{label:d?"Uploading...":"NEXT",onClick:()=>w(i,a),disabled:d})})]})}function oe({placeholder:r,onFileChange:m}){const i=t.useRef(null),a=()=>i.current?.click();return e.jsxs("div",{className:"border border-dotted border-mildBlueAlt rounded-lg py-2 sm:py-4 bg-mildBlueBG w-full min-h-[80px] flex flex-col items-center justify-center text-center space-y-2 sm:space-y-3",children:[e.jsx("span",{className:"text-pBlack text-sm sm:text-base",children:r}),e.jsx(v,{label:"Select File",type:"secondary",size:"sm",className:"mx-auto block",onClick:a}),e.jsx("input",{type:"file",ref:i,style:{display:"none"},onChange:m,accept:".csv,.txt,.docx,.doc,.pdf,text/plain"})]})}const ie=r=>t.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{d:"M6.89468 6.20212C6.52917 5.76309 6.06874 5.53811 5.51535 5.42991C5.09131 5.34788 4.84171 4.90846 4.99361 4.50731C5.33063 3.61909 5.04938 2.67734 4.27724 2.10828C3.51143 1.54387 2.52526 1.54543 1.76497 2.11179C-0.0241743 3.4449 -0.547915 5.92013 0.63364 7.86689C1.7515 9.70936 3.97932 10.414 5.8915 9.76166C7.52125 9.20623 7.81829 7.31144 6.89468 6.20212ZM2.20167 7.57543C1.71948 7.4559 1.42557 6.97156 1.54622 6.4954C1.66765 6.01771 2.15934 5.72943 2.63998 5.84818C3.12217 5.9677 3.41608 6.45204 3.29543 6.9282C3.17439 7.40434 2.68388 7.69456 2.20167 7.57543ZM3.1269 3.01364C3.60948 3.13317 3.90339 3.61633 3.78196 4.09367C3.66091 4.56981 3.17041 4.86003 2.6882 4.74089C2.20561 4.62098 1.9117 4.13899 2.03314 3.66087C2.15299 3.18668 2.63836 2.89412 3.1269 3.01364ZM5.20201 8.63945C4.61816 8.63945 4.1842 8.09691 4.32742 7.53253C4.43184 7.12084 4.80526 6.85836 5.20043 6.85836C5.70754 6.85836 6.1039 7.26536 6.1039 7.74735C6.1039 8.24341 5.69567 8.63945 5.20201 8.63945ZM9.86575 7.22235L7.87175 2.76326C7.95363 2.65507 8.02128 2.53476 8.07191 2.40548C8.28077 1.8727 7.88006 1.31175 7.30847 1.28796C6.8508 1.26882 6.47343 0.946959 6.12063 0.274726C5.91138 -0.124076 5.32001 -0.0787693 5.17839 0.346205C4.96084 0.997329 5.05418 1.97029 5.27808 2.47026C5.47111 2.90148 5.84651 3.19794 6.2753 3.31004L8.3251 7.89412C8.91488 9.21393 10.4616 8.55345 9.86584 7.22229L9.86575 7.22235ZM5.54935 2.35239C5.35196 1.9114 5.26691 1.01698 5.45995 0.438425C5.51968 0.259137 5.76889 0.243128 5.8571 0.410302C6.17316 1.01221 6.61262 1.55242 7.29577 1.58092C7.66601 1.59654 7.92946 1.95589 7.79497 2.30001C7.40613 3.29213 5.9861 3.32968 5.54935 2.35239Z",fill:"#107DA6"})),le=r=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{d:"M13 17L18 12L13 6.99998M6 17L11 12L6 6.99998",stroke:"#0074A0",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),ce=r=>t.createElement("svg",{width:11,height:9,viewBox:"0 0 11 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{d:"M9.83366 1.24998L3.87533 7.20832L1.16699 4.49998",stroke:"#0074A0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),de=r=>t.createElement("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},t.createElement("path",{d:"M6.5 0C7.46715 0 8.43578 0.367478 9.17369 1.10538C9.79996 1.73165 10.1607 2.52338 10.2555 3.33975C11.7954 3.47956 13 4.77248 13 6.34884C13 8.01852 11.6464 9.37209 9.97674 9.37209H2.56977C1.14612 9.37209 0 8.22598 0 6.80233C0 5.37867 1.14612 4.23256 2.56977 4.23256H2.74927C2.61607 3.12085 2.97789 1.95851 3.83104 1.10538C4.56891 0.367478 5.53285 0 6.5 0ZM6.5 3.17442C6.41976 3.17412 6.36342 3.18919 6.29687 3.25L4.63408 4.76163C4.51579 4.86777 4.49405 5.0749 4.61047 5.19149C4.72275 5.30397 4.92298 5.31753 5.04034 5.21038L6.19767 4.15698V7.40698C6.19767 7.57395 6.333 7.7093 6.5 7.7093C6.667 7.7093 6.80233 7.57395 6.80233 7.40698V4.15698L7.95966 5.21038C8.07702 5.31753 8.28286 5.30929 8.38953 5.19149C8.49619 5.07367 8.49016 4.86977 8.36592 4.76163L6.70313 3.25C6.65993 3.21043 6.58086 3.17593 6.5 3.17442Z",fill:"#107DA6"}));function me({steps:r,activeIndex:m,completedStep:i,className:a,style:n,onChange:p}){return e.jsx("div",{className:L("w-full",a),style:n,children:e.jsx("div",{className:"flex flex-row flex-wrap justify-center items-center gap-2 sm:gap-4",children:r.map((c,u)=>{const o=u+4===m,b=L("flex items-center justify-center rounded-full border transition-colors duration-200",{"border-primary bg-primary/10 text-primary":o,"border-gray-300 bg-white text-gray-500":!o}),x=u===4?de:u===5?ie:ce;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:u<=i?()=>p(u+4):void 0,type:"button",className:L("flex items-center px-2 py-1 sm:px-4 sm:py-2 m-2 sm:m-4 text-xs sm:text-base",b),children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-6 h-6 sm:w-8 sm:h-8 p-1 sm:p-2 border rounded-full"}),e.jsx("span",{className:"truncate max-w-[60px] sm:max-w-none",children:c})]})}),u!==r.length-1&&e.jsx(le,{className:"w-5 h-5 sm:w-7 sm:h-7 text-gray-400"})]},u)})})})}function Ke(){const[r,m]=E(),{botSettings:{botCreationStatus:{step:i}}}=m,[a,n]=t.useState(i===3?i+1:i||4),[p,c]=t.useState(4),[u,o]=t.useState(null),[b,x]=t.useState(""),[C,y]=t.useState("");t.useEffect(()=>{a===7&&M(e.jsx(q,{}),{showCloseButton:!0,width:"60%"})},[a]);const l=async d=>{await $(r,{botCreationStatus:{step:d,status:d===7}}),n(d),p<d&&c(d)};return e.jsxs("div",{className:"bot-setup",children:[e.jsx(me,{className:"my-[20px]",steps:X,activeIndex:a,completedStep:p,onChange:n}),a===4&&e.jsx(ae,{activeIndex:a,onNavigate:l,selectedFile:u,webPageURL:b,setSelectedFile:o,setWebPageURL:x}),a===5&&e.jsx(J,{activeIndex:a,onNavigate:l}),a===6&&e.jsx(re,{activeIndex:a,onNavigate:l,setPhoneNumber:y,phoneNumber:C})]})}export{Ke as default};
