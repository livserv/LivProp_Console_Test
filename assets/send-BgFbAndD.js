import{m as w,r as p,p as h,n as B}from"./ajax-trSxn-SP.js";import{b as r,f as d,r as f}from"./index-BUi7dVI-.js";async function x(t){const{organization:{websiteUrl:n,_id:e}}=r.getState(),o={organizationId:e,websiteUrl:n,botName:t,botDesign:{visitorMessageLogo:{name:"",url:""},botMessageLogo:{name:"",url:""},botChatButton:{name:"",url:""},botLogo:{name:"",url:""},backgroundColor:"#e7a654",textColor:"#ffffff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}},s=await h(`/bot/${e}`,o);g(s,!0)}async function u(t,n,e=!0){const{organizationId:o}=r.getState();if(!o||!t)throw new Error("Bot details not found");const s=await w(`/bot/${o}/${t}`,n);return g(s,e),s}function L(t,n){return u(t,{botName:n})}async function $(t){const{organizationId:n}=r.getState(),{selectedBotId:e}=d.getState(),o=await p(`/bot/${n}/${e}/update-logo/${t}`,null);return b(e,o),o[`botDesign.${t}`]}async function v(t){var s;const{organizationId:n,selectedBotId:e}=r.getState();if(!n||!t)throw new Error("Bot details not found");const{deleted:o}=await p(`/bot/${n}/${t}`,null);if(o){let{botsMap:a,botsList:i}=d.getState();a={...a},i=[...i],delete a[o];const c=i.findIndex(S=>S._id===o);c>=0&&i.splice(c,1);const l={botsMap:a,botsList:i};e===o&&(l.selectedBotId=((s=i[0])==null?void 0:s._id)||null),d.setState(l)}return!!o}function D(t,n){let{botDesign:e}=r.getState();return e={...e,...n},u(t,{botDesign:e})}function P(t,n){const{botsMap:e}=r.getState(),s={...((e==null?void 0:e[t])||{}).botSettings,...n};return u(t,{botSettings:s})}async function M(t,n){var c;const{organizationId:e}=r.getState(),{selectedBotId:o}=d.getState(),s=new FormData;s.append("file",n);const a=await h(`/bot/${e}/${o}/update-logo/${t}`,s);return b(o,a),((c=(a.botDesign||{})[t])==null?void 0:c.url)||""}function g(t,n=!0){const e=t._id;let{botsMap:o,botsList:s}=d.getState();o={...o,[e]:t},s=[...s];const a=s.findIndex(c=>c._id===e);a>=0?s[a]=t:s.push(t);const i={botsMap:o,botsList:s};n&&(i.selectedBotId=e),d.setState(i)}function b(t,n){if(!t)return;const{botsMap:e}=r.getState(),o=e[t];if(!o)return;const s=Object.keys(n).reduce((a,i)=>(B(a,i,n[i]),a),{...o});g(s)}const z=t=>f.createElement("svg",{width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},f.createElement("path",{d:"M30.2137 3.14531L15.171 18.188M30.2137 3.14531L20.6411 30.4957L15.171 18.188M30.2137 3.14531L2.86328 12.718L15.171 18.188",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));export{z as S,u as a,L as b,x as c,P as d,$ as e,M as f,v as r,D as s,b as u};
