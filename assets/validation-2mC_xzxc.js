import{m as E}from"./index-BSPHc8Uh.js";const u={STRING:"string",NUMBER:"number",DATE:"date",DATETIME:"datetime",TIME:"time",PHONE_NUMBER:"phone",EMAIL:"email",CUSTOM:"custom"},le=["GET","POST","PUT"],ce=["text","number","date","param","header"],de=[{value:u.STRING,label:"Any Text"},{value:u.NUMBER,label:"Number"},{value:u.DATE,label:"Date"},{value:u.DATETIME,label:"Date & time"},{value:u.TIME,label:"Time only"},{value:u.PHONE_NUMBER,label:"Phone number"},{value:u.EMAIL,label:"Email Address"},{value:u.CUSTOM,label:"Custom value"}],me=["YYYY-MM-DD","DD-MM-YYYY","MM-DD-YYYY","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"],R={jpg:"image/*",jpeg:"image/*",png:"image/*",gif:"image/*",mp4:"video/*",avi:"video/*",mov:"video/*",wmv:"video/*",mp3:"audio/*",wav:"audio/*",pdf:"application/pdf"},N=[{id:T(),type:"start",data:{message:"Chat Window Opened"},position:{x:10,y:10}}],V=T(),O=T();function T(e=12){const s="abcdefghijklmnopqrstuvwxyz0123456789";let t="";const r=s.length,a=Date.now().toString(36);for(let o=0;o<e;o++)t+=s.charAt(Math.floor(Math.random()*r));return a+t}const ue=e=>{var s;if(e&&((s=e.flows)==null?void 0:s.length)>0){let t=W(e);const r=X(e);return t=[...N,...t],{flowNodes:t,flowEdges:r}}return{flowNodes:[...N],flowEdges:[]}},W=e=>e.flows.map((t,r)=>({id:t.flowId,type:t.type,data:B(t),position:J(t,r,e)})),B=e=>{var r,a,o,i,l,m,d,n,c,f,y,p,g,h,M,w,I,A,F,L,P,S,k,H;const s={};switch(["message","leadForm","gpt","leadFlow","stop","file","map","question","callConnect","otp","customForm","options"].includes(e.type)&&(s.message=typeof e.content=="string"?e.content:e.content[0]),e.type){case"options":s.fieldLabel=e.fieldLabel,s.fallback=e.fallback?e.fallback:(r=e.meta)==null?void 0:r.fallback,s.dataSource=e.dataSource?e.dataSource:(a=e.meta)==null?void 0:a.dataSource,s.property=e.property,s.subOptions=Z(e.children);break;case"file":s.fileType=(o=e.meta)==null?void 0:o.type,(i=e.meta)!=null&&i.media&&(z(e.meta.media,e)||!e.meta.media[0].name)?(s.urls=e.meta.media.map($=>$.url),s.files=[]):(s.urls=[],s.files=(l=e.meta)!=null&&l.media?e.meta.media:[],s.fileType||(s.fileType=(m=e.meta)!=null&&m.media?ee(e.meta.media):""));break;case"map":s.url=(n=(d=e.meta)==null?void 0:d.url)==null?void 0:n.trim();break;case"question":s.fieldLabel=e.fieldLabel,s.property=e.property,s.dateFormat=((c=e.meta)==null?void 0:c.dateFormat)||"",s.errorMessage=((f=e.meta)==null?void 0:f.errorMessage)||"";const b=e.fieldType?e.fieldType:(y=e.meta)==null?void 0:y.type;s.fieldType=b,(b&&b===u.DATE||b===u.DATETIME)&&(s.min=(p=e.meta)!=null&&p.min?Y(e,"min"):s.min,s.max=(g=e.meta)!=null&&g.max?Y(e,"max"):s.max),b&&b===u.TIME?(s.min=(h=e.meta)!=null&&h.min?U((M=e.meta)==null?void 0:M.min):(w=e.meta)==null?void 0:w.min,s.max=(I=e.meta)!=null&&I.min?U((A=e.meta)==null?void 0:A.max):(F=e.meta)==null?void 0:F.max):(b&&b===u.STRING||b===u.NUMBER)&&(s.min=e.min?e.min:(L=e.meta)==null?void 0:L.min,s.max=e.min?e.min:(P=e.meta)==null?void 0:P.max),b===u.CUSTOM&&(s.custom=e.custom?e.custom:(S=e.meta)==null?void 0:S.custom);break;case"http":if(s.property=e.property||"",e.meta){s.displayText=e.meta.displayText||"",s.requestType=e.meta.requestType||"",s.hideData=e.meta.hideData||!1,s.url=((k=e.meta.url)==null?void 0:k.trim())||"",s.params=e.meta.params||[],s.headers=e.meta.headers||[],s.successFlowId=e.meta.successFlowId?e.meta.successFlowId:T(),s.failureFlowId=e.meta.failureFlowId?e.meta.failureFlowId:T();const $=(H=e.meta.statusWiseFlowId)==null?void 0:H.map(q=>({statusCode:q.statusCode||"",id:q.flowId||""}));s.statusWiseFlow=$||[]}break;case"callConnect":e.meta&&(s.callConnectId=e.meta.callConnectId,s.callAccepted=e.meta.callAccepted,s.callRejected=e.meta.callRejected,s.successMessage=e.meta.successMessage,s.failureMessage=e.meta.failureMessage);break;case"otp":e.meta&&(s.otpType=e.meta.otpType);break;case"customForm":s.property=e.property,e.meta&&(s.customFields=G(e.meta.customFields));break;case"url":s.fieldLabel=e.fieldLabel,s.property=e.property,s.subUrls=K(e.children);break}return s},z=(e,s)=>e!=null&&e.files?(s.meta.media=e.files,!0):!1,G=(e=[])=>e.map(s=>({id:s.id,title:s.title,property:s.property,whatsAppQuestion:s.whatsAppQuestion,fieldType:s.fieldType,dateFormat:s==null?void 0:s.dateFormat,min:s==null?void 0:s.min,max:s==null?void 0:s.max,custom:s==null?void 0:s.custom,isCollapsed:!1})),Z=(e=[])=>e.map(s=>({id:s.flowId?s.flowId:s.id,title:s.title,subTitle:s.subTitle,value:s.value,imageUrl:s.imageUrl,category:s.category,isLink:s.isLink,description:s.description,leadEmailTo:s.leadEmailTo?s.leadEmailTo:"",leadEmailCc:s.leadEmailCc?[...s.leadEmailCc]:[],isCollapsed:!1})),K=(e=[])=>e.map(s=>({id:s.flowId?s.flowId:s.id,url:s.url,value:s.value,leadEmailTo:s.leadEmailTo?s.leadEmailTo:"",leadEmailCc:s.leadEmailCc?[...s.leadEmailCc]:[],isCollapsed:!1})),J=(e,s,t)=>{var a;let r={x:s+150,y:s+50};return e.flowId&&t.positions&&(r=((a=t.positions.find(o=>o.nodeId===e.flowId))==null?void 0:a.position)||r),r},X=e=>{let s={};e!=null&&e.startFlowId&&(s={id:N[0].id,source:N[0].id,target:e==null?void 0:e.startFlowId,type:"custom"});const t=e.flows;let r=t.filter(a=>a.nextFlowId).map(a=>({id:`e-${a.flowId}-${a.nextFlowId}`,source:a.flowId,target:a.nextFlowId,type:"custom"}));return t.forEach(a=>{var o;if(a.children&&a.children.length>0&&a.children.forEach(i=>{i.nextFlowId&&r.push({id:`e-${i.flowId?i.flowId:i.id}-${i.nextFlowId}`,source:a.flowId,target:i.nextFlowId,type:"custom",sourceHandle:i.flowId?i.flowId:i.id})}),a.type==="http"&&a.meta){const i=a.meta;i.successFlowId&&r.push({id:`e-${V}-${i.successFlowId}`,source:a.flowId,target:i.successFlowId,type:"custom",sourceHandle:i.successFlowId}),i.failureFlowId&&r.push({id:`e-${O}-${i.failureFlowId}`,source:a.flowId,target:i.failureFlowId,type:"custom",sourceHandle:i.failureFlowId}),(o=i.statusWiseFlowId)==null||o.forEach(l=>{l.nextFlowId&&r.push({id:`e-${l.flowId?l.flowId:""}-${l.nextFlowId}`,source:a.flowId,target:l.nextFlowId,type:"custom",sourceHandle:l.flowId})})}}),t.forEach(a=>{a.children&&a.children.length>0&&a.children.forEach(o=>{o.nextFlowId&&r.push({id:`e-${o.flowId?o.flowId:o.id}-${o.nextFlowId}`,source:a.flowId,target:o.nextFlowId,type:"custom",sourceHandle:o.flowId?o.flowId:o.id})})}),r=Object.keys(s).length>0?[s,...r]:[...r],r},pe=(e,s)=>{const t=e.dataTransfer.getData("application/reactflow");return{id:T(),type:t,position:s,data:{message:""},...t==="options"&&{data:{fieldLabel:"",property:"",message:"",fallback:"",subOptions:[{id:T(),title:"",subTitle:"",value:"",leadEmailTo:"",leadEmailCc:[],category:"",description:"",isCollapsed:!0,isLink:!1}]}},...t==="file"&&{data:{message:"",fileType:"pdf",urls:[],files:[]}},...t==="map"&&{data:{message:"",url:""}},...t==="leadForm"&&{data:{message:"This will display lead form for the visitor"}},...t==="gpt"&&{data:{message:"From here on visitors would be handled by GPT"}},...t==="question"&&{data:{message:"",fieldLabel:"",property:"",type:"",meta:{min:"",max:"",regex:"",errorMessage:""}}},...t==="http"&&{data:{propertyName:"",displayText:"",url:"",requestType:"",hideData:!1,params:[],headers:[],successFlowId:T(),failureFlowId:T(),statusWiseFlow:[]}},...t==="callConnect"&&{data:{message:"",meta:{callConnectId:"",callAccepted:"",callRejected:"",successMessage:"",failureMessage:""},callAcceptedId:T(),callRejectedId:T()}},...t==="otp"&&{data:{message:"",meta:{otpType:""}}},...t==="customForm"&&{data:{property:"",message:"",customFields:[{id:T(),title:"",property:"",fieldType:"",isCollapsed:!0}]}},...t==="url"&&{data:{fieldLabel:"",property:"",subUrls:[{id:T(),url:"Default",value:"NA",leadEmailTo:"",leadEmailCc:[],isCollapsed:!0}]}}}},D=e=>R[e.toLowerCase()]||"",ee=e=>{const s=new Set;for(const t of e){const r=t.name.split(".").pop();if(r){const a=D(r);a&&s.add(a)}}return Array.from(s).join(", ")},se={pdf:"application/pdf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",mp4:"video/mp4",mov:"video/mp4",avi:"video/mp4"},fe=e=>e==="application/pdf"||e==="pdf"?"pdf":e.startsWith("image/")?"image":e.startsWith("video/")?"video":"unknown",ge=e=>{const s=te(e);return se[s]||""},re=e=>(new URL(e).pathname.split("/").pop()||"").split("?")[0],te=e=>{const s=re(e),t=s.lastIndexOf(".");return t>-1?s.substring(t+1).toLowerCase():""},Y=(e,s)=>{var o;let t=new Date;const r=s==="min"?"min":"max",a=e[r]||((o=e.meta)==null?void 0:o[r]);if(a){const[i,l]=a.split("T");t=new Date(i);const[m,d,n]=l.split(":");t.setHours(m||0),t.setMinutes(d||0),t.setSeconds(n.split(".")[0]||0)}return t||""},U=e=>{const s=new Date,t=/^([01]\d|2[0-3]):([0-5]\d)$/.test(e);let r;if(t){const[a,o]=e.split(":").map(Number);r=new Date(s),r.setHours(a,o,0,0)}else r=new Date(s),r.setHours(23,59,59,999);return r},he=(e,s,t)=>{const r=c=>c<10?"0"+c:c;s&&e&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),t&&(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(99));const a=e.getFullYear(),o=r(e.getMonth()+1),i=r(e.getDate()),l=r(e.getHours()),m=r(e.getMinutes()),d=r(e.getSeconds()),n=(e.getMilliseconds()/1e3).toFixed(3).slice(2,5);return`${a}-${o}-${i}T${l}:${m}:${d}.${n}Z`},Te=e=>{if(e){const s=e.getHours().toString().padStart(2,"0"),t=e.getMinutes().toString().padStart(2,"0");return`${s}:${t}`}return""},Q=(e,s,t)=>{const r=[e],a=new Set,o=[];for(;r.length>0;){const i=r.pop();if(a.has(i))continue;a.add(i);const m=s.filter(n=>n.target===i).map(n=>n.source),d=t.filter(n=>m.includes(n.id));o.push(...d),r.push(...m)}return o},_=(e,s)=>e.filter(o=>s?o.type===s:["options","question","http"].includes(o.type)).map(o=>o.data.property).filter(o=>!o||o.trim()===""?!1:/^[a-zA-Z0-9-_]+$/.test(o.trim())),v=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function ae(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ee=e=>{const s={};return e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(s.message="Error in Message Node",e.errors.message="Message must be between 3 and 1500 characters"):(s.message="Error in Message Node",e.errors.message="Message is required"),s},ye=(e,s,t,r)=>{const a={};s.errors={};let o=[];const i=Q(e.id,r,t);o=_(i,"http"),d(s.message||"","message",-1,a,s.errors),m("dataSource",s.dataSource||"",-1,o,s.dataSource,a,s.errors),(s.subOptions||[]).forEach((n,c)=>{const f={};m("title",n.title,c,o,null,a,f,(p,g,h,M,w)=>d(p,g,h,M,w)),s.dataSource&&!n.isLink&&m("value",n.value,c,o,null,a,f,(p,g,h,M,w)=>d(p,g,h,M,w));const y=new Set;if(n.leadEmailTo){const p=n.leadEmailTo.trim();v(p)?y.has(p)?(a[`leadEmailTo_${c}`]="Duplicate Lead Email To",f.leadEmailTo="Duplicate Lead Email To"):y.add(p):(a[`leadEmailTo_${c}`]="Lead Email To must be a valid email",f.leadEmailTo="Lead Email To must be a valid email")}n.leadEmailCc&&Array.isArray(n.leadEmailCc)&&n.leadEmailCc.forEach((p,g)=>{const h=p.trim();v(h)?y.has(h)?(a[`subOptions[${c}].leadEmailCc[${g}]`]="Duplicate email in Lead Email Cc",f.leadEmailCc="Duplicate email in Lead Email Cc"):y.add(h):(a[`subOptions[${c}].leadEmailCc[${g}]`]="Invalid email format",f.leadEmailCc="Invalid email format")}),s.subOption=f});function m(n,c,f,y,p,g,h,M){if(!(M&&!M(c,n,f,g,h))&&p){const w=c.indexOf("."),I=w!==-1?c.slice(0,w):c;y.includes(I)||(g[`${n}_${f}`]=`Invalid property: ${I} is not in the properties list`,h[n]=`Invalid property: ${I} is not in the properties list`)}}function d(n,c,f,y,p){if(!n||n.length<1||n.length>500){const g=`${ae(c)} must be between 1 and 500 characters`;return y[`${c}_${f}`]=g,p[c]=g,!1}return!0}return a},we=e=>{const s={};e.errors={};const t=e.subUrls||[];return t.forEach((r,a)=>{const o={};if(a!==t.length-1&&!x(r.url)){const l="Url must be a valid URL (starting with http, https, or ftp)";s[`url_${a}`]=l,o.url=l}const i=new Set;if(r.leadEmailTo){const l=r.leadEmailTo.trim();v(l)?i.has(l)?(s[`leadEmailTo_${a}`]="Duplicate Lead Email To",r.leadEmailTo="Duplicate Lead Email To"):i.add(l):(s[`leadEmailTo_${a}`]="Lead Email To must be a valid email",o.leadEmailTo="Lead Email To must be a valid email")}r.leadEmailCc&&Array.isArray(r.leadEmailCc)&&r.leadEmailCc.forEach((l,m)=>{const d=l.trim();v(d)?i.has(d)?(s[`subUrls[${a}].leadEmailCc[${m}]`]="Duplicate email in Lead Email Cc",o.leadEmailCc="Duplicate email in Lead Email Cc"):i.add(d):(s[`subUrls[${a}].leadEmailCc[${m}]`]="Invalid email format",o.leadEmailCc="Invalid email format")}),e.subUrl=o}),s},be=e=>{var a;const s={};e.errors={},e.message?(e.message.length<3||e.message.length>1500)&&(s.message="Error in File Node",e.errors.message="Message must be between 3 and 1500 characters"):(s.message="Error in File Node",e.errors.message="Message is required");const t=Array.isArray(e.urls)&&e.urls.every(o=>x(o));t||(s.message="Error in File Node",e.errors.urls="Invalid image URL"),e.fileType||(s.message="Error in File Node",e.errors.fileType="File type is required");const r=e.files&&oe(e.files,e.fileType);return(t&&((a=e.urls)==null?void 0:a.length)===0&&!r||!t&&!r)&&(s.message="Error in File Node",e.errors.fileOrUrl="Either valid URLs or valid files must be provided"),s},Me=e=>{const s={};return e.errors={},e.message?(e.message.length<3||e.message.length>500)&&(s.message="Error in Maps Node",e.errors.message="Message must be between 3 and 500 characters"):(s.message="Error in Maps Node",e.errors.message="Message is required"),(!e.url||!x(e.url))&&(s.message="Error in Maps Node",e.errors.url="URL must be valid"),s},oe=(e,s)=>{if(!e||e.length===0)return!1;const r={pdf:["pdf","application/pdf"],"application/pdf":["pdf","application/pdf"],images:["jpg","jpeg","png","gif"],"image/*":["jpg","jpeg","png","gif"],video:["mp4","avi","mov"],"video/*":["mp4","avi","mov"]}[s];return e.every(a=>{var i;const o=(i=a.name.split(".").pop())==null?void 0:i.toLowerCase();return Array.isArray(r)?r.includes(o||""):o===r})},x=e=>/^(http|https|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e),Ie=(e,s)=>{switch(s=s==null?void 0:s.trim(),e){case"message":if(!s)return"Message is required";if(s.length<3)return"Message must be at least 3 characters";if(s.length>500)return"Message must be at most 500 characters";break;case"title":if(!s)return"Title is required";if(s.length<1)return"Title must be at least 1 characters";if(s.length>500)return"Title must be at most 500 characters";break;case"leadEmailTo":if(s&&!/\S+@\S+\.\S+/.test(s))return"Lead Email To is invalid";break;case"leadEmailCc":if(s&&!/\S+@\S+\.\S+/.test(s))return"Lead Email CC is invalid";break}return""},Ne=e=>{const s={};switch(e.errors={},e.message||(s.message="Error in Question Node",e.errors.message="A message is required"),e.fieldType||(s.message="Error in Question Node",e.errors.fieldType="Question Type is required"),e.property&&(/^[a-zA-Z0-9-_]+$/.test(e.property.trim())||(s.message="Error in Question Node",e.errors.property="Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")),e.fieldType){case u.DATE:{const t=E().startOf("day"),r=E().add(3,"months").endOf("day"),a=e.min?E(e.min).startOf("day"):t,o=e.max?E(e.max).endOf("day"):r;a&&a.isBefore(t)&&(s.message="Error in Question Node",e.errors.min="Min date cannot be before today."),o&&o.isAfter(r)&&(s.message="Error in Question Node",e.errors.max="Max date cannot be more than 3 months from today."),a&&o&&a.isAfter(o)&&(s.message="Error in Question Node",e.errors.min="Min date cannot be after Max date.");break}case u.DATETIME:{const t=e.min?E(e.min):null,r=e.max?E(e.max):null,a=E().startOf("day"),o=E().add(3,"months").endOf("day");t&&t.isBefore(a)&&(s.message="Error in Question Node",e.errors.min="Min datetime cannot be before today."),r&&r.isAfter(o)&&(s.message="Error in Question Node",e.errors.max="Max datetime cannot be more than 3 months from today."),t&&r&&t.isAfter(r)&&(s.message="Error in Question Node",e.errors.min="Min datetime cannot be after Max datetime.");break}case u.TIME:{const t=e.min?E(e.min):null,r=e.max?E(e.max):null,a=E().startOf("day"),o=E().endOf("day");t&&t.isBefore(a)&&(s.message="Error in Question Node",e.errors.min="Min time cannot be before today."),r&&r.isAfter(o)&&(s.message="Error in Question Node",e.errors.max="Max time cannot be after today."),t&&r&&t.isAfter(r)&&(s.message="Error in Question Node",e.errors.min="Min time cannot be after Max time.");break}case"custom":e.custom||(s.message="Error in Question Node",e.errors.custom="A custom regex is required.");break;case"string":case"number":case"age":{const t=e.min?parseInt(e.min,10):void 0,r=e.max?parseInt(e.max,10):void 0,a=ie(t,r,e.fieldType);a&&(s.message="Error in Question Node",e.errors.answer=a);break}}return s},ie=(e,s,t)=>{if(e&&typeof e!="number"||s&&typeof s!="number")return`Both min and max values must be valid numbers for ${t}.`;if(e&&s&&e>s)return`Min value cannot be greater than Max value for ${t}.`;if(t==="string"){if(e&&e<3)return"Min length for string must be at least 3.";if(s&&s>2500)return"Max length for string must not exceed 500."}if(t==="number"){if(e&&(e<1||e>9999999999))return`Min value for ${t} must be between 1 and ${9999999999}.`;if(s&&(s<1||s>9999999999))return`Max value for ${t} must be between 1 and ${9999999999}.`}return""},ve=e=>{const s={};return e.errors={},["message","successMessage","failureMessage"].forEach(t=>C(e[t],t,s,"Call Connect",e)),["callConnectId","callAccepted","callRejected"].forEach(t=>C(e[t],t,s,"Call Connect",e,!1)),s},Ce=e=>{const s={};return e.errors={},C(e.message,"message",s,"OTP",e),C(e.otpType,"otpType",s,"OTP",e,!1),s},$e=(e,s,t,r,a)=>{let o="";switch(e){case"message":s?s.length<3?o="Message must be at least 3 characters":s.length>500&&(o="Message must be at most 500 characters"):o="Message is required";break;case"property":s?s.length<3?o="Property must be at least 3 characters":s.length>500?o="Property must be at most 500 characters":/^[A-Za-z][\w]*$/.test(s)?a!=null&&a.has(s)&&(o="Property name must be unique"):o='Property must start with a letter, cannot contain spaces, or special characters like "@", and should not start with a number':o="Property is required";break;case"title":s?s.length<3?o="Title must be at least 1 character":s.length>500&&(o="Title must be at most 500 characters"):o="Title is required";break;case"whatsAppQuestion":s?s.length<3?o="whatsAppQuestion must be at least 1 character":s.length>500&&(o="whatsAppQuestion must be at most 500 characters"):o="whatsAppQuestion is required";break;case"fieldType":s||(o="Field Type is required");break;case"custom":t===e&&(s||(o="A custom regex is required."));break}return o};function C(e,s,t,r,a,o=!0){e?o&&(e.length<3||e.length>500)&&(t.message=`Error in ${s} Node`,a.errors[s]=`${s} must be between 3 and 500 characters`):(t.message=`Error in ${r} Node`,a.errors[s]=`${s} is required`)}const xe=(e,s,t)=>{var m;const r=e.data,a={},o={};r.errors={};let i=[];const l=Q(e.id,t,s);if(i=_(l),!r.url||r.url.length===0)a.message="Error in HTTP Node";else{const d=r.url.match(/\{(.*?)\}/);if(d){const n=(m=d[1])==null?void 0:m.trim();(!/^[a-zA-Z0-9-_]+$/.test(n)||i.length==0||!i.includes(n))&&(o.url="HTTP Node - Property can only contain alphanumeric characters, hyphens (-), and underscores (_), and should not have spaces.")}}return(!r.requestType||r.requestType.length===0)&&(a.message="Error in HTTP Node"),r.statusWiseFlow.length&&r.statusWiseFlow.forEach(d=>{d.statusCode||(a.message="Error in HTTP Node")}),r.params.length&&(r.errors.params=[],r.params.forEach((d,n)=>{const c=j(d,n,i,"Param",a);c&&Object.keys(c).length>0&&r.errors.params.push({index:n,errors:c.errors})})),r.headers.length&&(r.errors.headers=[],r.headers.forEach((d,n)=>{const c=j(d,n,i,"Header",a);c&&Object.keys(c).length>0&&r.errors.headers.push({index:n,errors:c.errors})})),r.successFlowId||(a.message="Error in HTTP Node",r.errors.successFlowStatusCode="HTTP Node - Success flow statusCode is mandatory"),r.failureFlowId||(a.message="Error in HTTP Node",r.errors.failureFlowStatusCode="HTTP Node - Failure flow statusCode is mandatory"),r.statusWiseFlow&&r.statusWiseFlow.length>0&&(r.errors.statusWiseFlow=[],r.statusWiseFlow.forEach((d,n)=>{d.statusCode||r.errors.statusWiseFlow.push({index:n,message:"HTTP Node - Status code is mandatory"})})),{newErrors:a,newWarnings:o}},j=(e,s,t,r,a)=>{var d;const o={},{key:i,valueType:l,value:m}=e;if(i||(o.key=`${r} - Key is mandatory`,a.message="Error in HTTP Node"),l||(o.valueType=`${r} - ValueType is mandatory`,a.message="Error in HTTP Node"),m?l==="number"&&isNaN(Number(m))?(o.value=`${r} - Value is not a valid Number`,a.message="Error in HTTP Node"):l==="date"&&!(m instanceof Date)&&(o.value=`${r} - Value is not a valid Date`,a.message="Error in HTTP Node"):(o.value=`${r} - Value is mandatory`,a.message="Error in HTTP Node"),(l=="param"||l=="header")&&((d=Object.keys(o))==null?void 0:d.length)===0){const n=m.trim();n?(!/^[A-Za-z][\w]*$/.test(n)||t.length===0||!t.includes(n))&&(o.property=`${r} - Property must contain only alphanumeric characters, hyphens (-), underscores (_), and no spaces.`,a.message="Error in HTTP Node"):(o.property=`${r} - Property must contain only alphanumeric characters, hyphens (-), underscores (_), and no spaces.`,a.message="Error in HTTP Node")}return Object.keys(o).length>0?{index:s,errors:o}:null};export{u as F,ce as H,me as S,de as a,_ as b,le as c,Ie as d,v as e,Q as f,T as g,fe as h,x as i,ge as j,Te as k,ue as l,pe as m,Ee as n,ye as o,we as p,be as q,Me as r,Ne as s,he as t,ve as u,$e as v,Ce as w,xe as x};
