import{r,j as e,d as V,b as B,e as Z}from"./index-DilKqAPQ.js";import{F as U,u as G}from"./formik.esm-BipogUud.js";import{B as f}from"./Button-BKY5uciM.js";import{c as w}from"./Button-DRd7mco0.js";import{p as k}from"./ajax-rKymc6Ns.js";import{F as v,a as S}from"./index-COlPIpSr.js";import{s as _,u as O}from"./bots-DW07TktM.js";import{u as E}from"./useSelectedBot-Ceaiw3t7.js";import{S as z,a as $,b as D,c as W,d as Y}from"./upload-BRTUN3u2.js";import{S as K}from"./back-CbEnISwf.js";import{s as y,h as N}from"./utils-B3TvvZ68.js";import{S as q}from"./delete-DCj0ebRA.js";import{S as P}from"./edit-B6vshi9D.js";import{S as X}from"./plus-DfElpTKD.js";import{S as J}from"./search-N0ULYmXV.js";import{S as Q}from"./SelectBox-CWvwXTGS.js";import{T as M}from"./TextBox-CrJFnx4o.js";import{u as ee,E as A,d as te,g as se}from"./EditDocument-_BIcC1HI.js";import{S as ae}from"./send-Cf6F7mJS.js";/* empty css                */import"./hoist-non-react-statics.cjs-BX_dq5y3.js";import"./LabelWrapper-Clfai9mb.js";import"./Form-CLBwXgvk.js";const j=t=>r.createElement("svg",{width:31,height:36,viewBox:"0 0 31 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("g",{filter:"url(#filter0_d_1_105)"},r.createElement("path",{d:"M23.4002 5.60005H16.2002V3.75483C16.4405 3.61881 16.6408 3.42208 16.7812 3.18433C16.9216 2.94658 16.9971 2.67614 17.0002 2.40005C17.0002 1.9757 16.8316 1.56874 16.5316 1.26868C16.2315 0.96862 15.8245 0.800049 15.4002 0.800049C14.9758 0.800049 14.5689 0.96862 14.2688 1.26868C13.9688 1.56874 13.8002 1.9757 13.8002 2.40005C13.8033 2.67614 13.8788 2.94658 14.0192 3.18433C14.1596 3.42208 14.3599 3.61881 14.6002 3.75483V5.60005H7.4002C6.5518 5.60102 5.73843 5.93847 5.13852 6.53838C4.53862 7.13828 4.20117 7.95165 4.2002 8.80005V20C4.20117 20.8484 4.53862 21.6618 5.13852 22.2617C5.73843 22.8616 6.5518 23.1991 7.4002 23.2H9.0002V27.2C9.00024 27.3582 9.04717 27.5129 9.13504 27.6444C9.22292 27.776 9.34781 27.8785 9.49394 27.9391C9.59096 27.9796 9.69507 28.0003 9.8002 28C9.90525 28 10.0093 27.9793 10.1063 27.9391C10.2034 27.8989 10.2916 27.84 10.3658 27.7657L14.9314 23.2H23.4002C24.2486 23.1991 25.062 22.8616 25.6619 22.2617C26.2618 21.6618 26.5992 20.8484 26.6002 20V8.80005C26.5992 7.95165 26.2618 7.13828 25.6619 6.53838C25.062 5.93847 24.2486 5.60102 23.4002 5.60005ZM9.0002 13.6C9.0002 13.2836 9.09403 12.9743 9.26984 12.7111C9.44565 12.448 9.69554 12.2429 9.9879 12.1218C10.2803 12.0007 10.602 11.9691 10.9123 12.0308C11.2227 12.0925 11.5078 12.2449 11.7316 12.4687C11.9553 12.6924 12.1077 12.9775 12.1695 13.2879C12.2312 13.5983 12.1995 13.92 12.0784 14.2123C11.9573 14.5047 11.7522 14.7546 11.4891 14.9304C11.226 15.1062 10.9166 15.2 10.6002 15.2C10.1758 15.2 9.76888 15.0315 9.46882 14.7314C9.16877 14.4314 9.0002 14.0244 9.0002 13.6ZM19.8111 18.2633C18.4799 19.0663 16.9548 19.4907 15.4002 19.4907C13.8456 19.4907 12.3204 19.0663 10.9893 18.2633C10.8989 18.2095 10.8202 18.1383 10.7574 18.054C10.6946 17.9697 10.6491 17.8738 10.6234 17.7718C10.5977 17.6698 10.5924 17.5638 10.6078 17.4598C10.6231 17.3558 10.6588 17.2558 10.7129 17.1656C10.7669 17.0754 10.8382 16.9968 10.9227 16.9342C11.0071 16.8716 11.1031 16.8262 11.2051 16.8008C11.3072 16.7753 11.4132 16.7702 11.5172 16.7858C11.6212 16.8013 11.7211 16.8372 11.8111 16.8915C12.8982 17.5336 14.1376 17.8723 15.4002 17.8723C16.6628 17.8723 17.9022 17.5336 18.9893 16.8915C19.0793 16.8372 19.1792 16.8013 19.2832 16.7858C19.3872 16.7702 19.4932 16.7753 19.5952 16.8008C19.6973 16.8262 19.7932 16.8716 19.8777 16.9342C19.9622 16.9968 20.0335 17.0754 20.0875 17.1656C20.1415 17.2558 20.1773 17.3558 20.1926 17.4598C20.208 17.5638 20.2027 17.6698 20.177 17.7718C20.1513 17.8738 20.1058 17.9697 20.043 18.054C19.9802 18.1383 19.9014 18.2095 19.8111 18.2633ZM20.2002 15.2C19.8837 15.2 19.5744 15.1062 19.3113 14.9304C19.0482 14.7546 18.8431 14.5047 18.722 14.2123C18.6009 13.92 18.5692 13.5983 18.6309 13.2879C18.6927 12.9775 18.8451 12.6924 19.0688 12.4687C19.2926 12.2449 19.5777 12.0925 19.8881 12.0308C20.1984 11.9691 20.5201 12.0007 20.8125 12.1218C21.1049 12.2429 21.3547 12.448 21.5305 12.7111C21.7064 12.9743 21.8002 13.2836 21.8002 13.6C21.8002 14.0244 21.6316 14.4314 21.3316 14.7314C21.0315 15.0315 20.6245 15.2 20.2002 15.2Z",fill:"#6D8994"})),r.createElement("defs",null,r.createElement("filter",{id:"filter0_d_1_105",x:.200195,y:.800049,width:30.4,height:35.2,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dy:4}),r.createElement("feGaussianBlur",{stdDeviation:2}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1_105"}),r.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1_105",result:"shape"}))));function ne({activeIndex:t,onNavigate:l}){const[n,i]=E();if(!i)return null;const{botName:c,botDesign:x={}}=i,s=x,a={bgColor:(s==null?void 0:s.backgroundColor)||"#484a49",botBorderColor:(s==null?void 0:s.botBorderColor)||"#484a49",botBackgroundColor:(s==null?void 0:s.botBackgroundColor)||"#dfd9df",botFontColor:(s==null?void 0:s.botFontColor)||"#000000",visitorBorderColor:(s==null?void 0:s.visitorBorderColor)||"#000000",visitorBackgroundColor:(s==null?void 0:s.visitorBackgroundColor)||"#ffffff",visitorFontColor:(s==null?void 0:s.visitorFontColor)||"#000000",fontType:(s==null?void 0:s.fontType)||"normal-font",windowAlign:(s==null?void 0:s.windowAlign)||"bottomRight",fontColor:(s==null?void 0:s.textColor)||"#484a49",titleText:c,placeholder:"Type your message...",launcherType:"bar",messageBubbleLogo:!0,botLogo:(s==null?void 0:s.botLogo)||{},visitorMessageLogo:(s==null?void 0:s.visitorMessageLogo)||{},botMessageLogo:(s==null?void 0:s.botMessageLogo)||{},botChatButton:(s==null?void 0:s.botChatButton)||{},hideLivservBranding:(s==null?void 0:s.hideLivservBranding)||!1,showMinimizeButtonToolTip:(s==null?void 0:s.showMinimizeButtonToolTip)||!0,...s},u=async(o,{setErrors:m,setStatus:d,setSubmitting:h})=>{try{await _(n,o),l(t+1),d({success:!1}),h(!1)}catch(p){console.error(p),d({success:!1}),m({submit:p.message}),h(!1)}};return e.jsx(e.Fragment,{children:e.jsx(U,{initialValues:a,validationSchema:void 0,onSubmit:u,children:o=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full h-full bg-white rounded-lg shadow-lg p-14",children:[e.jsxs("div",{className:"flex items-center space-x-4 border-b pb-4 mb-4",children:[e.jsx("button",{className:"px-4 py-2 text-black rounded-lg transition",children:"Chat Bot Setting"}),e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("button",{className:"px-6 py-2 text-orange-600 bg-white border border-[#FB9F37] rounded-md shadow-md",children:"Advance Setting"}),e.jsx("div",{className:"absolute bottom-[-8px] w-4 h-4 bg-white border-l border-b border-[#FB9F37] ",style:{transform:"rotate(-46deg)"}})]})]}),e.jsxs("form",{noValidate:!0,onSubmit:o.handleSubmit,children:[e.jsx(le,{...o}),e.jsx(oe,{}),e.jsx(re,{...o})]})]}),e.jsx("div",{className:"flex mt-12 justify-end",children:e.jsx(f,{label:"NEXT",onClick:()=>o.handleSubmit()})})]})})})}const le=({values:t,setFieldValue:l})=>{const n=[{value:"bottomRight",label:"Bottom Right"},{value:"bottomLeft",label:"Bottom Left"}],i=[{value:"sm",label:"Small: 300x400px"},{value:"md",label:"Medium: 380x500px"},{value:"lg",label:"Large: 420x600px"}],x=[{code:"en",name:"English",native:"English"},{code:"ar",name:"Arabic",native:"العربية"},{code:"af",name:"Afrikaans",native:"Afrikaans"},{code:"ml",name:"Malayalam",native:"മലയാളം"},{code:"kn",name:"Kannada",native:"ಕನ್ನಡ"},{code:"ta",name:"Tamil",native:"தமிழ்"},{code:"gu",name:"Gujarati",native:"Gujarati"},{code:"ig",name:"Igbo",native:"Igbo"},{code:"yo",name:"Yoruba",native:"Yoruba"}].map(a=>({label:`${a.name}`,value:a.code,full:a})),s=(a,u)=>{let o,m;const d={sm:{width:"300px",height:"400px"},md:{width:"380px",height:"500px"},lg:{width:"420px",height:"600px"}};d[a]&&(o=d[a].width,m=d[a].height),u("dimension",a),u("width",o),u("height",m)};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-thin text-primary mb-4",children:"Choose Position And Size"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-12 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Dimension"}),e.jsx(v,{field:"dimension",options:i,onChange:a=>s(a,l),showClear:!1,value:t.dimension||"",className:"border rounded-md w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Position"}),e.jsx(v,{field:"windowAlign",options:n,onChange:a=>l("windowAlign",a),showClear:!1,value:t.windowAlign||"",className:"border rounded-md w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Choose Language"}),e.jsx(v,{field:"translateLanguages",options:x,onChange:a=>{const u=x.filter(o=>a.includes(o.value)).map(o=>o.full);l("translateLanguages",u)},showClear:!1,value:(t.translateLanguages||[]).map(a=>a.code),className:"border rounded-md w-full",multiple:!0})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-12",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Spacing on corner"}),e.jsx(S,{field:"paddingLeft",placeholder:"0px",onChange:a=>l("paddingLeft",a),value:t.paddingLeft,wrapperClassName:"border rounded-md h-12 w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Spacing on Bottom"}),e.jsx(S,{field:"paddingBottom",placeholder:"0px",onChange:a=>l("paddingBottom",a),value:t.paddingBottom,wrapperClassName:"border rounded-md h-12 w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Enable Multilingual Support?"}),e.jsxs("div",{className:"flex flex-row items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"multiLanguageChat",value:"true",checked:t.multiLanguageChat===!0,onChange:()=>l("multiLanguageChat",!0),className:"mr-2"})," ","Yes"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"multiLanguageChat",value:"false",checked:t.multiLanguageChat===!1,onChange:()=>l("multiLanguageChat",!1),className:"mr-2"})," ","No"]})]})]})]})]})},L=200*1024,oe=()=>{const{setFieldValue:t}=G(),[l,n]=r.useState(null),i=r.useRef(null),c=a=>{var u;try{const o=(u=a.target.files)==null?void 0:u[0];if(!o)return;const m=o.size;o.type.startsWith("image/")&&m<=L?(t("botLogo",o),n(URL.createObjectURL(o))):(alert("Please upload valid image file and size is <= "+L/1e3+" kb"),t("botLogo",null),n(null),a.target.value="")}catch(o){console.log("Error selecting the image ::",o),alert("Please select the image file"),t("botLogo",null),n(null),a.target.value=""}},x=[e.jsx(j,{},"default"),e.jsx($,{},"v1"),e.jsx(D,{},"v2"),e.jsx(W,{},"v3"),e.jsx(Y,{},"v4")],s=async(a,u)=>{try{const o=document.createElement("div");document.body.appendChild(o);const m=V.createRoot(o);m.render(a),setTimeout(()=>{const d=o.querySelector("svg");if(d){const h=d.outerHTML,p=new Blob([h],{type:"image/svg+xml"}),b=new File([p],`bot-icon-${u+1}.svg`,{type:"image/svg+xml"});t("botLogo",b),n(URL.createObjectURL(b))}else console.log("SVG element not found.");m.unmount(),document.body.removeChild(o)},100)}catch(o){console.log("Error processing SVG icon.",o)}};return e.jsxs("div",{className:"mt-12 border-y",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-thin text-primary mb-4",children:"Chat Launcher Setting"}),e.jsxs("div",{className:"mb-12",children:[e.jsx("label",{className:"block text-sm text-gray-600 my-4",children:"Choose Icon"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[x.map((a,u)=>e.jsx(f,{icon:a,type:"rounded",className:"border border-gray-300 hover:bg-gray-100 p-2 sm:p-4 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center",onClick:()=>s(a,u)},u)),e.jsxs("span",{className:"relative",children:[e.jsx(f,{icon:l?e.jsx("img",{src:l,alt:"Bot Icon Preview",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover"}):e.jsx(z,{}),type:"rounded",className:"border border-gray-300 text-primary p-2 sm:p-4 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center",onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()}}),e.jsx("input",{ref:i,type:"file",accept:"image/*",style:{display:"none"},onChange:c})]})]})]})]})},re=({values:t,setFieldValue:l})=>{const n=i=>t.launcherType===i;return e.jsxs("div",{className:"mt-12",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-thin text-primary mb-4",children:"Choose Type"}),e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4",children:[e.jsx(f,{icon:e.jsx(j,{className:"w-6 h-6 sm:w-8 sm:h-8"}),type:"rounded",onClick:()=>l("launcherType","icon"),className:`border rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center
                            ${n("icon")?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:bg-gray-100"}`}),e.jsxs("div",{className:`flex items-center w-36 sm:w-48 bg-gray-200 rounded-full shadow-md cursor-pointer
                            ${n("bar")?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:bg-gray-100"}`,onClick:()=>l("launcherType","bar"),children:[e.jsx("div",{className:"bg-white w-10 h-10 sm:w-16 sm:h-16 flex items-center justify-center rounded-full",children:e.jsx(j,{className:"w-6 h-6 sm:w-8 sm:h-8"})}),e.jsx("span",{className:"ml-2 sm:ml-4 text-gray-600 font-medium text-xs sm:text-base",children:"Live Chat"})]}),e.jsxs("div",{className:`flex items-center justify-end w-36 sm:w-48 bg-gray-200 rounded-full shadow-md cursor-pointer
                            ${n("expand")?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:bg-gray-100"}`,onClick:()=>l("launcherType","expand"),children:[e.jsx("span",{className:"mr-2 sm:mr-4 text-gray-600 font-medium text-xs sm:text-base",children:"Live Chat"}),e.jsx("div",{className:"bg-white w-10 h-10 sm:w-16 sm:h-16 flex items-center justify-center rounded-full",children:e.jsx(j,{className:"w-6 h-6 sm:w-8 sm:h-8"})})]})]})})]})},ie=["Upload Document","Create Theme","Reviews & Generate"],ce=t=>r.createElement("svg",{width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M11.1221 2.43842V2.44444H4.87833C3.54227 2.44444 2.44444 3.54114 2.44444 4.88251V17.1175C2.44444 18.4617 3.53765 19.5556 4.88251 19.5556H17.1175C18.4611 19.5556 19.5556 18.4604 19.5556 17.1116V12.1945C19.5703 11.5323 20.112 11 20.7778 11C21.4435 11 21.985 11.5323 21.9997 12.1945L22 17.1116C22 19.8114 19.8101 22 17.1175 22H4.88251C2.18597 22 0 19.8101 0 17.1175V4.88251C0 2.18597 2.19739 0 4.87833 0H11.1221V0.00602383C11.7398 0.0672926 12.2222 0.588418 12.2222 1.22222C12.2222 1.85603 11.7398 2.37715 11.1221 2.43842ZM14.1857 11.1312L15.6982 12.6436L11.8659 16.4759C10.5074 17.8344 8.15672 17.3902 6.52931 15.7628C4.90897 14.1425 4.45828 11.7842 5.81205 10.4304L9.64854 6.59391L11.1609 8.10634L7.32446 11.9428C6.98082 12.2865 7.18267 13.3426 8.06608 14.2261C8.95597 15.1159 10.0031 15.3138 10.3535 14.9635L14.1857 11.1312ZM17.238 11.1038L15.7256 9.59137L19.5578 5.75914C19.9082 5.40878 19.7103 4.36159 18.8204 3.4717C17.937 2.5883 16.8808 2.38645 16.5372 2.73008L12.7007 6.56657L11.1883 5.05414L15.0248 1.21765C16.3785 -0.136113 18.7369 0.3146 20.3572 1.93494C21.9846 3.56235 22.4288 5.91301 21.0703 7.27155L17.238 11.1038ZM14.2324 6.54731C14.6528 6.12686 15.3294 6.12168 15.7499 6.54223C16.1676 6.95988 16.1746 7.63 15.7448 8.05974L12.6571 11.1474C12.2367 11.5679 11.5602 11.5731 11.1396 11.1525C10.722 10.7349 10.7149 10.0647 11.1447 9.63501L14.2324 6.54731Z",fill:"white"}));function de({activeIndex:t,onNavigate:l}){const n="https://Mui.Com/Base-Ui/React-Table-Pagination/?SrsItid=AfmBOoomw9",i=()=>{navigator.clipboard.writeText(n)};return e.jsx("div",{className:"fixed inset-0 bg-opacity-50 p-8 flex justify-center items-center z-50",children:e.jsxs("div",{className:"relative card bg-white w-[70%] border-2 mx-auto p-6 rounded-lg text-center p-8",children:[e.jsx("div",{className:"absolute top-2 right-2 flex space-x-2",children:e.jsx(f,{icon:e.jsx(K,{}),type:"rounded",onClick:l(t-1)})}),e.jsx("div",{className:"text-fBlue text-4xl font-thin my-6 text-center",children:"Registration Successfully Completed"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-black font-bold text-lg mb-1",children:"To Activate The Chat Window"}),e.jsxs("p",{className:"text-sm",children:["Copy And Paste The Produced Chat Code Into Your Website's HTML File, Just Above The Closing ",e.jsx("b",{children:"</body>"})," Tag."]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("input",{readOnly:!0,value:n,className:"w-full max-w-xl h-12 shadow-md rounded bg-white px-3 cursor-pointer outline-none border border-gray-200 text-gray-700 text-base",onFocus:c=>c.target.select()}),e.jsx("button",{className:"bg-[#2ED47A] rounded-full w-16 h-16 flex items-center justify-center shadow-md hover:bg-[#24b865] transition",onClick:i,title:"Copy to clipboard",type:"button",children:e.jsx(ce,{className:"w-10 h-10"})})]})]})})}function me({activeIndex:t,onNavigate:l}){const[n,i]=ee(),[c,x]=r.useState(10),[s,a]=r.useState(1),[u,o]=r.useState(""),m=[10,15,20,25],d=(n||[]).filter(g=>{var C;return!u||((C=g.question)==null?void 0:C.toLowerCase().includes(u.toLowerCase()))}),h=Math.ceil(d.length/c),p=(s-1)*c,b=p+c,T=d.slice(p,b),R=()=>N(),F=()=>y(e.jsx(A,{onDone:R}),{showCloseButton:!0,width:"700px"});r.useEffect(()=>{s>h&&a(1)},[d.length,h,s]);const I=g=>{const C=typeof g=="string"?parseInt(g,10):g;typeof C=="number"&&!isNaN(C)&&(x(C),a(1))},H=g=>{g<1||g>h||a(g)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:w("w-full border border-mildGreyBGAlt rounded max-h-screen bg-white",{"opacity-50":i}),children:[e.jsxs("div",{className:"w-full flex justify-between items-center py-3 px-4 flex",children:[e.jsx("span",{className:"text-left font-bold text-lg text-hBlack",children:"Chat Bot Knowledge"}),e.jsxs("div",{className:"my-auto flex gap-4",children:[e.jsx(M,{placeholder:"Search",wrapperClassName:"h-9",className:"py-5",iconRight:J,value:u,onChange:g=>o(g)}),e.jsx(f,{icon:e.jsx(X,{}),size:"md",onClick:F})]})]}),T.map((g,C)=>e.jsx(xe,{doc:g,index:p+C},g._id)),e.jsx("div",{className:"w-full flex flex-row px-4 py-3 gap-8 border-y-gray-100 bg-white",children:e.jsx(ue,{count:c,counts:m,currentPage:s,totalPages:h,onChangeCount:I,goToPage:H})})]}),e.jsx("div",{className:"flex mt-6 justify-end",children:e.jsx(f,{label:"GENERATE",onClick:()=>l(t+1)})})]})}function xe({doc:t,index:l}){const n=()=>{y(e.jsx(A,{onDone:N,initial:{question:t.question||"",content:t.content||""}}),{showCloseButton:!0,width:"700px"})},i=async c=>{console.log("Deleting document with ID:",c),await te(c)};return e.jsxs("div",{className:w("w-full flex flex-row px-4 py-3 gap-8 border-y-gray-100",{"bg-white":l%2!==0,"bg-[#f7f7f7]":l%2===0}),children:[e.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[!!t.question&&e.jsx("span",{className:"font-normal text-md",children:t.question}),e.jsx("div",{className:"text-xs overflow-hidden line-clamp-3",children:t.content}),!!t.sourceDocument&&e.jsxs("span",{className:"text-[8px]",children:[e.jsx("strong",{className:"me-1",children:"Source Document:"}),e.jsx("a",{href:t.sourceDocument,target:"_blank",children:t.sourceDocument})]})]}),e.jsxs("div",{className:"flex flex-row my-auto w-[130px]",children:[e.jsx(f,{icon:e.jsx(q,{height:24,width:24}),type:"plain",className:"me-8",onClick:()=>i(t._id)}),e.jsx(f,{icon:e.jsx(P,{height:24,width:24}),type:"plain",className:"me-8",onClick:n})]})]})}const ue=({count:t,counts:l,currentPage:n,totalPages:i,onChangeCount:c,goToPage:x})=>{const s=l.map(a=>({label:a,value:a}));return e.jsxs("div",{className:"w-full p-4 rounded-lg shadow-lg flex items-center justify-between px-4 py-2 border",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Rows per page"}),e.jsx(Q,{className:"border border-gray-300 rounded px-2 py-1",value:t,options:s,showClear:!1,onChange:a=>c(a)})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>x(1),disabled:n===1,children:"«"}),e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>x(n-1),disabled:n===1,children:"‹"}),e.jsxs("span",{className:"px-2 text-sm font-medium",children:[n," of ",i||1]}),e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>x(n+1),disabled:n>=i||!i,children:"›"}),e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>x(i),disabled:n>=i||!i,children:"»"})]})]})};function he({onClose:t}){const[l,n]=r.useState(["","","","","","","","","",""]),[i,c]=r.useState(""),x=r.useRef(Array(l.length).fill(null));r.useEffect(()=>{x.current[0]&&x.current[0].focus()},[]);const s=(o,m)=>{var h;if(!/^\d*$/.test(m)||m.length>1)return;const d=[...l];d[o]=m,n(d),c(""),m&&o<l.length-1&&((h=x.current[o+1])==null||h.focus())},a=(o,m)=>{var d;if(m.key==="Backspace"&&l[o]===""&&o>0){(d=x.current[o-1])==null||d.focus();const h=[...l];h[o-1]="",n(h),m.preventDefault()}},u=()=>{const o=l.join("");if(o.length<10){c("Please enter a valid 10-digit mobile number.");return}console.log("Entered number:",o),c(""),t()};return e.jsxs("div",{className:"bg-white w-auto text-center  py-4",children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Kindly Help Us To Verify Your Mobile No ",e.jsx("br",{})," Before Generating Code."]}),e.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[e.jsxs("div",{className:"flex items-center border px-2 py-2 rounded-md",children:[e.jsx("span",{className:"mr-2",children:"🇮🇳"}),e.jsx("select",{className:"border-none focus:outline-none",children:e.jsx("option",{value:"+91",children:"+91"})})]}),l.map((o,m)=>e.jsx("input",{type:"text",maxLength:1,value:o,ref:d=>{x.current[m]=d},onChange:d=>s(m,d.target.value),onKeyDown:d=>a(m,d),className:"w-10 h-10 text-center border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",inputMode:"numeric",pattern:"[0-9]*"},m))]}),i&&e.jsx("div",{className:"text-red-500 text-sm mt-2",children:i}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(f,{icon:e.jsx(ae,{}),size:"lg",type:"rounded",className:"bg-green-400 hover:bg-green-500 text-white p-4",onClick:u})})]})}function ge({activeIndex:t,onNavigate:l}){const[n]=r.useState(!1);return r.useEffect(()=>{n||y(e.jsx(he,{onClose:()=>N()}),{showCloseButton:!0,width:"700px"})},[n]),e.jsx("div",{className:"mt-10",children:e.jsx(me,{activeIndex:t,onNavigate:l})})}const pe=t=>r.createElement("svg",{width:27,height:24,viewBox:"0 0 27 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8921 7.00306V15.4789H22.582C25.0193 15.4789 27 13.3967 27 10.8435C27 9.41924 26.3874 8.09586 25.3195 7.21232C24.248 6.32636 22.8715 6.00484 21.5437 6.33383C21.4102 6.36622 21.2768 6.27775 21.2481 6.13694C20.533 2.58072 17.4867 0 14.0054 0C10.8743 0 8.07002 2.07226 7.02592 5.15633C6.98183 5.28967 6.84 5.35945 6.71248 5.31209C3.44442 4.08844 0 6.61674 0 10.2403C0 13.1276 2.23352 15.479 5.01178 15.479H11.1079V7.00312C11.1079 6.86231 11.2176 6.74767 11.3523 6.74767H15.6476C15.7823 6.74767 15.8921 6.86225 15.8921 7.00306ZM15.4034 17.6685C15.4034 17.8093 15.513 17.924 15.6477 17.924H18.3794L13.5001 24L8.6207 17.924H11.3524C11.4871 17.924 11.5967 17.8093 11.5967 17.6685V7.25858H15.4036L15.4034 17.6685Z",fill:"#8B959A"}));async function fe(t){const{organizationId:l}=B.getState(),{selectedBotId:n}=Z.getState(),i=new FormData;if(i.append("file",t),!(!l||!n))try{const c=await k(`/bot/${l}/${n}/add-training-media`,i);O(n,{trainingMedia:c.trainingMedia}),await Ce(n,l)}catch{throw new Error("File upload failed. Please try again.")}}async function Ce(t,l){const n=await k(`/bot/${l}/${t}/knowledge-base/train`,{});return B.setState(i=>{const c={...i.kbDocs||{}};return delete c[t],{kbDocs:c}}),se().catch(i=>console.error("Error fetching Knowledge base content:",i)),n}function be({activeIndex:t,onNavigate:l}){const[,n]=E(),i=n==null?void 0:n.trainingMedia,[c,x]=r.useState(null),[s,a]=r.useState(null),[u,o]=r.useState(!1),m=h=>{a(null),h.target.files&&h.target.files.length>0&&x(h.target.files[0])},d=async h=>{if(a(null),o(!0),!h){a("No file selected. Please select a file to upload."),o(!1);return}try{i.some(b=>b.originalName===h.name)?a("The file already uploaded! Please select another file."):(await fe(h),l(t+1))}catch(p){a((p==null?void 0:p.message)||"Error uploading the document."),l(t)}finally{o(!1)}};return e.jsxs("div",{className:"mt-8 max-w-lg mx-auto py-10 space-y-3",children:[e.jsx(M,{wrapperClassName:"border-black h-9",label:"Webpage Url",placeholder:"Train Your Bot Using Website Scraping"}),e.jsx("div",{className:"text-center text-sm",children:"or"}),e.jsx(we,{placeholder:"Train Your Bot Using Files (.csv, .pdf, .docx, .txt)",onFileChange:m}),e.jsxs("div",{className:"flex justify-between items-center text-xs mt-1",children:[c&&e.jsx("span",{className:"text-left text-gray-700",children:c.name}),e.jsx("span",{className:"text-end",children:"Maximum Size: 30MB"})]}),s&&e.jsx("div",{className:"text-xs text-center text-red-500 mt-1",children:s}),e.jsxs("div",{className:"flex flex-row justify-between items-center border border-dotted border-mildBlueAlt py-2 bg-gray-100 rounded-lg w-full h-12",children:[e.jsx("span",{className:"text-black text-xs ml-2",children:" You can download the attached example file to scrape your own file "}),e.jsx(f,{icon:e.jsx(pe,{}),type:"plain",className:"mr-2"})]}),e.jsx("div",{className:"flex mt-12 justify-end",children:e.jsx(f,{label:u?"Uploading...":"NEXT",onClick:()=>d(c),disabled:u})})]})}function we({placeholder:t,onFileChange:l}){const n=r.useRef(null),i=()=>{var c;return(c=n.current)==null?void 0:c.click()};return e.jsxs("div",{className:"border border-dotted border-mildBlueAlt rounded-lg py-2 sm:py-4 bg-mildBlueBG w-full min-h-[80px] flex flex-col items-center justify-center text-center space-y-2 sm:space-y-3",children:[e.jsx("span",{className:"text-pBlack text-sm sm:text-base",children:t}),e.jsx(f,{label:"Select File",type:"secondary",size:"sm",className:"mx-auto block",onClick:i}),e.jsx("input",{type:"file",ref:n,style:{display:"none"},onChange:l,accept:".csv,.txt,.docx,.doc,.pdf,text/plain"})]})}const je=t=>r.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M6.89468 6.20212C6.52917 5.76309 6.06874 5.53811 5.51535 5.42991C5.09131 5.34788 4.84171 4.90846 4.99361 4.50731C5.33063 3.61909 5.04938 2.67734 4.27724 2.10828C3.51143 1.54387 2.52526 1.54543 1.76497 2.11179C-0.0241743 3.4449 -0.547915 5.92013 0.63364 7.86689C1.7515 9.70936 3.97932 10.414 5.8915 9.76166C7.52125 9.20623 7.81829 7.31144 6.89468 6.20212ZM2.20167 7.57543C1.71948 7.4559 1.42557 6.97156 1.54622 6.4954C1.66765 6.01771 2.15934 5.72943 2.63998 5.84818C3.12217 5.9677 3.41608 6.45204 3.29543 6.9282C3.17439 7.40434 2.68388 7.69456 2.20167 7.57543ZM3.1269 3.01364C3.60948 3.13317 3.90339 3.61633 3.78196 4.09367C3.66091 4.56981 3.17041 4.86003 2.6882 4.74089C2.20561 4.62098 1.9117 4.13899 2.03314 3.66087C2.15299 3.18668 2.63836 2.89412 3.1269 3.01364ZM5.20201 8.63945C4.61816 8.63945 4.1842 8.09691 4.32742 7.53253C4.43184 7.12084 4.80526 6.85836 5.20043 6.85836C5.70754 6.85836 6.1039 7.26536 6.1039 7.74735C6.1039 8.24341 5.69567 8.63945 5.20201 8.63945ZM9.86575 7.22235L7.87175 2.76326C7.95363 2.65507 8.02128 2.53476 8.07191 2.40548C8.28077 1.8727 7.88006 1.31175 7.30847 1.28796C6.8508 1.26882 6.47343 0.946959 6.12063 0.274726C5.91138 -0.124076 5.32001 -0.0787693 5.17839 0.346205C4.96084 0.997329 5.05418 1.97029 5.27808 2.47026C5.47111 2.90148 5.84651 3.19794 6.2753 3.31004L8.3251 7.89412C8.91488 9.21393 10.4616 8.55345 9.86584 7.22229L9.86575 7.22235ZM5.54935 2.35239C5.35196 1.9114 5.26691 1.01698 5.45995 0.438425C5.51968 0.259137 5.76889 0.243128 5.8571 0.410302C6.17316 1.01221 6.61262 1.55242 7.29577 1.58092C7.66601 1.59654 7.92946 1.95589 7.79497 2.30001C7.40613 3.29213 5.9861 3.32968 5.54935 2.35239Z",fill:"#107DA6"})),ve=t=>r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M13 17L18 12L13 6.99998M6 17L11 12L6 6.99998",stroke:"#0074A0",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),ye=t=>r.createElement("svg",{width:11,height:9,viewBox:"0 0 11 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M9.83366 1.24998L3.87533 7.20832L1.16699 4.49998",stroke:"#0074A0",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Ne=t=>r.createElement("svg",{width:13,height:10,viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M6.5 0C7.46715 0 8.43578 0.367478 9.17369 1.10538C9.79996 1.73165 10.1607 2.52338 10.2555 3.33975C11.7954 3.47956 13 4.77248 13 6.34884C13 8.01852 11.6464 9.37209 9.97674 9.37209H2.56977C1.14612 9.37209 0 8.22598 0 6.80233C0 5.37867 1.14612 4.23256 2.56977 4.23256H2.74927C2.61607 3.12085 2.97789 1.95851 3.83104 1.10538C4.56891 0.367478 5.53285 0 6.5 0ZM6.5 3.17442C6.41976 3.17412 6.36342 3.18919 6.29687 3.25L4.63408 4.76163C4.51579 4.86777 4.49405 5.0749 4.61047 5.19149C4.72275 5.30397 4.92298 5.31753 5.04034 5.21038L6.19767 4.15698V7.40698C6.19767 7.57395 6.333 7.7093 6.5 7.7093C6.667 7.7093 6.80233 7.57395 6.80233 7.40698V4.15698L7.95966 5.21038C8.07702 5.31753 8.28286 5.30929 8.38953 5.19149C8.49619 5.07367 8.49016 4.86977 8.36592 4.76163L6.70313 3.25C6.65993 3.21043 6.58086 3.17593 6.5 3.17442Z",fill:"#107DA6"}));function Se({steps:t,activeIndex:l,completedStep:n,className:i,style:c,onChange:x}){return e.jsx("div",{className:w("w-full",i),style:c,children:e.jsx("div",{className:"flex flex-row flex-wrap justify-center items-center gap-2 sm:gap-4",children:t.map((s,a)=>{const u=a===l,o=a<n,m=w("flex items-center justify-center rounded-full border transition-colors duration-200",{"border-primary bg-primary/10 text-primary":u||o,"border-gray-300 bg-white text-gray-500":!u&&!o}),d=a===0?Ne:a===1?je:ye;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:a<=n?()=>x(a):void 0,type:"button",className:w("flex items-center px-2 py-1 sm:px-4 sm:py-2 m-2 sm:m-4 text-xs sm:text-base",m),children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-6 h-6 sm:w-8 sm:h-8 p-1 sm:p-2 border rounded-full"}),e.jsx("span",{className:"truncate max-w-[60px] sm:max-w-none",children:s})]})}),a!==t.length-1&&e.jsx(ve,{className:"w-5 h-5 sm:w-7 sm:h-7 text-gray-400"})]},a)})})})}function qe(){const[t,l]=r.useState(0),[n,i]=r.useState(0),c=x=>{l(x),n<x&&i(x)};return e.jsxs("div",{className:"bot-setup",children:[e.jsx(Se,{className:"my-[20px]",steps:ie,activeIndex:t,completedStep:n,onChange:l}),!t&&e.jsx(be,{activeIndex:t,onNavigate:c}),t===1&&e.jsx(ne,{activeIndex:t,onNavigate:c}),t===2&&e.jsx(ge,{activeIndex:t,onNavigate:c}),t===3&&e.jsx(de,{activeIndex:t,onNavigate:c})]})}export{qe as default};
