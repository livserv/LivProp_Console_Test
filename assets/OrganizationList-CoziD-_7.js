import{r as j,R as r,b as N,j as e}from"./index-CCQKC7kY.js";import{c as o}from"./Button-DesRcnRR.js";import{S}from"./settings-BIkZ5jFj.js";import{a as C,f as y,i as L}from"./utils-BxUv4Y9r.js";/* empty css                */import{T as B}from"./Table--v9NjmPz.js";import{B as f}from"./Button-Bb0NqqiR.js";import"./index-Cr1SGxRI.js";import{S as u}from"./SelectButton-Dtbbhl4S.js";import{T as z}from"./TextBox-CMb0MYZx.js";import{T as R}from"./Toggle-BCrlh2uH.js";import{P as U}from"./PageHeader-FZNED4WU.js";import{S as O}from"./download-D8RGvfqb.js";import{S as T}from"./search-CyFVjbX1.js";import"./SelectBox-DfR1pBT0.js";import"./LabelWrapper-DRfKGVWW.js";const g=[{value:0,label:"Organization List"},{value:1,label:"Organization Invoice"}],k=[{value:"today",label:"Today"},{value:"week",label:"Week"},{value:"month",label:"Month"},{value:"custom",label:"Custom"}],A=[{field:"name",title:"Name",sortable:!0},{field:"websiteUrl",title:"Website",cellClassName:o("max-w-[250px]"),hideBelow:"lg",template:a=>!!a.websiteUrl&&e.jsx("a",{href:a.websiteUrl,target:"_blank",title:a.websiteUrl,rel:"noreferrer noopener",children:L(a.websiteUrl)})},{field:"email",title:"Email",cellClassName:o("max-w-[250px]"),hideBelow:"sm"},{field:"registeredAt",title:"Registered Date",hideBelow:"xl",sortable:!0},{field:"credits",title:"Credits",hideBelow:"lg",sortable:!0},{field:"managed",title:"Managed",cellClassName:o("text-center"),hideBelow:"md",template:a=>e.jsx(R,{checked:a.handledByLivServ,containerClassName:"mx-auto"})},{field:"",title:"",cellClassName:o("text-center"),template:()=>e.jsx(f,{icon:e.jsx(S,{}),type:"plain"})}];function Y(){const[a,h]=j.useState(""),[s,b]=r.useState(g[0]),[v,w]=r.useState(),d=N(t=>t.organizationList),n=r.useMemo(()=>d.map(t=>({name:t.organizationName,websiteUrl:t.websiteUrl,email:t.admins.map(l=>l.email).join(", "),registeredAt:y(t.registeredAt),credits:C(t.availableCredits),managed:t.handledByLivServ})),[d]),i=r.useMemo(()=>{var l;const t=(l=a==null?void 0:a.toLowerCase())==null?void 0:l.trim();return t?n.filter(m=>{var c,p,x;return((c=m.name)==null?void 0:c.toLowerCase().includes(t))||((p=m.email)==null?void 0:p.toLowerCase().includes(t))||((x=m.websiteUrl)==null?void 0:x.toLowerCase().includes(t))}):n},[a,n]);return e.jsxs("div",{children:[e.jsx(U,{title:"Organizations"}),e.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[e.jsxs("div",{className:"flex justify-between py-4",children:[e.jsxs("div",{className:"pt-2",children:[!(s!=null&&s.value)&&e.jsx("span",{className:"text-sm font-semibold",children:"Organization List"}),!!(s!=null&&s.value)&&e.jsx("span",{className:"text-sm font-semibold",children:"Organization Invoice"}),e.jsx(u,{value:s,onChange:b,items:g,iconOnly:!0,className:"bg-primary pt-0 ps-0 pb-0 pr-0 text-white ms-2 align-middle"})]}),e.jsxs("div",{className:"flex",children:[e.jsx(z,{value:a,placeholder:"Search",onChange:h,iconRight:T,className:"py-5"}),e.jsx(f,{icon:e.jsx(O,{}),size:"sm",type:"secondary",className:"mr-2 align-middle"}),e.jsx(u,{value:v,items:k,prefix:"Group by:",onChange:w,className:"bg-[#323131] text-white align-middle"})]})]}),e.jsx(B,{rows:i,columns:A,totalRows:i==null?void 0:i.length,pagination:!0})]})]})}export{Y as default};
