import{j as e,r as b}from"./index-NAnt_Oc8.js";import{c as v}from"./ajax-SRoHVB_J.js";import{S as R}from"./TextBox-Dmnm1mCI.js";const D=({columns:n,rows:i,noRowsMessage:t})=>e.jsx("tbody",{children:i.length===0?e.jsx("tr",{className:"border-b border-gray-200",children:e.jsx("td",{className:"px-4 py-2 text-center",colSpan:n.length,children:t||"No records found."})}):i.map((d,l)=>e.jsx("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:n.map((r,a)=>{const s=r.template?r.template(d):d[r.field],o=typeof s=="string"||typeof s=="number"?s:"";return e.jsx("td",{className:v("text-sm px-4 py-2 truncate text-ellipsis",{hidden:!!r.hideBelow,"xs:table-cell":r.hideBelow==="xs","sm:table-cell":r.hideBelow==="sm","md:table-cell":r.hideBelow==="md","mlg:table-cell":r.hideBelow==="mlg","lg:table-cell":r.hideBelow==="lg","xl:table-cell":r.hideBelow==="xl","2xl:table-cell":r.hideBelow==="2xl"},r.cellClassName),title:o.toString(),children:s},a)})},l))});function M({columns:n,rowsCount:i,pageIndex:t,totalPages:d,rowsCounts:l,onChangeCount:r,onNavigate:a,totalRows:s}){const o=l.map(u=>({label:u,value:u})),x=(t-1)*i+1,f=Math.min(t*i,s);return e.jsx("tfoot",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:n.length,children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 min-w-max",children:"Rows per page"}),e.jsx(R,{className:"border border-gray-300 rounded px-2 py-1",value:i,options:o,showClear:!1,onChange:r})]}),e.jsxs("span",{className:"text-sm font-medium",children:[x,"–",f," of ",s]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>a(1),disabled:t===1,children:"«"}),e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>a(t-1),disabled:t===1,children:"‹"}),e.jsxs("span",{className:"px-2 text-sm font-medium",children:[t," of ",d||1]}),e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>a(t+1),disabled:t>=d||!d,children:"›"}),e.jsx("button",{className:"font-bold text-2xl disabled:text-[#695A5A]",onClick:()=>a(d),disabled:t>=d||!d,children:"»"})]})]})})})})}const I=({columns:n,sortColumn:i,sortAsc:t,onSort:d})=>e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-gray-200",children:n.map((l,r)=>{const a=l.sortable&&(i==null?void 0:i.field)===l.field;return e.jsxs("th",{className:v("px-4 py-2 font-medium cursor-pointer select-none text-left",{hidden:!!l.hideBelow,"xs:table-cell":l.hideBelow==="xs","sm:table-cell":l.hideBelow==="sm","md:table-cell":l.hideBelow==="md","mlg:table-cell":l.hideBelow==="mlg","lg:table-cell":l.hideBelow==="lg","xl:table-cell":l.hideBelow==="xl","2xl:table-cell":l.hideBelow==="2xl","flex items-start":a},l.headerClassName),onClick:()=>d(l),children:[l.title,a&&e.jsx("span",{className:"ml-1",children:t?"↑":"↓"})]},r)})})});function L(n,i,t=!0,d){return b.useMemo(()=>!d||!i||!(n!=null&&n.length)?n:[...n].sort((l,r)=>{const a=l[i],s=r[i];if(N(a)&&N(s))return 0;if(N(a))return t?-1:1;if(N(s))return t?1:-1;let o=0;if(typeof a=="number"&&typeof s=="number")o=a-s;else if(a instanceof Date&&s instanceof Date)o=a.getTime()-s.getTime();else{const x=String(a).toLowerCase(),f=String(s).toLowerCase();x<f?o=-1:x>f?o=1:o=0}return t?o:-o}),[n,i,t,d])}function N(n){return n==null}const F=[10,20,25,50,75,100];function q({columns:n,rows:i,totalRows:t,page:d,sortColumn:l,sortAsc:r,onSort:a,onChange:s,noRowsMessage:o,rowsPerPage:x,rowCounts:f=F,pagination:u}){const[m,w]=b.useState(l),[h,A]=b.useState(r??!0),[y,B]=b.useState(d||1),[p,S]=b.useState(x??f[0]);b.useEffect(()=>{d!==void 0&&B(d)},[d]),b.useEffect(()=>{x!==void 0&&S(x)},[x]);const C=Math.ceil(t/p),g=L(i,m==null?void 0:m.field,h,t===(i==null?void 0:i.length)),T=c=>{if(!c.sortable)return;let j=!0;m&&m.field===c.field&&(j=!h),w(c),A(j),a&&a(c,j),s&&s({sortColumn:c,sortAsc:j,count:p,pageNumber:y})},k=c=>{S(c),B(1),s&&s({sortColumn:m||void 0,sortAsc:h,count:c,pageNumber:1})},E=c=>{c<1||c>C||(B(c),s&&s({sortColumn:m||void 0,sortAsc:h,count:p,pageNumber:c}))};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[e.jsx(I,{columns:n,sortColumn:m,sortAsc:h,onSort:T}),e.jsx(D,{columns:n,rows:g,noRowsMessage:o}),u!==!1&&e.jsx(M,{columns:n,pageIndex:y,rowsCount:p,rowsCounts:f,totalPages:C,onChangeCount:k,onNavigate:E,totalRows:t})]})})}export{q as T};
