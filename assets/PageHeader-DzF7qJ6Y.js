import{d as w,b as S,u as P,a as R,R as p,j as e,c as u,r as N}from"./index-B6XUfh06.js";import"./ajax-BG6yagJp.js";import{S as L,T as y}from"./TextBox-CG_4tkVA.js";import{s as C,c as k}from"./organization-C4BlQy8U.js";import{u as z}from"./useSelectedBot-BbpacNjs.js";function I(){const n=w(r=>r.botsList),{pathname:c}=S(),s=P(),{botId:a}=R(),[o]=z(),i=p.useRef({});i.current.botId=o,i.current.pathname=c,p.useEffect(()=>{const r=n.find(d=>d._id===a)||[];a&&a!==i.current.botId&&(w.setState({selectedBotId:a,selectedBot:r}),C(a))},[a,o,n]);const h=(n||[]).map(r=>({label:r.botName,value:r._id})),m=p.useCallback(r=>{const d=r&&typeof r=="object"&&"value"in r?r.value:r;if(!d||typeof d!="string")return;const{pathname:x,botId:t}=i.current;if(x&&t&&x.includes(t)){const l=x.replace(t,d);s(l)}C(d)},[s]);return e.jsx("div",{style:{width:"100%",marginLeft:0},children:e.jsx("div",{className:"flex items-center",children:e.jsx(L,{options:h,value:o,onChange:m,showClear:!1,placeholder:"Select Bot",className:"border border-gray-300 rounded px-2 py-2"})})})}function B(){const n=u(t=>t.isSuperUser),c=u(t=>t.organizationId),s=u(t=>t.organizationList),a=p.useRef({}),{pathname:o}=S(),i=P(),{botId:h}=R();a.current.navigate=i,a.current.pathname=o,a.current.botId=h;const m=p.useMemo(()=>s==null?void 0:s.filter(t=>t._id===c)[0],[c,s]),r=n&&(s==null?void 0:s.length)>0,d=p.useCallback(async t=>{const l=t&&typeof t=="object"&&"value"in t?t.value:t;if(!l||typeof l!="string")return;const f=s.find(E=>E._id===l);if(!f)return;u.setState({organization:f,organizationId:l,selectedBotId:void 0}),sessionStorage.setItem("orgId",l);const b=await k(l),{botId:g,pathname:j,navigate:v}=a.current;b?g&&j&&v(j.replace(g,b)):v("/")},[s]),x=(s||[]).map(t=>({label:t.organizationName,value:t._id}));return r?e.jsx(L,{options:x,value:m==null?void 0:m._id,onChange:d,showClear:!1,placeholder:"Select organization",className:"w-full border border-gray-300 rounded px-2 py-2"}):null}const _=n=>N.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"#A5A8A9",xmlns:"http://www.w3.org/2000/svg",...n},N.createElement("path",{d:"M16.6 18L10.3 11.7C9.8 12.1 9.225 12.4167 8.575 12.65C7.925 12.8833 7.23333 13 6.5 13C4.68333 13 3.14583 12.3708 1.8875 11.1125C0.629167 9.85417 0 8.31667 0 6.5C0 4.68333 0.629167 3.14583 1.8875 1.8875C3.14583 0.629167 4.68333 0 6.5 0C8.31667 0 9.85417 0.629167 11.1125 1.8875C12.3708 3.14583 13 4.68333 13 6.5C13 7.23333 12.8833 7.925 12.65 8.575C12.4167 9.225 12.1 9.8 11.7 10.3L18 16.6L16.6 18ZM6.5 11C7.75 11 8.8125 10.5625 9.6875 9.6875C10.5625 8.8125 11 7.75 11 6.5C11 5.25 10.5625 4.1875 9.6875 3.3125C8.8125 2.4375 7.75 2 6.5 2C5.25 2 4.1875 2.4375 3.3125 3.3125C2.4375 4.1875 2 5.25 2 6.5C2 7.75 2.4375 8.8125 3.3125 9.6875C4.1875 10.5625 5.25 11 6.5 11Z",fill:"inherit"}));function U({title:n,icon:c,onClick:s,search:a,onSearchChange:o}){return e.jsxs("div",{className:"w-full rounded-md bg-white shadow-[0px_1px_4px_0px_#5653534D]",children:[e.jsxs("div",{className:"hidden md:flex justify-between items-center h-[50px]",children:[e.jsx("span",{className:"text-primary uppercase font-bold text-md ps-4 py-3",children:n}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mx-4",children:e.jsx(B,{})}),e.jsx("div",{className:"mx-4",children:e.jsx(I,{})}),a&&e.jsx("div",{className:"mx-4",children:e.jsx(y,{placeholder:"Search",wrapperClassName:"h-9",className:"py-5",iconRight:_,onChange:i=>o==null?void 0:o(i.target.value)})})]}),!!c&&e.jsx("button",{onClick:s,className:"btn bg-primary h-full w-[50px] rounded-r-[4px] hover:opacity-80",children:e.jsx(c,{className:"m-auto"})})]}),e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex justify-between items-center h-[50px] border-b border-gray-100",children:[e.jsx("span",{className:"text-primary uppercase font-bold text-sm ps-4 flex-1",children:n}),!!c&&e.jsx("button",{onClick:s,className:"btn bg-primary h-full w-[50px] rounded-tr-[4px] hover:opacity-80",children:e.jsx(c,{className:"m-auto"})})]}),e.jsxs("div",{className:"px-4 py-3 space-y-2",children:[e.jsx(B,{}),e.jsx(I,{}),a&&e.jsx(y,{placeholder:"Search",wrapperClassName:"h-9",className:"py-5",iconRight:_,onChange:i=>o==null?void 0:o(i.target.value)})]})]})]})}export{U as P,_ as S};
