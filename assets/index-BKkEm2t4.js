import{r as b,R as N}from"./index-BjvzJHBQ.js";var T=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],Q="react-international-phone-",W=(...t)=>t.filter(e=>!!e).join(" ").trim(),X=(...t)=>W(...t).split(" ").map(e=>`${Q}${e}`).join(" "),E=({addPrefix:t,rawClassNames:e})=>W(X(...t),...e),Y=({value:t,mask:e,maskSymbol:i,offset:o=0,trimNonMaskCharsLeftover:a=!1})=>{if(t.length<o)return t;let n=t.slice(0,o),f=t.slice(o),u=n,r=0;for(let s of e.split("")){if(r>=f.length){if(!a&&s!==i){u+=s;continue}break}s===i?(u+=f[r],r+=1):u+=s}return u},j=t=>t?/^\d+$/.test(t):!1,O=t=>t.replace(/\D/g,""),ee=(t,e)=>{let i=t.style.display;i!=="block"&&(t.style.display="block");let o=t.getBoundingClientRect(),a=e.getBoundingClientRect(),n=a.top-o.top,f=o.bottom-a.bottom;n>=0&&f>=0||(Math.abs(n)<Math.abs(f)?t.scrollTop+=n:t.scrollTop-=f),t.style.display=i},te=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),ae=(t,e)=>{let i=e.disableDialCodeAndPrefix?!1:e.forceDialCode,o=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=t,n=s=>e.trimNonDigitsEnd?s.trim():s;if(!a)return o&&!a.length||i?n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):n(a);if(a=O(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return n(i?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(i)return n(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return n(`${e.prefix}${a}`)}let f=()=>{let s=e.dialCode.length,l=a.slice(0,s),m=a.slice(s);return{phoneLeftSide:l,phoneRightSide:m}},{phoneLeftSide:u,phoneRightSide:r}=f();return u=`${e.prefix}${u}${e.charAfterDialCode}`,r=Y({value:r,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&r.length===0}),e.disableDialCodeAndPrefix&&(u=""),n(`${u}${r}`)},re=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:i,cursorPositionAfterInput:o,leftOffset:a=0,deletion:n})=>{if(o<a)return a;if(!t)return i.length;let f=null;for(let l=o-1;l>=0;l-=1)if(j(e[l])){f=l;break}if(f===null){for(let l=0;l<e.length;l+=1)if(j(i[l]))return l;return e.length}let u=0;for(let l=0;l<f;l+=1)j(e[l])&&(u+=1);let r=0,s=0;for(let l=0;l<i.length&&(r+=1,j(i[l])&&(s+=1),!(s>=u+1));l+=1);if(n!=="backward")for(;!j(i[r])&&r<i.length;)r+=1;return r},K=({phone:t,prefix:e})=>t?`${e}${O(t)}`:"";function q({value:t,country:e,insertDialCodeOnEmpty:i,trimNonDigitsEnd:o,countries:a,prefix:n,charAfterDialCode:f,forceDialCode:u,disableDialCodeAndPrefix:r,defaultMask:s,countryGuessingEnabled:l,disableFormatting:m}){let d=t;r&&(d=d.startsWith(`${n}`)?d:`${n}${e.dialCode}${d}`);let p=l?pe({phone:d,countries:a,currentCountryIso2:e==null?void 0:e.iso2}):void 0,D=(p==null?void 0:p.country)??e,h=ae(d,{prefix:n,mask:ce({phone:d,country:D,defaultMask:s,disableFormatting:m}),maskChar:H,dialCode:D.dialCode,trimNonDigitsEnd:o,charAfterDialCode:f,forceDialCode:u,insertDialCodeOnEmpty:i,disableDialCodeAndPrefix:r}),g=l&&!(p!=null&&p.fullDialCodeMatch)?e:D;return{phone:K({phone:r?`${g.dialCode}${h}`:h,prefix:n}),inputValue:h,country:g}}var ne=t=>{if((t==null?void 0:t.toLocaleLowerCase().includes("delete"))??!1)return t!=null&&t.toLocaleLowerCase().includes("forward")?"forward":"backward"},ie=(t,{country:e,insertDialCodeOnEmpty:i,phoneBeforeInput:o,prefix:a,charAfterDialCode:n,forceDialCode:f,disableDialCodeAndPrefix:u,countryGuessingEnabled:r,defaultMask:s,disableFormatting:l,countries:m})=>{let d=t.nativeEvent,p=d.inputType,D=ne(p),h=!!(p!=null&&p.startsWith("insertFrom")),g=p==="insertText",S=(d==null?void 0:d.data)||void 0,v=t.target.value,$=t.target.selectionStart??0;if(p!=null&&p.includes("history"))return{inputValue:o,phone:K({phone:o,prefix:a}),cursorPosition:o.length,country:e};if(g&&!j(S)&&v!==a)return{inputValue:o,phone:K({phone:u?`${e.dialCode}${o}`:o,prefix:a}),cursorPosition:$-((S==null?void 0:S.length)??0),country:e};if(f&&!v.startsWith(`${a}${e.dialCode}`)&&!h){let y=v?o:`${a}${e.dialCode}${n}`;return{inputValue:y,phone:K({phone:y,prefix:a}),cursorPosition:a.length+e.dialCode.length+n.length,country:e}}let{phone:_,inputValue:L,country:c}=q({value:v,country:e,trimNonDigitsEnd:D==="backward",insertDialCodeOnEmpty:i,countryGuessingEnabled:r,countries:m,prefix:a,charAfterDialCode:n,forceDialCode:f,disableDialCodeAndPrefix:u,disableFormatting:l,defaultMask:s}),C=re({cursorPositionAfterInput:$,phoneBeforeInput:o,phoneAfterInput:v,phoneAfterFormatted:L,leftOffset:f?a.length+e.dialCode.length+n.length:0,deletion:D});return{phone:_,inputValue:L,cursorPosition:C,country:c}},le=(t,e)=>{let i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(let a of i)if(t[a]!==e[a])return!1;return!0},oe=()=>{let t=b.useRef(),e=b.useRef(Date.now());return{check:()=>{let i=Date.now(),o=t.current?i-e.current:void 0;return t.current=e.current,e.current=i,o}}},se={size:20,overrideLastItemDebounceMS:-1};function ue(t,e){let{size:i,overrideLastItemDebounceMS:o,onChange:a}={...se,...e},[n,f]=b.useState(t),[u,r]=b.useState([n]),[s,l]=b.useState(0),m=oe();return[n,(d,p)=>{if(typeof d=="object"&&typeof n=="object"&&le(d,n)||d===n)return;let D=o>0,h=m.check(),g=D&&h!==void 0?h>o:!0;if((p==null?void 0:p.overrideLastItem)!==void 0?p.overrideLastItem:!g)r(S=>[...S.slice(0,s),d]);else{let S=u.length>=i;r(v=>[...v.slice(S?1:0,s+1),d]),S||l(v=>v+1)}f(d),a==null||a(d)},()=>{if(s<=0)return{success:!1};let d=u[s-1];return f(d),l(p=>p-1),a==null||a(d),{success:!0,value:d}},()=>{if(s+1>=u.length)return{success:!1};let d=u[s+1];return f(d),l(p=>p+1),a==null||a(d),{success:!0,value:d}}]}var H=".",I={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:T},de=({defaultCountry:t=I.defaultCountry,value:e=I.value,countries:i=I.countries,prefix:o=I.prefix,defaultMask:a=I.defaultMask,charAfterDialCode:n=I.charAfterDialCode,historySaveDebounceMS:f=I.historySaveDebounceMS,disableCountryGuess:u=I.disableCountryGuess,disableDialCodePrefill:r=I.disableDialCodePrefill,forceDialCode:s=I.forceDialCode,disableDialCodeAndPrefix:l=I.disableDialCodeAndPrefix,disableFormatting:m=I.disableFormatting,onChange:d,inputRef:p})=>{let D={countries:i,prefix:o,charAfterDialCode:n,forceDialCode:l?!1:s,disableDialCodeAndPrefix:l,defaultMask:a,countryGuessingEnabled:!u,disableFormatting:m},h=b.useRef(null),g=p||h,S=w=>{Promise.resolve().then(()=>{var x;typeof window>"u"||g.current!==(document==null?void 0:document.activeElement)||((x=g.current)==null||x.setSelectionRange(w,w))})},[{phone:v,inputValue:$,country:_},L,c,C]=ue(()=>{let w=G({value:t,field:"iso2",countries:i});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let x=w||G({value:"us",field:"iso2",countries:i}),{phone:P,inputValue:z,country:F}=q({value:e,country:x,insertDialCodeOnEmpty:!r,...D});return S(z.length),{phone:P,inputValue:z,country:F.iso2}},{overrideLastItemDebounceMS:f,onChange:({inputValue:w,phone:x,country:P})=>{if(!d)return;let z=y(P);d({phone:x,inputValue:w,country:z})}}),y=b.useCallback(w=>G({value:w,field:"iso2",countries:i}),[i]),k=b.useMemo(()=>y(_),[_,y]);b.useEffect(()=>{let w=g.current;if(!w)return;let x=P=>{if(!P.key)return;let z=P.ctrlKey,F=P.metaKey,Z=P.shiftKey;if(P.key.toLowerCase()==="z"){if(te()){if(!F)return}else if(!z)return;Z?C():c()}};return w.addEventListener("keydown",x),()=>{w.removeEventListener("keydown",x)}},[g,c,C]);let A=w=>{w.preventDefault();let{phone:x,inputValue:P,country:z,cursorPosition:F}=ie(w,{country:k,phoneBeforeInput:$,insertDialCodeOnEmpty:!1,...D});return L({inputValue:P,phone:x,country:z.iso2}),S(F),e},M=(w,x={focusOnInput:!1})=>{let P=G({value:w,field:"iso2",countries:i});if(!P){console.error(`[react-international-phone]: can not find a country with "${w}" iso2 code`);return}let z=l?"":`${o}${P.dialCode}${n}`;L({inputValue:z,phone:`${o}${P.dialCode}`,country:P.iso2}),x.focusOnInput&&Promise.resolve().then(()=>{var F;(F=g.current)==null||F.focus()})},[B,R]=b.useState(!1);return b.useEffect(()=>{if(!B){R(!0),e!==v&&(d==null||d({inputValue:$,phone:v,country:k}));return}if(e===v)return;let{phone:w,inputValue:x,country:P}=q({value:e,country:k,insertDialCodeOnEmpty:!r,...D});L({phone:w,inputValue:x,country:P.iso2})},[e]),{phone:v,inputValue:$,country:k,setCountry:M,handlePhoneValueChange:A,inputRef:g}},ce=({phone:t,country:e,defaultMask:i="............",disableFormatting:o=!1})=>{let a=e.format,n=u=>o?u.replace(new RegExp(`[^${H}]`,"g"),""):u;if(!a)return n(i);if(typeof a=="string")return n(a);if(!a.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),n(i);let f=Object.keys(a).find(u=>{if(u==="default")return!1;if(!(u.charAt(0)==="/"&&u.charAt(u.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${u}" for ${e.iso2} is not valid`),!1;let r=new RegExp(u.substring(1,u.length-1)),s=t.replace(e.dialCode,"");return r.test(O(s))});return n(f?a[f]:a.default)},V=t=>{let[e,i,o,a,n,f]=t;return{name:e,iso2:i,dialCode:o,format:a,priority:n,areaCodes:f}},fe=t=>`Field "${t}" is not supported`,G=({field:t,value:e,countries:i=T})=>{if(["priority"].includes(t))throw new Error(fe(t));let o=i.find(a=>{let n=V(a);return e===n[t]});if(o)return V(o)},pe=({phone:t,countries:e=T,currentCountryIso2:i})=>{var u;let o={country:void 0,fullDialCodeMatch:!1};if(!t)return o;let a=O(t);if(!a)return o;let n=o,f=({country:r,fullDialCodeMatch:s})=>{var d,p;let l=r.dialCode===((d=n.country)==null?void 0:d.dialCode),m=(r.priority??0)<(((p=n.country)==null?void 0:p.priority)??0);(!l||m)&&(n={country:r,fullDialCodeMatch:s})};for(let r of e){let s=V(r),{dialCode:l,areaCodes:m}=s;if(a.startsWith(l)){let d=n.country?Number(l)>=Number(n.country.dialCode):!0;if(m){let p=a.substring(l.length);for(let D of m)if(p.startsWith(D))return{country:s,fullDialCodeMatch:!0}}(d||l===a||!n.fullDialCodeMatch)&&f({country:s,fullDialCodeMatch:!0})}n.fullDialCodeMatch||a.length<l.length&&l.startsWith(a)&&(!n.country||Number(l)<=Number(n.country.dialCode))&&f({country:s,fullDialCodeMatch:!1})}if(i){let r=G({value:i,field:"iso2",countries:e});if(!r)return n;let s=r?(l=>{if(!(l!=null&&l.areaCodes))return!1;let m=a.substring(l.dialCode.length);return l.areaCodes.some(d=>d.startsWith(m))})(r):!1;n&&((u=n.country)==null?void 0:u.dialCode)===r.dialCode&&n.country!==r&&n.fullDialCodeMatch&&(!r.areaCodes||s)&&(n={country:r,fullDialCodeMatch:!0})}return n},me=(t,e)=>{let i=parseInt(t,16);return Number(i+e).toString(16)},ye="abcdefghijklmnopqrstuvwxyz",he="1f1e6",U=ye.split("").reduce((t,e,i)=>({...t,[e]:me(he,i)}),{}),Ce=t=>[U[t[0]],U[t[1]]].join("-"),J=({iso2:t,size:e,src:i,protocol:o="https",disableLazyLoading:a,className:n,style:f,...u})=>{if(!t)return N.createElement("img",{className:E({addPrefix:["flag-emoji"],rawClassNames:[n]}),width:e,height:e,...u});let r=()=>{if(i)return i;let s=Ce(t);return`${o}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return N.createElement("img",{className:E({addPrefix:["flag-emoji"],rawClassNames:[n]}),src:r(),width:e,height:e,draggable:!1,"data-country":t,loading:a?void 0:"lazy",style:{width:e,height:e,...f},alt:"",...u})},be=1e3,ge=({show:t,dialCodePrefix:e="+",selectedCountry:i,countries:o=T,preferredCountries:a=[],flags:n,onSelect:f,onClose:u,...r})=>{let s=b.useRef(null),l=b.useRef(),m=b.useMemo(()=>{if(!a||!a.length)return o;let c=[],C=[...o];for(let y of a){let k=C.findIndex(A=>V(A).iso2===y);if(k!==-1){let A=C.splice(k,1)[0];c.push(A)}}return c.concat(C)},[o,a]),d=b.useRef({updatedAt:void 0,value:""}),p=c=>{let C=d.current.updatedAt&&new Date().getTime()-d.current.updatedAt.getTime()>be;d.current={value:C?c:`${d.current.value}${c}`,updatedAt:new Date};let y=m.findIndex(k=>V(k).name.toLowerCase().startsWith(d.current.value));y!==-1&&g(y)},D=b.useCallback(c=>m.findIndex(C=>V(C).iso2===c),[m]),[h,g]=b.useState(D(i)),S=()=>{l.current!==i&&g(D(i))},v=b.useCallback(c=>{g(D(c.iso2)),f==null||f(c)},[f,D]),$=c=>{let C=m.length-1,y=k=>c==="prev"?k-1:c==="next"?k+1:c==="last"?C:0;g(k=>{let A=y(k);return A<0?0:A>C?C:A})},_=c=>{if(c.stopPropagation(),c.key==="Enter"){c.preventDefault();let C=V(m[h]);v(C);return}if(c.key==="Escape"){u==null||u();return}if(c.key==="ArrowUp"){c.preventDefault(),$("prev");return}if(c.key==="ArrowDown"){c.preventDefault(),$("next");return}if(c.key==="PageUp"){c.preventDefault(),$("first");return}if(c.key==="PageDown"){c.preventDefault(),$("last");return}c.key===" "&&c.preventDefault(),c.key.length===1&&!c.altKey&&!c.ctrlKey&&!c.metaKey&&p(c.key.toLocaleLowerCase())},L=b.useCallback(()=>{if(!s.current||h===void 0)return;let c=V(m[h]).iso2;if(c===l.current)return;let C=s.current.querySelector(`[data-country="${c}"]`);C&&(ee(s.current,C),l.current=c)},[h,m]);return b.useEffect(()=>{L()},[h,L]),b.useEffect(()=>{s.current&&(t?s.current.focus():S())},[t]),b.useEffect(()=>{S()},[i]),N.createElement("ul",{ref:s,role:"listbox",className:E({addPrefix:["country-selector-dropdown"],rawClassNames:[r.className]}),style:{display:t?"block":"none",...r.style},onKeyDown:_,onBlur:u,tabIndex:-1,"aria-activedescendant":`react-international-phone__${V(m[h]).iso2}-option`},m.map((c,C)=>{let y=V(c),k=y.iso2===i,A=C===h,M=a.includes(y.iso2),B=C===a.length-1,R=n==null?void 0:n.find(w=>w.iso2===y.iso2);return N.createElement(N.Fragment,{key:y.iso2},N.createElement("li",{"data-country":y.iso2,role:"option","aria-selected":k,"aria-label":`${y.name} ${e}${y.dialCode}`,id:`react-international-phone__${y.iso2}-option`,className:E({addPrefix:["country-selector-dropdown__list-item",M&&"country-selector-dropdown__list-item--preferred",k&&"country-selector-dropdown__list-item--selected",A&&"country-selector-dropdown__list-item--focused"],rawClassNames:[r.listItemClassName,M&&r.listItemPreferredClassName,k&&r.listItemSelectedClassName,A&&r.listItemFocusedClassName]}),onClick:()=>v(y),style:r.listItemStyle,title:y.name},N.createElement(J,{iso2:y.iso2,src:R==null?void 0:R.src,className:E({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[r.listItemFlagClassName]}),style:r.listItemFlagStyle}),N.createElement("span",{className:E({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[r.listItemCountryNameClassName]}),style:r.listItemCountryNameStyle},y.name),N.createElement("span",{className:E({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[r.listItemDialCodeClassName]}),style:r.listItemDialCodeStyle},e,y.dialCode)),B?N.createElement("hr",{className:E({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[r.preferredListDividerClassName]}),style:r.preferredListDividerStyle}):null)}))},ve=({selectedCountry:t,onSelect:e,disabled:i,hideDropdown:o,countries:a=T,preferredCountries:n=[],flags:f,renderButtonWrapper:u,...r})=>{let[s,l]=b.useState(!1),m=b.useMemo(()=>{if(t)return G({value:t,field:"iso2",countries:a})},[a,t]),d=b.useRef(null),p=h=>{h.key&&["ArrowUp","ArrowDown"].includes(h.key)&&(h.preventDefault(),l(!0))},D=()=>{var S;let h={title:m==null?void 0:m.name,onClick:()=>l(v=>!v),onMouseDown:v=>v.preventDefault(),onKeyDown:p,disabled:o||i,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":s},g=N.createElement("div",{className:E({addPrefix:["country-selector-button__button-content"],rawClassNames:[r.buttonContentWrapperClassName]}),style:r.buttonContentWrapperStyle},N.createElement(J,{iso2:t,src:(S=f==null?void 0:f.find(v=>v.iso2===t))==null?void 0:S.src,className:E({addPrefix:["country-selector-button__flag-emoji",i&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[r.flagClassName]}),style:{visibility:t?"visible":"hidden",...r.flagStyle}}),!o&&N.createElement("div",{className:E({addPrefix:["country-selector-button__dropdown-arrow",i&&"country-selector-button__dropdown-arrow--disabled",s&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[r.dropdownArrowClassName]}),style:r.dropdownArrowStyle}));return u?u({children:g,rootProps:h}):N.createElement("button",{...h,type:"button",className:E({addPrefix:["country-selector-button",s&&"country-selector-button--active",i&&"country-selector-button--disabled",o&&"country-selector-button--hide-dropdown"],rawClassNames:[r.buttonClassName]}),"data-country":t,style:r.buttonStyle},g)};return N.createElement("div",{className:E({addPrefix:["country-selector"],rawClassNames:[r.className]}),style:r.style,ref:d},D(),N.createElement(ge,{show:s,countries:a,preferredCountries:n,flags:f,onSelect:h=>{l(!1),e==null||e(h)},selectedCountry:t,onClose:()=>{l(!1)},...r.dropdownStyleProps}))},we=({dialCode:t,prefix:e,disabled:i,style:o,className:a})=>N.createElement("div",{className:E({addPrefix:["dial-code-preview",i&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:o},`${e}${t}`),ke=b.forwardRef(({value:t,onChange:e,countries:i=T,preferredCountries:o=[],hideDropdown:a,showDisabledDialCodeAndPrefix:n,disableFocusAfterCountrySelect:f,flags:u,style:r,className:s,inputStyle:l,inputClassName:m,countrySelectorStyleProps:d,dialCodePreviewStyleProps:p,inputProps:D,placeholder:h,disabled:g,name:S,onFocus:v,onBlur:$,required:_,autoFocus:L,...c},C)=>{let{phone:y,inputValue:k,inputRef:A,country:M,setCountry:B,handlePhoneValueChange:R}=de({value:t,countries:i,...c,onChange:x=>{e==null||e(x.phone,{country:x.country,inputValue:x.inputValue})}}),w=c.disableDialCodeAndPrefix&&n&&(M==null?void 0:M.dialCode);return b.useImperativeHandle(C,()=>A.current?Object.assign(A.current,{setCountry:B,state:{phone:y,inputValue:k,country:M}}):null,[A,B,y,k,M]),N.createElement("div",{ref:C,className:E({addPrefix:["input-container"],rawClassNames:[s]}),style:r},N.createElement(ve,{onSelect:x=>B(x.iso2,{focusOnInput:!f}),flags:u,selectedCountry:M.iso2,countries:i,preferredCountries:o,disabled:g,hideDropdown:a,...d}),w&&N.createElement(we,{dialCode:M.dialCode,prefix:c.prefix??"+",disabled:g,...p}),N.createElement("input",{onChange:R,value:k,type:"tel",ref:A,className:E({addPrefix:["input",g&&"input--disabled"],rawClassNames:[m]}),placeholder:h,disabled:g,style:l,name:S,onFocus:v,onBlur:$,autoFocus:L,required:_,...D}))});export{ke as U,ve as a};
