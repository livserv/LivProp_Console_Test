import{r as h,R as B,l as Kc,i as op,j as u,c as tn,d as eo,a as ip}from"./index-Delt0bgx.js";import{_ as Li,b as ve,c as An,T as Vs,I as _r,u as un,P as dn,d as ea,U as Zc,e as sp,f as Fi,g as lp,E as cp,h as Dn,D as se,i as Bi,j as Rt,Z as Xt,k as St,l as _i,m as Be,n as $i,o as zi,O as xe,p as Jc,q as Qc,r as Ar,R as Oa,s as up,t as Ln,v as dp,w as fp,S as eu,x as pp,y as mp,z as Jo,B as gp,A as hp,F as vp,G as yp,H as bp,J as xp}from"./KbDocsEditor-CUg6rzhb.js";import{r as tu,R as wp,g as Hi,p as Cp,k as jp}from"./ajax-CQpykg4a.js";import{g as Sp}from"./integrations-ChBfCs6e.js";import{u as ru}from"./useSelectedBot-CoVHYjdL.js";import{h as Gs}from"./formik.esm-CExOJFte.js";import{F as Ee,a as nu,S as au,v as Qo,g as $r,H as kp,f as Ep,b as Np,c as Dp,d as rn,e as Ra,h as Ip,j as Us,t as la,k as Ws,l as qs,m as Tp,n as Pp,o as Op,p as Rp,q as Mp,r as Ap,s as Lp,u as Fp,w as Bp,x as _p,y as $p}from"./validation-TMVjjcaP.js";import{S as zp}from"./delete-DciOlMDO.js";import{L as Hp}from"./TextBox-D2cRLm9M.js";import{T as Vp}from"./Toggle-BSTNwpdR.js";import{C as Gp,h as Up,g as Wp}from"./index-ChyRSGKw.js";import{S as qp}from"./loader-CKnTAy_O.js";import{P as Xp}from"./PageHeader-DsjpDQQj.js";import"./svg-icons-Car4lO9y.js";import"./env-CBDBHzQq.js";import"./index-B_ITVoM4.js";import"./KbDocsList-CYuQN7gZ.js";import"./edit-DwQ1b_9m.js";import"./plus-C9HrPsMn.js";import"./Button-hXJdwpCN.js";import"./utils-B3TvvZ68.js";import"./bots-a-FYZmH9.js";import"./send-DE2V3rLd.js";import"./index-BSCKvjr-.js";import"./ProgressButton-Bfx8DF4A.js";import"./env-CmL5wTXD.js";import"./YesNoDropdown-CddF0F80.js";import"./PopUpDialog-DxF3jJNr.js";import"./organization-CmEOD0m9.js";function Yp(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vi(e,t){var r=function(o){return t&&h.isValidElement(o)?t(o):o},n=Object.create(null);return e&&h.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function Kp(e,t){e=e||{},t=t||{};function r(f){return f in t?t[f]:e[f]}var n=Object.create(null),a=[];for(var o in e)o in t?a.length&&(n[o]=a,a=[]):a.push(o);var i,s={};for(var l in t){if(n[l])for(i=0;i<n[l].length;i++){var c=n[l][i];s[n[l][i]]=r(c)}s[l]=r(l)}for(i=0;i<a.length;i++)s[a[i]]=r(a[i]);return s}function Pr(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Zp(e,t){return Vi(e.children,function(r){return h.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Pr(r,"appear",e),enter:Pr(r,"enter",e),exit:Pr(r,"exit",e)})})}function Jp(e,t,r){var n=Vi(e.children),a=Kp(t,n);return Object.keys(a).forEach(function(o){var i=a[o];if(h.isValidElement(i)){var s=o in t,l=o in n,c=t[o],f=h.isValidElement(c)&&!c.props.in;l&&(!s||f)?a[o]=h.cloneElement(i,{onExited:r.bind(null,i),in:!0,exit:Pr(i,"exit",e),enter:Pr(i,"enter",e)}):!l&&s&&!f?a[o]=h.cloneElement(i,{in:!1}):l&&s&&h.isValidElement(c)&&(a[o]=h.cloneElement(i,{onExited:r.bind(null,i),in:c.props.in,exit:Pr(i,"exit",e),enter:Pr(i,"enter",e)}))}}),a}var Qp=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},em={component:"div",childFactory:function(t){return t}},Gi=(function(e){Li(t,e);function t(n,a){var o;o=e.call(this,n,a)||this;var i=o.handleExited.bind(Yp(o));return o.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,o){var i=o.children,s=o.handleExited,l=o.firstRender;return{children:l?Zp(a,s):Jp(a,i,s),firstRender:!1}},r.handleExited=function(a,o){var i=Vi(this.props.children);a.key in i||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(s){var l=ve({},s.children);return delete l[a.key],{children:l}}))},r.render=function(){var a=this.props,o=a.component,i=a.childFactory,s=An(a,["component","childFactory"]),l=this.state.contextValue,c=Qp(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,o===null?B.createElement(Vs.Provider,{value:l},c):B.createElement(Vs.Provider,{value:l},B.createElement(o,s,c))},t})(B.Component);Gi.propTypes={};Gi.defaultProps=em;function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ei.apply(null,arguments)}var Ui=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ei({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));Ui.displayName="TimesIcon";function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}var ou=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ti({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"}))}));ou.displayName="WindowMaximizeIcon";function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}var iu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ri({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"}))}));iu.displayName="WindowMinimizeIcon";function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function Fn(e){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(e)}function ai(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tm(e){if(Array.isArray(e))return ai(e)}function rm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function su(e,t){if(e){if(typeof e=="string")return ai(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ai(e,t):void 0}}function nm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function am(e){return tm(e)||rm(e)||su(e)||nm()}function om(e,t){if(Fn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(e){var t=om(e,"string");return Fn(t)=="symbol"?t:t+""}function Wi(e,t,r){return(t=im(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sm(e){if(Array.isArray(e))return e}function lm(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function cm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,t){return sm(e)||lm(e,t)||su(e,t)||cm()}var um="",On=ea.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:um},getProps:function(t){return xe.getMergedProps(t,On.defaultProps)},getOtherProps:function(t){return xe.getDiffProps(t,On.defaultProps)}});function Xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xs(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var fm=B.memo(B.forwardRef(function(e,t){var r=B.useRef(null),n=B.useRef(null),a=B.useRef(null),o=B.useContext(dn),i=On.getProps(e,o),s={props:i};Jc(On.css.styles,{name:"focustrap"});var l=On.setMetaData(dm({},s));l.ptm,B.useImperativeHandle(t,function(){return{props:i,getInk:function(){return n.current},getTarget:function(){return r.current}}}),Bi(function(){i.disabled||(r.current=c(),f(r.current))});var c=function(){return n.current&&n.current.parentElement},f=function(j){var w=i||{},I=w.autoFocusSelector,T=I===void 0?"":I,N=w.firstFocusableSelector,D=N===void 0?"":N,E=w.autoFocus,y=E===void 0?!1:E,g="".concat(d(T)),v="[autofocus]".concat(g,", [data-pc-autofocus='true']").concat(g),C=se.getFirstFocusableElement(j,v);y&&!C&&(C=se.getFirstFocusableElement(j,d(D))),se.focus(C)},d=function(j){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(j??"")},p=function(j){var w,I=j.currentTarget,T=j.relatedTarget,N=T===I.$_pfocustrap_lasthiddenfocusableelement||!((w=r.current)!==null&&w!==void 0&&w.contains(T))?se.getFirstFocusableElement(I.parentElement,d(I.$_pfocustrap_focusableselector)):I.$_pfocustrap_lasthiddenfocusableelement;se.focus(N)},m=function(j){var w,I=j.currentTarget,T=j.relatedTarget,N=T===I.$_pfocustrap_firsthiddenfocusableelement||!((w=r.current)!==null&&w!==void 0&&w.contains(T))?se.getLastFocusableElement(I.parentElement,d(I.$_pfocustrap_focusableselector)):I.$_pfocustrap_firsthiddenfocusableelement;se.focus(N)},x=function(){var j=i||{},w=j.tabIndex,I=w===void 0?0:w,T=function(y,g,v){return B.createElement("span",{ref:y,className:"p-hidden-accessible p-hidden-focusable",tabIndex:I,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:g,"data-pc-section":v})},N=T(n,p,"firstfocusableelement"),D=T(a,m,"lastfocusableelement");return n.current&&a.current&&(n.current.$_pfocustrap_lasthiddenfocusableelement=a.current,a.current.$_pfocustrap_firsthiddenfocusableelement=n.current),B.createElement(B.Fragment,null,N,i.children,D)};return x()})),pm=fm;function Ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ys(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ys(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gm={closeButtonIcon:"p-dialog-header-close-icon",closeButton:"p-dialog-header-icon p-dialog-header-close p-link",maximizableIcon:"p-dialog-header-maximize-icon",maximizableButton:"p-dialog-header-icon p-dialog-header-maximize p-link",header:function(t){var r=t.props;return Be("p-dialog-header",r.headerClassName)},headerTitle:"p-dialog-title",headerIcons:"p-dialog-header-icons",content:function(t){var r=t.props;return Be("p-dialog-content",r.contentClassName)},footer:function(t){var r=t.props;return Be("p-dialog-footer",r.footerClassName)},mask:function(t){var r=t.props,n=t.maskVisibleState,a=["center","left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"],o=a.find(function(i){return i===r.position||i.replace("-","")===r.position});return Be("p-dialog-mask",o?"p-dialog-".concat(o):"",{"p-component-overlay p-component-overlay-enter":r.modal,"p-dialog-visible":n,"p-dialog-draggable":r.draggable,"p-dialog-resizable":r.resizable},r.maskClassName)},root:function(t){var r=t.props,n=t.maximized,a=t.context;return Be("p-dialog p-component",{"p-dialog-rtl":r.rtl,"p-dialog-maximized":n,"p-dialog-default":!n,"p-input-filled":a&&a.inputStyle==="filled"||St.inputStyle==="filled","p-ripple-disabled":a&&a.ripple===!1||St.ripple===!1})},transition:"p-dialog"},hm=`
@layer primereact {
    .p-dialog-mask {
        background-color: transparent;
        transition-property: background-color;
    }

    .p-dialog-visible {
        display: flex;
    }

    .p-dialog-mask.p-component-overlay {
        pointer-events: auto;
    }

    .p-dialog {
        display: flex;
        flex-direction: column;
        pointer-events: auto;
        max-height: 90%;
        transform: scale(1);
        position: relative;
    }

    .p-dialog-content {
        overflow-y: auto;
        flex-grow: 1;
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        flex-shrink: 0;
    }

    .p-dialog-footer {
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icons {
        display: flex;
        align-items: center;
        align-self: flex-start;
        flex-shrink: 0;
    }

    .p-dialog .p-dialog-header-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    .p-dialog .p-dialog-title {
        flex-grow: 1;
    }

    /* Fluid */
    .p-fluid .p-dialog-footer .p-button {
        width: auto;
    }

    /* Animation */
    /* Center */
    .p-dialog-enter {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-enter-active {
        opacity: 1;
        transform: scale(1);
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-enter-done {
        transform: none;
    }

    .p-dialog-exit-active {
        opacity: 0;
        transform: scale(0.7);
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Top, Bottom, Left, Right, Top* and Bottom* */
    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-top-left .p-dialog,
    .p-dialog-top-right .p-dialog,
    .p-dialog-bottom-left .p-dialog,
    .p-dialog-bottom-right .p-dialog {
        margin: 0.75em;
    }

    .p-dialog-top .p-dialog-enter,
    .p-dialog-top .p-dialog-exit-active {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter,
    .p-dialog-bottom .p-dialog-exit-active {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-enter,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-enter,
    .p-dialog-bottom-left .p-dialog-exit-active {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-enter,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-enter,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-top-left .p-dialog-enter-active,
    .p-dialog-bottom-left .p-dialog-enter-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-top-right .p-dialog-enter-active,
    .p-dialog-bottom-right .p-dialog-enter-active {
        transform: translate3d(0px, 0px, 0px);
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-exit-active,
    .p-dialog-bottom .p-dialog-exit-active,
    .p-dialog-left .p-dialog-exit-active,
    .p-dialog-top-left .p-dialog-exit-active,
    .p-dialog-bottom-left .p-dialog-exit-active,
    .p-dialog-right .p-dialog-exit-active,
    .p-dialog-top-right .p-dialog-exit-active,
    .p-dialog-bottom-right .p-dialog-exit-active {
        transition: all 0.3s ease-out;
    }

    /* Maximize */
    .p-dialog-maximized {
        transition: none;
        transform: none;
        margin: 0;
        width: 100vw !important;
        height: 100vh !important;
        max-height: 100%;
        top: 0px !important;
        left: 0px !important;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }

    .p-confirm-dialog .p-dialog-content {
        display: flex;
        align-items: center;
    }

    /* Resizable */
    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }

    .p-dialog-draggable .p-dialog-header {
        cursor: move;
    }
}
`,vm={mask:function(t){var r=t.props;return mm({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:r.position==="left"||r.position==="top-left"||r.position==="bottom-left"?"flex-start":r.position==="right"||r.position==="top-right"||r.position==="bottom-right"?"flex-end":"center",alignItems:r.position==="top"||r.position==="top-left"||r.position==="top-right"?"flex-start":r.position==="bottom"||r.position==="bottom-left"||r.position==="bottom-right"?"flex-end":"center",pointerEvents:!r.modal&&"none"},r.maskStyle)}},ca=ea.extend({defaultProps:{__TYPE:"Dialog",__parentMetadata:null,appendTo:null,ariaCloseIconLabel:null,baseZIndex:0,blockScroll:!1,breakpoints:null,className:null,closable:!0,closeIcon:null,closeOnEscape:!0,content:null,contentClassName:null,contentStyle:null,dismissableMask:!1,draggable:!0,focusOnShow:!0,footer:null,footerClassName:null,header:null,headerClassName:null,headerStyle:null,icons:null,id:null,keepInViewport:!0,maskClassName:null,maskStyle:null,maximizable:!1,maximizeIcon:null,maximized:!1,minX:0,minY:0,minimizeIcon:null,modal:!0,onClick:null,onDrag:null,onDragEnd:null,onDragStart:null,onHide:null,onMaskClick:null,onMaximize:null,onResize:null,onResizeEnd:null,onResizeStart:null,onShow:null,position:"center",resizable:!0,rtl:!1,showHeader:!0,showCloseIcon:!0,style:null,transitionOptions:null,visible:!1,children:void 0},css:{classes:gm,styles:hm,inlineStyles:vm}});function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ks(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var fn=h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),a=ca.getProps(e,n),o=a.id?a.id:Zc(),i=h.useState(o),s=ur(i,2),l=s[0];s[1];var c=h.useState(!1),f=ur(c,2),d=f[0],p=f[1],m=h.useState(!1),x=ur(m,2),b=x[0],j=x[1],w=h.useState(a.maximized),I=ur(w,2),T=I[0],N=I[1],D=h.useRef(null),E=h.useRef(null),y=h.useRef(null),g=h.useRef(null),v=h.useRef(null),C=h.useRef(null),k=h.useRef(null),O=h.useRef(!1),P=h.useRef(!1),S=h.useRef(null),R=h.useRef(null),A=h.useRef(null),_=h.useRef(o),L=h.useRef(null),M=a.onMaximize?a.maximized:T,F=b&&(a.blockScroll||a.maximizable&&M),H=a.closable&&a.closeOnEscape&&b,z=sp("dialog",H),V=ca.setMetaData(wo(wo({props:a},a.__parentMetadata),{},{state:{id:l,maximized:M,containerVisible:d}})),W=V.ptm,$=V.cx,q=V.sx,J=V.isUnstyled;Fi(ca.css.styles,J,{name:"dialog"}),lp({callback:function(Y){Ve(Y)},when:H&&z,priority:[cp.DIALOG,z]});var ne=Dn({type:"mousemove",target:function(){return window.document},listener:function(Y){return tt(Y)}}),de=ur(ne,2),X=de[0],ie=de[1],we=Dn({type:"mouseup",target:function(){return window.document},listener:function(Y){return rt(Y)}}),Ce=ur(we,2),ae=Ce[0],De=Ce[1],Ae=Dn({type:"mousemove",target:function(){return window.document},listener:function(Y){return It(Y)}}),ye=ur(Ae,2),le=ye[0],K=ye[1],je=Dn({type:"mouseup",target:function(){return window.document},listener:function(Y){return _e(Y)}}),yt=ur(je,2),bt=yt[0],it=yt[1],Ve=function(Y){a.onHide(Y),Y.preventDefault()},xt=function(){var Y=document.activeElement,be=Y&&D.current&&D.current.contains(Y);!be&&a.closable&&a.showCloseIcon&&a.showHeader&&k.current&&k.current.focus()},Je=function(Y){y.current=Y.target,a.onPointerDown&&a.onPointerDown(Y)},st=function(Y){a.dismissableMask&&a.modal&&E.current===Y.target&&!y.current&&Ve(Y),a.onMaskClick&&a.onMaskClick(Y),y.current=null},lt=function(Y){a.onMaximize?a.onMaximize({originalEvent:Y,maximized:!M}):N(function(be){return!be}),Y.preventDefault()},ct=function(Y){se.hasClass(Y.target,"p-dialog-header-icon")||se.hasClass(Y.target.parentElement,"p-dialog-header-icon")||a.draggable&&(O.current=!0,S.current=Y.pageX,R.current=Y.pageY,se.addClass(document.body,"p-unselectable-text"),a.onDragStart&&a.onDragStart(Y))},It=function(Y){if(O.current){var be=se.getOuterWidth(D.current),Oe=se.getOuterHeight(D.current),Re=Y.pageX-S.current,ft=Y.pageY-R.current,pt=D.current.getBoundingClientRect(),ue=pt.left+Re,U=pt.top+ft,te=se.getViewport(),re=getComputedStyle(D.current),oe=parseFloat(re.marginLeft),pe=parseFloat(re.marginTop);D.current.style.position="fixed",a.keepInViewport?(ue>=a.minX&&ue+be<te.width&&(S.current=Y.pageX,D.current.style.left=ue-oe+"px"),U>=a.minY&&(ft<0||U+Oe<te.height)&&(R.current=Y.pageY,D.current.style.top=U-pe+"px")):(S.current=Y.pageX,D.current.style.left=ue-oe+"px",R.current=Y.pageY,D.current.style.top=U-pe+"px"),a.onDrag&&a.onDrag(Y)}},_e=function(Y){O.current&&(O.current=!1,se.removeClass(document.body,"p-unselectable-text"),a.onDragEnd&&a.onDragEnd(Y))},Ge=function(Y){a.resizable&&(P.current=!0,S.current=Y.pageX,R.current=Y.pageY,se.addClass(document.body,"p-unselectable-text"),a.onResizeStart&&a.onResizeStart(Y))},ut=function(Y,be,Oe){!Oe&&(Oe=se.getViewport());var Re=parseInt(Y);return/^(\d+|(\.\d+))(\.\d+)?%$/.test(Y)?Re*(Oe[be]/100):Re},tt=function(Y){if(P.current){var be=Y.pageX-S.current,Oe=Y.pageY-R.current,Re=se.getOuterWidth(D.current),ft=se.getOuterHeight(D.current),pt=D.current.getBoundingClientRect(),ue=se.getViewport(),U=!parseInt(D.current.style.top)||!parseInt(D.current.style.left),te=ut(D.current.style.minWidth,"width",ue),re=ut(D.current.style.minHeight,"height",ue),oe=Re+be,pe=ft+Oe;U&&(oe=oe+be,pe=pe+Oe),(!te||oe>te)&&(be<0||pt.left+oe<ue.width)&&(D.current.style.width=oe+"px"),(!re||pe>re)&&(Oe<0||pt.top+pe<ue.height)&&(D.current.style.height=pe+"px"),S.current=Y.pageX,R.current=Y.pageY,a.onResize&&a.onResize(Y)}},rt=function(Y){P.current&&(P.current=!1,se.removeClass(document.body,"p-unselectable-text"),a.onResizeEnd&&a.onResizeEnd(Y))},nt=function(){D.current.style.position="",D.current.style.left="",D.current.style.top="",D.current.style.margin=""},Qe=function(){D.current.setAttribute(_.current,"")},Tt=function(){a.onShow&&a.onShow(),a.focusOnShow&&xt(),Zt()},Pt=function(){a.modal&&!J()&&se.addClass(E.current,"p-component-overlay-leave")},Bt=function(){O.current=!1,Xt.clear(E.current),p(!1),Jt(),se.focus(L.current),L.current=null},Zt=function(){Sr()},Jt=function(){Qt()},dt=function(){var Y=document.primeDialogParams&&document.primeDialogParams.some(function(be){return be.hasBlockScroll});Y?se.blockBodyScroll():se.unblockBodyScroll()},Ut=function(Y){if(Y&&b){var be={id:l,hasBlockScroll:F};document.primeDialogParams||(document.primeDialogParams=[]);var Oe=document.primeDialogParams.findIndex(function(Re){return Re.id===l});Oe===-1?document.primeDialogParams=[].concat(am(document.primeDialogParams),[be]):document.primeDialogParams=document.primeDialogParams.toSpliced(Oe,1,be)}else document.primeDialogParams=document.primeDialogParams&&document.primeDialogParams.filter(function(Re){return Re.id!==l});dt()},Sr=function(){a.draggable&&(le(),bt()),a.resizable&&(X(),ae())},Qt=function(){K(),it(),ie(),De()},er=function(){A.current=se.createInlineStyle(n&&n.nonce||St.nonce,n&&n.styleContainer);var Y="";for(var be in a.breakpoints)Y=Y+`
                @media screen and (max-width: `.concat(be,`) {
                     [data-pc-name="dialog"][`).concat(_.current,`] {
                        width: `).concat(a.breakpoints[be],` !important;
                    }
                }
            `);A.current.innerHTML=Y},cr=function(){A.current=se.removeInlineStyle(A.current)};Bi(function(){Ut(!0),a.visible&&p(!0)}),h.useEffect(function(){return a.breakpoints&&er(),function(){cr()}},[a.breakpoints]),Rt(function(){a.visible&&!d&&p(!0),a.visible!==b&&d&&j(a.visible),a.visible&&(L.current=document.activeElement)},[a.visible,d]),Rt(function(){d&&(Xt.set("modal",E.current,n&&n.autoZIndex||St.autoZIndex,a.baseZIndex||n&&n.zIndex.modal||St.zIndex.modal),j(!0))},[d]),Rt(function(){Ut(!0)},[F,b]),_i(function(){Jt(),Ut(!1),se.removeInlineStyle(A.current),Xt.clear(E.current)}),h.useImperativeHandle(t,function(){return{props:a,resetPosition:nt,getElement:function(){return D.current},getMask:function(){return E.current},getContent:function(){return g.current},getHeader:function(){return v.current},getFooter:function(){return C.current},getCloseButton:function(){return k.current}}});var tr=function(){if(a.closable&&a.showCloseIcon){var Y=a.ariaCloseIconLabel||Qc("close"),be=r({className:$("closeButtonIcon"),"aria-hidden":!0},W("closeButtonIcon")),Oe=a.closeIcon||h.createElement(Ui,be),Re=Ar.getJSXIcon(Oe,wo({},be),{props:a}),ft=r({ref:k,type:"button",className:$("closeButton"),"aria-label":Y,onClick:Ve,onKeyDown:function(ue){ue.key!=="Escape"&&ue.stopPropagation()}},W("closeButton"));return h.createElement("button",ft,Re,h.createElement(Oa,null))}return null},kr=function(){var Y,be=r({className:$("maximizableIcon")},W("maximizableIcon"));M?Y=a.minimizeIcon||h.createElement(iu,be):Y=a.maximizeIcon||h.createElement(ou,be);var Oe=Ar.getJSXIcon(Y,be,{props:a});if(a.maximizable){var Re=r({type:"button",className:$("maximizableButton"),onClick:lt},W("maximizableButton"));return h.createElement("button",Re,Oe,h.createElement(Oa,null))}return null},Wt=function(){if(a.showHeader){var Y=tr(),be=kr(),Oe=xe.getJSXElement(a.icons,a),Re=xe.getJSXElement(a.header,a),ft=l+"_header",pt=r({ref:v,style:a.headerStyle,className:$("header"),onMouseDown:ct},W("header")),ue=r({id:ft,className:$("headerTitle")},W("headerTitle")),U=r({className:$("headerIcons")},W("headerIcons"));return h.createElement("div",pt,h.createElement("div",ue,Re),h.createElement("div",U,Oe,be,Y))}return null},ge=function(){var Y=l+"_content",be=r({id:Y,ref:g,style:a.contentStyle,className:$("content")},W("content"));return h.createElement("div",be,a.children)},G=function(){var Y=xe.getJSXElement(a.footer,a),be=r({ref:C,className:$("footer")},W("footer"));return Y&&h.createElement("div",be,Y)},Z=function(){return a.resizable?h.createElement("span",{className:"p-resizable-handle",style:{zIndex:90},onMouseDown:Ge}):null},ke=function(){var Y,be={header:a.header,content:a.message,message:a==null||(Y=a.children)===null||Y===void 0||(Y=Y[1])===null||Y===void 0||(Y=Y.props)===null||Y===void 0?void 0:Y.children},Oe={headerRef:v,contentRef:g,footerRef:C,closeRef:k,hide:Ve,message:be};return xe.getJSXElement(e.content,Oe)},Le=function(){var Y=Wt(),be=ge(),Oe=G(),Re=Z();return h.createElement(h.Fragment,null,Y,be,Oe,Re)},Ye=function(){var Y=l+"_header",be=l+"_content",Oe={enter:a.position==="center"?150:300,exit:a.position==="center"?150:300},Re=r({ref:E,style:q("mask"),className:$("mask"),onPointerUp:st},W("mask")),ft=r({ref:D,id:l,className:Be(a.className,$("root",{props:a,maximized:M,context:n})),style:a.style,onClick:a.onClick,role:"dialog","aria-labelledby":Y,"aria-describedby":be,"aria-modal":a.modal,onPointerDown:Je},ca.getOtherProps(a),W("root")),pt=r({classNames:$("transition"),timeout:Oe,in:b,options:a.transitionOptions,unmountOnExit:!0,onEnter:Qe,onEntered:Tt,onExiting:Pt,onExited:Bt},W("transition")),ue=null;e!=null&&e.content?ue=ke():ue=Le();var U=h.createElement("div",Re,h.createElement($i,ni({nodeRef:D},pt),h.createElement("div",ft,h.createElement(pm,{autoFocus:a.focusOnShow},ue))));return h.createElement(zi,{element:U,appendTo:a.appendTo,visible:!0})};return d&&Ye()});fn.displayName="Dialog";function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}var lu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",oi({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));lu.displayName="CheckIcon";function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}var cu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",ii({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{d:"M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z",fill:"currentColor"}),h.createElement("path",{d:"M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z",fill:"currentColor"}),h.createElement("path",{d:"M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z",fill:"currentColor"}))}));cu.displayName="ExclamationTriangleIcon";function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(null,arguments)}var uu=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",si({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z",fill:"currentColor"}))}));uu.displayName="InfoCircleIcon";function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(null,arguments)}var qi=h.memo(h.forwardRef(function(e,t){var r=_r.getPTI(e);return h.createElement("svg",li({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));qi.displayName="TimesCircleIcon";function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function ui(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ym(e){if(Array.isArray(e))return ui(e)}function bm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function du(e,t){if(e){if(typeof e=="string")return ui(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ui(e,t):void 0}}function xm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Co(e){return ym(e)||bm(e)||du(e)||xm()}function wm(e){if(Array.isArray(e))return e}function Cm(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function jm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function di(e,t){return wm(e)||Cm(e,t)||du(e,t)||jm()}function Bn(e){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(e)}function Sm(e,t){if(Bn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function km(e){var t=Sm(e,"string");return Bn(t)=="symbol"?t:t+""}function fu(e,t,r){return(t=km(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Em=`
@layer primereact {
    .p-toast {
        width: calc(100% - var(--toast-indent, 0px));
        max-width: 25rem;
    }
    
    .p-toast-message-icon {
        flex-shrink: 0;
    }
    
    .p-toast-message-content {
        display: flex;
        align-items: flex-start;
    }
    
    .p-toast-message-text {
        flex: 1 1 auto;
    }
    
    .p-toast-summary {
        overflow-wrap: anywhere;
    }
    
    .p-toast-detail {
        overflow-wrap: anywhere;
    }
    
    .p-toast-top-center {
        transform: translateX(-50%);
    }
    
    .p-toast-bottom-center {
        transform: translateX(-50%);
    }
    
    .p-toast-center {
        min-width: 20vw;
        transform: translate(-50%, -50%);
    }
    
    .p-toast-icon-close {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }
    
    .p-toast-icon-close.p-link {
        cursor: pointer;
    }
    
    /* Animations */
    .p-toast-message-enter {
        opacity: 0;
        transform: translateY(50%);
    }
    
    .p-toast-message-enter-active {
        opacity: 1;
        transform: translateY(0);
        transition: transform 0.3s, opacity 0.3s;
    }
    
    .p-toast-message-enter-done {
        transform: none;
    }
    
    .p-toast-message-exit {
        opacity: 1;
        max-height: 1000px;
    }
    
    .p-toast .p-toast-message.p-toast-message-exit-active {
        opacity: 0;
        max-height: 0;
        margin-bottom: 0;
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    }
}
`,Nm={root:function(t){var r=t.props,n=t.context;return Be("p-toast p-component p-toast-"+r.position,r.className,{"p-input-filled":n&&n.inputStyle==="filled"||St.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||St.ripple===!1})},message:{message:function(t){var r=t.severity;return Be("p-toast-message",fu({},"p-toast-message-".concat(r),r))},content:"p-toast-message-content",buttonicon:"p-toast-icon-close-icon",closeButton:"p-toast-icon-close p-link",icon:"p-toast-message-icon",text:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail"},transition:"p-toast-message"},Dm={root:function(t){var r=t.props;return{position:"fixed",top:r.position==="top-right"||r.position==="top-left"||r.position==="top-center"?"20px":r.position==="center"?"50%":null,right:(r.position==="top-right"||r.position==="bottom-right")&&"20px",bottom:(r.position==="bottom-left"||r.position==="bottom-right"||r.position==="bottom-center")&&"20px",left:r.position==="top-left"||r.position==="bottom-left"?"20px":r.position==="center"||r.position==="top-center"||r.position==="bottom-center"?"50%":null}}},ua=ea.extend({defaultProps:{__TYPE:"Toast",id:null,className:null,content:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null,onMouseEnter:null,onMouseLeave:null,children:void 0},css:{classes:Nm,styles:Em,inlineStyles:Dm}});function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zs(Object(r),!0).forEach(function(n){fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pu=h.memo(h.forwardRef(function(e,t){var r=un(),n=e.messageInfo,a=e.metaData,o=e.ptCallbacks,i=o.ptm,s=o.ptmo,l=o.cx,c=e.index,f=n.message,d=f.severity,p=f.content,m=f.summary,x=f.detail,b=f.closable,j=f.life,w=f.sticky,I=f.className,T=f.style,N=f.contentClassName,D=f.contentStyle,E=f.icon,y=f.closeIcon,g=f.pt,v={index:c},C=He(He({},a),v),k=h.useState(!1),O=di(k,2),P=O[0],S=O[1],R=up(function(){M()},j||3e3,!w&&!P),A=di(R,1),_=A[0],L=function(X,ie){return i(X,He({hostName:e.hostName},ie))},M=function(){_(),e.onClose&&e.onClose(n)},F=function(X){e.onClick&&!(se.hasClass(X.target,"p-toast-icon-close")||se.hasClass(X.target,"p-toast-icon-close-icon"))&&e.onClick(n.message)},H=function(X){e.onMouseEnter&&e.onMouseEnter(X),!X.defaultPrevented&&(w||(_(),S(!0)))},z=function(X){e.onMouseLeave&&e.onMouseLeave(X),!X.defaultPrevented&&(w||S(!1))},V=function(){var X=r({className:l("message.buttonicon")},L("buttonicon",C),s(g,"buttonicon",He(He({},v),{},{hostName:e.hostName}))),ie=y||h.createElement(Ui,X),we=Ar.getJSXIcon(ie,He({},X),{props:e}),Ce=r({type:"button",className:l("message.closeButton"),onClick:M,"aria-label":e.ariaCloseLabel||Qc("close")},L("closeButton",C),s(g,"closeButton",He(He({},v),{},{hostName:e.hostName})));return b!==!1?h.createElement("div",null,h.createElement("button",Ce,we,h.createElement(Oa,null))):null},W=function(){if(n){var X=xe.getJSXElement(p,{message:n.message,onClick:F,onClose:M}),ie=r({className:l("message.icon")},L("icon",C),s(g,"icon",He(He({},v),{},{hostName:e.hostName}))),we=E;if(!E)switch(d){case"info":we=h.createElement(uu,ie);break;case"warn":we=h.createElement(cu,ie);break;case"error":we=h.createElement(qi,ie);break;case"success":we=h.createElement(lu,ie);break}var Ce=Ar.getJSXIcon(we,He({},ie),{props:e}),ae=r({className:l("message.text")},L("text",C),s(g,"text",He(He({},v),{},{hostName:e.hostName}))),De=r({className:l("message.summary")},L("summary",C),s(g,"summary",He(He({},v),{},{hostName:e.hostName}))),Ae=r({className:l("message.detail")},L("detail",C),s(g,"detail",He(He({},v),{},{hostName:e.hostName})));return X||h.createElement(h.Fragment,null,Ce,h.createElement("div",ae,h.createElement("span",De,m),x&&h.createElement("div",Ae,x)))}return null},$=W(),q=V(),J=r({ref:t,className:Be(I,l("message.message",{severity:d})),style:T,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:F,onMouseEnter:H,onMouseLeave:z},L("message",C),s(g,"root",He(He({},v),{},{hostName:e.hostName}))),ne=r({className:Be(N,l("message.content")),style:D},L("content",C),s(g,"content",He(He({},v),{},{hostName:e.hostName})));return h.createElement("div",J,h.createElement("div",ne,$,q))}));pu.displayName="ToastMessage";var Js=0,mu=h.memo(h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),a=ua.getProps(e,n),o=h.useState([]),i=di(o,2),s=i[0],l=i[1],c=h.useRef(null),f={props:a,state:{messages:s}},d=ua.setMetaData(f);Fi(ua.css.styles,d.isUnstyled,{name:"toast"});var p=function(y){y&&l(function(g){return m(g,y,!0)})},m=function(y,g,v){var C;if(Array.isArray(g)){var k=g.reduce(function(P,S){return P.push({_pId:Js++,message:S}),P},[]);v?C=y?[].concat(Co(y),Co(k)):k:C=k}else{var O={_pId:Js++,message:g};v?C=y?[].concat(Co(y),[O]):[O]:C=[O]}return C},x=function(){Xt.clear(c.current),l([])},b=function(y){l(function(g){return m(g,y,!1)})},j=function(y){var g=xe.isNotEmpty(y._pId)?y._pId:y.message||y;l(function(v){return v.filter(function(C){return C._pId!==y._pId&&!xe.deepEquals(C.message,g)})}),a.onRemove&&a.onRemove(y.message||g)},w=function(y){j(y)},I=function(){a.onShow&&a.onShow()},T=function(){s.length===1&&Xt.clear(c.current),a.onHide&&a.onHide()};Rt(function(){Xt.set("toast",c.current,n&&n.autoZIndex||St.autoZIndex,a.baseZIndex||n&&n.zIndex.toast||St.zIndex.toast)},[s,a.baseZIndex]),_i(function(){Xt.clear(c.current)}),h.useImperativeHandle(t,function(){return{props:a,show:p,replace:b,remove:j,clear:x,getElement:function(){return c.current}}});var N=function(){var y=r({ref:c,id:a.id,className:d.cx("root",{context:n}),style:d.sx("root")},ua.getOtherProps(a),d.ptm("root")),g=r({classNames:d.cx("transition"),timeout:{enter:300,exit:300},options:a.transitionOptions,unmountOnExit:!0,onEntered:I,onExited:T},d.ptm("transition"));return h.createElement("div",y,h.createElement(Gi,null,s&&s.map(function(v,C){var k=h.createRef();return h.createElement($i,ci({nodeRef:k,key:v._pId},g),e.content?xe.getJSXElement(e.content,{message:v.message}):h.createElement(pu,{hostName:"Toast",ref:k,messageInfo:v,index:C,onClick:a.onClick,onClose:w,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,closeIcon:a.closeIcon,ptCallbacks:d,metaData:f}))})))},D=N();return h.createElement(zi,{element:D,appendTo:a.appendTo})}));mu.displayName="Toast";function ot(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ot(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var jo={exports:{}},So={},ko={exports:{}},Eo={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs;function Im(){if(Qs)return Eo;Qs=1;var e=Kc();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function s(d,p){var m=p(),x=n({inst:{value:m,getSnapshot:p}}),b=x[0].inst,j=x[1];return o(function(){b.value=m,b.getSnapshot=p,l(b)&&j({inst:b})},[d,m,p]),a(function(){return l(b)&&j({inst:b}),d(function(){l(b)&&j({inst:b})})},[d]),i(m),m}function l(d){var p=d.getSnapshot;d=d.value;try{var m=p();return!r(d,m)}catch{return!0}}function c(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return Eo.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Eo}var el;function Tm(){return el||(el=1,ko.exports=Im()),ko.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl;function Pm(){if(tl)return So;tl=1;var e=Kc(),t=Tm();function r(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,o=e.useRef,i=e.useEffect,s=e.useMemo,l=e.useDebugValue;return So.useSyncExternalStoreWithSelector=function(c,f,d,p,m){var x=o(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=s(function(){function w(E){if(!I){if(I=!0,T=E,E=p(E),m!==void 0&&b.hasValue){var y=b.value;if(m(y,E))return N=y}return N=E}if(y=N,n(T,E))return y;var g=p(E);return m!==void 0&&m(y,g)?(T=E,y):(T=E,N=g)}var I=!1,T,N,D=d===void 0?null:d;return[function(){return w(f())},D===null?void 0:function(){return w(D())}]},[f,d,p,m]);var j=a(c,x[0],x[1]);return i(function(){b.hasValue=!0,b.value=j},[j]),l(j),j},So}var rl;function Om(){return rl||(rl=1,jo.exports=Pm()),jo.exports}var Rm=Om();const Mm=op(Rm),Am={},nl=e=>{let t;const r=new Set,n=(f,d)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const m=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(x=>x(t,m))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(Am?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,a,l);return l},Lm=e=>e?nl(e):nl,{useDebugValue:Fm}=B,{useSyncExternalStoreWithSelector:Bm}=Mm,_m=e=>e;function gu(e,t=_m,r){const n=Bm(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Fm(n),n}const al=(e,t)=>{const r=Lm(e),n=(a,o=t)=>gu(r,a,o);return Object.assign(n,r),n},$m=(e,t)=>e?al(e,t):al;function vt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var zm={value:()=>{}};function to(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Na(r)}function Na(e){this._=e}function Hm(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Na.prototype=to.prototype={constructor:Na,on:function(e,t){var r=this._,n=Hm(e+"",r),a,o=-1,i=n.length;if(arguments.length<2){for(;++o<i;)if((a=(e=n[o]).type)&&(a=Vm(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<i;)if(a=(e=n[o]).type)r[a]=ol(r[a],e.name,t);else if(t==null)for(a in r)r[a]=ol(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Na(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function Vm(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function ol(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=zm,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var fi="http://www.w3.org/1999/xhtml";const il={svg:"http://www.w3.org/2000/svg",xhtml:fi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ro(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),il.hasOwnProperty(t)?{space:il[t],local:e}:e}function Gm(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===fi&&t.documentElement.namespaceURI===fi?t.createElement(e):t.createElementNS(r,e)}}function Um(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hu(e){var t=ro(e);return(t.local?Um:Gm)(t)}function Wm(){}function Xi(e){return e==null?Wm:function(){return this.querySelector(e)}}function qm(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,s=n[a]=new Array(i),l,c,f=0;f<i;++f)(l=o[f])&&(c=e.call(l,l.__data__,f,o))&&("__data__"in l&&(c.__data__=l.__data__),s[f]=c);return new Dt(n,this._parents)}function Xm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ym(){return[]}function vu(e){return e==null?Ym:function(){return this.querySelectorAll(e)}}function Km(e){return function(){return Xm(e.apply(this,arguments))}}function Zm(e){typeof e=="function"?e=Km(e):e=vu(e);for(var t=this._groups,r=t.length,n=[],a=[],o=0;o<r;++o)for(var i=t[o],s=i.length,l,c=0;c<s;++c)(l=i[c])&&(n.push(e.call(l,l.__data__,c,i)),a.push(l));return new Dt(n,a)}function yu(e){return function(){return this.matches(e)}}function bu(e){return function(t){return t.matches(e)}}var Jm=Array.prototype.find;function Qm(e){return function(){return Jm.call(this.children,e)}}function eg(){return this.firstElementChild}function tg(e){return this.select(e==null?eg:Qm(typeof e=="function"?e:bu(e)))}var rg=Array.prototype.filter;function ng(){return Array.from(this.children)}function ag(e){return function(){return rg.call(this.children,e)}}function og(e){return this.selectAll(e==null?ng:ag(typeof e=="function"?e:bu(e)))}function ig(e){typeof e!="function"&&(e=yu(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,s=n[a]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new Dt(n,this._parents)}function xu(e){return new Array(e.length)}function sg(){return new Dt(this._enter||this._groups.map(xu),this._parents)}function Ma(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ma.prototype={constructor:Ma,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function lg(e){return function(){return e}}function cg(e,t,r,n,a,o){for(var i=0,s,l=t.length,c=o.length;i<c;++i)(s=t[i])?(s.__data__=o[i],n[i]=s):r[i]=new Ma(e,o[i]);for(;i<l;++i)(s=t[i])&&(a[i]=s)}function ug(e,t,r,n,a,o,i){var s,l,c=new Map,f=t.length,d=o.length,p=new Array(f),m;for(s=0;s<f;++s)(l=t[s])&&(p[s]=m=i.call(l,l.__data__,s,t)+"",c.has(m)?a[s]=l:c.set(m,l));for(s=0;s<d;++s)m=i.call(e,o[s],s,o)+"",(l=c.get(m))?(n[s]=l,l.__data__=o[s],c.delete(m)):r[s]=new Ma(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c.get(p[s])===l&&(a[s]=l)}function dg(e){return e.__data__}function fg(e,t){if(!arguments.length)return Array.from(this,dg);var r=t?ug:cg,n=this._parents,a=this._groups;typeof e!="function"&&(e=lg(e));for(var o=a.length,i=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var f=n[c],d=a[c],p=d.length,m=pg(e.call(f,f&&f.__data__,c,n)),x=m.length,b=s[c]=new Array(x),j=i[c]=new Array(x),w=l[c]=new Array(p);r(f,d,b,j,w,m,t);for(var I=0,T=0,N,D;I<x;++I)if(N=b[I]){for(I>=T&&(T=I+1);!(D=j[T])&&++T<x;);N._next=D||null}}return i=new Dt(i,n),i._enter=s,i._exit=l,i}function pg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mg(){return new Dt(this._exit||this._groups.map(xu),this._parents)}function gg(e,t,r){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?o.remove():r(o),n&&a?n.merge(a).order():a}function hg(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,o=n.length,i=Math.min(a,o),s=new Array(a),l=0;l<i;++l)for(var c=r[l],f=n[l],d=c.length,p=s[l]=new Array(d),m,x=0;x<d;++x)(m=c[x]||f[x])&&(p[x]=m);for(;l<a;++l)s[l]=r[l];return new Dt(s,this._parents)}function vg(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,o=n[a],i;--a>=0;)(i=n[a])&&(o&&i.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(i,o),o=i);return this}function yg(e){e||(e=bg);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var r=this._groups,n=r.length,a=new Array(n),o=0;o<n;++o){for(var i=r[o],s=i.length,l=a[o]=new Array(s),c,f=0;f<s;++f)(c=i[f])&&(l[f]=c);l.sort(t)}return new Dt(a,this._parents).order()}function bg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wg(){return Array.from(this)}function Cg(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var i=n[a];if(i)return i}return null}function jg(){let e=0;for(const t of this)++e;return e}function Sg(){return!this.node()}function kg(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],o=0,i=a.length,s;o<i;++o)(s=a[o])&&e.call(s,s.__data__,o,a);return this}function Eg(e){return function(){this.removeAttribute(e)}}function Ng(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Dg(e,t){return function(){this.setAttribute(e,t)}}function Ig(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Tg(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Pg(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Og(e,t){var r=ro(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Ng:Eg:typeof t=="function"?r.local?Pg:Tg:r.local?Ig:Dg)(r,t))}function wu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Rg(e){return function(){this.style.removeProperty(e)}}function Mg(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Ag(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Lg(e,t,r){return arguments.length>1?this.each((t==null?Rg:typeof t=="function"?Ag:Mg)(e,t,r??"")):nn(this.node(),e)}function nn(e,t){return e.style.getPropertyValue(t)||wu(e).getComputedStyle(e,null).getPropertyValue(t)}function Fg(e){return function(){delete this[e]}}function Bg(e,t){return function(){this[e]=t}}function _g(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function $g(e,t){return arguments.length>1?this.each((t==null?Fg:typeof t=="function"?_g:Bg)(e,t)):this.node()[e]}function Cu(e){return e.trim().split(/^|\s+/)}function Yi(e){return e.classList||new ju(e)}function ju(e){this._node=e,this._names=Cu(e.getAttribute("class")||"")}ju.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Su(e,t){for(var r=Yi(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function ku(e,t){for(var r=Yi(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function zg(e){return function(){Su(this,e)}}function Hg(e){return function(){ku(this,e)}}function Vg(e,t){return function(){(t.apply(this,arguments)?Su:ku)(this,e)}}function Gg(e,t){var r=Cu(e+"");if(arguments.length<2){for(var n=Yi(this.node()),a=-1,o=r.length;++a<o;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?Vg:t?zg:Hg)(r,t))}function Ug(){this.textContent=""}function Wg(e){return function(){this.textContent=e}}function qg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Xg(e){return arguments.length?this.each(e==null?Ug:(typeof e=="function"?qg:Wg)(e)):this.node().textContent}function Yg(){this.innerHTML=""}function Kg(e){return function(){this.innerHTML=e}}function Zg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Jg(e){return arguments.length?this.each(e==null?Yg:(typeof e=="function"?Zg:Kg)(e)):this.node().innerHTML}function Qg(){this.nextSibling&&this.parentNode.appendChild(this)}function eh(){return this.each(Qg)}function th(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rh(){return this.each(th)}function nh(e){var t=typeof e=="function"?e:hu(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ah(){return null}function oh(e,t){var r=typeof e=="function"?e:hu(e),n=t==null?ah:typeof t=="function"?t:Xi(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function ih(){var e=this.parentNode;e&&e.removeChild(this)}function sh(){return this.each(ih)}function lh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ch(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uh(e){return this.select(e?ch:lh)}function dh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fh(e){return function(t){e.call(this,t,this.__data__)}}function ph(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function mh(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,o;r<a;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function gh(e,t,r){return function(){var n=this.__on,a,o=fh(t);if(n){for(var i=0,s=n.length;i<s;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=t;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(a):this.__on=[a]}}function hh(e,t,r){var n=ph(e+""),a,o=n.length,i;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,f;l<c;++l)for(a=0,f=s[l];a<o;++a)if((i=n[a]).type===f.type&&i.name===f.name)return f.value}return}for(s=t?gh:mh,a=0;a<o;++a)this.each(s(n[a],t,r));return this}function Eu(e,t,r){var n=wu(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function vh(e,t){return function(){return Eu(this,e,t)}}function yh(e,t){return function(){return Eu(this,e,t.apply(this,arguments))}}function bh(e,t){return this.each((typeof t=="function"?yh:vh)(e,t))}function*xh(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,o=n.length,i;a<o;++a)(i=n[a])&&(yield i)}var Nu=[null];function Dt(e,t){this._groups=e,this._parents=t}function ta(){return new Dt([[document.documentElement]],Nu)}function wh(){return this}Dt.prototype=ta.prototype={constructor:Dt,select:qm,selectAll:Zm,selectChild:tg,selectChildren:og,filter:ig,data:fg,enter:sg,exit:mg,join:gg,merge:hg,selection:wh,order:vg,sort:yg,call:xg,nodes:wg,node:Cg,size:jg,empty:Sg,each:kg,attr:Og,style:Lg,property:$g,classed:Gg,text:Xg,html:Jg,raise:eh,lower:rh,append:nh,insert:oh,remove:sh,clone:uh,datum:dh,on:hh,dispatch:bh,[Symbol.iterator]:xh};function $t(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],Nu)}function Ch(e){let t;for(;t=e.sourceEvent;)e=t;return e}function qt(e,t){if(e=Ch(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const jh={passive:!1},_n={capture:!0,passive:!1};function No(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function Du(e){var t=e.document.documentElement,r=$t(e).on("dragstart.drag",Zr,_n);"onselectstart"in t?r.on("selectstart.drag",Zr,_n):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Iu(e,t){var r=e.document.documentElement,n=$t(e).on("dragstart.drag",null);t&&(n.on("click.drag",Zr,_n),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const da=e=>()=>e;function pi(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:o,x:i,y:s,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}pi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Sh(e){return!e.ctrlKey&&!e.button}function kh(){return this.parentNode}function Eh(e,t){return t??{x:e.x,y:e.y}}function Nh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dh(){var e=Sh,t=kh,r=Eh,n=Nh,a={},o=to("start","drag","end"),i=0,s,l,c,f,d=0;function p(N){N.on("mousedown.drag",m).filter(n).on("touchstart.drag",j).on("touchmove.drag",w,jh).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(N,D){if(!(f||!e.call(this,N,D))){var E=T(this,t.call(this,N,D),N,D,"mouse");E&&($t(N.view).on("mousemove.drag",x,_n).on("mouseup.drag",b,_n),Du(N.view),No(N),c=!1,s=N.clientX,l=N.clientY,E("start",N))}}function x(N){if(Zr(N),!c){var D=N.clientX-s,E=N.clientY-l;c=D*D+E*E>d}a.mouse("drag",N)}function b(N){$t(N.view).on("mousemove.drag mouseup.drag",null),Iu(N.view,c),Zr(N),a.mouse("end",N)}function j(N,D){if(e.call(this,N,D)){var E=N.changedTouches,y=t.call(this,N,D),g=E.length,v,C;for(v=0;v<g;++v)(C=T(this,y,N,D,E[v].identifier,E[v]))&&(No(N),C("start",N,E[v]))}}function w(N){var D=N.changedTouches,E=D.length,y,g;for(y=0;y<E;++y)(g=a[D[y].identifier])&&(Zr(N),g("drag",N,D[y]))}function I(N){var D=N.changedTouches,E=D.length,y,g;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),y=0;y<E;++y)(g=a[D[y].identifier])&&(No(N),g("end",N,D[y]))}function T(N,D,E,y,g,v){var C=o.copy(),k=qt(v||E,D),O,P,S;if((S=r.call(N,new pi("beforestart",{sourceEvent:E,target:p,identifier:g,active:i,x:k[0],y:k[1],dx:0,dy:0,dispatch:C}),y))!=null)return O=S.x-k[0]||0,P=S.y-k[1]||0,function R(A,_,L){var M=k,F;switch(A){case"start":a[g]=R,F=i++;break;case"end":delete a[g],--i;case"drag":k=qt(L||_,D),F=i;break}C.call(A,N,new pi(A,{sourceEvent:_,subject:S,target:p,identifier:g,active:F,x:k[0]+O,y:k[1]+P,dx:k[0]-M[0],dy:k[1]-M[1],dispatch:C}),y)}}return p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:da(!!N),p):e},p.container=function(N){return arguments.length?(t=typeof N=="function"?N:da(N),p):t},p.subject=function(N){return arguments.length?(r=typeof N=="function"?N:da(N),p):r},p.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:da(!!N),p):n},p.on=function(){var N=o.on.apply(o,arguments);return N===o?p:N},p.clickDistance=function(N){return arguments.length?(d=(N=+N)*N,p):Math.sqrt(d)},p}function Ki(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Tu(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ra(){}var $n=.7,Aa=1/$n,Jr="\\s*([+-]?\\d+)\\s*",zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ih=/^#([0-9a-f]{3,8})$/,Th=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),Ph=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),Oh=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${zn}\\)$`),Rh=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${zn}\\)$`),Mh=new RegExp(`^hsl\\(${zn},${Yt},${Yt}\\)$`),Ah=new RegExp(`^hsla\\(${zn},${Yt},${Yt},${zn}\\)$`),sl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ki(ra,Hn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ll,formatHex:ll,formatHex8:Lh,formatHsl:Fh,formatRgb:cl,toString:cl});function ll(){return this.rgb().formatHex()}function Lh(){return this.rgb().formatHex8()}function Fh(){return Pu(this).formatHsl()}function cl(){return this.rgb().formatRgb()}function Hn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ih.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ul(t):r===3?new gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Th.exec(e))?new gt(t[1],t[2],t[3],1):(t=Ph.exec(e))?new gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Oh.exec(e))?fa(t[1],t[2],t[3],t[4]):(t=Rh.exec(e))?fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mh.exec(e))?pl(t[1],t[2]/100,t[3]/100,1):(t=Ah.exec(e))?pl(t[1],t[2]/100,t[3]/100,t[4]):sl.hasOwnProperty(e)?ul(sl[e]):e==="transparent"?new gt(NaN,NaN,NaN,0):null}function ul(e){return new gt(e>>16&255,e>>8&255,e&255,1)}function fa(e,t,r,n){return n<=0&&(e=t=r=NaN),new gt(e,t,r,n)}function Bh(e){return e instanceof ra||(e=Hn(e)),e?(e=e.rgb(),new gt(e.r,e.g,e.b,e.opacity)):new gt}function mi(e,t,r,n){return arguments.length===1?Bh(e):new gt(e,t,r,n??1)}function gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ki(gt,mi,Tu(ra,{brighter(e){return e=e==null?Aa:Math.pow(Aa,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gt(Mr(this.r),Mr(this.g),Mr(this.b),La(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dl,formatHex:dl,formatHex8:_h,formatRgb:fl,toString:fl}));function dl(){return`#${Or(this.r)}${Or(this.g)}${Or(this.b)}`}function _h(){return`#${Or(this.r)}${Or(this.g)}${Or(this.b)}${Or((isNaN(this.opacity)?1:this.opacity)*255)}`}function fl(){const e=La(this.opacity);return`${e===1?"rgb(":"rgba("}${Mr(this.r)}, ${Mr(this.g)}, ${Mr(this.b)}${e===1?")":`, ${e})`}`}function La(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Or(e){return e=Mr(e),(e<16?"0":"")+e.toString(16)}function pl(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new zt(e,t,r,n)}function Pu(e){if(e instanceof zt)return new zt(e.h,e.s,e.l,e.opacity);if(e instanceof ra||(e=Hn(e)),!e)return new zt;if(e instanceof zt)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,l=(o+a)/2;return s?(t===o?i=(r-n)/s+(r<n)*6:r===o?i=(n-t)/s+2:i=(t-r)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new zt(i,s,l,e.opacity)}function $h(e,t,r,n){return arguments.length===1?Pu(e):new zt(e,t,r,n??1)}function zt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ki(zt,$h,Tu(ra,{brighter(e){return e=e==null?Aa:Math.pow(Aa,e),new zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new gt(Do(e>=240?e-240:e+120,a,n),Do(e,a,n),Do(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new zt(ml(this.h),pa(this.s),pa(this.l),La(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=La(this.opacity);return`${e===1?"hsl(":"hsla("}${ml(this.h)}, ${pa(this.s)*100}%, ${pa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ml(e){return e=(e||0)%360,e<0?e+360:e}function pa(e){return Math.max(0,Math.min(1,e||0))}function Do(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ou=e=>()=>e;function zh(e,t){return function(r){return e+r*t}}function Hh(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Vh(e){return(e=+e)==1?Ru:function(t,r){return r-t?Hh(t,r,e):Ou(isNaN(t)?r:t)}}function Ru(e,t){var r=t-e;return r?zh(e,r):Ou(isNaN(e)?t:e)}const gl=(function e(t){var r=Vh(t);function n(a,o){var i=r((a=mi(a)).r,(o=mi(o)).r),s=r(a.g,o.g),l=r(a.b,o.b),c=Ru(a.opacity,o.opacity);return function(f){return a.r=i(f),a.g=s(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n})(1);function pr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var gi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Io=new RegExp(gi.source,"g");function Gh(e){return function(){return e}}function Uh(e){return function(t){return e(t)+""}}function Wh(e,t){var r=gi.lastIndex=Io.lastIndex=0,n,a,o,i=-1,s=[],l=[];for(e=e+"",t=t+"";(n=gi.exec(e))&&(a=Io.exec(t));)(o=a.index)>r&&(o=t.slice(r,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i,x:pr(n,a)})),r=Io.lastIndex;return r<t.length&&(o=t.slice(r),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?Uh(l[0].x):Gh(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)s[(d=l[f]).i]=d.x(c);return s.join("")})}var hl=180/Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mu(e,t,r,n,a,o){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*hl,skewX:Math.atan(l)*hl,scaleX:i,scaleY:s}}var ma;function qh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hi:Mu(t.a,t.b,t.c,t.d,t.e,t.f)}function Xh(e){return e==null||(ma||(ma=document.createElementNS("http://www.w3.org/2000/svg","g")),ma.setAttribute("transform",e),!(e=ma.transform.baseVal.consolidate()))?hi:(e=e.matrix,Mu(e.a,e.b,e.c,e.d,e.e,e.f))}function Au(e,t,r,n){function a(c){return c.length?c.pop()+" ":""}function o(c,f,d,p,m,x){if(c!==d||f!==p){var b=m.push("translate(",null,t,null,r);x.push({i:b-4,x:pr(c,d)},{i:b-2,x:pr(f,p)})}else(d||p)&&m.push("translate("+d+t+p+r)}function i(c,f,d,p){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),p.push({i:d.push(a(d)+"rotate(",null,n)-2,x:pr(c,f)})):f&&d.push(a(d)+"rotate("+f+n)}function s(c,f,d,p){c!==f?p.push({i:d.push(a(d)+"skewX(",null,n)-2,x:pr(c,f)}):f&&d.push(a(d)+"skewX("+f+n)}function l(c,f,d,p,m,x){if(c!==d||f!==p){var b=m.push(a(m)+"scale(",null,",",null,")");x.push({i:b-4,x:pr(c,d)},{i:b-2,x:pr(f,p)})}else(d!==1||p!==1)&&m.push(a(m)+"scale("+d+","+p+")")}return function(c,f){var d=[],p=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,d,p),i(c.rotate,f.rotate,d,p),s(c.skewX,f.skewX,d,p),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,p),c=f=null,function(m){for(var x=-1,b=p.length,j;++x<b;)d[(j=p[x]).i]=j.x(m);return d.join("")}}}var Yh=Au(qh,"px, ","px)","deg)"),Kh=Au(Xh,", ",")",")"),Zh=1e-12;function vl(e){return((e=Math.exp(e))+1/e)/2}function Jh(e){return((e=Math.exp(e))-1/e)/2}function Qh(e){return((e=Math.exp(2*e))-1)/(e+1)}const ev=(function e(t,r,n){function a(o,i){var s=o[0],l=o[1],c=o[2],f=i[0],d=i[1],p=i[2],m=f-s,x=d-l,b=m*m+x*x,j,w;if(b<Zh)w=Math.log(p/c)/t,j=function(y){return[s+y*m,l+y*x,c*Math.exp(t*y*w)]};else{var I=Math.sqrt(b),T=(p*p-c*c+n*b)/(2*c*r*I),N=(p*p-c*c-n*b)/(2*p*r*I),D=Math.log(Math.sqrt(T*T+1)-T),E=Math.log(Math.sqrt(N*N+1)-N);w=(E-D)/t,j=function(y){var g=y*w,v=vl(D),C=c/(r*I)*(v*Qh(t*g+D)-Jh(D));return[s+C*m,l+C*x,c*v/vl(t*g+D)]}}return j.duration=w*1e3*t/Math.SQRT2,j}return a.rho=function(o){var i=Math.max(.001,+o),s=i*i,l=s*s;return e(i,s,l)},a})(Math.SQRT2,2,4);var an=0,In=0,bn=0,Lu=1e3,Fa,Tn,Ba=0,Lr=0,no=0,Vn=typeof performance=="object"&&performance.now?performance:Date,Fu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zi(){return Lr||(Fu(tv),Lr=Vn.now()+no)}function tv(){Lr=0}function _a(){this._call=this._time=this._next=null}_a.prototype=Bu.prototype={constructor:_a,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Zi():+r)+(t==null?0:+t),!this._next&&Tn!==this&&(Tn?Tn._next=this:Fa=this,Tn=this),this._call=e,this._time=r,vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,vi())}};function Bu(e,t,r){var n=new _a;return n.restart(e,t,r),n}function rv(){Zi(),++an;for(var e=Fa,t;e;)(t=Lr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--an}function yl(){Lr=(Ba=Vn.now())+no,an=In=0;try{rv()}finally{an=0,av(),Lr=0}}function nv(){var e=Vn.now(),t=e-Ba;t>Lu&&(no-=t,Ba=e)}function av(){for(var e,t=Fa,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Fa=r);Tn=e,vi(n)}function vi(e){if(!an){In&&(In=clearTimeout(In));var t=e-Lr;t>24?(e<1/0&&(In=setTimeout(yl,e-Vn.now()-no)),bn&&(bn=clearInterval(bn))):(bn||(Ba=Vn.now(),bn=setInterval(nv,Lu)),an=1,Fu(yl))}}function bl(e,t,r){var n=new _a;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var ov=to("start","end","cancel","interrupt"),iv=[],_u=0,xl=1,yi=2,Da=3,wl=4,bi=5,Ia=6;function ao(e,t,r,n,a,o){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;sv(e,r,{name:t,index:n,group:a,on:ov,tween:iv,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:_u})}function Ji(e,t){var r=Gt(e,t);if(r.state>_u)throw new Error("too late; already scheduled");return r}function Kt(e,t){var r=Gt(e,t);if(r.state>Da)throw new Error("too late; already running");return r}function Gt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function sv(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=Bu(o,0,r.time);function o(c){r.state=xl,r.timer.restart(i,r.delay,r.time),r.delay<=c&&i(c-r.delay)}function i(c){var f,d,p,m;if(r.state!==xl)return l();for(f in n)if(m=n[f],m.name===r.name){if(m.state===Da)return bl(i);m.state===wl?(m.state=Ia,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[f]):+f<t&&(m.state=Ia,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[f])}if(bl(function(){r.state===Da&&(r.state=wl,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=yi,r.on.call("start",e,e.__data__,r.index,r.group),r.state===yi){for(r.state=Da,a=new Array(p=r.tween.length),f=0,d=-1;f<p;++f)(m=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++d]=m);a.length=d+1}}function s(c){for(var f=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=bi,1),d=-1,p=a.length;++d<p;)a[d].call(e,f);r.state===bi&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Ia,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Ta(e,t){var r=e.__transition,n,a,o=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){o=!1;continue}a=n.state>yi&&n.state<bi,n.state=Ia,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}o&&delete e.__transition}}function lv(e){return this.each(function(){Ta(this,e)})}function cv(e,t){var r,n;return function(){var a=Kt(this,e),o=a.tween;if(o!==r){n=r=o;for(var i=0,s=n.length;i<s;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function uv(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var o=Kt(this,e),i=o.tween;if(i!==n){a=(n=i).slice();for(var s={name:t,value:r},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}o.tween=a}}function dv(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Gt(this.node(),r).tween,a=0,o=n.length,i;a<o;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?cv:uv)(r,e,t))}function Qi(e,t,r){var n=e._id;return e.each(function(){var a=Kt(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Gt(a,n).value[t]}}function $u(e,t){var r;return(typeof t=="number"?pr:t instanceof Hn?gl:(r=Hn(t))?(t=r,gl):Wh)(e,t)}function fv(e){return function(){this.removeAttribute(e)}}function pv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mv(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttribute(e);return i===a?null:i===n?o:o=t(n=i,r)}}function gv(e,t,r){var n,a=r+"",o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?o:o=t(n=i,r)}}function hv(e,t,r){var n,a,o;return function(){var i,s=r(this),l;return s==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=s+"",i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,s)))}}function vv(e,t,r){var n,a,o;return function(){var i,s=r(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=s+"",i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,s)))}}function yv(e,t){var r=ro(e),n=r==="transform"?Kh:$u;return this.attrTween(e,typeof t=="function"?(r.local?vv:hv)(r,n,Qi(this,"attr."+e,t)):t==null?(r.local?pv:fv)(r):(r.local?gv:mv)(r,n,t))}function bv(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function xv(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function wv(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&xv(e,o)),r}return a._value=t,a}function Cv(e,t){var r,n;function a(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&bv(e,o)),r}return a._value=t,a}function jv(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=ro(e);return this.tween(r,(n.local?wv:Cv)(n,t))}function Sv(e,t){return function(){Ji(this,e).delay=+t.apply(this,arguments)}}function kv(e,t){return t=+t,function(){Ji(this,e).delay=t}}function Ev(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Sv:kv)(t,e)):Gt(this.node(),t).delay}function Nv(e,t){return function(){Kt(this,e).duration=+t.apply(this,arguments)}}function Dv(e,t){return t=+t,function(){Kt(this,e).duration=t}}function Iv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Nv:Dv)(t,e)):Gt(this.node(),t).duration}function Tv(e,t){if(typeof t!="function")throw new Error;return function(){Kt(this,e).ease=t}}function Pv(e){var t=this._id;return arguments.length?this.each(Tv(t,e)):Gt(this.node(),t).ease}function Ov(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Kt(this,e).ease=r}}function Rv(e){if(typeof e!="function")throw new Error;return this.each(Ov(this._id,e))}function Mv(e){typeof e!="function"&&(e=yu(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var o=t[a],i=o.length,s=n[a]=[],l,c=0;c<i;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&s.push(l);return new sr(n,this._parents,this._name,this._id)}function Av(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,o=Math.min(n,a),i=new Array(n),s=0;s<o;++s)for(var l=t[s],c=r[s],f=l.length,d=i[s]=new Array(f),p,m=0;m<f;++m)(p=l[m]||c[m])&&(d[m]=p);for(;s<n;++s)i[s]=t[s];return new sr(i,this._parents,this._name,this._id)}function Lv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Fv(e,t,r){var n,a,o=Lv(t)?Ji:Kt;return function(){var i=o(this,e),s=i.on;s!==n&&(a=(n=s).copy()).on(t,r),i.on=a}}function Bv(e,t){var r=this._id;return arguments.length<2?Gt(this.node(),r).on.on(e):this.each(Fv(r,e,t))}function _v(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function $v(){return this.on("end.remove",_v(this._id))}function zv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Xi(e));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var s=n[i],l=s.length,c=o[i]=new Array(l),f,d,p=0;p<l;++p)(f=s[p])&&(d=e.call(f,f.__data__,p,s))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d,ao(c[p],t,r,p,c,Gt(f,r)));return new sr(o,this._parents,t,r)}function Hv(e){var t=this._name,r=this._id;typeof e!="function"&&(e=vu(e));for(var n=this._groups,a=n.length,o=[],i=[],s=0;s<a;++s)for(var l=n[s],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var p=e.call(f,f.__data__,d,l),m,x=Gt(f,r),b=0,j=p.length;b<j;++b)(m=p[b])&&ao(m,t,r,b,p,x);o.push(p),i.push(f)}return new sr(o,i,t,r)}var Vv=ta.prototype.constructor;function Gv(){return new Vv(this._groups,this._parents)}function Uv(e,t){var r,n,a;return function(){var o=nn(this,e),i=(this.style.removeProperty(e),nn(this,e));return o===i?null:o===r&&i===n?a:a=t(r=o,n=i)}}function zu(e){return function(){this.style.removeProperty(e)}}function Wv(e,t,r){var n,a=r+"",o;return function(){var i=nn(this,e);return i===a?null:i===n?o:o=t(n=i,r)}}function qv(e,t,r){var n,a,o;return function(){var i=nn(this,e),s=r(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),nn(this,e))),i===l?null:i===n&&l===a?o:(a=l,o=t(n=i,s))}}function Xv(e,t){var r,n,a,o="style."+t,i="end."+o,s;return function(){var l=Kt(this,e),c=l.on,f=l.value[o]==null?s||(s=zu(t)):void 0;(c!==r||a!==f)&&(n=(r=c).copy()).on(i,a=f),l.on=n}}function Yv(e,t,r){var n=(e+="")=="transform"?Yh:$u;return t==null?this.styleTween(e,Uv(e,n)).on("end.style."+e,zu(e)):typeof t=="function"?this.styleTween(e,qv(e,n,Qi(this,"style."+e,t))).each(Xv(this._id,e)):this.styleTween(e,Wv(e,n,t),r).on("end.style."+e,null)}function Kv(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Zv(e,t,r){var n,a;function o(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&Kv(e,i,r)),n}return o._value=t,o}function Jv(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Zv(e,t,r??""))}function Qv(e){return function(){this.textContent=e}}function e0(e){return function(){var t=e(this);this.textContent=t??""}}function t0(e){return this.tween("text",typeof e=="function"?e0(Qi(this,"text",e)):Qv(e==null?"":e+""))}function r0(e){return function(t){this.textContent=e.call(this,t)}}function n0(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&r0(a)),t}return n._value=e,n}function a0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,n0(e))}function o0(){for(var e=this._name,t=this._id,r=Hu(),n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],s=i.length,l,c=0;c<s;++c)if(l=i[c]){var f=Gt(l,t);ao(l,e,r,c,i,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new sr(n,this._parents,e,r)}function i0(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(o,i){var s={value:i},l={value:function(){--a===0&&o()}};r.each(function(){var c=Kt(this,n),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),a===0&&o()})}var s0=0;function sr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Hu(){return++s0}var ar=ta.prototype;sr.prototype={constructor:sr,select:zv,selectAll:Hv,selectChild:ar.selectChild,selectChildren:ar.selectChildren,filter:Mv,merge:Av,selection:Gv,transition:o0,call:ar.call,nodes:ar.nodes,node:ar.node,size:ar.size,empty:ar.empty,each:ar.each,on:Bv,attr:yv,attrTween:jv,style:Yv,styleTween:Jv,text:t0,textTween:a0,remove:$v,tween:dv,delay:Ev,duration:Iv,ease:Pv,easeVarying:Rv,end:i0,[Symbol.iterator]:ar[Symbol.iterator]};function l0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var c0={time:null,delay:0,duration:250,ease:l0};function u0(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function d0(e){var t,r;e instanceof sr?(t=e._id,e=e._name):(t=Hu(),(r=c0).time=Zi(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var i=n[o],s=i.length,l,c=0;c<s;++c)(l=i[c])&&ao(l,e,t,c,i,r||u0(l,t));return new sr(n,this._parents,e,t)}ta.prototype.interrupt=lv;ta.prototype.transition=d0;const ga=e=>()=>e;function f0(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function ir(e,t,r){this.k=e,this.x=t,this.y=r}ir.prototype={constructor:ir,scale:function(e){return e===1?this:new ir(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ir(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hr=new ir(1,0,0);ir.prototype;function To(e){e.stopImmediatePropagation()}function xn(e){e.preventDefault(),e.stopImmediatePropagation()}function p0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function m0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Cl(){return this.__zoom||hr}function g0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function h0(){return navigator.maxTouchPoints||"ontouchstart"in this}function v0(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function y0(){var e=p0,t=m0,r=v0,n=g0,a=h0,o=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],s=250,l=ev,c=to("start","zoom","end"),f,d,p,m=500,x=150,b=0,j=10;function w(S){S.property("__zoom",Cl).on("wheel.zoom",g,{passive:!1}).on("mousedown.zoom",v).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(S,R,A,_){var L=S.selection?S.selection():S;L.property("__zoom",Cl),S!==L?D(S,R,A,_):L.interrupt().each(function(){E(this,arguments).event(_).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},w.scaleBy=function(S,R,A,_){w.scaleTo(S,function(){var L=this.__zoom.k,M=typeof R=="function"?R.apply(this,arguments):R;return L*M},A,_)},w.scaleTo=function(S,R,A,_){w.transform(S,function(){var L=t.apply(this,arguments),M=this.__zoom,F=A==null?N(L):typeof A=="function"?A.apply(this,arguments):A,H=M.invert(F),z=typeof R=="function"?R.apply(this,arguments):R;return r(T(I(M,z),F,H),L,i)},A,_)},w.translateBy=function(S,R,A,_){w.transform(S,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),i)},null,_)},w.translateTo=function(S,R,A,_,L){w.transform(S,function(){var M=t.apply(this,arguments),F=this.__zoom,H=_==null?N(M):typeof _=="function"?_.apply(this,arguments):_;return r(hr.translate(H[0],H[1]).scale(F.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof A=="function"?-A.apply(this,arguments):-A),M,i)},_,L)};function I(S,R){return R=Math.max(o[0],Math.min(o[1],R)),R===S.k?S:new ir(R,S.x,S.y)}function T(S,R,A){var _=R[0]-A[0]*S.k,L=R[1]-A[1]*S.k;return _===S.x&&L===S.y?S:new ir(S.k,_,L)}function N(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function D(S,R,A,_){S.on("start.zoom",function(){E(this,arguments).event(_).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(_).end()}).tween("zoom",function(){var L=this,M=arguments,F=E(L,M).event(_),H=t.apply(L,M),z=A==null?N(H):typeof A=="function"?A.apply(L,M):A,V=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),W=L.__zoom,$=typeof R=="function"?R.apply(L,M):R,q=l(W.invert(z).concat(V/W.k),$.invert(z).concat(V/$.k));return function(J){if(J===1)J=$;else{var ne=q(J),de=V/ne[2];J=new ir(de,z[0]-ne[0]*de,z[1]-ne[1]*de)}F.zoom(null,J)}})}function E(S,R,A){return!A&&S.__zooming||new y(S,R)}function y(S,R){this.that=S,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,R),this.taps=0}y.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,R){return this.mouse&&S!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var R=$t(this.that).datum();c.call(S,this.that,new f0(S,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),R)}};function g(S,...R){if(!e.apply(this,arguments))return;var A=E(this,R).event(S),_=this.__zoom,L=Math.max(o[0],Math.min(o[1],_.k*Math.pow(2,n.apply(this,arguments)))),M=qt(S);if(A.wheel)(A.mouse[0][0]!==M[0]||A.mouse[0][1]!==M[1])&&(A.mouse[1]=_.invert(A.mouse[0]=M)),clearTimeout(A.wheel);else{if(_.k===L)return;A.mouse=[M,_.invert(M)],Ta(this),A.start()}xn(S),A.wheel=setTimeout(F,x),A.zoom("mouse",r(T(I(_,L),A.mouse[0],A.mouse[1]),A.extent,i));function F(){A.wheel=null,A.end()}}function v(S,...R){if(p||!e.apply(this,arguments))return;var A=S.currentTarget,_=E(this,R,!0).event(S),L=$t(S.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",V,!0),M=qt(S,A),F=S.clientX,H=S.clientY;Du(S.view),To(S),_.mouse=[M,this.__zoom.invert(M)],Ta(this),_.start();function z(W){if(xn(W),!_.moved){var $=W.clientX-F,q=W.clientY-H;_.moved=$*$+q*q>b}_.event(W).zoom("mouse",r(T(_.that.__zoom,_.mouse[0]=qt(W,A),_.mouse[1]),_.extent,i))}function V(W){L.on("mousemove.zoom mouseup.zoom",null),Iu(W.view,_.moved),xn(W),_.event(W).end()}}function C(S,...R){if(e.apply(this,arguments)){var A=this.__zoom,_=qt(S.changedTouches?S.changedTouches[0]:S,this),L=A.invert(_),M=A.k*(S.shiftKey?.5:2),F=r(T(I(A,M),_,L),t.apply(this,R),i);xn(S),s>0?$t(this).transition().duration(s).call(D,F,_,S):$t(this).call(w.transform,F,_,S)}}function k(S,...R){if(e.apply(this,arguments)){var A=S.touches,_=A.length,L=E(this,R,S.changedTouches.length===_).event(S),M,F,H,z;for(To(S),F=0;F<_;++F)H=A[F],z=qt(H,this),z=[z,this.__zoom.invert(z),H.identifier],L.touch0?!L.touch1&&L.touch0[2]!==z[2]&&(L.touch1=z,L.taps=0):(L.touch0=z,M=!0,L.taps=1+!!f);f&&(f=clearTimeout(f)),M&&(L.taps<2&&(d=z[0],f=setTimeout(function(){f=null},m)),Ta(this),L.start())}}function O(S,...R){if(this.__zooming){var A=E(this,R).event(S),_=S.changedTouches,L=_.length,M,F,H,z;for(xn(S),M=0;M<L;++M)F=_[M],H=qt(F,this),A.touch0&&A.touch0[2]===F.identifier?A.touch0[0]=H:A.touch1&&A.touch1[2]===F.identifier&&(A.touch1[0]=H);if(F=A.that.__zoom,A.touch1){var V=A.touch0[0],W=A.touch0[1],$=A.touch1[0],q=A.touch1[1],J=(J=$[0]-V[0])*J+(J=$[1]-V[1])*J,ne=(ne=q[0]-W[0])*ne+(ne=q[1]-W[1])*ne;F=I(F,Math.sqrt(J/ne)),H=[(V[0]+$[0])/2,(V[1]+$[1])/2],z=[(W[0]+q[0])/2,(W[1]+q[1])/2]}else if(A.touch0)H=A.touch0[0],z=A.touch0[1];else return;A.zoom("touch",r(T(F,H,z),A.extent,i))}}function P(S,...R){if(this.__zooming){var A=E(this,R).event(S),_=S.changedTouches,L=_.length,M,F;for(To(S),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),M=0;M<L;++M)F=_[M],A.touch0&&A.touch0[2]===F.identifier?delete A.touch0:A.touch1&&A.touch1[2]===F.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(F=qt(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<j)){var H=$t(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return w.wheelDelta=function(S){return arguments.length?(n=typeof S=="function"?S:ga(+S),w):n},w.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ga(!!S),w):e},w.touchable=function(S){return arguments.length?(a=typeof S=="function"?S:ga(!!S),w):a},w.extent=function(S){return arguments.length?(t=typeof S=="function"?S:ga([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),w):t},w.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],w):[o[0],o[1]]},w.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],w):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},w.constrain=function(S){return arguments.length?(r=S,w):r},w.duration=function(S){return arguments.length?(s=+S,w):s},w.interpolate=function(S){return arguments.length?(l=S,w):l},w.on=function(){var S=c.on.apply(c,arguments);return S===c?w:S},w.clickDistance=function(S){return arguments.length?(b=(S=+S)*S,w):Math.sqrt(b)},w.tapDistance=function(S){return arguments.length?(j=+S,w):j},w}const oo=h.createContext(null),b0=oo.Provider,lr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Vu=lr.error001();function Fe(e,t){const r=h.useContext(oo);if(r===null)throw new Error(Vu);return gu(r,e,t)}const Xe=()=>{const e=h.useContext(oo);if(e===null)throw new Error(Vu);return h.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},x0=e=>e.userSelectionActive?"none":"all";function es({position:e,children:t,className:r,style:n,...a}){const o=Fe(x0),i=`${e}`.split("-");return B.createElement("div",{className:ot(["react-flow__panel",r,...i]),style:{...n,pointerEvents:o},...a},t)}function w0({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:B.createElement(es,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},B.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const C0=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:i=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...f})=>{const d=h.useRef(null),[p,m]=h.useState({x:0,y:0,width:0,height:0}),x=ot(["react-flow__edge-textwrapper",c]);return h.useEffect(()=>{if(d.current){const b=d.current.getBBox();m({x:b.x,y:b.y,width:b.width,height:b.height})}},[r]),typeof r>"u"||!r?null:B.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:x,visibility:p.width?"visible":"hidden",...f},a&&B.createElement("rect",{width:p.width+2*i[0],x:-i[0],y:-i[1],height:p.height+2*i[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),B.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:d,style:n},r),l)};var j0=h.memo(C0);const ts=e=>({width:e.offsetWidth,height:e.offsetHeight}),on=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),rs=(e={x:0,y:0},t)=>({x:on(e.x,t[0][0],t[1][0]),y:on(e.y,t[0][1],t[1][1])}),jl=(e,t,r)=>e<t?on(Math.abs(e-t),1,50)/50:e>r?-on(Math.abs(e-r),1,50)/50:0,Gu=(e,t)=>{const r=jl(e.x,35,t.width-35)*20,n=jl(e.y,35,t.height-35)*20;return[r,n]},Uu=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},S0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ns=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),k0=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Sl=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),xi=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},E0=e=>At(e.width)&&At(e.height)&&At(e.x)&&At(e.y),At=e=>!isNaN(e)&&isFinite(e),$e=Symbol.for("internals"),Wu=["Enter"," ","Escape"],N0=(e,t)=>{},D0=e=>"nativeEvent"in e;function wi(e){var a,o;const t=D0(e)?e.nativeEvent:e,r=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const qu=e=>"clientX"in e,vr=(e,t)=>{var o,i;const r=qu(e),n=r?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},$a=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},pn=({id:e,path:t,labelX:r,labelY:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:f,markerEnd:d,markerStart:p,interactionWidth:m=20})=>B.createElement(B.Fragment,null,B.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:p}),m&&B.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&At(r)&&At(n)?B.createElement(j0,{x:r,y:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null);pn.displayName="BaseEdge";function wn(e,t,r){return r===void 0?r:n=>{const a=t().edges.find(o=>o.id===e);a&&r(n,{...a})}}function Xu({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,o=r<e?r+a:r-a,i=Math.abs(n-t)/2,s=n<t?n+i:n-i;return[o,s,a,i]}function Yu({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:o,targetControlX:i,targetControlY:s}){const l=e*.125+a*.375+i*.375+r*.125,c=t*.125+o*.375+s*.375+n*.125,f=Math.abs(l-e),d=Math.abs(c-t);return[l,c,f,d]}var Fr;(function(e){e.Strict="strict",e.Loose="loose"})(Fr||(Fr={}));var Rr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rr||(Rr={}));var Gn;(function(e){e.Partial="partial",e.Full="full"})(Gn||(Gn={}));var gr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(gr||(gr={}));var za;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(za||(za={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function kl({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===Q.Left||e===Q.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function Ku({sourceX:e,sourceY:t,sourcePosition:r=Q.Bottom,targetX:n,targetY:a,targetPosition:o=Q.Top}){const[i,s]=kl({pos:r,x1:e,y1:t,x2:n,y2:a}),[l,c]=kl({pos:o,x1:n,y1:a,x2:e,y2:t}),[f,d,p,m]=Yu({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:s,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${s} ${l},${c} ${n},${a}`,f,d,p,m]}const as=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=Q.Bottom,targetPosition:o=Q.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:x,interactionWidth:b})=>{const[j,w,I]=Ku({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:o});return B.createElement(pn,{path:j,labelX:w,labelY:I,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:x,interactionWidth:b})});as.displayName="SimpleBezierEdge";const El={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},I0=({source:e,sourcePosition:t=Q.Bottom,target:r})=>t===Q.Left||t===Q.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Nl=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function T0({source:e,sourcePosition:t=Q.Bottom,target:r,targetPosition:n=Q.Top,center:a,offset:o}){const i=El[t],s=El[n],l={x:e.x+i.x*o,y:e.y+i.y*o},c={x:r.x+s.x*o,y:r.y+s.y*o},f=I0({source:l,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",p=f[d];let m=[],x,b;const j={x:0,y:0},w={x:0,y:0},[I,T,N,D]=Xu({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(i[d]*s[d]===-1){x=a.x??I,b=a.y??T;const y=[{x,y:l.y},{x,y:c.y}],g=[{x:l.x,y:b},{x:c.x,y:b}];i[d]===p?m=d==="x"?y:g:m=d==="x"?g:y}else{const y=[{x:l.x,y:c.y}],g=[{x:c.x,y:l.y}];if(d==="x"?m=i.x===p?g:y:m=i.y===p?y:g,t===n){const P=Math.abs(e[d]-r[d]);if(P<=o){const S=Math.min(o-1,o-P);i[d]===p?j[d]=(l[d]>e[d]?-1:1)*S:w[d]=(c[d]>r[d]?-1:1)*S}}if(t!==n){const P=d==="x"?"y":"x",S=i[d]===s[P],R=l[P]>c[P],A=l[P]<c[P];(i[d]===1&&(!S&&R||S&&A)||i[d]!==1&&(!S&&A||S&&R))&&(m=d==="x"?y:g)}const v={x:l.x+j.x,y:l.y+j.y},C={x:c.x+w.x,y:c.y+w.y},k=Math.max(Math.abs(v.x-m[0].x),Math.abs(C.x-m[0].x)),O=Math.max(Math.abs(v.y-m[0].y),Math.abs(C.y-m[0].y));k>=O?(x=(v.x+C.x)/2,b=m[0].y):(x=m[0].x,b=(v.y+C.y)/2)}return[[e,{x:l.x+j.x,y:l.y+j.y},...m,{x:c.x+w.x,y:c.y+w.y},r],x,b,N,D]}function P0(e,t,r,n){const a=Math.min(Nl(e,t)/2,Nl(t,r)/2,n),{x:o,y:i}=t;if(e.x===o&&o===r.x||e.y===i&&i===r.y)return`L${o} ${i}`;if(e.y===i){const c=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${o+a*c},${i}Q ${o},${i} ${o},${i+a*f}`}const s=e.x<r.x?1:-1,l=e.y<r.y?-1:1;return`L ${o},${i+a*l}Q ${o},${i} ${o+a*s},${i}`}function Ha({sourceX:e,sourceY:t,sourcePosition:r=Q.Bottom,targetX:n,targetY:a,targetPosition:o=Q.Top,borderRadius:i=5,centerX:s,centerY:l,offset:c=20}){const[f,d,p,m,x]=T0({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:o,center:{x:s,y:l},offset:c});return[f.reduce((j,w,I)=>{let T="";return I>0&&I<f.length-1?T=P0(f[I-1],w,f[I+1],i):T=`${I===0?"M":"L"}${w.x} ${w.y}`,j+=T,j},""),d,p,m,x]}const io=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:f,sourcePosition:d=Q.Bottom,targetPosition:p=Q.Top,markerEnd:m,markerStart:x,pathOptions:b,interactionWidth:j})=>{const[w,I,T]=Ha({sourceX:e,sourceY:t,sourcePosition:d,targetX:r,targetY:n,targetPosition:p,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset});return B.createElement(pn,{path:w,labelX:I,labelY:T,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:f,markerEnd:m,markerStart:x,interactionWidth:j})});io.displayName="SmoothStepEdge";const os=h.memo(e=>{var t;return B.createElement(io,{...e,pathOptions:h.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});os.displayName="StepEdge";function O0({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,o,i,s]=Xu({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,o,i,s]}const is=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:f,markerEnd:d,markerStart:p,interactionWidth:m})=>{const[x,b,j]=O0({sourceX:e,sourceY:t,targetX:r,targetY:n});return B.createElement(pn,{path:x,labelX:b,labelY:j,label:a,labelStyle:o,labelShowBg:i,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:f,markerEnd:d,markerStart:p,interactionWidth:m})});is.displayName="StraightEdge";function ha(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Dl({pos:e,x1:t,y1:r,x2:n,y2:a,c:o}){switch(e){case Q.Left:return[t-ha(t-n,o),r];case Q.Right:return[t+ha(n-t,o),r];case Q.Top:return[t,r-ha(r-a,o)];case Q.Bottom:return[t,r+ha(a-r,o)]}}function Zu({sourceX:e,sourceY:t,sourcePosition:r=Q.Bottom,targetX:n,targetY:a,targetPosition:o=Q.Top,curvature:i=.25}){const[s,l]=Dl({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[c,f]=Dl({pos:o,x1:n,y1:a,x2:e,y2:t,c:i}),[d,p,m,x]=Yu({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:f});return[`M${e},${t} C${s},${l} ${c},${f} ${n},${a}`,d,p,m,x]}const Va=h.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:a=Q.Bottom,targetPosition:o=Q.Top,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:x,pathOptions:b,interactionWidth:j})=>{const[w,I,T]=Zu({sourceX:e,sourceY:t,sourcePosition:a,targetX:r,targetY:n,targetPosition:o,curvature:b==null?void 0:b.curvature});return B.createElement(pn,{path:w,labelX:I,labelY:T,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:x,interactionWidth:j})});Va.displayName="BezierEdge";const ss=h.createContext(null),R0=ss.Provider;ss.Consumer;const M0=()=>h.useContext(ss),A0=e=>"id"in e&&"source"in e&&"target"in e,Ju=e=>"id"in e&&!("source"in e)&&!("target"in e),L0=(e,t,r)=>{if(!Ju(e))return[];const n=r.filter(a=>a.source===e.id).map(a=>a.target);return t.filter(a=>n.includes(a.id))},F0=(e,t,r)=>{if(!Ju(e))return[];const n=r.filter(a=>a.target===e.id).map(a=>a.source);return t.filter(a=>n.includes(a.id))},B0=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,Ci=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,_0=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Qu=(e,t)=>{if(!e.source||!e.target)return t;let r;return A0(e)?r={...e}:r={...e,id:B0(e)},_0(r,t)?t:t.concat(r)},ji=({x:e,y:t},[r,n,a],o,[i,s])=>{const l={x:(e-r)/a,y:(t-n)/a};return o?{x:i*Math.round(l.x/i),y:s*Math.round(l.y/s)}:l},ed=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n}),Qr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],a={x:e.position.x-r,y:e.position.y-n};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:a}},so=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const{x:o,y:i}=Qr(a,t).positionAbsolute;return S0(n,ns({x:o,y:i,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return k0(r)},td=(e,t,[r,n,a]=[0,0,1],o=!1,i=!1,s=[0,0])=>{const l={x:(t.x-r)/a,y:(t.y-n)/a,width:t.width/a,height:t.height/a},c=[];return e.forEach(f=>{const{width:d,height:p,selectable:m=!0,hidden:x=!1}=f;if(i&&!m||x)return!1;const{positionAbsolute:b}=Qr(f,s),j={x:b.x,y:b.y,width:d||0,height:p||0},w=xi(l,j),I=typeof d>"u"||typeof p>"u"||d===null||p===null,T=o&&w>0,N=(d||0)*(p||0);(I||T||w>=N||f.dragging)&&c.push(f)}),c},ls=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},cs=(e,t,r,n,a,o=.1)=>{const i=t/(e.width*(1+o)),s=r/(e.height*(1+o)),l=Math.min(i,s),c=on(l,n,a),f=e.x+e.width/2,d=e.y+e.height/2,p=t/2-f*c,m=r/2-d*c;return{x:p,y:m,zoom:c}},Ir=(e,t=0)=>e.transition().duration(t);function Il(e,t,r,n){return(t[r]||[]).reduce((a,o)=>{var i,s;return`${e.id}-${o.id}-${r}`!==n&&a.push({id:o.id||null,type:r,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+o.x+o.width/2,y:(((s=e.positionAbsolute)==null?void 0:s.y)??0)+o.y+o.height/2}),a},[])}function $0(e,t,r,n,a,o){const{x:i,y:s}=vr(e),c=t.elementsFromPoint(i,s).find(x=>x.classList.contains("react-flow__handle"));if(c){const x=c.getAttribute("data-nodeid");if(x){const b=us(void 0,c),j=c.getAttribute("data-handleid"),w=o({nodeId:x,id:j,type:b});if(w){const I=a.find(T=>T.nodeId===x&&T.type===b&&T.id===j);return{handle:{id:j,type:b,nodeId:x,x:(I==null?void 0:I.x)||r.x,y:(I==null?void 0:I.y)||r.y},validHandleResult:w}}}}let f=[],d=1/0;if(a.forEach(x=>{const b=Math.sqrt((x.x-r.x)**2+(x.y-r.y)**2);if(b<=n){const j=o(x);b<=d&&(b<d?f=[{handle:x,validHandleResult:j}]:b===d&&f.push({handle:x,validHandleResult:j}),d=b)}}),!f.length)return{handle:null,validHandleResult:rd()};if(f.length===1)return f[0];const p=f.some(({validHandleResult:x})=>x.isValid),m=f.some(({handle:x})=>x.type==="target");return f.find(({handle:x,validHandleResult:b})=>m?x.type==="target":p?b.isValid:!0)||f[0]}const z0={source:null,target:null,sourceHandle:null,targetHandle:null},rd=()=>({handleDomNode:null,isValid:!1,connection:z0,endHandle:null});function nd(e,t,r,n,a,o,i){const s=a==="target",l=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...rd(),handleDomNode:l};if(l){const f=us(void 0,l),d=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),b={source:s?d:r,sourceHandle:s?p:n,target:s?r:d,targetHandle:s?n:p};c.connection=b,m&&x&&(t===Fr.Strict?s&&f==="source"||!s&&f==="target":d!==r||p!==n)&&(c.endHandle={nodeId:d,handleId:p,type:f},c.isValid=o(b))}return c}function H0({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((a,o)=>{if(o[$e]){const{handleBounds:i}=o[$e];let s=[],l=[];i&&(s=Il(o,i,"source",`${t}-${r}-${n}`),l=Il(o,i,"target",`${t}-${r}-${n}`)),a.push(...s,...l)}return a},[])}function us(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Po(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function V0(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function ad({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:a,getState:o,setState:i,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:c}){const f=Uu(e.target),{connectionMode:d,domNode:p,autoPanOnConnect:m,connectionRadius:x,onConnectStart:b,panBy:j,getNodes:w,cancelConnection:I}=o();let T=0,N;const{x:D,y:E}=vr(e),y=f==null?void 0:f.elementFromPoint(D,E),g=us(l,y),v=p==null?void 0:p.getBoundingClientRect();if(!v||!g)return;let C,k=vr(e,v),O=!1,P=null,S=!1,R=null;const A=H0({nodes:w(),nodeId:r,handleId:t,handleType:g}),_=()=>{if(!m)return;const[F,H]=Gu(k,v);j({x:F,y:H}),T=requestAnimationFrame(_)};i({connectionPosition:k,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:g,connectionStartHandle:{nodeId:r,handleId:t,type:g},connectionEndHandle:null}),b==null||b(e,{nodeId:r,handleId:t,handleType:g});function L(F){const{transform:H}=o();k=vr(F,v);const{handle:z,validHandleResult:V}=$0(F,f,ji(k,H,!1,[1,1]),x,A,W=>nd(W,d,r,t,a?"target":"source",s,f));if(N=z,O||(_(),O=!0),R=V.handleDomNode,P=V.connection,S=V.isValid,i({connectionPosition:N&&S?ed({x:N.x,y:N.y},H):k,connectionStatus:V0(!!N,S),connectionEndHandle:V.endHandle}),!N&&!S&&!R)return Po(C);P.source!==P.target&&R&&(Po(C),C=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",S),R.classList.toggle("react-flow__handle-valid",S))}function M(F){var H,z;(N||R)&&P&&S&&(n==null||n(P)),(z=(H=o()).onConnectEnd)==null||z.call(H,F),l&&(c==null||c(F)),Po(C),I(),cancelAnimationFrame(T),O=!1,S=!1,P=null,R=null,f.removeEventListener("mousemove",L),f.removeEventListener("mouseup",M),f.removeEventListener("touchmove",L),f.removeEventListener("touchend",M)}f.addEventListener("mousemove",L),f.addEventListener("mouseup",M),f.addEventListener("touchmove",L),f.addEventListener("touchend",M)}const Tl=()=>!0,G0=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),U0=(e,t,r)=>n=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:i}=n;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===r||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===r,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r}},od=h.forwardRef(({type:e="source",position:t=Q.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:i,onConnect:s,children:l,className:c,onMouseDown:f,onTouchStart:d,...p},m)=>{var v,C;const x=i||null,b=e==="target",j=Xe(),w=M0(),{connectOnClick:I,noPanClassName:T}=Fe(G0,vt),{connecting:N,clickConnecting:D}=Fe(U0(w,x,e),vt);w||(C=(v=j.getState()).onError)==null||C.call(v,"010",lr.error010());const E=k=>{const{defaultEdgeOptions:O,onConnect:P,hasDefaultEdges:S}=j.getState(),R={...O,...k};if(S){const{edges:A,setEdges:_}=j.getState();_(Qu(R,A))}P==null||P(R),s==null||s(R)},y=k=>{if(!w)return;const O=qu(k);a&&(O&&k.button===0||!O)&&ad({event:k,handleId:x,nodeId:w,onConnect:E,isTarget:b,getState:j.getState,setState:j.setState,isValidConnection:r||j.getState().isValidConnection||Tl}),O?f==null||f(k):d==null||d(k)},g=k=>{const{onClickConnectStart:O,onClickConnectEnd:P,connectionClickStartHandle:S,connectionMode:R,isValidConnection:A}=j.getState();if(!w||!S&&!a)return;if(!S){O==null||O(k,{nodeId:w,handleId:x,handleType:e}),j.setState({connectionClickStartHandle:{nodeId:w,type:e,handleId:x}});return}const _=Uu(k.target),L=r||A||Tl,{connection:M,isValid:F}=nd({nodeId:w,id:x,type:e},R,S.nodeId,S.handleId||null,S.type,L,_);F&&E(M),P==null||P(k),j.setState({connectionClickStartHandle:null})};return B.createElement("div",{"data-handleid":x,"data-nodeid":w,"data-handlepos":t,"data-id":`${w}-${x}-${e}`,className:ot(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",T,c,{source:!b,target:b,connectable:n,connectablestart:a,connectableend:o,connecting:D,connectionindicator:n&&(a&&!N||o&&N)}]),onMouseDown:y,onTouchStart:y,onClick:I?g:void 0,ref:m,...p},l)});od.displayName="Handle";var Ne=h.memo(od);const id=({data:e,isConnectable:t,targetPosition:r=Q.Top,sourcePosition:n=Q.Bottom})=>B.createElement(B.Fragment,null,B.createElement(Ne,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,B.createElement(Ne,{type:"source",position:n,isConnectable:t}));id.displayName="DefaultNode";var Si=h.memo(id);const sd=({data:e,isConnectable:t,sourcePosition:r=Q.Bottom})=>B.createElement(B.Fragment,null,e==null?void 0:e.label,B.createElement(Ne,{type:"source",position:r,isConnectable:t}));sd.displayName="InputNode";var ld=h.memo(sd);const cd=({data:e,isConnectable:t,targetPosition:r=Q.Top})=>B.createElement(B.Fragment,null,B.createElement(Ne,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);cd.displayName="OutputNode";var ud=h.memo(cd);const ds=()=>null;ds.displayName="GroupNode";const W0=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),va=e=>e.id;function q0(e,t){return vt(e.selectedNodes.map(va),t.selectedNodes.map(va))&&vt(e.selectedEdges.map(va),t.selectedEdges.map(va))}const dd=h.memo(({onSelectionChange:e})=>{const t=Xe(),{selectedNodes:r,selectedEdges:n}=Fe(W0,q0);return h.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[r,n,e]),null});dd.displayName="SelectionListener";const X0=e=>!!e.onSelectionChange;function Y0({onSelectionChange:e}){const t=Fe(X0);return e||t?B.createElement(dd,{onSelectionChange:e}):null}const K0=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Hr(e,t){h.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Se(e,t,r){h.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const Z0=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:a,onConnectStart:o,onConnectEnd:i,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:f,nodesFocusable:d,edgesFocusable:p,edgesUpdatable:m,elevateNodesOnSelect:x,minZoom:b,maxZoom:j,nodeExtent:w,onNodesChange:I,onEdgesChange:T,elementsSelectable:N,connectionMode:D,snapGrid:E,snapToGrid:y,translateExtent:g,connectOnClick:v,defaultEdgeOptions:C,fitView:k,fitViewOptions:O,onNodesDelete:P,onEdgesDelete:S,onNodeDrag:R,onNodeDragStart:A,onNodeDragStop:_,onSelectionDrag:L,onSelectionDragStart:M,onSelectionDragStop:F,noPanClassName:H,nodeOrigin:z,rfId:V,autoPanOnConnect:W,autoPanOnNodeDrag:$,onError:q,connectionRadius:J,isValidConnection:ne,nodeDragThreshold:de})=>{const{setNodes:X,setEdges:ie,setDefaultNodesAndEdges:we,setMinZoom:Ce,setMaxZoom:ae,setTranslateExtent:De,setNodeExtent:Ae,reset:ye}=Fe(K0,vt),le=Xe();return h.useEffect(()=>{const K=n==null?void 0:n.map(je=>({...je,...C}));return we(r,K),()=>{ye()}},[]),Se("defaultEdgeOptions",C,le.setState),Se("connectionMode",D,le.setState),Se("onConnect",a,le.setState),Se("onConnectStart",o,le.setState),Se("onConnectEnd",i,le.setState),Se("onClickConnectStart",s,le.setState),Se("onClickConnectEnd",l,le.setState),Se("nodesDraggable",c,le.setState),Se("nodesConnectable",f,le.setState),Se("nodesFocusable",d,le.setState),Se("edgesFocusable",p,le.setState),Se("edgesUpdatable",m,le.setState),Se("elementsSelectable",N,le.setState),Se("elevateNodesOnSelect",x,le.setState),Se("snapToGrid",y,le.setState),Se("snapGrid",E,le.setState),Se("onNodesChange",I,le.setState),Se("onEdgesChange",T,le.setState),Se("connectOnClick",v,le.setState),Se("fitViewOnInit",k,le.setState),Se("fitViewOnInitOptions",O,le.setState),Se("onNodesDelete",P,le.setState),Se("onEdgesDelete",S,le.setState),Se("onNodeDrag",R,le.setState),Se("onNodeDragStart",A,le.setState),Se("onNodeDragStop",_,le.setState),Se("onSelectionDrag",L,le.setState),Se("onSelectionDragStart",M,le.setState),Se("onSelectionDragStop",F,le.setState),Se("noPanClassName",H,le.setState),Se("nodeOrigin",z,le.setState),Se("rfId",V,le.setState),Se("autoPanOnConnect",W,le.setState),Se("autoPanOnNodeDrag",$,le.setState),Se("onError",q,le.setState),Se("connectionRadius",J,le.setState),Se("isValidConnection",ne,le.setState),Se("nodeDragThreshold",de,le.setState),Hr(e,X),Hr(t,ie),Hr(b,Ce),Hr(j,ae),Hr(g,De),Hr(w,Ae),null},Pl={display:"none"},J0={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fd="react-flow__node-desc",pd="react-flow__edge-desc",Q0="react-flow__aria-live",ey=e=>e.ariaLiveMessage;function ty({rfId:e}){const t=Fe(ey);return B.createElement("div",{id:`${Q0}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:J0},t)}function ry({rfId:e,disableKeyboardA11y:t}){return B.createElement(B.Fragment,null,B.createElement("div",{id:`${fd}-${e}`,style:Pl},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),B.createElement("div",{id:`${pd}-${e}`,style:Pl},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&B.createElement(ty,{rfId:e}))}var Un=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=h.useState(!1),a=h.useRef(!1),o=h.useRef(new Set([])),[i,s]=h.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),f=c.reduce((d,p)=>d.concat(...p),[]);return[c,f]}return[[],[]]},[e]);return h.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const f=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&wi(m))return!1;const b=Rl(m.code,s);o.current.add(m[b]),Ol(i,o.current,!1)&&(m.preventDefault(),n(!0))},d=m=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&wi(m))return!1;const b=Rl(m.code,s);Ol(i,o.current,!0)?(n(!1),o.current.clear()):o.current.delete(m[b]),m.key==="Meta"&&o.current.clear(),a.current=!1},p=()=>{o.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",f),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",p),()=>{c==null||c.removeEventListener("keydown",f),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",p)}}},[e,n]),r};function Ol(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function Rl(e,t){return t.includes(e)?"code":"key"}function md(e,t,r,n){var s,l;const a=e.parentNode||e.parentId;if(!a)return r;const o=t.get(a),i=Qr(o,n);return md(o,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(((s=o[$e])==null?void 0:s.z)??0)>(r.z??0)?((l=o[$e])==null?void 0:l.z)??0:r.z??0},n)}function gd(e,t,r){e.forEach(n=>{var o;const a=n.parentNode||n.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||r!=null&&r[n.id]){const{x:i,y:s,z:l}=md(n,e,{...n.position,z:((o=n[$e])==null?void 0:o.z)??0},t);n.positionAbsolute={x:i,y:s},n[$e].z=l,r!=null&&r[n.id]&&(n[$e].isParent=!0)}})}function Oo(e,t,r,n){const a=new Map,o={},i=n?1e3:0;return e.forEach(s=>{var m;const l=(At(s.zIndex)?s.zIndex:0)+(s.selected?i:0),c=t.get(s.id),f={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},d=s.parentNode||s.parentId;d&&(o[d]=!0);const p=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==s.type;Object.defineProperty(f,$e,{enumerable:!1,value:{handleBounds:p||(m=c==null?void 0:c[$e])==null?void 0:m.handleBounds,z:l}}),a.set(s.id,f)}),gd(a,r,o),a}function hd(e,t={}){const{getNodes:r,width:n,height:a,minZoom:o,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:f,nodeOrigin:d}=e(),p=t.initial&&!c&&f;if(s&&l&&(p||!t.initial)){const x=r().filter(j=>{var I;const w=t.includeHiddenNodes?j.width&&j.height:!j.hidden;return(I=t.nodes)!=null&&I.length?w&&t.nodes.some(T=>T.id===j.id):w}),b=x.every(j=>j.width&&j.height);if(x.length>0&&b){const j=so(x,d),{x:w,y:I,zoom:T}=cs(j,n,a,t.minZoom??o,t.maxZoom??i,t.padding??.1),N=hr.translate(w,I).scale(T);return typeof t.duration=="number"&&t.duration>0?s.transform(Ir(l,t.duration),N):s.transform(l,N),!0}}return!1}function ny(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[$e]:n[$e],selected:r.selected})}),new Map(t)}function ay(e,t){return t.map(r=>{const n=e.find(a=>a.id===r.id);return n&&(r.selected=n.selected),r})}function ya({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:a,edges:o,onNodesChange:i,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:c}=r();e!=null&&e.length&&(l&&n({nodeInternals:ny(e,a)}),i==null||i(e)),t!=null&&t.length&&(c&&n({edges:ay(t,o)}),s==null||s(t))}const Vr=()=>{},oy={zoomIn:Vr,zoomOut:Vr,zoomTo:Vr,getZoom:()=>1,setViewport:Vr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Vr,fitBounds:Vr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},iy=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),sy=()=>{const e=Xe(),{d3Zoom:t,d3Selection:r}=Fe(iy,vt);return h.useMemo(()=>r&&t?{zoomIn:a=>t.scaleBy(Ir(r,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(Ir(r,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(Ir(r,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[i,s,l]=e.getState().transform,c=hr.translate(a.x??i,a.y??s).scale(a.zoom??l);t.transform(Ir(r,o==null?void 0:o.duration),c)},getViewport:()=>{const[a,o,i]=e.getState().transform;return{x:a,y:o,zoom:i}},fitView:a=>hd(e.getState,a),setCenter:(a,o,i)=>{const{width:s,height:l,maxZoom:c}=e.getState(),f=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:c,d=s/2-a*f,p=l/2-o*f,m=hr.translate(d,p).scale(f);t.transform(Ir(r,i==null?void 0:i.duration),m)},fitBounds:(a,o)=>{const{width:i,height:s,minZoom:l,maxZoom:c}=e.getState(),{x:f,y:d,zoom:p}=cs(a,i,s,l,c,(o==null?void 0:o.padding)??.1),m=hr.translate(f,d).scale(p);t.transform(Ir(r,o==null?void 0:o.duration),m)},project:a=>{const{transform:o,snapToGrid:i,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ji(a,o,i,s)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:i,snapGrid:s,domNode:l}=e.getState();if(!l)return a;const{x:c,y:f}=l.getBoundingClientRect(),d={x:a.x-c,y:a.y-f};return ji(d,o,i,s)},flowToScreenPosition:a=>{const{transform:o,domNode:i}=e.getState();if(!i)return a;const{x:s,y:l}=i.getBoundingClientRect(),c=ed(a,o);return{x:c.x+s,y:c.y+l}},viewportInitialized:!0}:oy,[t,r])};function na(){const e=sy(),t=Xe(),r=h.useCallback(()=>t.getState().getNodes().map(b=>({...b})),[]),n=h.useCallback(b=>t.getState().nodeInternals.get(b),[]),a=h.useCallback(()=>{const{edges:b=[]}=t.getState();return b.map(j=>({...j}))},[]),o=h.useCallback(b=>{const{edges:j=[]}=t.getState();return j.find(w=>w.id===b)},[]),i=h.useCallback(b=>{const{getNodes:j,setNodes:w,hasDefaultNodes:I,onNodesChange:T}=t.getState(),N=j(),D=typeof b=="function"?b(N):b;if(I)w(D);else if(T){const E=D.length===0?N.map(y=>({type:"remove",id:y.id})):D.map(y=>({item:y,type:"reset"}));T(E)}},[]),s=h.useCallback(b=>{const{edges:j=[],setEdges:w,hasDefaultEdges:I,onEdgesChange:T}=t.getState(),N=typeof b=="function"?b(j):b;if(I)w(N);else if(T){const D=N.length===0?j.map(E=>({type:"remove",id:E.id})):N.map(E=>({item:E,type:"reset"}));T(D)}},[]),l=h.useCallback(b=>{const j=Array.isArray(b)?b:[b],{getNodes:w,setNodes:I,hasDefaultNodes:T,onNodesChange:N}=t.getState();if(T){const E=[...w(),...j];I(E)}else if(N){const D=j.map(E=>({item:E,type:"add"}));N(D)}},[]),c=h.useCallback(b=>{const j=Array.isArray(b)?b:[b],{edges:w=[],setEdges:I,hasDefaultEdges:T,onEdgesChange:N}=t.getState();if(T)I([...w,...j]);else if(N){const D=j.map(E=>({item:E,type:"add"}));N(D)}},[]),f=h.useCallback(()=>{const{getNodes:b,edges:j=[],transform:w}=t.getState(),[I,T,N]=w;return{nodes:b().map(D=>({...D})),edges:j.map(D=>({...D})),viewport:{x:I,y:T,zoom:N}}},[]),d=h.useCallback(({nodes:b,edges:j})=>{const{nodeInternals:w,getNodes:I,edges:T,hasDefaultNodes:N,hasDefaultEdges:D,onNodesDelete:E,onEdgesDelete:y,onNodesChange:g,onEdgesChange:v}=t.getState(),C=(b||[]).map(R=>R.id),k=(j||[]).map(R=>R.id),O=I().reduce((R,A)=>{const _=A.parentNode||A.parentId,L=!C.includes(A.id)&&_&&R.find(F=>F.id===_);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(C.includes(A.id)||L)&&R.push(A),R},[]),P=T.filter(R=>typeof R.deletable=="boolean"?R.deletable:!0),S=P.filter(R=>k.includes(R.id));if(O||S){const R=ls(O,P),A=[...S,...R],_=A.reduce((L,M)=>(L.includes(M.id)||L.push(M.id),L),[]);if((D||N)&&(D&&t.setState({edges:T.filter(L=>!_.includes(L.id))}),N&&(O.forEach(L=>{w.delete(L.id)}),t.setState({nodeInternals:new Map(w)}))),_.length>0&&(y==null||y(A),v&&v(_.map(L=>({id:L,type:"remove"})))),O.length>0&&(E==null||E(O),g)){const L=O.map(M=>({id:M.id,type:"remove"}));g(L)}}},[]),p=h.useCallback(b=>{const j=E0(b),w=j?null:t.getState().nodeInternals.get(b.id);return!j&&!w?[null,null,j]:[j?b:Sl(w),w,j]},[]),m=h.useCallback((b,j=!0,w)=>{const[I,T,N]=p(b);return I?(w||t.getState().getNodes()).filter(D=>{if(!N&&(D.id===T.id||!D.positionAbsolute))return!1;const E=Sl(D),y=xi(E,I);return j&&y>0||y>=I.width*I.height}):[]},[]),x=h.useCallback((b,j,w=!0)=>{const[I]=p(b);if(!I)return!1;const T=xi(I,j);return w&&T>0||T>=I.width*I.height},[]);return h.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:a,getEdge:o,setNodes:i,setEdges:s,addNodes:l,addEdges:c,toObject:f,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:x}),[e,r,n,a,o,i,s,l,c,f,d,m,x])}const ly={actInsideInputWithModifier:!1};var cy=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=Xe(),{deleteElements:n}=na(),a=Un(e,ly),o=Un(t);h.useEffect(()=>{if(a){const{edges:i,getNodes:s}=r.getState(),l=s().filter(f=>f.selected),c=i.filter(f=>f.selected);n({nodes:l,edges:c}),r.setState({nodesSelectionActive:!1})}},[a]),h.useEffect(()=>{r.setState({multiSelectionActive:o})},[o])};function uy(e){const t=Xe();h.useEffect(()=>{let r;const n=()=>{var o,i;if(!e.current)return;const a=ts(e.current);(a.height===0||a.width===0)&&((i=(o=t.getState()).onError)==null||i.call(o,"004",lr.error004())),t.setState({width:a.width||500,height:a.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const fs={position:"absolute",width:"100%",height:"100%",top:0,left:0},dy=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ba=e=>({x:e.x,y:e.y,zoom:e.k}),Gr=(e,t)=>e.target.closest(`.${t}`),Ml=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Al=e=>{const t=e.ctrlKey&&$a()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},fy=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),py=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=Rr.Free,zoomOnDoubleClick:c=!0,elementsSelectable:f,panOnDrag:d=!0,defaultViewport:p,translateExtent:m,minZoom:x,maxZoom:b,zoomActivationKeyCode:j,preventScrolling:w=!0,children:I,noWheelClassName:T,noPanClassName:N})=>{const D=h.useRef(),E=Xe(),y=h.useRef(!1),g=h.useRef(!1),v=h.useRef(null),C=h.useRef({x:0,y:0,zoom:0}),{d3Zoom:k,d3Selection:O,d3ZoomHandler:P,userSelectionActive:S}=Fe(fy,vt),R=Un(j),A=h.useRef(0),_=h.useRef(!1),L=h.useRef();return uy(v),h.useEffect(()=>{if(v.current){const M=v.current.getBoundingClientRect(),F=y0().scaleExtent([x,b]).translateExtent(m),H=$t(v.current).call(F),z=hr.translate(p.x,p.y).scale(on(p.zoom,x,b)),V=[[0,0],[M.width,M.height]],W=F.constrain()(z,V,m);F.transform(H,W),F.wheelDelta(Al),E.setState({d3Zoom:F,d3Selection:H,d3ZoomHandler:H.on("wheel.zoom"),transform:[W.x,W.y,W.k],domNode:v.current.closest(".react-flow")})}},[]),h.useEffect(()=>{O&&k&&(i&&!R&&!S?O.on("wheel.zoom",M=>{if(Gr(M,T))return!1;M.preventDefault(),M.stopImmediatePropagation();const F=O.property("__zoom").k||1;if(M.ctrlKey&&o){const ne=qt(M),de=Al(M),X=F*Math.pow(2,de);k.scaleTo(O,X,ne,M);return}const H=M.deltaMode===1?20:1;let z=l===Rr.Vertical?0:M.deltaX*H,V=l===Rr.Horizontal?0:M.deltaY*H;!$a()&&M.shiftKey&&l!==Rr.Vertical&&(z=M.deltaY*H,V=0),k.translateBy(O,-(z/F)*s,-(V/F)*s,{internal:!0});const W=ba(O.property("__zoom")),{onViewportChangeStart:$,onViewportChange:q,onViewportChangeEnd:J}=E.getState();clearTimeout(L.current),_.current||(_.current=!0,t==null||t(M,W),$==null||$(W)),_.current&&(e==null||e(M,W),q==null||q(W),L.current=setTimeout(()=>{r==null||r(M,W),J==null||J(W),_.current=!1},150))},{passive:!1}):typeof P<"u"&&O.on("wheel.zoom",function(M,F){if(!w&&M.type==="wheel"&&!M.ctrlKey||Gr(M,T))return null;M.preventDefault(),P.call(this,M,F)},{passive:!1}))},[S,i,l,O,k,P,R,o,w,T,t,e,r]),h.useEffect(()=>{k&&k.on("start",M=>{var z,V;if(!M.sourceEvent||M.sourceEvent.internal)return null;A.current=(z=M.sourceEvent)==null?void 0:z.button;const{onViewportChangeStart:F}=E.getState(),H=ba(M.transform);y.current=!0,C.current=H,((V=M.sourceEvent)==null?void 0:V.type)==="mousedown"&&E.setState({paneDragging:!0}),F==null||F(H),t==null||t(M.sourceEvent,H)})},[k,t]),h.useEffect(()=>{k&&(S&&!y.current?k.on("zoom",null):S||k.on("zoom",M=>{var H;const{onViewportChange:F}=E.getState();if(E.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),g.current=!!(n&&Ml(d,A.current??0)),(e||F)&&!((H=M.sourceEvent)!=null&&H.internal)){const z=ba(M.transform);F==null||F(z),e==null||e(M.sourceEvent,z)}}))},[S,k,e,d,n]),h.useEffect(()=>{k&&k.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:F}=E.getState();if(y.current=!1,E.setState({paneDragging:!1}),n&&Ml(d,A.current??0)&&!g.current&&n(M.sourceEvent),g.current=!1,(r||F)&&dy(C.current,M.transform)){const H=ba(M.transform);C.current=H,clearTimeout(D.current),D.current=setTimeout(()=>{F==null||F(H),r==null||r(M.sourceEvent,H)},i?150:0)}})},[k,i,d,r,n]),h.useEffect(()=>{k&&k.filter(M=>{const F=R||a,H=o&&M.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&M.button===1&&M.type==="mousedown"&&(Gr(M,"react-flow__node")||Gr(M,"react-flow__edge")))return!0;if(!d&&!F&&!i&&!c&&!o||S||!c&&M.type==="dblclick"||Gr(M,T)&&M.type==="wheel"||Gr(M,N)&&(M.type!=="wheel"||i&&M.type==="wheel"&&!R)||!o&&M.ctrlKey&&M.type==="wheel"||!F&&!i&&!H&&M.type==="wheel"||!d&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(d)&&!d.includes(M.button)&&M.type==="mousedown")return!1;const z=Array.isArray(d)&&d.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&z})},[S,k,a,o,i,c,d,f,R]),B.createElement("div",{className:"react-flow__renderer",ref:v,style:fs},I)},my=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function gy(){const{userSelectionActive:e,userSelectionRect:t}=Fe(my,vt);return e&&t?B.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Ll(e,t){const r=t.parentNode||t.parentId,n=e.find(a=>a.id===r);if(n){const a=t.position.x+t.width-n.width,o=t.position.y+t.height-n.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,a>0&&(n.style.width+=a),o>0&&(n.style.height+=o),t.position.x<0){const i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);n.position.y=n.position.y-i,n.style.height+=i,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function vd(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,a)=>{const o=e.filter(s=>s.id===a.id);if(o.length===0)return n.push(a),n;const i={...a};for(const s of o)if(s)switch(s.type){case"select":{i.selected=s.selected;break}case"position":{typeof s.position<"u"&&(i.position=s.position),typeof s.positionAbsolute<"u"&&(i.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(i.dragging=s.dragging),i.expandParent&&Ll(n,i);break}case"dimensions":{typeof s.dimensions<"u"&&(i.width=s.dimensions.width,i.height=s.dimensions.height),typeof s.updateStyle<"u"&&(i.style={...i.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(i.resizing=s.resizing),i.expandParent&&Ll(n,i);break}case"remove":return n}return n.push(i),n},r)}function yd(e,t){return vd(e,t)}function Fl(e,t){return vd(e,t)}const mr=(e,t)=>({id:e,type:"select",selected:t});function Kr(e,t){return e.reduce((r,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,r.push(mr(n.id,!0))):n.selected&&!a&&(n.selected=!1,r.push(mr(n.id,!1))),r},[])}const Ro=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},hy=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),bd=h.memo(({isSelecting:e,selectionMode:t=Gn.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:i,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:f,children:d})=>{const p=h.useRef(null),m=Xe(),x=h.useRef(0),b=h.useRef(0),j=h.useRef(),{userSelectionActive:w,elementsSelectable:I,dragging:T}=Fe(hy,vt),N=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,b.current=0},D=P=>{o==null||o(P),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},E=P=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){P.preventDefault();return}i==null||i(P)},y=s?P=>s(P):void 0,g=P=>{const{resetSelectedElements:S,domNode:R}=m.getState();if(j.current=R==null?void 0:R.getBoundingClientRect(),!I||!e||P.button!==0||P.target!==p.current||!j.current)return;const{x:A,y:_}=vr(P,j.current);S(),m.setState({userSelectionRect:{width:0,height:0,startX:A,startY:_,x:A,y:_}}),n==null||n(P)},v=P=>{const{userSelectionRect:S,nodeInternals:R,edges:A,transform:_,onNodesChange:L,onEdgesChange:M,nodeOrigin:F,getNodes:H}=m.getState();if(!e||!j.current||!S)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=vr(P,j.current),V=S.startX??0,W=S.startY??0,$={...S,x:z.x<V?z.x:V,y:z.y<W?z.y:W,width:Math.abs(z.x-V),height:Math.abs(z.y-W)},q=H(),J=td(R,$,_,t===Gn.Partial,!0,F),ne=ls(J,A).map(X=>X.id),de=J.map(X=>X.id);if(x.current!==de.length){x.current=de.length;const X=Kr(q,de);X.length&&(L==null||L(X))}if(b.current!==ne.length){b.current=ne.length;const X=Kr(A,ne);X.length&&(M==null||M(X))}m.setState({userSelectionRect:$})},C=P=>{if(P.button!==0)return;const{userSelectionRect:S}=m.getState();!w&&S&&P.target===p.current&&(D==null||D(P)),m.setState({nodesSelectionActive:x.current>0}),N(),a==null||a(P)},k=P=>{w&&(m.setState({nodesSelectionActive:x.current>0}),a==null||a(P)),N()},O=I&&(e||w);return B.createElement("div",{className:ot(["react-flow__pane",{dragging:T,selection:e}]),onClick:O?void 0:Ro(D,p),onContextMenu:Ro(E,p),onWheel:Ro(y,p),onMouseEnter:O?void 0:l,onMouseDown:O?g:void 0,onMouseMove:O?v:c,onMouseUp:O?C:void 0,onMouseLeave:O?k:f,ref:p,style:fs},d,B.createElement(gy,null))});bd.displayName="Pane";function xd(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:xd(n,t):!1}function Bl(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function vy(e,t,r,n){return Array.from(e.values()).filter(a=>(a.selected||a.id===n)&&(!a.parentNode||a.parentId||!xd(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,i;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:r.y-(((i=a.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function yy(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function wd(e,t,r,n,a=[0,0],o){const i=yy(e,e.extent||n);let s=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=r.get(l),{x:p,y:m}=Qr(d,a).positionAbsolute;s=d&&At(p)&&At(m)&&At(d.width)&&At(d.height)?[[p+e.width*a[0],m+e.height*a[1]],[p+d.width-e.width+e.width*a[0],m+d.height-e.height+e.height*a[1]]]:s}else o==null||o("005",lr.error005()),s=i;else if(e.extent&&l&&e.extent!=="parent"){const d=r.get(l),{x:p,y:m}=Qr(d,a).positionAbsolute;s=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let c={x:0,y:0};if(l){const d=r.get(l);c=Qr(d,a).positionAbsolute}const f=s&&s!=="parent"?rs(t,s):t;return{position:{x:f.x-c.x,y:f.y-c.y},positionAbsolute:f}}function Mo({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(a=>({...r.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?n.find(a=>a.id===e):n[0],n]}const _l=(e,t,r,n)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),i=t.getBoundingClientRect(),s={x:i.width*n[0],y:i.height*n[1]};return o.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-i.left-s.x)/r,y:(c.top-i.top-s.y)/r,...ts(l)}})};function Cn(e,t,r){return r===void 0?r:n=>{const a=t().nodeInternals.get(e);a&&r(n,{...a})}}function ki({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:i,nodeInternals:s,onError:l}=t.getState(),c=s.get(e);if(!c){l==null||l("012",lr.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&i)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var f;return(f=n==null?void 0:n.current)==null?void 0:f.blur()})):a([e])}function by(){const e=Xe();return h.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:a,snapToGrid:o}=e.getState(),i=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,l={x:(i-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function Ao(e){return(t,r,n)=>e==null?void 0:e(t,n)}function Cd({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:o,selectNodesOnDrag:i}){const s=Xe(),[l,c]=h.useState(!1),f=h.useRef([]),d=h.useRef({x:null,y:null}),p=h.useRef(0),m=h.useRef(null),x=h.useRef({x:0,y:0}),b=h.useRef(null),j=h.useRef(!1),w=h.useRef(!1),I=h.useRef(!1),T=by();return h.useEffect(()=>{if(e!=null&&e.current){const N=$t(e.current),D=({x:g,y:v})=>{const{nodeInternals:C,onNodeDrag:k,onSelectionDrag:O,updateNodePositions:P,nodeExtent:S,snapGrid:R,snapToGrid:A,nodeOrigin:_,onError:L}=s.getState();d.current={x:g,y:v};let M=!1,F={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&S){const z=so(f.current,_);F=ns(z)}if(f.current=f.current.map(z=>{const V={x:g-z.distance.x,y:v-z.distance.y};A&&(V.x=R[0]*Math.round(V.x/R[0]),V.y=R[1]*Math.round(V.y/R[1]));const W=[[S[0][0],S[0][1]],[S[1][0],S[1][1]]];f.current.length>1&&S&&!z.extent&&(W[0][0]=z.positionAbsolute.x-F.x+S[0][0],W[1][0]=z.positionAbsolute.x+(z.width??0)-F.x2+S[1][0],W[0][1]=z.positionAbsolute.y-F.y+S[0][1],W[1][1]=z.positionAbsolute.y+(z.height??0)-F.y2+S[1][1]);const $=wd(z,V,C,W,_,L);return M=M||z.position.x!==$.position.x||z.position.y!==$.position.y,z.position=$.position,z.positionAbsolute=$.positionAbsolute,z}),!M)return;P(f.current,!0,!0),c(!0);const H=a?k:Ao(O);if(H&&b.current){const[z,V]=Mo({nodeId:a,dragItems:f.current,nodeInternals:C});H(b.current,z,V)}},E=()=>{if(!m.current)return;const[g,v]=Gu(x.current,m.current);if(g!==0||v!==0){const{transform:C,panBy:k}=s.getState();d.current.x=(d.current.x??0)-g/C[2],d.current.y=(d.current.y??0)-v/C[2],k({x:g,y:v})&&D(d.current)}p.current=requestAnimationFrame(E)},y=g=>{var _;const{nodeInternals:v,multiSelectionActive:C,nodesDraggable:k,unselectNodesAndEdges:O,onNodeDragStart:P,onSelectionDragStart:S}=s.getState();w.current=!0;const R=a?P:Ao(S);(!i||!o)&&!C&&a&&((_=v.get(a))!=null&&_.selected||O()),a&&o&&i&&ki({id:a,store:s,nodeRef:e});const A=T(g);if(d.current=A,f.current=vy(v,k,A,a),R&&f.current){const[L,M]=Mo({nodeId:a,dragItems:f.current,nodeInternals:v});R(g.sourceEvent,L,M)}};if(t)N.on(".drag",null);else{const g=Dh().on("start",v=>{const{domNode:C,nodeDragThreshold:k}=s.getState();k===0&&y(v),I.current=!1;const O=T(v);d.current=O,m.current=(C==null?void 0:C.getBoundingClientRect())||null,x.current=vr(v.sourceEvent,m.current)}).on("drag",v=>{var P,S;const C=T(v),{autoPanOnNodeDrag:k,nodeDragThreshold:O}=s.getState();if(v.sourceEvent.type==="touchmove"&&v.sourceEvent.touches.length>1&&(I.current=!0),!I.current){if(!j.current&&w.current&&k&&(j.current=!0,E()),!w.current){const R=C.xSnapped-(((P=d==null?void 0:d.current)==null?void 0:P.x)??0),A=C.ySnapped-(((S=d==null?void 0:d.current)==null?void 0:S.y)??0);Math.sqrt(R*R+A*A)>O&&y(v)}(d.current.x!==C.xSnapped||d.current.y!==C.ySnapped)&&f.current&&w.current&&(b.current=v.sourceEvent,x.current=vr(v.sourceEvent,m.current),D(C))}}).on("end",v=>{if(!(!w.current||I.current)&&(c(!1),j.current=!1,w.current=!1,cancelAnimationFrame(p.current),f.current)){const{updateNodePositions:C,nodeInternals:k,onNodeDragStop:O,onSelectionDragStop:P}=s.getState(),S=a?O:Ao(P);if(C(f.current,!1,!1),S){const[R,A]=Mo({nodeId:a,dragItems:f.current,nodeInternals:k});S(v.sourceEvent,R,A)}}}).filter(v=>{const C=v.target;return!v.button&&(!r||!Bl(C,`.${r}`,e))&&(!n||Bl(C,n,e))});return N.call(g),()=>{N.on(".drag",null)}}}},[e,t,r,n,o,s,a,i,T]),l}function jd(){const e=Xe();return h.useCallback(r=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:o,getNodes:i,snapToGrid:s,snapGrid:l,onError:c,nodesDraggable:f}=e.getState(),d=i().filter(I=>I.selected&&(I.draggable||f&&typeof I.draggable>"u")),p=s?l[0]:5,m=s?l[1]:5,x=r.isShiftPressed?4:1,b=r.x*p*x,j=r.y*m*x,w=d.map(I=>{if(I.positionAbsolute){const T={x:I.positionAbsolute.x+b,y:I.positionAbsolute.y+j};s&&(T.x=l[0]*Math.round(T.x/l[0]),T.y=l[1]*Math.round(T.y/l[1]));const{positionAbsolute:N,position:D}=wd(I,T,n,a,void 0,c);I.position=D,I.positionAbsolute=N}return I});o(w,!0,!1)},[])}const en={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var jn=e=>{const t=({id:r,type:n,data:a,xPos:o,yPos:i,xPosOrigin:s,yPosOrigin:l,selected:c,onClick:f,onMouseEnter:d,onMouseMove:p,onMouseLeave:m,onContextMenu:x,onDoubleClick:b,style:j,className:w,isDraggable:I,isSelectable:T,isConnectable:N,isFocusable:D,selectNodesOnDrag:E,sourcePosition:y,targetPosition:g,hidden:v,resizeObserver:C,dragHandle:k,zIndex:O,isParent:P,noDragClassName:S,noPanClassName:R,initialized:A,disableKeyboardA11y:_,ariaLabel:L,rfId:M,hasHandleBounds:F})=>{const H=Xe(),z=h.useRef(null),V=h.useRef(null),W=h.useRef(y),$=h.useRef(g),q=h.useRef(n),J=T||I||f||d||p||m,ne=jd(),de=Cn(r,H.getState,d),X=Cn(r,H.getState,p),ie=Cn(r,H.getState,m),we=Cn(r,H.getState,x),Ce=Cn(r,H.getState,b),ae=ye=>{const{nodeDragThreshold:le}=H.getState();if(T&&(!E||!I||le>0)&&ki({id:r,store:H,nodeRef:z}),f){const K=H.getState().nodeInternals.get(r);K&&f(ye,{...K})}},De=ye=>{if(!wi(ye)&&!_)if(Wu.includes(ye.key)&&T){const le=ye.key==="Escape";ki({id:r,store:H,unselect:le,nodeRef:z})}else I&&c&&Object.prototype.hasOwnProperty.call(en,ye.key)&&(H.setState({ariaLiveMessage:`Moved selected node ${ye.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~i}`}),ne({x:en[ye.key].x,y:en[ye.key].y,isShiftPressed:ye.shiftKey}))};h.useEffect(()=>()=>{V.current&&(C==null||C.unobserve(V.current),V.current=null)},[]),h.useEffect(()=>{if(z.current&&!v){const ye=z.current;(!A||!F||V.current!==ye)&&(V.current&&(C==null||C.unobserve(V.current)),C==null||C.observe(ye),V.current=ye)}},[v,A,F]),h.useEffect(()=>{const ye=q.current!==n,le=W.current!==y,K=$.current!==g;z.current&&(ye||le||K)&&(ye&&(q.current=n),le&&(W.current=y),K&&($.current=g),H.getState().updateNodeDimensions([{id:r,nodeElement:z.current,forceUpdate:!0}]))},[r,n,y,g]);const Ae=Cd({nodeRef:z,disabled:v||!I,noDragClassName:S,handleSelector:k,nodeId:r,isSelectable:T,selectNodesOnDrag:E});return v?null:B.createElement("div",{className:ot(["react-flow__node",`react-flow__node-${n}`,{[R]:I},w,{selected:c,selectable:T,parent:P,dragging:Ae}]),ref:z,style:{zIndex:O,transform:`translate(${s}px,${l}px)`,pointerEvents:J?"all":"none",visibility:A?"visible":"hidden",...j},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:de,onMouseMove:X,onMouseLeave:ie,onContextMenu:we,onClick:ae,onDoubleClick:Ce,onKeyDown:D?De:void 0,tabIndex:D?0:void 0,role:D?"button":void 0,"aria-describedby":_?void 0:`${fd}-${M}`,"aria-label":L},B.createElement(R0,{value:r},B.createElement(e,{id:r,data:a,type:n,xPos:o,yPos:i,selected:c,isConnectable:N,sourcePosition:y,targetPosition:g,dragging:Ae,dragHandle:k,zIndex:O})))};return t.displayName="NodeWrapper",h.memo(t)};const xy=e=>{const t=e.getNodes().filter(r=>r.selected);return{...so(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function wy({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Xe(),{width:a,height:o,x:i,y:s,transformString:l,userSelectionActive:c}=Fe(xy,vt),f=jd(),d=h.useRef(null);if(h.useEffect(()=>{var x;r||(x=d.current)==null||x.focus({preventScroll:!0})},[r]),Cd({nodeRef:d}),c||!a||!o)return null;const p=e?x=>{const b=n.getState().getNodes().filter(j=>j.selected);e(x,b)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(en,x.key)&&f({x:en[x.key].x,y:en[x.key].y,isShiftPressed:x.shiftKey})};return B.createElement("div",{className:ot(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},B.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:m,style:{width:a,height:o,top:s,left:i}}))}var Cy=h.memo(wy);const jy=e=>e.nodesSelectionActive,Sd=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:f,selectionKeyCode:d,selectionOnDrag:p,selectionMode:m,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:w,zoomActivationKeyCode:I,elementsSelectable:T,zoomOnScroll:N,zoomOnPinch:D,panOnScroll:E,panOnScrollSpeed:y,panOnScrollMode:g,zoomOnDoubleClick:v,panOnDrag:C,defaultViewport:k,translateExtent:O,minZoom:P,maxZoom:S,preventScrolling:R,onSelectionContextMenu:A,noWheelClassName:_,noPanClassName:L,disableKeyboardA11y:M})=>{const F=Fe(jy),H=Un(d),z=Un(w),V=z||C,W=z||E,$=H||p&&V!==!0;return cy({deleteKeyCode:s,multiSelectionKeyCode:j}),B.createElement(py,{onMove:l,onMoveStart:c,onMoveEnd:f,onPaneContextMenu:o,elementsSelectable:T,zoomOnScroll:N,zoomOnPinch:D,panOnScroll:W,panOnScrollSpeed:y,panOnScrollMode:g,zoomOnDoubleClick:v,panOnDrag:!H&&V,defaultViewport:k,translateExtent:O,minZoom:P,maxZoom:S,zoomActivationKeyCode:I,preventScrolling:R,noWheelClassName:_,noPanClassName:L},B.createElement(bd,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:i,panOnDrag:V,isSelecting:!!$,selectionMode:m},e,F&&B.createElement(Cy,{onSelectionContextMenu:A,noPanClassName:L,disableKeyboardA11y:M})))};Sd.displayName="FlowRenderer";var Sy=h.memo(Sd);function ky(e){return Fe(h.useCallback(r=>e?td(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function Ey(e){const t={input:jn(e.input||ld),default:jn(e.default||Si),output:jn(e.output||ud),group:jn(e.group||ds)},r={},n=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=jn(e[o]||Si),a),r);return{...t,...n}}const Ny=({x:e,y:t,width:r,height:n,origin:a})=>!r||!n?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-r*a[0],y:t-n*a[1]},Dy=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),kd=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,updateNodeDimensions:o,onError:i}=Fe(Dy,vt),s=ky(e.onlyRenderVisibleElements),l=h.useRef(),c=h.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(d=>{const p=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(p)});return l.current=f,f},[]);return h.useEffect(()=>()=>{var f;(f=l==null?void 0:l.current)==null||f.disconnect()},[]),B.createElement("div",{className:"react-flow__nodes",style:fs},s.map(f=>{var D,E,y;let d=f.type||"default";e.nodeTypes[d]||(i==null||i("003",lr.error003(d)),d="default");const p=e.nodeTypes[d]||e.nodeTypes.default,m=!!(f.draggable||t&&typeof f.draggable>"u"),x=!!(f.selectable||a&&typeof f.selectable>"u"),b=!!(f.connectable||r&&typeof f.connectable>"u"),j=!!(f.focusable||n&&typeof f.focusable>"u"),w=e.nodeExtent?rs(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,I=(w==null?void 0:w.x)??0,T=(w==null?void 0:w.y)??0,N=Ny({x:I,y:T,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return B.createElement(p,{key:f.id,id:f.id,className:f.className,style:f.style,type:d,data:f.data,sourcePosition:f.sourcePosition||Q.Bottom,targetPosition:f.targetPosition||Q.Top,hidden:f.hidden,xPos:I,yPos:T,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:m,isSelectable:x,isConnectable:b,isFocusable:j,resizeObserver:c,dragHandle:f.dragHandle,zIndex:((D=f[$e])==null?void 0:D.z)??0,isParent:!!((E=f[$e])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((y=f[$e])!=null&&y.handleBounds)})}))};kd.displayName="NodeRenderer";var Iy=h.memo(kd);const Ty=(e,t,r)=>r===Q.Left?e-t:r===Q.Right?e+t:e,Py=(e,t,r)=>r===Q.Top?e-t:r===Q.Bottom?e+t:e,$l="react-flow__edgeupdater",zl=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:o,onMouseOut:i,type:s})=>B.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:i,className:ot([$l,`${$l}-${s}`]),cx:Ty(t,n,e),cy:Py(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),Oy=()=>!0;var Ur=e=>{const t=({id:r,className:n,type:a,data:o,onClick:i,onEdgeDoubleClick:s,selected:l,animated:c,label:f,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:b,style:j,source:w,target:I,sourceX:T,sourceY:N,targetX:D,targetY:E,sourcePosition:y,targetPosition:g,elementsSelectable:v,hidden:C,sourceHandleId:k,targetHandleId:O,onContextMenu:P,onMouseEnter:S,onMouseMove:R,onMouseLeave:A,reconnectRadius:_,onReconnect:L,onReconnectStart:M,onReconnectEnd:F,markerEnd:H,markerStart:z,rfId:V,ariaLabel:W,isFocusable:$,isReconnectable:q,pathOptions:J,interactionWidth:ne,disableKeyboardA11y:de})=>{const X=h.useRef(null),[ie,we]=h.useState(!1),[Ce,ae]=h.useState(!1),De=Xe(),Ae=h.useMemo(()=>`url('#${Ci(z,V)}')`,[z,V]),ye=h.useMemo(()=>`url('#${Ci(H,V)}')`,[H,V]);if(C)return null;const le=_e=>{var Qe;const{edges:Ge,addSelectedEdges:ut,unselectNodesAndEdges:tt,multiSelectionActive:rt}=De.getState(),nt=Ge.find(Tt=>Tt.id===r);nt&&(v&&(De.setState({nodesSelectionActive:!1}),nt.selected&&rt?(tt({nodes:[],edges:[nt]}),(Qe=X.current)==null||Qe.blur()):ut([r])),i&&i(_e,nt))},K=wn(r,De.getState,s),je=wn(r,De.getState,P),yt=wn(r,De.getState,S),bt=wn(r,De.getState,R),it=wn(r,De.getState,A),Ve=(_e,Ge)=>{if(_e.button!==0)return;const{edges:ut,isValidConnection:tt}=De.getState(),rt=Ge?I:w,nt=(Ge?O:k)||null,Qe=Ge?"target":"source",Tt=tt||Oy,Pt=Ge,Bt=ut.find(dt=>dt.id===r);ae(!0),M==null||M(_e,Bt,Qe);const Zt=dt=>{ae(!1),F==null||F(dt,Bt,Qe)};ad({event:_e,handleId:nt,nodeId:rt,onConnect:dt=>L==null?void 0:L(Bt,dt),isTarget:Pt,getState:De.getState,setState:De.setState,isValidConnection:Tt,edgeUpdaterType:Qe,onReconnectEnd:Zt})},xt=_e=>Ve(_e,!0),Je=_e=>Ve(_e,!1),st=()=>we(!0),lt=()=>we(!1),ct=!v&&!i,It=_e=>{var Ge;if(!de&&Wu.includes(_e.key)&&v){const{unselectNodesAndEdges:ut,addSelectedEdges:tt,edges:rt}=De.getState();_e.key==="Escape"?((Ge=X.current)==null||Ge.blur(),ut({edges:[rt.find(Qe=>Qe.id===r)]})):tt([r])}};return B.createElement("g",{className:ot(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:l,animated:c,inactive:ct,updating:ie}]),onClick:le,onDoubleClick:K,onContextMenu:je,onMouseEnter:yt,onMouseMove:bt,onMouseLeave:it,onKeyDown:$?It:void 0,tabIndex:$?0:void 0,role:$?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":W===null?void 0:W||`Edge from ${w} to ${I}`,"aria-describedby":$?`${pd}-${V}`:void 0,ref:X},!Ce&&B.createElement(e,{id:r,source:w,target:I,selected:l,animated:c,label:f,labelStyle:d,labelShowBg:p,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:b,data:o,style:j,sourceX:T,sourceY:N,targetX:D,targetY:E,sourcePosition:y,targetPosition:g,sourceHandleId:k,targetHandleId:O,markerStart:Ae,markerEnd:ye,pathOptions:J,interactionWidth:ne}),q&&B.createElement(B.Fragment,null,(q==="source"||q===!0)&&B.createElement(zl,{position:y,centerX:T,centerY:N,radius:_,onMouseDown:xt,onMouseEnter:st,onMouseOut:lt,type:"source"}),(q==="target"||q===!0)&&B.createElement(zl,{position:g,centerX:D,centerY:E,radius:_,onMouseDown:Je,onMouseEnter:st,onMouseOut:lt,type:"target"})))};return t.displayName="EdgeWrapper",h.memo(t)};function Ry(e){const t={default:Ur(e.default||Va),straight:Ur(e.bezier||is),step:Ur(e.step||os),smoothstep:Ur(e.step||io),simplebezier:Ur(e.simplebezier||as)},r={},n=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=Ur(e[o]||Va),a),r);return{...t,...n}}function Hl(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,a=((r==null?void 0:r.y)||0)+t.y,o=(r==null?void 0:r.width)||t.width,i=(r==null?void 0:r.height)||t.height;switch(e){case Q.Top:return{x:n+o/2,y:a};case Q.Right:return{x:n+o,y:a+i/2};case Q.Bottom:return{x:n+o/2,y:a+i};case Q.Left:return{x:n,y:a+i/2}}}function Vl(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const My=(e,t,r,n,a,o)=>{const i=Hl(r,e,t),s=Hl(o,n,a);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}};function Ay({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:a,targetHeight:o,width:i,height:s,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+a),y2:Math.max(e.y+n,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const f=ns({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:s/l[2]}),d=Math.max(0,Math.min(f.x2,c.x2)-Math.max(f.x,c.x)),p=Math.max(0,Math.min(f.y2,c.y2)-Math.max(f.y,c.y));return Math.ceil(d*p)>0}function Gl(e){var n,a,o,i,s;const t=((n=e==null?void 0:e[$e])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const Ly=[{level:0,isMaxLevel:!0,edges:[]}];function Fy(e,t,r=!1){let n=-1;const a=e.reduce((i,s)=>{var f,d;const l=At(s.zIndex);let c=l?s.zIndex:0;if(r){const p=t.get(s.target),m=t.get(s.source),x=s.selected||(p==null?void 0:p.selected)||(m==null?void 0:m.selected),b=Math.max(((f=m==null?void 0:m[$e])==null?void 0:f.z)||0,((d=p==null?void 0:p[$e])==null?void 0:d.z)||0,1e3);c=(l?s.zIndex:0)+(x?b:0)}return i[c]?i[c].push(s):i[c]=[s],n=c>n?c:n,i},{}),o=Object.entries(a).map(([i,s])=>{const l=+i;return{edges:s,level:l,isMaxLevel:l===n}});return o.length===0?Ly:o}function By(e,t,r){const n=Fe(h.useCallback(a=>e?a.edges.filter(o=>{const i=t.get(o.source),s=t.get(o.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&Ay({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:s.width,targetHeight:s.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return Fy(n,t,r)}const _y=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),$y=({color:e="none",strokeWidth:t=1})=>B.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ul={[za.Arrow]:_y,[za.ArrowClosed]:$y};function zy(e){const t=Xe();return h.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(Ul,e)?Ul[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",lr.error009(e)),null)},[e])}const Hy=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:i,orient:s="auto-start-reverse"})=>{const l=zy(t);return l?B.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0"},B.createElement(l,{color:r,strokeWidth:i})):null},Vy=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const s=Ci(i,t);n.includes(s)||(a.push({id:s,color:i.color||e,...i}),n.push(s))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},Ed=({defaultColor:e,rfId:t})=>{const r=Fe(h.useCallback(Vy({defaultColor:e,rfId:t}),[e,t]),(n,a)=>!(n.length!==a.length||n.some((o,i)=>o.id!==a[i].id)));return B.createElement("defs",null,r.map(n=>B.createElement(Hy,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};Ed.displayName="MarkerDefinitions";var Gy=h.memo(Ed);const Uy=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Nd=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:i,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:f,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,children:j,disableKeyboardA11y:w})=>{const{edgesFocusable:I,edgesUpdatable:T,elementsSelectable:N,width:D,height:E,connectionMode:y,nodeInternals:g,onError:v}=Fe(Uy,vt),C=By(t,g,r);return D?B.createElement(B.Fragment,null,C.map(({level:k,edges:O,isMaxLevel:P})=>B.createElement("svg",{key:k,style:{zIndex:k},width:D,height:E,className:"react-flow__edges react-flow__container"},P&&B.createElement(Gy,{defaultColor:e,rfId:n}),B.createElement("g",null,O.map(S=>{const[R,A,_]=Gl(g.get(S.source)),[L,M,F]=Gl(g.get(S.target));if(!_||!F)return null;let H=S.type||"default";a[H]||(v==null||v("011",lr.error011(H)),H="default");const z=a[H]||a.default,V=y===Fr.Strict?M.target:(M.target??[]).concat(M.source??[]),W=Vl(A.source,S.sourceHandle),$=Vl(V,S.targetHandle),q=(W==null?void 0:W.position)||Q.Bottom,J=($==null?void 0:$.position)||Q.Top,ne=!!(S.focusable||I&&typeof S.focusable>"u"),de=S.reconnectable||S.updatable,X=typeof p<"u"&&(de||T&&typeof de>"u");if(!W||!$)return v==null||v("008",lr.error008(W,S)),null;const{sourceX:ie,sourceY:we,targetX:Ce,targetY:ae}=My(R,W,q,L,$,J);return B.createElement(z,{key:S.id,id:S.id,className:ot([S.className,o]),type:H,data:S.data,selected:!!S.selected,animated:!!S.animated,hidden:!!S.hidden,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,style:S.style,source:S.source,target:S.target,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerEnd:S.markerEnd,markerStart:S.markerStart,sourceX:ie,sourceY:we,targetX:Ce,targetY:ae,sourcePosition:q,targetPosition:J,elementsSelectable:N,onContextMenu:i,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onClick:f,onEdgeDoubleClick:d,onReconnect:p,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,rfId:n,ariaLabel:S.ariaLabel,isFocusable:ne,isReconnectable:X,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth,disableKeyboardA11y:w})})))),j):null};Nd.displayName="EdgeRenderer";var Wy=h.memo(Nd);const qy=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Xy({children:e}){const t=Fe(qy);return B.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Yy(e){const t=na(),r=h.useRef(!1);h.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const Ky={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},Dd=({nodeId:e,handleType:t,style:r,type:n=gr.Bezier,CustomComponent:a,connectionStatus:o})=>{var E,y,g;const{fromNode:i,handleId:s,toX:l,toY:c,connectionMode:f}=Fe(h.useCallback(v=>({fromNode:v.nodeInternals.get(e),handleId:v.connectionHandleId,toX:(v.connectionPosition.x-v.transform[0])/v.transform[2],toY:(v.connectionPosition.y-v.transform[1])/v.transform[2],connectionMode:v.connectionMode}),[e]),vt),d=(E=i==null?void 0:i[$e])==null?void 0:E.handleBounds;let p=d==null?void 0:d[t];if(f===Fr.Loose&&(p=p||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!p)return null;const m=s?p.find(v=>v.id===s):p[0],x=m?m.x+m.width/2:(i.width??0)/2,b=m?m.y+m.height/2:i.height??0,j=(((y=i.positionAbsolute)==null?void 0:y.x)??0)+x,w=(((g=i.positionAbsolute)==null?void 0:g.y)??0)+b,I=m==null?void 0:m.position,T=I?Ky[I]:null;if(!I||!T)return null;if(a)return B.createElement(a,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:m,fromX:j,fromY:w,toX:l,toY:c,fromPosition:I,toPosition:T,connectionStatus:o});let N="";const D={sourceX:j,sourceY:w,sourcePosition:I,targetX:l,targetY:c,targetPosition:T};return n===gr.Bezier?[N]=Zu(D):n===gr.Step?[N]=Ha({...D,borderRadius:0}):n===gr.SmoothStep?[N]=Ha(D):n===gr.SimpleBezier?[N]=Ku(D):N=`M${j},${w} ${l},${c}`,B.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:r})};Dd.displayName="ConnectionLine";const Zy=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Jy({containerStyle:e,style:t,type:r,component:n}){const{nodeId:a,handleType:o,nodesConnectable:i,width:s,height:l,connectionStatus:c}=Fe(Zy,vt);return!(a&&o&&s&&i)?null:B.createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},B.createElement("g",{className:ot(["react-flow__connection",c])},B.createElement(Dd,{nodeId:a,handleType:o,style:t,type:r,CustomComponent:n,connectionStatus:c})))}function Wl(e,t){return h.useRef(null),Xe(),h.useMemo(()=>t(e),[e])}const Id=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:a,onInit:o,onNodeClick:i,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:m,onSelectionContextMenu:x,onSelectionStart:b,onSelectionEnd:j,connectionLineType:w,connectionLineStyle:I,connectionLineComponent:T,connectionLineContainerStyle:N,selectionKeyCode:D,selectionOnDrag:E,selectionMode:y,multiSelectionKeyCode:g,panActivationKeyCode:v,zoomActivationKeyCode:C,deleteKeyCode:k,onlyRenderVisibleElements:O,elementsSelectable:P,selectNodesOnDrag:S,defaultViewport:R,translateExtent:A,minZoom:_,maxZoom:L,preventScrolling:M,defaultMarkerColor:F,zoomOnScroll:H,zoomOnPinch:z,panOnScroll:V,panOnScrollSpeed:W,panOnScrollMode:$,zoomOnDoubleClick:q,panOnDrag:J,onPaneClick:ne,onPaneMouseEnter:de,onPaneMouseMove:X,onPaneMouseLeave:ie,onPaneScroll:we,onPaneContextMenu:Ce,onEdgeContextMenu:ae,onEdgeMouseEnter:De,onEdgeMouseMove:Ae,onEdgeMouseLeave:ye,onReconnect:le,onReconnectStart:K,onReconnectEnd:je,reconnectRadius:yt,noDragClassName:bt,noWheelClassName:it,noPanClassName:Ve,elevateEdgesOnSelect:xt,disableKeyboardA11y:Je,nodeOrigin:st,nodeExtent:lt,rfId:ct})=>{const It=Wl(e,Ey),_e=Wl(t,Ry);return Yy(o),B.createElement(Sy,{onPaneClick:ne,onPaneMouseEnter:de,onPaneMouseMove:X,onPaneMouseLeave:ie,onPaneContextMenu:Ce,onPaneScroll:we,deleteKeyCode:k,selectionKeyCode:D,selectionOnDrag:E,selectionMode:y,onSelectionStart:b,onSelectionEnd:j,multiSelectionKeyCode:g,panActivationKeyCode:v,zoomActivationKeyCode:C,elementsSelectable:P,onMove:r,onMoveStart:n,onMoveEnd:a,zoomOnScroll:H,zoomOnPinch:z,zoomOnDoubleClick:q,panOnScroll:V,panOnScrollSpeed:W,panOnScrollMode:$,panOnDrag:J,defaultViewport:R,translateExtent:A,minZoom:_,maxZoom:L,onSelectionContextMenu:x,preventScrolling:M,noDragClassName:bt,noWheelClassName:it,noPanClassName:Ve,disableKeyboardA11y:Je},B.createElement(Xy,null,B.createElement(Wy,{edgeTypes:_e,onEdgeClick:s,onEdgeDoubleClick:c,onlyRenderVisibleElements:O,onEdgeContextMenu:ae,onEdgeMouseEnter:De,onEdgeMouseMove:Ae,onEdgeMouseLeave:ye,onReconnect:le,onReconnectStart:K,onReconnectEnd:je,reconnectRadius:yt,defaultMarkerColor:F,noPanClassName:Ve,elevateEdgesOnSelect:!!xt,disableKeyboardA11y:Je,rfId:ct},B.createElement(Jy,{style:I,type:w,component:T,containerStyle:N})),B.createElement("div",{className:"react-flow__edgelabel-renderer"}),B.createElement(Iy,{nodeTypes:It,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:p,onNodeContextMenu:m,selectNodesOnDrag:S,onlyRenderVisibleElements:O,noPanClassName:Ve,noDragClassName:bt,disableKeyboardA11y:Je,nodeOrigin:st,nodeExtent:lt,rfId:ct})))};Id.displayName="GraphView";var Qy=h.memo(Id);const Ei=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],dr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ei,nodeExtent:Ei,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Fr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:N0,isValidConnection:void 0},eb=()=>$m((e,t)=>({...dr,setNodes:r=>{const{nodeInternals:n,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Oo(r,n,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(a=>({...n,...a}))})},setDefaultNodesAndEdges:(r,n)=>{const a=typeof r<"u",o=typeof n<"u",i=a?Oo(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:o?n:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),f=l==null?void 0:l.querySelector(".react-flow__viewport");if(!f)return;const d=window.getComputedStyle(f),{m22:p}=new window.DOMMatrixReadOnly(d.transform),m=r.reduce((b,j)=>{const w=a.get(j.id);if(w!=null&&w.hidden)a.set(w.id,{...w,[$e]:{...w[$e],handleBounds:void 0}});else if(w){const I=ts(j.nodeElement);!!(I.width&&I.height&&(w.width!==I.width||w.height!==I.height||j.forceUpdate))&&(a.set(w.id,{...w,[$e]:{...w[$e],handleBounds:{source:_l(".source",j.nodeElement,p,c),target:_l(".target",j.nodeElement,p,c)}},...I}),b.push({id:w.id,type:"dimensions",dimensions:I}))}return b},[]);gd(a,c);const x=i||o&&!i&&hd(t,{initial:!0,...s});e({nodeInternals:new Map(a),fitViewOnInitDone:x}),(m==null?void 0:m.length)>0&&(n==null||n(m))},updateNodePositions:(r,n=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),i=r.map(s=>{const l={id:s.id,type:"position",dragging:a};return n&&(l.positionAbsolute=s.positionAbsolute,l.position=s.position),l});o(i)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();if(r!=null&&r.length){if(o){const c=yd(r,s()),f=Oo(c,a,i,l);e({nodeInternals:f})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:a,getNodes:o}=t();let i,s=null;n?i=r.map(l=>mr(l,!0)):(i=Kr(o(),r),s=Kr(a,[])),ya({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:a,getNodes:o}=t();let i,s=null;n?i=r.map(l=>mr(l,!0)):(i=Kr(a,r),s=Kr(o(),[])),ya({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:a,getNodes:o}=t(),i=r||o(),s=n||a,l=i.map(f=>(f.selected=!1,mr(f.id,!1))),c=s.map(f=>mr(f.id,!1));ya({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:a}=t();n==null||n.scaleExtent([r,a]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:a}=t();n==null||n.scaleExtent([a,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),o=n().filter(s=>s.selected).map(s=>mr(s.id,!1)),i=r.filter(s=>s.selected).map(s=>mr(s.id,!1));ya({changedNodes:o,changedEdges:i,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(a=>{a.positionAbsolute=rs(a.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:a,height:o,d3Zoom:i,d3Selection:s,translateExtent:l}=t();if(!i||!s||!r.x&&!r.y)return!1;const c=hr.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),f=[[0,0],[a,o]],d=i==null?void 0:i.constrain()(c,f,l);return i.transform(s,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:dr.connectionNodeId,connectionHandleId:dr.connectionHandleId,connectionHandleType:dr.connectionHandleType,connectionStatus:dr.connectionStatus,connectionStartHandle:dr.connectionStartHandle,connectionEndHandle:dr.connectionEndHandle}),reset:()=>e({...dr})}),Object.is),ps=({children:e})=>{const t=h.useRef(null);return t.current||(t.current=eb()),B.createElement(b0,{value:t.current},e)};ps.displayName="ReactFlowProvider";const Td=({children:e})=>h.useContext(oo)?B.createElement(B.Fragment,null,e):B.createElement(ps,null,e);Td.displayName="ReactFlowWrapper";const tb={input:ld,default:Si,output:ud,group:ds},rb={default:Va,straight:is,step:os,smoothstep:io,simplebezier:as},nb=[0,0],ab=[15,15],ob={x:0,y:0,zoom:1},ib={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Pd=h.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:o=tb,edgeTypes:i=rb,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:f,onMoveStart:d,onMoveEnd:p,onConnect:m,onConnectStart:x,onConnectEnd:b,onClickConnectStart:j,onClickConnectEnd:w,onNodeMouseEnter:I,onNodeMouseMove:T,onNodeMouseLeave:N,onNodeContextMenu:D,onNodeDoubleClick:E,onNodeDragStart:y,onNodeDrag:g,onNodeDragStop:v,onNodesDelete:C,onEdgesDelete:k,onSelectionChange:O,onSelectionDragStart:P,onSelectionDrag:S,onSelectionDragStop:R,onSelectionContextMenu:A,onSelectionStart:_,onSelectionEnd:L,connectionMode:M=Fr.Strict,connectionLineType:F=gr.Bezier,connectionLineStyle:H,connectionLineComponent:z,connectionLineContainerStyle:V,deleteKeyCode:W="Backspace",selectionKeyCode:$="Shift",selectionOnDrag:q=!1,selectionMode:J=Gn.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:de=$a()?"Meta":"Control",zoomActivationKeyCode:X=$a()?"Meta":"Control",snapToGrid:ie=!1,snapGrid:we=ab,onlyRenderVisibleElements:Ce=!1,selectNodesOnDrag:ae=!0,nodesDraggable:De,nodesConnectable:Ae,nodesFocusable:ye,nodeOrigin:le=nb,edgesFocusable:K,edgesUpdatable:je,elementsSelectable:yt,defaultViewport:bt=ob,minZoom:it=.5,maxZoom:Ve=2,translateExtent:xt=Ei,preventScrolling:Je=!0,nodeExtent:st,defaultMarkerColor:lt="#b1b1b7",zoomOnScroll:ct=!0,zoomOnPinch:It=!0,panOnScroll:_e=!1,panOnScrollSpeed:Ge=.5,panOnScrollMode:ut=Rr.Free,zoomOnDoubleClick:tt=!0,panOnDrag:rt=!0,onPaneClick:nt,onPaneMouseEnter:Qe,onPaneMouseMove:Tt,onPaneMouseLeave:Pt,onPaneScroll:Bt,onPaneContextMenu:Zt,children:Jt,onEdgeContextMenu:dt,onEdgeDoubleClick:Ut,onEdgeMouseEnter:Sr,onEdgeMouseMove:Qt,onEdgeMouseLeave:er,onEdgeUpdate:cr,onEdgeUpdateStart:tr,onEdgeUpdateEnd:kr,onReconnect:Wt,onReconnectStart:ge,onReconnectEnd:G,reconnectRadius:Z=10,edgeUpdaterRadius:ke=10,onNodesChange:Le,onEdgesChange:Ye,noDragClassName:ce="nodrag",noWheelClassName:Y="nowheel",noPanClassName:be="nopan",fitView:Oe=!1,fitViewOptions:Re,connectOnClick:ft=!0,attributionPosition:pt,proOptions:ue,defaultEdgeOptions:U,elevateNodesOnSelect:te=!0,elevateEdgesOnSelect:re=!1,disableKeyboardA11y:oe=!1,autoPanOnConnect:pe=!0,autoPanOnNodeDrag:fe=!0,connectionRadius:he=20,isValidConnection:Pe,onError:Ie,style:ze,id:Ue,nodeDragThreshold:et,...wt},rr)=>{const Er=Ue||"1";return B.createElement("div",{...wt,style:{...ze,...ib},ref:rr,className:ot(["react-flow",a]),"data-testid":"rf__wrapper",id:Ue},B.createElement(Td,null,B.createElement(Qy,{onInit:c,onMove:f,onMoveStart:d,onMoveEnd:p,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:I,onNodeMouseMove:T,onNodeMouseLeave:N,onNodeContextMenu:D,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:i,connectionLineType:F,connectionLineStyle:H,connectionLineComponent:z,connectionLineContainerStyle:V,selectionKeyCode:$,selectionOnDrag:q,selectionMode:J,deleteKeyCode:W,multiSelectionKeyCode:de,panActivationKeyCode:ne,zoomActivationKeyCode:X,onlyRenderVisibleElements:Ce,selectNodesOnDrag:ae,defaultViewport:bt,translateExtent:xt,minZoom:it,maxZoom:Ve,preventScrolling:Je,zoomOnScroll:ct,zoomOnPinch:It,zoomOnDoubleClick:tt,panOnScroll:_e,panOnScrollSpeed:Ge,panOnScrollMode:ut,panOnDrag:rt,onPaneClick:nt,onPaneMouseEnter:Qe,onPaneMouseMove:Tt,onPaneMouseLeave:Pt,onPaneScroll:Bt,onPaneContextMenu:Zt,onSelectionContextMenu:A,onSelectionStart:_,onSelectionEnd:L,onEdgeContextMenu:dt,onEdgeDoubleClick:Ut,onEdgeMouseEnter:Sr,onEdgeMouseMove:Qt,onEdgeMouseLeave:er,onReconnect:Wt??cr,onReconnectStart:ge??tr,onReconnectEnd:G??kr,reconnectRadius:Z??ke,defaultMarkerColor:lt,noDragClassName:ce,noWheelClassName:Y,noPanClassName:be,elevateEdgesOnSelect:re,rfId:Er,disableKeyboardA11y:oe,nodeOrigin:le,nodeExtent:st}),B.createElement(Z0,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:x,onConnectEnd:b,onClickConnectStart:j,onClickConnectEnd:w,nodesDraggable:De,nodesConnectable:Ae,nodesFocusable:ye,edgesFocusable:K,edgesUpdatable:je,elementsSelectable:yt,elevateNodesOnSelect:te,minZoom:it,maxZoom:Ve,nodeExtent:st,onNodesChange:Le,onEdgesChange:Ye,snapToGrid:ie,snapGrid:we,connectionMode:M,translateExtent:xt,connectOnClick:ft,defaultEdgeOptions:U,fitView:Oe,fitViewOptions:Re,onNodesDelete:C,onEdgesDelete:k,onNodeDragStart:y,onNodeDrag:g,onNodeDragStop:v,onSelectionDrag:S,onSelectionDragStart:P,onSelectionDragStop:R,noPanClassName:be,nodeOrigin:le,rfId:Er,autoPanOnConnect:pe,autoPanOnNodeDrag:fe,onError:Ie,connectionRadius:he,isValidConnection:Pe,nodeDragThreshold:et}),B.createElement(Y0,{onSelectionChange:O}),Jt,B.createElement(w0,{proOptions:ue,position:pt}),B.createElement(ry,{rfId:Er,disableKeyboardA11y:oe})))});Pd.displayName="ReactFlow";const sb=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function lb({children:e}){const t=Fe(sb);return t?tu.createPortal(e,t):null}function cb(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}function ub(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},B.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function db(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},B.createElement("path",{d:"M0 0h32v4.2H0z"}))}function fb(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},B.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function pb(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function mb(){return B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},B.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Pn=({children:e,className:t,...r})=>B.createElement("button",{type:"button",className:ot(["react-flow__controls-button",t]),...r},e);Pn.displayName="ControlButton";const gb=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Od=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:i,onFitView:s,onInteractiveChange:l,className:c,children:f,position:d="bottom-left"})=>{const p=Xe(),[m,x]=h.useState(!1),{isInteractive:b,minZoomReached:j,maxZoomReached:w}=Fe(gb,cb),{zoomIn:I,zoomOut:T,fitView:N}=na();if(h.useEffect(()=>{x(!0)},[]),!m)return null;const D=()=>{I(),o==null||o()},E=()=>{T(),i==null||i()},y=()=>{N(a),s==null||s()},g=()=>{p.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),l==null||l(!b)};return B.createElement(es,{className:ot(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls"},t&&B.createElement(B.Fragment,null,B.createElement(Pn,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w},B.createElement(ub,null)),B.createElement(Pn,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:j},B.createElement(db,null))),r&&B.createElement(Pn,{className:"react-flow__controls-fitview",onClick:y,title:"fit view","aria-label":"fit view"},B.createElement(fb,null)),n&&B.createElement(Pn,{className:"react-flow__controls-interactive",onClick:g,title:"toggle interactivity","aria-label":"toggle interactivity"},b?B.createElement(mb,null):B.createElement(pb,null)),f)};Od.displayName="Controls";var hb=h.memo(Od);function vb(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var Vt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Vt||(Vt={}));function yb({color:e,dimensions:t,lineWidth:r}){return B.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function bb({color:e,radius:t}){return B.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const xb={[Vt.Dots]:"#91919a",[Vt.Lines]:"#eee",[Vt.Cross]:"#e2e2e2"},wb={[Vt.Dots]:1,[Vt.Lines]:1,[Vt.Cross]:6},Cb=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Rd({id:e,variant:t=Vt.Dots,gap:r=20,size:n,lineWidth:a=1,offset:o=2,color:i,style:s,className:l}){const c=h.useRef(null),{transform:f,patternId:d}=Fe(Cb,vb),p=i||xb[t],m=n||wb[t],x=t===Vt.Dots,b=t===Vt.Cross,j=Array.isArray(r)?r:[r,r],w=[j[0]*f[2]||1,j[1]*f[2]||1],I=m*f[2],T=b?[I,I]:w,N=x?[I/o,I/o]:[T[0]/o,T[1]/o];return B.createElement("svg",{className:ot(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},B.createElement("pattern",{id:d+e,x:f[0]%w[0],y:f[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},x?B.createElement(bb,{color:p,radius:I/o}):B.createElement(yb,{dimensions:T,color:p,lineWidth:a})),B.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Rd.displayName="Background";var jb=h.memo(Rd);const Sb=({onAccept:e,onReject:t})=>u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{className:"text-white px-2 bg-green-500 hover:bg-green-700 rounded h-8 flex items-center justify-center",onClick:t,children:"No"}),u.jsx("button",{className:"text-white bg-red-500 px-2 hover:bg-red-700 rounded h-8 flex items-center justify-center",onClick:e,autoFocus:!0,children:"Yes"})]}),kb=({flowList:e,value:t,onChange:r})=>{h.useEffect(()=>{if(!t&&(e!=null&&e.length)){const a=e.find(o=>o.label.includes("Draft"));a&&r(a.value)}},[t,e,r]);const n=a=>r(a.target.value);return u.jsxs("div",{className:"pb-3",children:[u.jsx("label",{htmlFor:"dropdown",className:"text-xs",children:"Flows"}),u.jsxs("select",{id:"dropdown",className:"border w-full","aria-label":"Select Draft or Version to View and Modify",onChange:n,value:t||"",children:[u.jsx("option",{value:"",children:"Select a flow"}),e==null?void 0:e.map(a=>u.jsx("option",{value:a.value,children:a.label},a.value))]})]})},Eb=h.memo(kb),Nb=({onDragStart:e,clearFlow:t,onSave:r,errors:n,nodes:a,flowList:o,onFlowSelectionChange:i,onDelete:s,flowId:l,isSaveDisabled:c})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flow-tools",children:[u.jsx("button",{className:"button",onDragStart:f=>e(f,"message"),draggable:!0,children:"Message"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"options"),draggable:!0,children:"Options"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"leadForm"),draggable:!0,children:"Lead Form"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"file"),draggable:!0,children:"File"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"map"),draggable:!0,children:"Maps"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"question"),draggable:!0,children:"Question"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"callConnect"),draggable:!0,children:"CallConnect"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"otp"),draggable:!0,children:"OTP"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"customForm"),draggable:!0,children:"Custom Form"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"url"),draggable:!0,children:"URL"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"whatsAppFlow"),draggable:!0,children:"WhatsApp Flow"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"http"),draggable:!0,children:"HTTP"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"gpt"),draggable:!0,children:"GPT Handler"}),u.jsx("button",{className:"button",onDragStart:f=>e(f,"stop"),draggable:!0,children:"Stop"})]}),u.jsxs("div",{className:"flow-actions",children:[u.jsx(Eb,{flowList:o,onChange:i,value:l}),u.jsx("button",{disabled:c,className:"px-2 py-2 bg-green-500 hover:bg-green-700 text-white font-bold rounded items-center text-center",onClick:()=>r(),children:"Save"}),u.jsx("button",{disabled:Object.keys(n).length>0||a.length<2,className:"px-2 py-2 bg-blue-500 hover:bg-blue-700 text-white font-bold rounded items-center text-center",onClick:()=>r(!0),children:"Deploy"}),u.jsx("button",{disabled:a.length<2,title:"Clear Board - Will delete all Nodes and Edges",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center",onClick:()=>t(),children:"Clear"}),u.jsx("button",{disabled:!l,title:"Delete Flow",className:"text-white bg-red-500 hover:bg-red-700 rounded h-8 w-8 flex items-center justify-center hidden",onClick:()=>s(l),children:"Delete"})]})]}),Db=B.memo(Nb);function Ib(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),t&&(n.href=t),a.href=e,a.href}const Tb=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function yr(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}let Wr=null;function Md(e={}){return Wr||(e.includeStyleProperties?(Wr=e.includeStyleProperties,Wr):(Wr=yr(window.getComputedStyle(document.documentElement)),Wr))}function Ga(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Pb(e){const t=Ga(e,"border-left-width"),r=Ga(e,"border-right-width");return e.clientWidth+t+r}function Ob(e){const t=Ga(e,"border-top-width"),r=Ga(e,"border-bottom-width");return e.clientHeight+t+r}function Ad(e,t={}){const r=t.width||Pb(e),n=t.height||Ob(e);return{width:r,height:n}}function Rb(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ct=16384;function Mb(e){(e.width>Ct||e.height>Ct)&&(e.width>Ct&&e.height>Ct?e.width>e.height?(e.height*=Ct/e.width,e.width=Ct):(e.width*=Ct/e.height,e.height=Ct):e.width>Ct?(e.height*=Ct/e.width,e.width=Ct):(e.width*=Ct/e.height,e.height=Ct))}function Ua(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Ab(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Lb(e,t,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${t} ${r}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(e),Ab(a)}const ht=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||ht(r,t)};function Fb(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Bb(e,t){return Md(t).map(r=>{const n=e.getPropertyValue(r),a=e.getPropertyPriority(r);return`${r}: ${n}${a?" !important":""};`}).join(" ")}function _b(e,t,r,n){const a=`.${e}:${t}`,o=r.cssText?Fb(r):Bb(r,n);return document.createTextNode(`${a}{${o}}`)}function ql(e,t,r,n){const a=window.getComputedStyle(e,r),o=a.getPropertyValue("content");if(o===""||o==="none")return;const i=Tb();try{t.className=`${t.className} ${i}`}catch{return}const s=document.createElement("style");s.appendChild(_b(i,r,a,n)),t.appendChild(s)}function $b(e,t,r){ql(e,t,":before",r),ql(e,t,":after",r)}const Xl="application/font-woff",Yl="image/jpeg",zb={woff:Xl,woff2:Xl,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Yl,jpeg:Yl,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Hb(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ms(e){const t=Hb(e).toLowerCase();return zb[t]||""}function Vb(e){return e.split(/,/)[1]}function Ni(e){return e.search(/^(data:)/)!==-1}function Gb(e,t){return`data:${t};base64,${e}`}async function Ld(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((o,i)=>{const s=new FileReader;s.onerror=i,s.onloadend=()=>{try{o(r({res:n,result:s.result}))}catch(l){i(l)}},s.readAsDataURL(a)})}const Lo={};function Ub(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function gs(e,t,r){const n=Ub(e,t,r.includeQueryParams);if(Lo[n]!=null)return Lo[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const o=await Ld(e,r.fetchRequestInit,({res:i,result:s})=>(t||(t=i.headers.get("Content-Type")||""),Vb(s)));a=Gb(o,t)}catch(o){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;o&&(i=typeof o=="string"?o:o.message),i&&console.warn(i)}return Lo[n]=a,a}async function Wb(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Ua(t)}async function qb(e,t){if(e.currentSrc){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,i==null||i.drawImage(e,0,0,o.width,o.height);const s=o.toDataURL();return Ua(s)}const r=e.poster,n=ms(r),a=await gs(r,n,t);return Ua(a)}async function Xb(e,t){var r;try{if(!((r=e==null?void 0:e.contentDocument)===null||r===void 0)&&r.body)return await lo(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Yb(e,t){return ht(e,HTMLCanvasElement)?Wb(e):ht(e,HTMLVideoElement)?qb(e,t):ht(e,HTMLIFrameElement)?Xb(e,t):e.cloneNode(Fd(e))}const Kb=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Fd=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Zb(e,t,r){var n,a;if(Fd(t))return t;let o=[];return Kb(e)&&e.assignedNodes?o=yr(e.assignedNodes()):ht(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?o=yr(e.contentDocument.body.childNodes):o=yr(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),o.length===0||ht(e,HTMLVideoElement)||await o.reduce((i,s)=>i.then(()=>lo(s,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function Jb(e,t,r){const n=t.style;if(!n)return;const a=window.getComputedStyle(e);a.cssText?(n.cssText=a.cssText,n.transformOrigin=a.transformOrigin):Md(r).forEach(o=>{let i=a.getPropertyValue(o);o==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),ht(e,HTMLIFrameElement)&&o==="display"&&i==="inline"&&(i="block"),o==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),n.setProperty(o,i,a.getPropertyPriority(o))})}function Qb(e,t){ht(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ht(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function ex(e,t){if(ht(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(a=>e.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function tx(e,t,r){return ht(t,Element)&&(Jb(e,t,r),$b(e,t,r),Qb(e,t),ex(e,t)),t}async function rx(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let o=0;o<r.length;o++){const s=r[o].getAttribute("xlink:href");if(s){const l=e.querySelector(s),c=document.querySelector(s);!l&&c&&!n[s]&&(n[s]=await lo(c,t,!0))}}const a=Object.values(n);if(a.length){const o="http://www.w3.org/1999/xhtml",i=document.createElementNS(o,"svg");i.setAttribute("xmlns",o),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const s=document.createElementNS(o,"defs");i.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(i)}return e}async function lo(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Yb(n,t)).then(n=>Zb(e,n,t)).then(n=>tx(e,n,t)).then(n=>rx(n,t))}const Bd=/url\((['"]?)([^'"]+?)\1\)/g,nx=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ax=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ox(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function ix(e){const t=[];return e.replace(Bd,(r,n,a)=>(t.push(a),r)),t.filter(r=>!Ni(r))}async function sx(e,t,r,n,a){try{const o=r?Ib(t,r):t,i=ms(t);let s;return a||(s=await gs(o,i,n)),e.replace(ox(t),`$1${s}$3`)}catch{}return e}function lx(e,{preferredFontFormat:t}){return t?e.replace(ax,r=>{for(;;){const[n,,a]=nx.exec(r)||[];if(!a)return"";if(a===t)return`src: ${n};`}}):e}function _d(e){return e.search(Bd)!==-1}async function $d(e,t,r){if(!_d(e))return e;const n=lx(e,r);return ix(n).reduce((o,i)=>o.then(s=>sx(s,i,t,r)),Promise.resolve(n))}async function qr(e,t,r){var n;const a=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(a){const o=await $d(a,null,r);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function cx(e,t){await qr("background",e,t)||await qr("background-image",e,t),await qr("mask",e,t)||await qr("-webkit-mask",e,t)||await qr("mask-image",e,t)||await qr("-webkit-mask-image",e,t)}async function ux(e,t){const r=ht(e,HTMLImageElement);if(!(r&&!Ni(e.src))&&!(ht(e,SVGImageElement)&&!Ni(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,a=await gs(n,ms(n),t);await new Promise((o,i)=>{e.onload=o,e.onerror=t.onImageErrorHandler?(...l)=>{try{o(t.onImageErrorHandler(...l))}catch(c){i(c)}}:i;const s=e;s.decode&&(s.decode=o),s.loading==="lazy"&&(s.loading="eager"),r?(e.srcset="",e.src=a):e.href.baseVal=a})}async function dx(e,t){const n=yr(e.childNodes).map(a=>zd(a,t));await Promise.all(n).then(()=>e)}async function zd(e,t){ht(e,Element)&&(await cx(e,t),await ux(e,t),await dx(e,t))}function fx(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),e}const Kl={};async function Zl(e){let t=Kl[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},Kl[e]=t,t}async function Jl(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let s=i.replace(n,"$1");return s.startsWith("https://")||(s=new URL(s,e.url).href),Ld(s,t.fetchRequestInit,({result:l})=>(r=r.replace(i,`url(${l})`),[i,l]))});return Promise.all(o).then(()=>r)}function Ql(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(n);if(l===null)break;t.push(l[0])}n=n.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(i,"gi");for(;;){let l=o.exec(n);if(l===null){if(l=s.exec(n),l===null)break;o.lastIndex=s.lastIndex}else s.lastIndex=o.lastIndex;t.push(l[0])}return t}async function px(e,t){const r=[],n=[];return e.forEach(a=>{if("cssRules"in a)try{yr(a.cssRules||[]).forEach((o,i)=>{if(o.type===CSSRule.IMPORT_RULE){let s=i+1;const l=o.href,c=Zl(l).then(f=>Jl(f,t)).then(f=>Ql(f).forEach(d=>{try{a.insertRule(d,d.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:d,error:p})}})).catch(f=>{console.error("Error loading remote css",f.toString())});n.push(c)}})}catch(o){const i=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&n.push(Zl(a.href).then(s=>Jl(s,t)).then(s=>Ql(s).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(e.forEach(a=>{if("cssRules"in a)try{yr(a.cssRules||[]).forEach(o=>{r.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),r))}function mx(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>_d(t.style.getPropertyValue("src")))}async function gx(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=yr(e.ownerDocument.styleSheets),n=await px(r,t);return mx(n)}function Hd(e){return e.trim().replace(/["']/g,"")}function hx(e){const t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(o=>{t.add(Hd(o))}),Array.from(n.children).forEach(o=>{o instanceof HTMLElement&&r(o)})}return r(e),t}async function vx(e,t){const r=await gx(e,t),n=hx(e);return(await Promise.all(r.filter(o=>n.has(Hd(o.style.fontFamily))).map(o=>{const i=o.parentStyleSheet?o.parentStyleSheet.href:null;return $d(o.cssText,i,t)}))).join(`
`)}async function yx(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await vx(e,t);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function bx(e,t={}){const{width:r,height:n}=Ad(e,t),a=await lo(e,t,!0);return await yx(a,t),await zd(a,t),fx(a,t),await Lb(a,r,n)}async function xx(e,t={}){const{width:r,height:n}=Ad(e,t),a=await bx(e,t),o=await Ua(a),i=document.createElement("canvas"),s=i.getContext("2d"),l=t.pixelRatio||Rb(),c=t.canvasWidth||r,f=t.canvasHeight||n;return i.width=c*l,i.height=f*l,t.skipAutoScale||Mb(i),i.style.width=`${c}`,i.style.height=`${f}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(o,0,0,i.width,i.height),i}async function wx(e,t={}){return(await xx(e,t)).toDataURL()}function Cx(e){const t=document.createElement("a");t.setAttribute("download","reactflow.png"),t.setAttribute("href",e),t.click()}const Fo=1024,Bo=768;function jx(){const{getNodes:e}=na(),t=()=>{const r=so(e()),n=cs(r,Fo,Bo,.5,2,20);wx(document.querySelector(".react-flow__viewport"),{backgroundColor:"#1a365d",width:Fo,height:Bo,style:{width:`${Fo}px`,height:`${Bo}px`,transform:`translate(${n.x}px, ${n.y}px) scale(${n.zoom})`}}).then(Cx)};return u.jsx(es,{position:"top-right",children:u.jsx("button",{className:"download-btn",onClick:t,children:"Download Image"})})}function Sx({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:o,targetPosition:i,style:s={}}){const{setEdges:l}=na(),[c,f,d]=Ha({sourceX:t,sourceY:r,sourcePosition:o,targetX:n,targetY:a,targetPosition:i}),p=()=>{l(m=>m.filter(x=>x.id!==e))};return u.jsxs(u.Fragment,{children:[u.jsx("svg",{style:{position:"absolute"},children:u.jsx("defs",{children:u.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"10",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto",children:u.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#ff0073"})})})}),u.jsx(pn,{path:c,markerEnd:"url(#arrowhead)",style:s}),u.jsx(lb,{children:u.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${d}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:u.jsx("button",{className:"w-4 h-4 bg-gray-300 border border-gray-500 rounded-full text-xs font-bold text-gray-800 flex items-baseline justify-center hover:bg-red-600 hover:border-red-700 hover:text-white hover:shadow-md",onClick:p,children:"×"})})})]})}const kx={Smileys:[{emoji:"😀",keywords:["grinning","happy","smile"]},{emoji:"😁",keywords:["grin","smiley","cheerful"]},{emoji:"😂",keywords:["joy","tears","laugh"]},{emoji:"🤣",keywords:["rofl","roll","laughing"]},{emoji:"😃",keywords:["smile","happy","joy"]},{emoji:"😄",keywords:["smiling","joy","happy"]},{emoji:"😅",keywords:["sweat","relief","nervous"]},{emoji:"😆",keywords:["laugh","happy","joy"]},{emoji:"😉",keywords:["wink","flirt","playful"]},{emoji:"😊",keywords:["blush","happy","smile"]},{emoji:"😋",keywords:["yum","delicious","tasty"]},{emoji:"😎",keywords:["cool","sunglasses","chill"]},{emoji:"😍",keywords:["love","heart","eyes","romantic"]},{emoji:"😘",keywords:["kiss","heart","love"]},{emoji:"😗",keywords:["kiss","face","blowing"]},{emoji:"😙",keywords:["kiss","smiling","love"]},{emoji:"😚",keywords:["kiss","closed","eyes"]},{emoji:"🙂",keywords:["smile","slight","happy"]},{emoji:"🤗",keywords:["hug","face","smile","embrace"]},{emoji:"🤩",keywords:["star","struck","amazed"]},{emoji:"🤔",keywords:["thinking","hmm","curious"]},{emoji:"🤨",keywords:["face","eyebrow","raised"]},{emoji:"😐",keywords:["neutral","meh","blank"]},{emoji:"😑",keywords:["expressionless","blank","deadpan"]},{emoji:"😶",keywords:["silence","no","mouth"]},{emoji:"🙄",keywords:["eye","roll","annoyed"]},{emoji:"😏",keywords:["smirk","sly","looking"]},{emoji:"😣",keywords:["persevere","struggling","face"]},{emoji:"😥",keywords:["relieved","sweat","exhaled"]},{emoji:"😮",keywords:["face","surprise","wow"]},{emoji:"🤤",keywords:["drooling","yum","delicious"]},{emoji:"😪",keywords:["sleepy","tired","exhausted"]},{emoji:"😯",keywords:["hushed","quiet","speechless"]},{emoji:"😫",keywords:["tired","sleepy","exhausted"]},{emoji:"😴",keywords:["sleeping","zzz","sleep"]},{emoji:"🤢",keywords:["nauseated","sick","face"]},{emoji:"🥵",keywords:["hot","sweating","face"]},{emoji:"🥶",keywords:["cold","freezing","face"]},{emoji:"😓",keywords:["sweat","sad","disappointed"]},{emoji:"😠",keywords:["angry","mad","annoyed"]},{emoji:"😡",keywords:["rage","pout","angry"]},{emoji:"🤬",keywords:["swearing","angry","censored"]},{emoji:"😔",keywords:["sad","disappointed","down"]},{emoji:"😕",keywords:["confused","meh","puzzled"]},{emoji:"🙁",keywords:["frowning","sad","unhappy"]},{emoji:"😟",keywords:["worried","anxious","concerned"]},{emoji:"😖",keywords:["confounded","distressed","upset"]},{emoji:"😢",keywords:["crying","sad","tears"]},{emoji:"😭",keywords:["sob","cry","tear"]},{emoji:"😩",keywords:["weary","tired","exhausted"]},{emoji:"😣",keywords:["persevere","struggle","sad"]},{emoji:"😞",keywords:["disappointed","sad","upset"]},{emoji:"😤",keywords:["triumph","proud","smug"]},{emoji:"😫",keywords:["tired","exhausted","sad"]},{emoji:"😰",keywords:["anxious","sad","worried"]},{emoji:"😱",keywords:["screaming","shock","scared"]},{emoji:"😳",keywords:["flushed","embarrassed","shocked"]},{emoji:"🤯",keywords:["mind","blown","shock"]},{emoji:"🤠",keywords:["cowboy","hat","cheerful"]},{emoji:"🥳",keywords:["party","celebrating","fun"]},{emoji:"😎",keywords:["cool","shade","sunglasses"]},{emoji:"🤓",keywords:["nerd","smart","studious"]},{emoji:"🧐",keywords:["monocle","curious","inspect"]},{emoji:"😦",keywords:["frowning","sad","upset"]},{emoji:"😧",keywords:["anguished","distressed","sad"]},{emoji:"😲",keywords:["astonished","surprised","shocked"]},{emoji:"🥺",keywords:["pleading","sad","cute"]},{emoji:"😵",keywords:["dizzy","confused","woozy"]},{emoji:"🤐",keywords:["zipper","mouth","shutup"]},{emoji:"🤕",keywords:["head","injury","sick"]}],Animals:[{emoji:"🐱",keywords:["cat","pet","feline"]},{emoji:"🐶",keywords:["dog","pet","puppy"]},{emoji:"🐭",keywords:["mouse","rodent","small"]},{emoji:"🐹",keywords:["hamster","pet","small"]},{emoji:"🐰",keywords:["rabbit","bunny","pet"]},{emoji:"🦊",keywords:["fox","wild","animal"]},{emoji:"🐻",keywords:["bear","wild","animal"]},{emoji:"🐼",keywords:["panda","bear","animal"]},{emoji:"🐨",keywords:["koala","bear","animal"]},{emoji:"🐯",keywords:["tiger","wild","bigcat"]},{emoji:"🦁",keywords:["lion","wild","king"]},{emoji:"🐮",keywords:["cow","farm","animal"]},{emoji:"🐷",keywords:["pig","farm","animal"]},{emoji:"🐸",keywords:["frog","amphibian","animal"]},{emoji:"🐵",keywords:["monkey","animal","primate"]},{emoji:"🦄",keywords:["unicorn","mythical","animal"]},{emoji:"🐴",keywords:["horse","equine","animal"]},{emoji:"🐤",keywords:["chick","baby","bird"]},{emoji:"🦜",keywords:["parrot","bird","talking"]},{emoji:"🦢",keywords:["swan","bird","majestic"]},{emoji:"🦉",keywords:["owl","bird","night"]},{emoji:"🦇",keywords:["bat","night","animal"]},{emoji:"🐺",keywords:["wolf","animal","wild"]},{emoji:"🐗",keywords:["boar","wild","animal"]},{emoji:"🐹",keywords:["hamster","animal","pet"]},{emoji:"🦔",keywords:["hedgehog","animal","cute"]},{emoji:"🐦",keywords:["bird","animal","flying"]},{emoji:"🐧",keywords:["penguin","bird","cold"]},{emoji:"🦀",keywords:["crab","sea","animal"]},{emoji:"🦞",keywords:["lobster","sea","animal"]},{emoji:"🦐",keywords:["shrimp","sea","animal"]},{emoji:"🐢",keywords:["turtle","reptile","animal"]},{emoji:"🦎",keywords:["lizard","reptile","animal"]},{emoji:"🐍",keywords:["snake","reptile","animal"]},{emoji:"🦕",keywords:["sauropod","dinosaur","extinct"]},{emoji:"🦖",keywords:["T-Rex","dinosaur","extinct"]},{emoji:"🐙",keywords:["octopus","sea","animal"]},{emoji:"🐬",keywords:["dolphin","sea","animal"]},{emoji:"🐳",keywords:["whale","sea","animal"]},{emoji:"🐟",keywords:["fish","sea","animal"]},{emoji:"🐠",keywords:["tropical","fish","sea"]},{emoji:"🐡",keywords:["blowfish","sea","animal"]},{emoji:"🐬",keywords:["dolphin","sea","animal"]},{emoji:"🦈",keywords:["shark","sea","animal"]},{emoji:"🐊",keywords:["crocodile","reptile","animal"]},{emoji:"🐅",keywords:["tiger","wild","animal"]},{emoji:"🐆",keywords:["leopard","wild","animal"]},{emoji:"🦓",keywords:["zebra","wild","animal"]},{emoji:"🦍",keywords:["gorilla","wild","animal"]},{emoji:"🦧",keywords:["orangutan","wild","animal"]},{emoji:"🦏",keywords:["rhinoceros","wild","animal"]},{emoji:"🦛",keywords:["hippopotamus","wild","animal"]},{emoji:"🐃",keywords:["water buffalo","wild","animal"]},{emoji:"🐂",keywords:["ox","farm","animal"]},{emoji:"🦒",keywords:["giraffe","wild","animal"]},{emoji:"🐘",keywords:["elephant","wild","animal"]},{emoji:"🦏",keywords:["rhinoceros","wild","animal"]},{emoji:"🦇",keywords:["bat","wild","animal"]},{emoji:"🐫",keywords:["camel","desert","animal"]},{emoji:"🦙",keywords:["llama","animal","farm"]},{emoji:"🦘",keywords:["kangaroo","wild","animal"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🐩",keywords:["poodle","dog","animal"]},{emoji:"🐕",keywords:["dog","animal","pet"]},{emoji:"🐈",keywords:["cat","animal","pet"]},{emoji:"🐓",keywords:["rooster","farm","bird"]},{emoji:"🐈‍⬛",keywords:["black cat","animal","pet"]},{emoji:"🐖",keywords:["pig","farm","animal"]},{emoji:"🐉",keywords:["dragon","mythical","animal"]},{emoji:"🐇",keywords:["rabbit","animal","pet"]},{emoji:"🦢",keywords:["swan","bird","majestic"]},{emoji:"🐕‍🦺",keywords:["service dog","animal","service"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🐖",keywords:["pig","animal","farm"]},{emoji:"🦨",keywords:["skunk","wild","animal"]},{emoji:"🦡",keywords:["badger","wild","animal"]},{emoji:"🦦",keywords:["otter","wild","animal"]},{emoji:"🦨",keywords:["skunk","wild","animal"]},{emoji:"🦦",keywords:["otter","wild","animal"]},{emoji:"🦥",keywords:["sloth","wild","animal"]},{emoji:"🦩",keywords:["flamingo","wild","bird"]},{emoji:"🦩",keywords:["flamingo","wild","bird"]},{emoji:"🦒",keywords:["giraffe","wild","animal"]}],Food:[{emoji:"🍏",keywords:["apple","green apple","fruit"]},{emoji:"🍎",keywords:["apple","red apple","fruit"]},{emoji:"🍐",keywords:["pear","fruit"]},{emoji:"🍊",keywords:["tangerine","orange","fruit"]},{emoji:"🍋",keywords:["lemon","fruit"]},{emoji:"🍌",keywords:["banana","fruit"]},{emoji:"🍉",keywords:["watermelon","fruit"]},{emoji:"🍇",keywords:["grapes","fruit","vineyard"]},{emoji:"🍓",keywords:["strawberry","fruit"]},{emoji:"🍈",keywords:["melon","fruit"]},{emoji:"🍒",keywords:["cherries","fruit"]},{emoji:"🍑",keywords:["peach","fruit"]},{emoji:"🍍",keywords:["pineapple","fruit"]},{emoji:"🥭",keywords:["mango","fruit"]},{emoji:"🥥",keywords:["coconut","fruit"]},{emoji:"🥝",keywords:["kiwi","fruit"]},{emoji:"🍅",keywords:["tomato","vegetable"]},{emoji:"🍆",keywords:["eggplant","vegetable"]},{emoji:"🥑",keywords:["avocado","fruit"]},{emoji:"🥒",keywords:["cucumber","vegetable"]},{emoji:"🥬",keywords:["leafy greens","vegetable","lettuce"]},{emoji:"🥦",keywords:["broccoli","vegetable"]},{emoji:"🌽",keywords:["corn","vegetable"]},{emoji:"🌶",keywords:["hot pepper","vegetable","spicy"]},{emoji:"🥕",keywords:["carrot","vegetable"]},{emoji:"🧄",keywords:["garlic","vegetable"]},{emoji:"🧅",keywords:["onion","vegetable"]},{emoji:"🥔",keywords:["potato","vegetable"]},{emoji:"🍠",keywords:["yam","vegetable","sweet potato"]},{emoji:"🥐",keywords:["croissant","bread"]},{emoji:"🍞",keywords:["bread","loaf"]},{emoji:"🥖",keywords:["baguette","bread"]},{emoji:"🥨",keywords:["pretzel","bread","snack"]},{emoji:"🥯",keywords:["bagel","bread"]},{emoji:"🥞",keywords:["pancakes","breakfast"]},{emoji:"🧇",keywords:["waffle","breakfast"]},{emoji:"🧀",keywords:["cheese","dairy"]},{emoji:"🍖",keywords:["meat","bone","food"]},{emoji:"🍗",keywords:["poultry leg","chicken leg","food"]},{emoji:"🥩",keywords:["cut of meat","steak","food"]},{emoji:"🍤",keywords:["fried shrimp","seafood"]},{emoji:"🥚",keywords:["egg","food","breakfast"]},{emoji:"🍳",keywords:["cooking","egg","fried egg"]},{emoji:"🥓",keywords:["bacon","meat","breakfast"]},{emoji:"🥗",keywords:["salad","food","healthy"]},{emoji:"🍲",keywords:["pot of food","soup","stew"]},{emoji:"🍿",keywords:["popcorn","snack","movies"]},{emoji:"🧈",keywords:["butter","food"]},{emoji:"🍱",keywords:["bento box","sushi","Japanese food"]},{emoji:"🍣",keywords:["sushi","Japanese food"]},{emoji:"🍛",keywords:["curry","rice","food"]},{emoji:"🍜",keywords:["noodles","ramen","bowl"]},{emoji:"🍝",keywords:["spaghetti","pasta","food"]},{emoji:"🥟",keywords:["dumpling","food"]},{emoji:"🍠",keywords:["sweet potato","food","roasted"]},{emoji:"🍤",keywords:["shrimp","food","fried"]},{emoji:"🍢",keywords:["oden","food","skewer"]},{emoji:"🍵",keywords:["tea","cup"]},{emoji:"🥛",keywords:["milk","glass"]},{emoji:"☕",keywords:["coffee","cup"]},{emoji:"🍰",keywords:["cake","dessert","birthday"]},{emoji:"🎂",keywords:["birthday cake","dessert"]},{emoji:"🍩",keywords:["doughnut","dessert"]},{emoji:"🍪",keywords:["cookie","dessert"]},{emoji:"🍭",keywords:["lollipop","candy"]},{emoji:"🍫",keywords:["chocolate","bar","dessert"]},{emoji:"🍬",keywords:["candy","sweet"]},{emoji:"🍯",keywords:["honey","honey pot","sweet"]},{emoji:"🧂",keywords:["salt","condiment"]}],Activity:[{emoji:"⚽",keywords:["soccer","football","goal"]},{emoji:"🏀",keywords:["basketball","hoops","dunk"]},{emoji:"🏈",keywords:["football","rugby","gridiron"]},{emoji:"⚾",keywords:["baseball","pitch","bat"]},{emoji:"🎾",keywords:["tennis","racket","serve"]},{emoji:"🏐",keywords:["volleyball","spike","serve"]},{emoji:"🏉",keywords:["rugby","ball","scrum"]},{emoji:"🎱",keywords:["pool","billiards","eight ball"]},{emoji:"🏓",keywords:["ping pong","table tennis","paddle"]},{emoji:"🏸",keywords:["badminton","shuttlecock","racket"]},{emoji:"🥅",keywords:["goal","net","hockey"]},{emoji:"🏒",keywords:["hockey","ice hockey","puck"]},{emoji:"🏑",keywords:["field hockey","stick","ball"]},{emoji:"🥍",keywords:["lacrosse","stick","ball"]},{emoji:"🏏",keywords:["cricket","bat","ball"]},{emoji:"⛳",keywords:["golf","flag","hole in one"]},{emoji:"🏹",keywords:["archery","bow","arrow"]},{emoji:"🎣",keywords:["fishing","fish","rod"]},{emoji:"🤿",keywords:["scuba","diving","snorkeling"]},{emoji:"🛷",keywords:["sled","sledge","toboggan"]},{emoji:"🥌",keywords:["curling","stone","sweep"]},{emoji:"🛹",keywords:["skateboard","skating","skate"]},{emoji:"🛼",keywords:["roller skate","skating","rolling"]},{emoji:"⛸️",keywords:["ice skate","skating","ice"]},{emoji:"🛶",keywords:["canoe","kayak","paddle"]},{emoji:"⚽",keywords:["soccer","football","goal"]},{emoji:"🏋️‍♂️",keywords:["weight lifting","gym","workout"]},{emoji:"🏋️‍♀️",keywords:["weight lifting","gym","workout"]},{emoji:"🏋️",keywords:["weight lifting","gym","workout"]},{emoji:"🤺",keywords:["fencing","sword","duel"]},{emoji:"🤼‍♂️",keywords:["wrestling","grappling","fight"]},{emoji:"🤼‍♀️",keywords:["wrestling","grappling","fight"]},{emoji:"🤸‍♂️",keywords:["gymnastics","flip","somersault"]},{emoji:"🤸‍♀️",keywords:["gymnastics","flip","somersault"]},{emoji:"🤾‍♂️",keywords:["handball","goalie","ball"]},{emoji:"🤾‍♀️",keywords:["handball","goalie","ball"]},{emoji:"🤹‍♂️",keywords:["juggle","performance","circus"]},{emoji:"🤹‍♀️",keywords:["juggle","performance","circus"]},{emoji:"🧘‍♂️",keywords:["yoga","meditation","relax"]},{emoji:"🧘‍♀️",keywords:["yoga","meditation","relax"]},{emoji:"🧘",keywords:["yoga","meditation","relax"]},{emoji:"🏄‍♂️",keywords:["surfing","waves","ocean"]},{emoji:"🏄‍♀️",keywords:["surfing","waves","ocean"]},{emoji:"🏂",keywords:["snowboarding","snowboard","snow"]},{emoji:"⛷️",keywords:["skiing","snow","slope"]},{emoji:"🏇",keywords:["horse racing","jockey","race"]},{emoji:"🚴‍♂️",keywords:["biking","cycling","bicycle"]},{emoji:"🚴‍♀️",keywords:["biking","cycling","bicycle"]},{emoji:"🚵‍♂️",keywords:["mountain biking","cycling","bike"]},{emoji:"🚵‍♀️",keywords:["mountain biking","cycling","bike"]},{emoji:"🏇",keywords:["horse racing","jockey","race"]},{emoji:"🥇",keywords:["gold medal","winner","first place"]},{emoji:"🥈",keywords:["silver medal","second place","runner-up"]},{emoji:"🥉",keywords:["bronze medal","third place","winner"]},{emoji:"🏆",keywords:["trophy","winner","champion"]},{emoji:"🏅",keywords:["medal","reward","achievement"]},{emoji:"🎖️",keywords:["military","decoration","award"]},{emoji:"🏵️",keywords:["rosette","badge","award"]},{emoji:"🎗️",keywords:["ribbon","cause","support"]}],Travel:[{emoji:"🚗",keywords:["car","automobile","travel","vehicle"]},{emoji:"🚕",keywords:["taxi","cab","transport","vehicle"]},{emoji:"🚙",keywords:["suv","vehicle","travel","transportation"]},{emoji:"🚌",keywords:["bus","transport","vehicle","travel"]},{emoji:"🚎",keywords:["trolleybus","public transport","vehicle"]},{emoji:"🏎️",keywords:["racecar","racing","vehicle","sport"]},{emoji:"🚓",keywords:["police car","law enforcement","vehicle"]},{emoji:"🚑",keywords:["ambulance","emergency","hospital","vehicle"]},{emoji:"🚒",keywords:["fire truck","firefighter","emergency","vehicle"]},{emoji:"🚐",keywords:["minibus","van","transport","vehicle"]},{emoji:"🚚",keywords:["delivery truck","cargo","shipping","vehicle"]},{emoji:"🚛",keywords:["articulated lorry","semi truck","transport"]},{emoji:"🚜",keywords:["tractor","farming","vehicle","agriculture"]},{emoji:"🏍️",keywords:["motorcycle","bike","riding","vehicle"]},{emoji:"🚲",keywords:["bicycle","bike","cycling","vehicle"]},{emoji:"🛴",keywords:["kick scooter","scooter","ride","vehicle"]},{emoji:"🛵",keywords:["motor scooter","vespa","vehicle","ride"]},{emoji:"🚏",keywords:["bus stop","transport","station","public transport"]},{emoji:"🛤️",keywords:["railway track","train","rail","travel"]},{emoji:"⛽",keywords:["fuel pump","gas station","fuel","transport"]},{emoji:"🚨",keywords:["police light","emergency","alarm","vehicle"]},{emoji:"🚥",keywords:["horizontal traffic light","stoplight","signal"]},{emoji:"🚦",keywords:["vertical traffic light","stoplight","signal"]},{emoji:"🛑",keywords:["stop sign","warning","traffic"]},{emoji:"🚧",keywords:["construction","roadwork","warning"]},{emoji:"⚓",keywords:["anchor","sailing","maritime","nautical"]},{emoji:"⛵",keywords:["sailboat","boat","sailing","watercraft"]},{emoji:"🛶",keywords:["canoe","kayak","paddling","boat"]},{emoji:"🚤",keywords:["speedboat","boat","speed","watercraft"]},{emoji:"🛳️",keywords:["passenger ship","cruise","travel","boat"]},{emoji:"⛴️",keywords:["ferry","boat","nautical","sea"]},{emoji:"🛥️",keywords:["motor boat","yacht","boat","watercraft"]},{emoji:"🚢",keywords:["ship","ocean liner","travel","boating"]},{emoji:"✈️",keywords:["airplane","flight","travel","plane"]},{emoji:"🛩️",keywords:["small airplane","flight","aviation","plane"]},{emoji:"🛫",keywords:["airplane departure","airport","takeoff","flight"]},{emoji:"🛬",keywords:["airplane arrival","landing","airport","flight"]},{emoji:"🪂",keywords:["parachute","skydiving","falling","activity"]},{emoji:"💺",keywords:["seat","sitting","airline","travel"]},{emoji:"🚁",keywords:["helicopter","chopper","aviation","vehicle"]},{emoji:"🚟",keywords:["suspension railway","train","transport","public transit"]},{emoji:"🚠",keywords:["mountain cableway","cable car","transport"]},{emoji:"🚡",keywords:["aerial tramway","cable car","transport","travel"]},{emoji:"🛰️",keywords:["satellite","space station","orbit","communication"]},{emoji:"🚀",keywords:["rocket","space","launch","spaceship"]},{emoji:"🛸",keywords:["flying saucer","UFO","vehicle","alien"]},{emoji:"🛳️",keywords:["passenger ship","cruise","voyage","boat"]},{emoji:"🪂",keywords:["parachute","skydiving","falling","sport"]},{emoji:"🛬",keywords:["landing","airplane","arrival","airport"]},{emoji:"🛫",keywords:["takeoff","airplane","departure","airport"]},{emoji:"✈️",keywords:["airplane","flight","travel","plane"]},{emoji:"🚉",keywords:["station","train","subway","transport"]},{emoji:"🚂",keywords:["locomotive","steam train","rail","engine"]},{emoji:"🚃",keywords:["railway car","train car","public transport"]},{emoji:"🚄",keywords:["high-speed train","shinkansen","transport"]},{emoji:"🚅",keywords:["bullet train","high-speed rail","transport"]},{emoji:"🚆",keywords:["train","rail","commuter","public transport"]},{emoji:"🚇",keywords:["subway","metro","underground","public transport"]},{emoji:"🚈",keywords:["light rail","tram","train","public transport"]},{emoji:"🚊",keywords:["tram","streetcar","public transport","rail"]}],Objects:[{emoji:"📦",'"keywords':["box","package"]},{emoji:"📪",keywords:["mailbox","closed"]},{emoji:"📫",keywords:["mailbox","open","mail"]},{emoji:"📬",keywords:["mail","incoming"]},{emoji:"📭",keywords:["mail","outgoing"]},{emoji:"📮",keywords:["postbox","mail"]},{emoji:"📯",keywords:["postal horn"]},{emoji:"📜",keywords:["scroll","paper"]},{emoji:"📃",keywords:["page","curl","document"]},{emoji:"📑",keywords:["bookmark","tabs"]},{emoji:"📈",keywords:["chart","graph","up"]},{emoji:"📉",keywords:["chart","graph","down"]},{emoji:"📊",keywords:["bar chart","graph"]},{emoji:"📇",keywords:["index card"]},{emoji:"📁",keywords:["file folder"]},{emoji:"📂",keywords:["open file folder"]},{emoji:"🗂️",keywords:["card","file","folders"]},{emoji:"📋",keywords:["clipboard"]},{emoji:"📤",keywords:["outbox","mail"]},{emoji:"📥",keywords:["inbox","mail"]},{emoji:"📦",keywords:["package","box"]},{emoji:"📧",keywords:["email","envelope"]},{emoji:"📨",keywords:["incoming mail"]},{emoji:"📩",keywords:["envelope","arrow"]},{emoji:"📤",keywords:["outbox","tray"]},{emoji:"📥",keywords:["inbox","tray"]},{emoji:"📦",keywords:["package"]},{emoji:"📥",keywords:["inbox"]},{emoji:"📧",keywords:["email"]},{emoji:"📨",keywords:["incoming"]},{emoji:"📩",keywords:["envelope"]},{emoji:"📤",keywords:["outbox"]},{emoji:"📡",keywords:["satellite","antenna"]},{emoji:"🔋",keywords:["battery"]},{emoji:"🔌",keywords:["plug"]},{emoji:"💡",keywords:["bulb"]},{emoji:"🔦",keywords:["flashlight"]},{emoji:"🕯️",keywords:["candle"]},{emoji:"🩺",keywords:["stethoscope","doctor"]},{emoji:"🔑",keywords:["key"]},{emoji:"🔒",keywords:["lock"]},{emoji:"🔓",keywords:["unlock"]},{emoji:"🔐",keywords:["lock","key"]},{emoji:"🔏",keywords:["lock","pen"]},{emoji:"📎",keywords:["paperclip"]},{emoji:"🖇️",keywords:["linked","paperclips"]},{emoji:"✂️",keywords:["scissors"]},{emoji:"🗃️",keywords:["file box"]},{emoji:"🗳️",keywords:["ballot box"]},{emoji:"🗄️",keywords:["file cabinet"]},{emoji:"📅",keywords:["calendar"]},{emoji:"📆",keywords:["tear-off calendar"]},{emoji:"🗓️",keywords:["spiral calendar"]},{emoji:"📇",keywords:["card index"]},{emoji:"📈",keywords:["chart increasing"]},{emoji:"📉",keywords:["chart decreasing"]},{emoji:"📊",keywords:["bar chart"]},{emoji:"📌",keywords:["pushpin"]},{emoji:"📍",keywords:["round pushpin"]},{emoji:"📏",keywords:["straight edge"]},{emoji:"📐",keywords:["triangular ruler"]},{emoji:"✏️",keywords:["pencil"]},{emoji:"🖍️",keywords:["crayon"]},{emoji:"🖌️",keywords:["paintbrush"]},{emoji:"🖊️",keywords:["pen"]},{emoji:"🖋️",keywords:["fountain pen"]},{emoji:"📏",keywords:["straight edge"]},{emoji:"📐",keywords:["triangular ruler"]}],Symbols:[{emoji:"👉🏻",keywords:["point right","hand","gesture"]},{emoji:"👈🏻",keywords:["point left","hand","gesture"]},{emoji:"👆🏻",keywords:["point up","hand","gesture"]},{emoji:"👇🏻",keywords:["point down","hand","gesture"]},{emoji:"👍🏻",keywords:["thumbs up","approval","hand","gesture"]},{emoji:"👎🏻",keywords:["thumbs down","disapproval","hand","gesture"]},{emoji:"👌🏻",keywords:["okay","hand","gesture","perfect"]},{emoji:"✌🏻",keywords:["victory","peace","hand","gesture"]},{emoji:"🤞🏻",keywords:["crossed fingers","luck","hand","gesture"]},{emoji:"🖐🏻",keywords:["raised hand","hi","hand","gesture"]},{emoji:"🤚🏻",keywords:["raised back hand","hi","hand","gesture"]},{emoji:"🖖🏻",keywords:["vulcan salute","hand","gesture","Spock"]},{emoji:"👋🏻",keywords:["waving hand","hello","goodbye","gesture"]},{emoji:"👏🏻",keywords:["clapping hands","applause","gesture"]},{emoji:"🙌🏻",keywords:["raising hands","praise","gesture"]},{emoji:"👐🏻",keywords:["open hands","gesture","offering"]},{emoji:"🤲🏻",keywords:["palms up together","offering","asking"]},{emoji:"🤝🏻",keywords:["handshake","agreement","partnership","gesture"]},{emoji:"🙏🏻",keywords:["folded hands","prayer","thanks","gesture"]},{emoji:"✋🏻",keywords:["raised hand","stop","gesture"]},{emoji:"➡️",keywords:["right arrow","direction","next"]},{emoji:"⬅️",keywords:["left arrow","direction","previous"]},{emoji:"⬆️",keywords:["up arrow","direction","above"]},{emoji:"⬇️",keywords:["down arrow","direction","below"]},{emoji:"↔️",keywords:["left-right arrow","direction"]},{emoji:"↕️",keywords:["up-down arrow","direction"]},{emoji:"🔼",keywords:["up triangle","arrow","direction"]},{emoji:"🔽",keywords:["down triangle","arrow","direction"]},{emoji:"🔻",keywords:["red down triangle","arrow","direction"]},{emoji:"🔺",keywords:["red up triangle","arrow","direction"]},{emoji:"⚫",keywords:["black circle","bullet","point"]},{emoji:"🔴",keywords:["red circle","bullet","point"]},{emoji:"🔵",keywords:["blue circle","bullet","point"]},{emoji:"🟢",keywords:["green circle","bullet","point"]},{emoji:"🟡",keywords:["yellow circle","bullet","point"]},{emoji:"🟣",keywords:["purple circle","bullet","point"]},{emoji:"🟠",keywords:["orange circle","bullet","point"]},{emoji:"🟤",keywords:["brown circle","bullet","point"]},{emoji:"🔸",keywords:["orange diamond","bullet"]},{emoji:"🔹",keywords:["blue diamond","bullet"]},{emoji:"♦️",keywords:["diamonds","card suit"]},{emoji:"♥️",keywords:["hearts","card suit"]},{emoji:"♣️",keywords:["clubs","card suit"]},{emoji:"♠️",keywords:["spades","card suit"]},{emoji:"🔲",keywords:["black square","bullet","point"]},{emoji:"🔳",keywords:["white square","bullet","point"]},{emoji:"▪️",keywords:["small black square","bullet"]},{emoji:"▫️",keywords:["small white square","bullet"]},{emoji:"▪",keywords:["large black square","bullet"]},{emoji:"▫",keywords:["large white square","bullet"]},{emoji:"🔘",keywords:["radio button","bullet","point"]},{emoji:"⭐",keywords:["star","highlight","point"]},{emoji:"💠",keywords:["diamond shape","point"]},{emoji:"✳️",keywords:["eight-pointed star","highlight","bullet"]},{emoji:"❇️",keywords:["sparkle","highlight","point"]},{emoji:"❤️",keywords:["love","heart","red","passion","valentine"]},{emoji:"💛",keywords:["love","heart","yellow","friendship","sunshine"]},{emoji:"💚",keywords:["love","heart","green","environment","jealousy"]},{emoji:"💙",keywords:["love","heart","blue","calm","loyalty"]},{emoji:"💜",keywords:["love","heart","purple","royalty","romance"]},{emoji:"🖤",keywords:["love","heart","black","mystery","gothic"]},{emoji:"💔",keywords:["broken","heartbreak","sad","love"]},{emoji:"❣️",keywords:["exclamation","heart","love","emotion"]},{emoji:"💕",keywords:["two hearts","love","affection","romance"]},{emoji:"💞",keywords:["revolving hearts","love","romance","affection"]},{emoji:"💓",keywords:["beating heart","love","heartbeat","emotion"]},{emoji:"💗",keywords:["growing heart","love","affection","emotion"]},{emoji:"💖",keywords:["sparkling heart","love","affection","emotion"]},{emoji:"💘",keywords:["heart with arrow","love","cupid","valentine"]},{emoji:"💝",keywords:["heart with ribbon","love","gift","present"]},{emoji:"💟",keywords:["heart decoration","love","affection","decoration"]},{emoji:"☮️",keywords:["peace","symbol","pacifism"]},{emoji:"✝️",keywords:["cross","christianity","religion","faith"]},{emoji:"☪️",keywords:["star","crescent","islam","religion"]},{emoji:"🕉️",keywords:["om","hinduism","religion","chant"]},{emoji:"☸️",keywords:["wheel of dharma","buddhism","religion","spirituality"]},{emoji:"✡️",keywords:["star of david","judaism","religion"]},{emoji:"🔯",keywords:["star","hexagram","religion","jewish"]},{emoji:"🕎",keywords:["menorah","hanukkah","religion","jewish"]},{emoji:"☯️",keywords:["yin","yang","balance","taoism"]},{emoji:"☦️",keywords:["orthodox cross","christianity","religion","faith"]},{emoji:"🛐",keywords:["place of worship","religion","faith","prayer"]},{emoji:"⛎",keywords:["ophiuchus","zodiac","astrology","sign"]},{emoji:"♈",keywords:["aries","zodiac","astrology","sign"]},{emoji:"♉",keywords:["taurus","zodiac","astrology","sign"]},{emoji:"♊",keywords:["gemini","zodiac","astrology","sign"]},{emoji:"♋",keywords:["cancer","zodiac","astrology","sign"]},{emoji:"♌",keywords:["leo","zodiac","astrology","sign"]},{emoji:"♍",keywords:["virgo","zodiac","astrology","sign"]},{emoji:"♎",keywords:["libra","zodiac","astrology","sign"]},{emoji:"♏",keywords:["scorpio","zodiac","astrology","sign"]},{emoji:"♐",keywords:["sagittarius","zodiac","astrology","sign"]},{emoji:"♑",keywords:["capricorn","zodiac","astrology","sign"]},{emoji:"♒",keywords:["aquarius","zodiac","astrology","sign"]},{emoji:"♓",keywords:["pisces","zodiac","astrology","sign"]},{emoji:"🆔",keywords:["ID","identification","label"]},{emoji:"⚛️",keywords:["atom","science","chemistry"]},{emoji:"🉑",keywords:["acceptable","kanji","japanese"]},{emoji:"☢️",keywords:["radioactive","hazard","warning"]},{emoji:"☣️",keywords:["biohazard","hazard","warning"]},{emoji:"📴",keywords:["mobile","off","phone"]},{emoji:"📳",keywords:["mobile","vibration","mode"]},{emoji:"🈶",keywords:["have","kanji","japanese"]},{emoji:"🈚",keywords:["free","not","kanji"]},{emoji:"🈷️",keywords:["monthly","kanji","japanese"]},{emoji:"🈸",keywords:["application","kanji","japanese"]},{emoji:"🈺",keywords:["open","kanji","japanese"]},{emoji:"🈯",keywords:["reserved","kanji","japanese"]},{emoji:"㊙️",keywords:["secret","kanji","japanese"]},{emoji:"㊗️",keywords:["congratulations","kanji","japanese"]},{emoji:"🈴",keywords:["passing","kanji","japanese"]},{emoji:"🈵",keywords:["full","kanji","japanese"]},{emoji:"🈹",keywords:["discount","kanji","japanese"]},{emoji:"🈲",keywords:["prohibited","kanji","japanese"]},{emoji:"🅰️",keywords:["A","blood type","letter"]},{emoji:"🅱️",keywords:["B","blood type","letter"]},{emoji:"🆎",keywords:["AB","blood type","letter"]},{emoji:"🆑",keywords:["CL","clear","letter"]},{emoji:"🅾️",keywords:["O","blood type","letter"]},{emoji:"🆘",keywords:["SOS","help","emergency"]},{emoji:"⛔",keywords:["no","entry","forbidden","stop"]},{emoji:"📛",keywords:["badge","label","name"]},{emoji:"🚫",keywords:["no","prohibited","forbidden"]},{emoji:"💯",keywords:["100","score","perfect"]},{emoji:"🔞",keywords:["18","age","restriction"]},{emoji:"🅿️",keywords:["P","parking","letter"]},{emoji:"🆓",keywords:["free","available","letter"]},{emoji:"♻️",keywords:["recycle","environment","symbol"]},{emoji:"‼️",keywords:["exclamation","mark","important"]},{emoji:"⁉️",keywords:["exclamation","question","confusion"]},{emoji:"❗",keywords:["exclamation","mark"]},{emoji:"❕",keywords:["white exclamation","mark"]},{emoji:"❓",keywords:["question","mark"]},{emoji:"❔",keywords:["white question","mark"]},{emoji:"🔅",keywords:["dim","brightness","low"]},{emoji:"🔆",keywords:["bright","brightness","high"]},{emoji:"〽️",keywords:["part alternation","mark"]},{emoji:"⚜️",keywords:["fleur-de-lis"]},{emoji:"🔱",keywords:["trident","emblem","symbol"]},{emoji:"⚠️",keywords:["warning","caution"]},{emoji:"🚸",keywords:["children","crossing","school"]},{emoji:"🔰",keywords:["beginner","japanese"]},{emoji:"♿",keywords:["wheelchair","accessible","disability"]},{emoji:"🚭",keywords:["no smoking","cigarette","prohibited"]}]};function Ex({onSelect:e}){const[t,r]=h.useState(""),n=B.useMemo(()=>Object.entries(kx).reduce((a,[o,i])=>{const s=i.filter(l=>Array.isArray(l.keywords)).filter(l=>l.keywords.some(c=>c.toLowerCase().includes(t.toLowerCase())));return s.length>0&&(a[o]=s),a},{}),[t]);return u.jsxs("div",{className:"emoji-picker",children:[u.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:a=>r(a.target.value),className:"emoji-search"}),u.jsx("div",{className:"emoji-categories",children:Object.entries(n).map(([a,o])=>u.jsxs("div",{className:"emoji-category",children:[u.jsx("h3",{className:"emoji-category-title",children:a}),u.jsx("div",{className:"emoji-list",children:o.map((i,s)=>u.jsx("span",{onClick:()=>e(i.emoji),title:i.keywords.join(", "),className:"emoji-item",children:i.emoji},s))})]},a))})]})}function ec(e,t){const r=e.selectionStart,n=e.selectionEnd;e.setRangeText(t,r,n,"end")}function kt({message:e,onChange:t,onClick:r,minLength:n=2,maxLength:a=1500,placeHolder:o}){const[i,s]=B.useState(e),[l,c]=B.useState(!1),f=B.useRef(null);h.useEffect(()=>{f.current&&(f.current.style.height="auto",f.current.style.height=`${f.current.scrollHeight+2}px`)},[i]);const d=b=>{s(b.target.value),t(b.target.value)},p=b=>{s(b.target.value),t(b.target.value)},m=b=>{const j=f.current;let w="";switch(b){case"bold":w=`*${j.value.substring(j.selectionStart,j.selectionEnd)}*`;break;case"italic":w=`_${j.value.substring(j.selectionStart,j.selectionEnd)}_`;break;case"strikethrough":w=`~${j.value.substring(j.selectionStart,j.selectionEnd)}~`;break;case"bullet":w=`• ${j.value.substring(j.selectionStart,j.selectionEnd)}`;break;case"numbered":w=`
1. ${j.value.substring(j.selectionStart,j.selectionEnd)}`;break}ec(j,w),d({target:j})},x=b=>{const j=f.current;ec(j,b),d({target:j})};return u.jsxs("div",{className:"message-editor",title:"Message",children:[u.jsxs("div",{className:"toolbar",children:[u.jsx("button",{title:"Bold","data-format":"bold",onClick:()=>m("bold"),children:"B"}),u.jsx("button",{title:"Italic","data-format":"italic",onClick:()=>m("italic"),children:"I"}),u.jsx("button",{title:"Strikethrough","data-format":"strikethrough",onClick:()=>m("strikethrough"),children:"S"}),u.jsx("button",{title:"Bullet","data-format":"bullet",onClick:()=>m("bullet"),children:"⚫"}),u.jsx("button",{title:"Numbered","data-format":"numbered",onClick:()=>m("numbered"),children:"🔢"}),u.jsx("button",{title:"Smiley","data-format":"smiley",onClick:()=>c(b=>!b),children:"😀"})]}),u.jsx("textarea",{ref:f,value:i,onChange:d,placeholder:o,onClick:r,className:"nodrag rounded-md",onBlur:p,minLength:n,maxLength:a}),l&&u.jsx(Ex,{onSelect:x})]})}const Nx=({id:e,data:t})=>{var E,y;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i}=t,[s]=ru(),l=tn(g=>g.botsList),c=tn(g=>g.organizationId),[f,d]=h.useState([]),[p,m]=h.useState({}),[x,b]=h.useState({}),j=h.useRef({container:!1,callAccepted:!1,callRejected:!1}),w=()=>{o(i.map(g=>({...g,selected:!1})))},I=(g,v)=>{var C;m(k=>({...k,[g]:v})),(C=j.current[g])==null||C.focus()},T=(g,v)=>{delete r.data.errors,b({});const C={...r.data,[g]:v};a(r.id,C)},N=g=>{delete r.data.errors,g.target.value?x.callConnectId&&b(C=>{const k={...C};return delete k.callConnectId,k}):b(C=>({...C,callConnectId:"Call Connect Name is Mandatory"}));const v=g.target.value;T("callConnectId",v)},D=h.useCallback(g=>{j.current.container&&!j.current.container.contains(g.target)?m(v=>({...v,successMessage:!1,failureMessage:!1})):j.current.callAccepted&&!j.current.callAccepted.contains(g.target)?m(v=>({...v,callAccepted:!1})):j.current.callRejected&&!j.current.callRejected.contains(g.target)&&m(v=>({...v,callRejected:!1}))},[m]);return h.useEffect(()=>(document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)),[D]),h.useEffect(()=>{var C;const g=l.find(k=>k._id===s),v=g?(C=g.integrations)==null?void 0:C.filter(k=>k.channelId==="callConnect_123"):[];if(v&&v.length>0){const k=v.map(O=>({name:O.serviceDetails.name,_id:O._id}));d(k)}else Sp({botId:s,organizationId:c})},[s,l,c]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Call Connect Node"}),u.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),u.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[u.jsxs("div",{className:"mb-2",children:[u.jsxs("select",{title:"callConnectId",value:r.data.callConnectId,onClick:w,onChange:N,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Select Call Connect Name"}),f.map((g,v)=>u.jsx("option",{value:g._id,children:g.name},`${g._id}-${v}`))]}),r.data.errors&&((E=Object.keys(r.data.errors))==null?void 0:E.length)>0&&r.data.errors.callConnectId&&u.jsx("small",{className:"text-red-500",children:r.data.errors.callConnectId})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx(kt,{maxLength:500,message:r.data.message,onChange:g=>T("message",g)}),r.data.errors&&((y=Object.keys(r.data.errors))==null?void 0:y.length)>0&&r.data.errors.message&&u.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),u.jsxs("div",{children:[u.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:u.jsxs("div",{className:"col-span-10 flex items-center ",children:[u.jsx(xa,{onClick:()=>I("callAccepted",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),u.jsx("input",{type:"text",ref:g=>j.current.callAccepted=g,readOnly:!p.callAccepted,value:r.data.callAccepted,placeholder:"Enter call accepted massage",autoFocus:p.callAccepted,onClick:p.callAccepted?void 0:w,onChange:g=>T("callAccepted",g.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})]})}),r.data.errors&&u.jsx("small",{className:"text-red-500",children:r.data.errors.callAccepted})]}),u.jsxs("div",{ref:g=>j.current.container=g,children:[u.jsxs("div",{className:"space-y-2 py-2 px-2 min-w-36",children:[p.successMessage?u.jsx(kt,{maxLength:500,message:r.data.successMessage,onChange:g=>T("successMessage",g)}):u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[u.jsx("span",{children:r.data.successMessage||"Enter your success message"}),u.jsx(xa,{onClick:()=>I("successMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&u.jsx("small",{className:"text-red-500",children:r.data.errors.successMessage})]}),u.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[p.failureMessage?u.jsx(kt,{maxLength:500,message:r.data.failureMessage,onChange:g=>T("failureMessage",g)}):u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",title:"Double Click ro Enter/Edit the Message",children:[u.jsx("span",{children:r.data.failureMessage||"Enter your failure message"}),u.jsx(xa,{onClick:()=>I("failureMessage",!0),className:"w-4 h-4 text-white ml-2"})]}),r.data.errors&&u.jsx("small",{className:"text-red-500",children:r.data.errors.failureMessage})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"grid grid-cols-10 gap-2 mb-2  px-1 py-1 border border-gray-400 rounded-md relative",children:u.jsxs("div",{className:"col-span-10 flex items-center ",children:[u.jsx(xa,{onClick:()=>I("callRejected",!0),className:"min-w-4 w-4 h-4 mx-2 text-blue-300 cursor-pointer hover:text-white"}),u.jsx("input",{type:"text",readOnly:!p.callRejected,placeholder:"Enter call rejected massage",ref:g=>j.current.callRejected=g,value:r.data.callRejected,onClick:p.callRejected?void 0:w,onChange:g=>T("callRejected",g.target.value),className:"nodrag  w-full ml-1 p-1 border border-gray-600 bg-gray-700  rounded capitalize"})]})}),r.data.errors&&u.jsx("small",{className:"text-red-500",children:r.data.errors.callRejected})]})]})]}),u.jsx(Ne,{id:"target",type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{id:"source",type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},Dx=h.memo(Nx),xa=({onClick:e,className:t=""})=>u.jsx("svg",{onClick:e,className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})});function Wn(e){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(e)}function Ix(e,t){if(Wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tx(e){var t=Ix(e,"string");return Wn(t)=="symbol"?t:t+""}function Px(e,t,r){return(t=Tx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tc(Object(r),!0).forEach(function(n){Px(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var nc=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),ac=function(){return Math.random().toString(36).substring(7).split("").join(".")},oc={INIT:"@@redux/INIT"+ac(),REPLACE:"@@redux/REPLACE"+ac()};function Ox(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Vd(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mt(1));return r(Vd)(e,t)}if(typeof e!="function")throw new Error(mt(2));var a=e,o=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function f(){if(l)throw new Error(mt(3));return o}function d(b){if(typeof b!="function")throw new Error(mt(4));if(l)throw new Error(mt(5));var j=!0;return c(),s.push(b),function(){if(j){if(l)throw new Error(mt(6));j=!1,c();var I=s.indexOf(b);s.splice(I,1),i=null}}}function p(b){if(!Ox(b))throw new Error(mt(7));if(typeof b.type>"u")throw new Error(mt(8));if(l)throw new Error(mt(9));try{l=!0,o=a(o,b)}finally{l=!1}for(var j=i=s,w=0;w<j.length;w++){var I=j[w];I()}return b}function m(b){if(typeof b!="function")throw new Error(mt(10));a=b,p({type:oc.REPLACE})}function x(){var b,j=d;return b={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(mt(11));function T(){I.next&&I.next(f())}T();var N=j(T);return{unsubscribe:N}}},b[nc]=function(){return this},b}return p({type:oc.INIT}),n={dispatch:p,subscribe:d,getState:f,replaceReducer:m},n[nc]=x,n}function ic(e,t){return function(){return t(e.apply(this,arguments))}}function sc(e,t){if(typeof e=="function")return ic(e,t);if(typeof e!="object"||e===null)throw new Error(mt(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=ic(a,t))}return r}function Gd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function Rx(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),o=function(){throw new Error(mt(15))},i={getState:a.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(l){return l(i)});return o=Gd.apply(void 0,s)(a.dispatch),rc(rc({},a),{},{dispatch:o})}}}var Ud=B.createContext(null);function Mx(e){e()}var Wd=Mx,Ax=function(t){return Wd=t},Lx=function(){return Wd};function Fx(){var e=Lx(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],o=t;o;)a.push(o),o=o.next;return a},subscribe:function(a){var o=!0,i=r={callback:a,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!o||t===null||(o=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var lc={notify:function(){},get:function(){return[]}};function qd(e,t){var r,n=lc;function a(d){return l(),n.subscribe(d)}function o(){n.notify()}function i(){f.onStateChange&&f.onStateChange()}function s(){return!!r}function l(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=Fx())}function c(){r&&(r(),r=void 0,n.clear(),n=lc)}var f={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return n}};return f}var Xd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect;function Bx(e){var t=e.store,r=e.context,n=e.children,a=h.useMemo(function(){var s=qd(t);return{store:t,subscription:s}},[t]),o=h.useMemo(function(){return t.getState()},[t]);Xd(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,o]);var i=r||Ud;return B.createElement(i.Provider,{value:a},n)}var _o={exports:{}},Me={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc;function _x(){if(cc)return Me;cc=1;var e=60103,t=60106,r=60107,n=60108,a=60114,o=60109,i=60110,s=60112,l=60113,c=60120,f=60115,d=60116,p=60121,m=60122,x=60117,b=60129,j=60131;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;e=w("react.element"),t=w("react.portal"),r=w("react.fragment"),n=w("react.strict_mode"),a=w("react.profiler"),o=w("react.provider"),i=w("react.context"),s=w("react.forward_ref"),l=w("react.suspense"),c=w("react.suspense_list"),f=w("react.memo"),d=w("react.lazy"),p=w("react.block"),m=w("react.server.block"),x=w("react.fundamental"),b=w("react.debug_trace_mode"),j=w("react.legacy_hidden")}function I(P){if(typeof P=="object"&&P!==null){var S=P.$$typeof;switch(S){case e:switch(P=P.type,P){case r:case a:case n:case l:case c:return P;default:switch(P=P&&P.$$typeof,P){case i:case s:case d:case f:case o:return P;default:return S}}case t:return S}}}var T=o,N=e,D=s,E=r,y=d,g=f,v=t,C=a,k=n,O=l;return Me.ContextConsumer=i,Me.ContextProvider=T,Me.Element=N,Me.ForwardRef=D,Me.Fragment=E,Me.Lazy=y,Me.Memo=g,Me.Portal=v,Me.Profiler=C,Me.StrictMode=k,Me.Suspense=O,Me.isAsyncMode=function(){return!1},Me.isConcurrentMode=function(){return!1},Me.isContextConsumer=function(P){return I(P)===i},Me.isContextProvider=function(P){return I(P)===o},Me.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Me.isForwardRef=function(P){return I(P)===s},Me.isFragment=function(P){return I(P)===r},Me.isLazy=function(P){return I(P)===d},Me.isMemo=function(P){return I(P)===f},Me.isPortal=function(P){return I(P)===t},Me.isProfiler=function(P){return I(P)===a},Me.isStrictMode=function(P){return I(P)===n},Me.isSuspense=function(P){return I(P)===l},Me.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===a||P===b||P===n||P===l||P===c||P===j||typeof P=="object"&&P!==null&&(P.$$typeof===d||P.$$typeof===f||P.$$typeof===o||P.$$typeof===i||P.$$typeof===s||P.$$typeof===x||P.$$typeof===p||P[0]===m)},Me.typeOf=I,Me}var uc;function $x(){return uc||(uc=1,_o.exports=_x()),_o.exports}var zx=$x(),Hx=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Vx=["reactReduxForwardedRef"],Gx=[],Ux=[null,null];function Wx(e,t){var r=e[1];return[t.payload,r+1]}function dc(e,t,r){Xd(function(){return e.apply(void 0,t)},r)}function qx(e,t,r,n,a,o,i){e.current=n,t.current=a,r.current=!1,o.current&&(o.current=null,i())}function Xx(e,t,r,n,a,o,i,s,l,c){if(e){var f=!1,d=null,p=function(){if(!f){var b=t.getState(),j,w;try{j=n(b,a.current)}catch(I){w=I,d=I}w||(d=null),j===o.current?i.current||l():(o.current=j,s.current=j,i.current=!0,c({type:"STORE_UPDATED",payload:{error:w}}))}};r.onStateChange=p,r.trySubscribe(),p();var m=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return m}}var Yx=function(){return[null,0]};function Kx(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(T){return"ConnectAdvanced("+T+")"}:n,o=r.methodName,i=o===void 0?"connectAdvanced":o,s=r.renderCountProp,l=s===void 0?void 0:s,c=r.shouldHandleStateChanges,f=c===void 0?!0:c,d=r.storeKey,p=d===void 0?"store":d;r.withRef;var m=r.forwardRef,x=m===void 0?!1:m,b=r.context,j=b===void 0?Ud:b,w=An(r,Hx),I=j;return function(N){var D=N.displayName||N.name||"Component",E=a(D),y=ve({},w,{getDisplayName:a,methodName:i,renderCountProp:l,shouldHandleStateChanges:f,storeKey:p,displayName:E,wrappedComponentName:D,WrappedComponent:N}),g=w.pure;function v(S){return e(S.dispatch,y)}var C=g?h.useMemo:function(S){return S()};function k(S){var R=h.useMemo(function(){var K=S.reactReduxForwardedRef,je=An(S,Vx);return[S.context,K,je]},[S]),A=R[0],_=R[1],L=R[2],M=h.useMemo(function(){return A&&A.Consumer&&zx.isContextConsumer(B.createElement(A.Consumer,null))?A:I},[A,I]),F=h.useContext(M),H=!!S.store&&!!S.store.getState&&!!S.store.dispatch;F&&F.store;var z=H?S.store:F.store,V=h.useMemo(function(){return v(z)},[z]),W=h.useMemo(function(){if(!f)return Ux;var K=qd(z,H?null:F.subscription),je=K.notifyNestedSubs.bind(K);return[K,je]},[z,H,F]),$=W[0],q=W[1],J=h.useMemo(function(){return H?F:ve({},F,{subscription:$})},[H,F,$]),ne=h.useReducer(Wx,Gx,Yx),de=ne[0],X=de[0],ie=ne[1];if(X&&X.error)throw X.error;var we=h.useRef(),Ce=h.useRef(L),ae=h.useRef(),De=h.useRef(!1),Ae=C(function(){return ae.current&&L===Ce.current?ae.current:V(z.getState(),L)},[z,X,L]);dc(qx,[Ce,we,De,L,Ae,ae,q]),dc(Xx,[f,z,$,V,Ce,we,De,ae,q,ie],[z,$,V]);var ye=h.useMemo(function(){return B.createElement(N,ve({},Ae,{ref:_}))},[_,N,Ae]),le=h.useMemo(function(){return f?B.createElement(M.Provider,{value:J},ye):ye},[M,ye,J]);return le}var O=g?B.memo(k):k;if(O.WrappedComponent=N,O.displayName=k.displayName=E,x){var P=B.forwardRef(function(R,A){return B.createElement(O,ve({},R,{reactReduxForwardedRef:A}))});return P.displayName=E,P.WrappedComponent=N,Gs(P,N)}return Gs(O,N)}}function fc(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function $o(e,t){if(fc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!fc(e[r[a]],t[r[a]]))return!1;return!0}function Zx(e,t){var r={},n=function(i){var s=e[i];typeof s=="function"&&(r[i]=function(){return t(s.apply(void 0,arguments))})};for(var a in e)n(a);return r}function hs(e){return function(r,n){var a=e(r,n);function o(){return a}return o.dependsOnOwnProps=!1,o}}function pc(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function Yd(e,t){return function(n,a){a.displayName;var o=function(s,l){return o.dependsOnOwnProps?o.mapToProps(s,l):o.mapToProps(s)};return o.dependsOnOwnProps=!0,o.mapToProps=function(s,l){o.mapToProps=e,o.dependsOnOwnProps=pc(e);var c=o(s,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=pc(c),c=o(s,l)),c},o}}function Jx(e){return typeof e=="function"?Yd(e):void 0}function Qx(e){return e?void 0:hs(function(t){return{dispatch:t}})}function ew(e){return e&&typeof e=="object"?hs(function(t){return Zx(e,t)}):void 0}const tw=[Jx,Qx,ew];function rw(e){return typeof e=="function"?Yd(e):void 0}function nw(e){return e?void 0:hs(function(){return{}})}const aw=[rw,nw];function ow(e,t,r){return ve({},r,e,t)}function iw(e){return function(r,n){n.displayName;var a=n.pure,o=n.areMergedPropsEqual,i=!1,s;return function(c,f,d){var p=e(c,f,d);return i?(!a||!o(p,s))&&(s=p):(i=!0,s=p),s}}}function sw(e){return typeof e=="function"?iw(e):void 0}function lw(e){return e?void 0:function(){return ow}}const cw=[sw,lw];var uw=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function dw(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function fw(e,t,r,n,a){var o=a.areStatesEqual,i=a.areOwnPropsEqual,s=a.areStatePropsEqual,l=!1,c,f,d,p,m;function x(T,N){return c=T,f=N,d=e(c,f),p=t(n,f),m=r(d,p,f),l=!0,m}function b(){return d=e(c,f),t.dependsOnOwnProps&&(p=t(n,f)),m=r(d,p,f),m}function j(){return e.dependsOnOwnProps&&(d=e(c,f)),t.dependsOnOwnProps&&(p=t(n,f)),m=r(d,p,f),m}function w(){var T=e(c,f),N=!s(T,d);return d=T,N&&(m=r(d,p,f)),m}function I(T,N){var D=!i(N,f),E=!o(T,c,N,f);return c=T,f=N,D&&E?b():D?j():E?w():m}return function(N,D){return l?I(N,D):x(N,D)}}function pw(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,o=An(t,uw),i=r(e,o),s=n(e,o),l=a(e,o),c=o.pure?fw:dw;return c(i,s,l,e,o)}var mw=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function zo(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(o,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function gw(e,t){return e===t}function hw(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Kx:r,a=t.mapStateToPropsFactories,o=a===void 0?aw:a,i=t.mapDispatchToPropsFactories,s=i===void 0?tw:i,l=t.mergePropsFactories,c=l===void 0?cw:l,f=t.selectorFactory,d=f===void 0?pw:f;return function(m,x,b,j){j===void 0&&(j={});var w=j,I=w.pure,T=I===void 0?!0:I,N=w.areStatesEqual,D=N===void 0?gw:N,E=w.areOwnPropsEqual,y=E===void 0?$o:E,g=w.areStatePropsEqual,v=g===void 0?$o:g,C=w.areMergedPropsEqual,k=C===void 0?$o:C,O=An(w,mw),P=zo(m,o,"mapStateToProps"),S=zo(x,s,"mapDispatchToProps"),R=zo(b,c,"mergeProps");return n(d,ve({methodName:"connect",getDisplayName:function(_){return"Connect("+_+")"},shouldHandleStateChanges:!!m,initMapStateToProps:P,initMapDispatchToProps:S,initMergeProps:R,pure:T,areStatesEqual:D,areOwnPropsEqual:y,areStatePropsEqual:v,areMergedPropsEqual:k},O))}}const Kd=hw();Ax(tu.unstable_batchedUpdates);function vw(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Zd(e,t){var r=h.useState(function(){return{inputs:t,result:e()}})[0],n=h.useRef(!0),a=h.useRef(r),o=n.current||!!(t&&a.current.inputs&&vw(t,a.current.inputs)),i=o?a.current:{inputs:t,result:e()};return h.useEffect(function(){n.current=!1,a.current=i},[i]),i.result}function yw(e,t){return Zd(function(){return e},t)}var Te=Zd,me=yw,bw="Invariant failed";function xw(e,t){throw new Error(bw)}var Ht=function(t){var r=t.top,n=t.right,a=t.bottom,o=t.left,i=n-o,s=a-r,l={top:r,right:n,bottom:a,left:o,width:i,height:s,x:o,y:r,center:{x:(n+o)/2,y:(a+r)/2}};return l},vs=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},mc=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},ww=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ho={top:0,right:0,bottom:0,left:0},ys=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Ho:n,o=t.border,i=o===void 0?Ho:o,s=t.padding,l=s===void 0?Ho:s,c=Ht(vs(r,a)),f=Ht(mc(r,i)),d=Ht(mc(f,l));return{marginBox:c,borderBox:Ht(r),paddingBox:f,contentBox:d,margin:a,border:i,padding:l}},Ot=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&xw(),a},Cw=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Wa=function(t,r){var n=t.borderBox,a=t.border,o=t.margin,i=t.padding,s=ww(n,r);return ys({borderBox:s,border:a,margin:o,padding:i})},qa=function(t,r){return r===void 0&&(r=Cw()),Wa(t,r)},Jd=function(t,r){var n={top:Ot(r.marginTop),right:Ot(r.marginRight),bottom:Ot(r.marginBottom),left:Ot(r.marginLeft)},a={top:Ot(r.paddingTop),right:Ot(r.paddingRight),bottom:Ot(r.paddingBottom),left:Ot(r.paddingLeft)},o={top:Ot(r.borderTopWidth),right:Ot(r.borderRightWidth),bottom:Ot(r.borderBottomWidth),left:Ot(r.borderLeftWidth)};return ys({borderBox:t,margin:n,padding:a,border:o})},Qd=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Jd(r,n)},gc=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jw(e,t){return!!(e===t||gc(e)&&gc(t))}function Sw(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!jw(e[r],t[r]))return!1;return!0}function We(e,t){t===void 0&&(t=Sw);var r,n=[],a,o=!1;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o&&r===this&&t(s,n)||(a=e.apply(this,s),o=!0,r=this,n=s),a}return i}var qn=function(t){var r=[],n=null,a=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function ef(e,t){}ef.bind(null,"warn");ef.bind(null,"error");function br(){}function kw(e,t){return ve({},e,{},t)}function Lt(e,t,r){var n=t.map(function(a){var o=kw(r,a.options);return e.addEventListener(a.eventName,a.fn,o),function(){e.removeEventListener(a.eventName,a.fn,o)}});return function(){n.forEach(function(o){o()})}}var Ew="Invariant failed";function Xa(e){this.message=e}Xa.prototype.toString=function(){return this.message};function ee(e,t){throw new Xa(Ew)}var Nw=(function(e){Li(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.callbacks=null,n.unbind=br,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var c=s.error;c instanceof Xa&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=Lt(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Xa){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t})(B.Component),Dw=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ya=function(t){return t+1},Iw=function(t){return`
  You have lifted an item in position `+Ya(t.source.index)+`
`},tf=function(t,r){var n=t.droppableId===r.droppableId,a=Ya(t.index),o=Ya(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+o+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+o+`
  `},rf=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Tw=function(t){var r=t.destination;if(r)return tf(t.source,r);var n=t.combine;return n?rf(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},hc=function(t){return`
  The item has returned to its starting position
  of `+Ya(t.index)+`
`},Pw=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+hc(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+tf(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+rf(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+hc(t.source)+`
  `},Pa={dragHandleUsageInstructions:Dw,onDragStart:Iw,onDragUpdate:Tw,onDragEnd:Pw},qe={x:0,y:0},Ze=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},jt=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},xr=function(t,r){return t.x===r.x&&t.y===r.y},mn=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Br=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},Xn=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},vc=function(t,r){return Math.min.apply(Math,r.map(function(n){return Xn(t,n)}))},nf=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Ow=(function(e,t){var r=Ht({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}),aa=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},yc=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Rw={top:0,right:0,bottom:0,left:0},Mw=function(t,r){return r?aa(t,r.scroll.diff.displacement):t},Aw=function(t,r,n){if(n&&n.increasedBy){var a;return ve({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},Lw=function(t,r){return r&&r.shouldClipSubject?Ow(r.pageMarginBox,t):Ht(t)},sn=(function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,o=Mw(t.marginBox,a),i=Aw(o,n,r),s=Lw(i,a);return{page:t,withPlaceholder:r,active:s}}),bs=(function(e,t){e.frame||ee();var r=e.frame,n=jt(t,r.scroll.initial),a=mn(n),o=ve({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),i=sn({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),s=ve({},e,{frame:o,subject:i});return s});function Ka(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function xs(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function jr(e,t){if(e.find)return e.find(t);var r=xs(e,t);if(r!==-1)return e[r]}function af(e){return Array.prototype.slice.call(e)}var of=We(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),sf=We(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),co=We(function(e){return Ka(e)}),Fw=We(function(e){return Ka(e)}),gn=We(function(e,t){var r=Fw(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function ws(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function uo(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var fo=We(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Bw=(function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,o=e.previousImpact;if(!n.isCombineEnabled)return null;var i=ws(o);if(!i)return null;function s(b){var j={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return ve({},o,{at:j})}var l=o.displaced.all,c=l.length?l[0]:null;if(t)return c?s(c):null;var f=fo(r,a);if(!c){if(!f.length)return null;var d=f[f.length-1];return s(d.descriptor.id)}var p=xs(f,function(b){return b.descriptor.id===c});p===-1&&ee();var m=p-1;if(m<0)return null;var x=f[m];return s(x.descriptor.id)}),hn=(function(e,t){return e.descriptor.droppableId===t.descriptor.id}),lf={point:qe,value:0},Yn={invisible:{},visible:{},all:[]},_w={displaced:Yn,displacedBy:lf,at:null},Ft=(function(e,t){return function(r){return e<=r&&r<=t}}),cf=(function(e){var t=Ft(e.top,e.bottom),r=Ft(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),s=o&&i;if(s)return!0;var l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,f=l&&c;if(f)return!0;var d=l&&i||c&&o;return d}}),$w=(function(e){var t=Ft(e.top,e.bottom),r=Ft(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}}),Cs={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},uf={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},zw=(function(e){return function(t){var r=Ft(t.top,t.bottom),n=Ft(t.left,t.right);return function(a){return e===Cs?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}}),Hw=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:qe;return aa(t,n)},Vw=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Gw=function(t,r,n){return n(r)(t)},js=function(t){var r=t.target,n=t.destination,a=t.viewport,o=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,s=o?Hw(r,n):r;return Vw(s,n,i)&&Gw(s,a,i)},Uw=function(t){return js(ve({},t,{isVisibleThroughFrameFn:cf}))},df=function(t){return js(ve({},t,{isVisibleThroughFrameFn:$w}))},Ww=function(t){return js(ve({},t,{isVisibleThroughFrameFn:zw(t.destination.axis)}))},qw=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,o=r.visible;if(a[t])return!1;var i=o[t];return i?i.shouldAnimate:!0};function Xw(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ht(vs(r,n))}function Kn(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,o=e.forceShouldAnimate,i=e.last;return t.reduce(function(l,c){var f=Xw(c,n),d=c.descriptor.id;l.all.push(d);var p=Uw({target:f,destination:r,viewport:a,withDroppableDisplacement:!0});if(!p)return l.invisible[c.descriptor.id]=!0,l;var m=qw(d,i,o),x={draggableId:d,shouldAnimate:m};return l.visible[d]=x,l},{all:[],visible:{},invisible:{}})}function Yw(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function bc(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,o=Yw(t,{inHomeList:r});return{displaced:Yn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:o}}}}function Za(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,o=e.displacedBy,i=e.last,s=e.index,l=e.forceShouldAnimate,c=hn(t,n);if(s==null)return bc({insideDestination:r,inHomeList:c,displacedBy:o,destination:n});var f=jr(r,function(b){return b.descriptor.index===s});if(!f)return bc({insideDestination:r,inHomeList:c,displacedBy:o,destination:n});var d=fo(t,r),p=r.indexOf(f),m=d.slice(p),x=Kn({afterDragging:m,destination:n,displacedBy:o,last:i,viewport:a.frame,forceShouldAnimate:l});return{displaced:x,displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Cr(e,t){return!!t.effected[e]}var Kw=(function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,o=e.afterCritical;if(!r.isCombineEnabled)return null;var i=a.draggableId,s=n[i],l=s.descriptor.index,c=Cr(i,o);return c?t?l:l-1:t?l+1:l}),Zw=(function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var o=a.index,i=t?o+1:o-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=r?l:l+1;return i<s||i>c?null:i}),Jw=(function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,o=e.destination,i=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,f=s.at;if(f||ee(),f.type==="REORDER"){var d=Zw({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:i});return d==null?null:Za({draggable:n,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=Kw({isMovingForward:t,destination:o,displaced:s.displaced,draggables:a,combine:f.combine,afterCritical:c});return p==null?null:Za({draggable:n,insideDestination:i,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}),Qw=(function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,o=!!(t.visible[n]||t.invisible[n]);return Cr(n,r)?o?qe:mn(a.point):o?a.point:qe}),e1=(function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=uo(r);a||ee();var o=a.draggableId,i=n[o].page.borderBox.center,s=Qw({displaced:r.displaced,afterCritical:t,combineWith:o,displacedBy:r.displacedBy});return Ze(i,s)}),ff=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},t1=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Ss=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},xc=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Br(r.line,n.marginBox[r.end]+ff(r,a),Ss(r,n.marginBox,a))},wc=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Br(r.line,n.marginBox[r.start]-t1(r,a),Ss(r,n.marginBox,a))},r1=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return Br(r.line,n.contentBox[r.start]+ff(r,a),Ss(r,n.contentBox,a))},n1=(function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,o=e.afterCritical,i=gn(a.descriptor.id,n),s=r.page,l=a.axis;if(!i.length)return r1({axis:l,moveInto:a.page,isMoving:s});var c=t.displaced,f=t.displacedBy,d=c.all[0];if(d){var p=n[d];if(Cr(d,o))return wc({axis:l,moveRelativeTo:p.page,isMoving:s});var m=Wa(p.page,f.point);return wc({axis:l,moveRelativeTo:m,isMoving:s})}var x=i[i.length-1];if(x.descriptor.id===r.descriptor.id)return s.borderBox.center;if(Cr(x.descriptor.id,o)){var b=Wa(x.page,mn(o.displacedBy.point));return xc({axis:l,moveRelativeTo:b,isMoving:s})}return xc({axis:l,moveRelativeTo:x.page,isMoving:s})}),Di=(function(e,t){var r=e.frame;return r?Ze(t,r.scroll.diff.displacement):t}),a1=function(t){var r=t.impact,n=t.draggable,a=t.droppable,o=t.draggables,i=t.afterCritical,s=n.page.borderBox.center,l=r.at;return!a||!l?s:l.type==="REORDER"?n1({impact:r,draggable:n,draggables:o,droppable:a,afterCritical:i}):e1({impact:r,draggables:o,afterCritical:i})},po=(function(e){var t=a1(e),r=e.droppable,n=r?Di(r,t):t;return n}),pf=(function(e,t){var r=jt(t,e.scroll.initial),n=mn(r),a=Ht({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return o});function Cc(e,t){return e.map(function(r){return t[r]})}function o1(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var i1=(function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,o=e.maxScrollChange,i=pf(r,Ze(r.scroll.current,o)),s=n.frame?bs(n,Ze(n.frame.scroll.current,o)):n,l=t.displaced,c=Kn({afterDragging:Cc(l.all,a),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),f=Kn({afterDragging:Cc(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},p={},m=[l,c,f];l.all.forEach(function(b){var j=o1(b,m);if(j){p[b]=j;return}d[b]=!0});var x=ve({},t,{displaced:{all:l.all,invisible:d,visible:p}});return x}),s1=(function(e,t){return Ze(e.scroll.diff.displacement,t)}),ks=(function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=s1(n,t),o=jt(a,r.page.borderBox.center);return Ze(r.client.borderBox.center,o)}),mf=(function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,i=e.onlyOnMainAxis,s=i===void 0?!1:i,l=jt(n,t.page.borderBox.center),c=aa(t.page.borderBox,l),f={target:c,destination:r,withDroppableDisplacement:o,viewport:a};return s?Ww(f):df(f)}),l1=(function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,o=e.previousImpact,i=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var f=gn(n.descriptor.id,a),d=hn(r,n),p=Bw({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:o})||Jw({isMovingForward:t,isInHomeList:d,draggable:r,draggables:a,destination:n,insideDestination:f,previousImpact:o,viewport:i,afterCritical:c});if(!p)return null;var m=po({impact:p,draggable:r,droppable:n,draggables:a,afterCritical:c}),x=mf({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(x){var b=ks({pageBorderBoxCenter:m,draggable:r,viewport:i});return{clientSelection:b,impact:p,scrollJumpRequest:null}}var j=jt(m,s),w=i1({impact:p,viewport:i,destination:n,draggables:a,maxScrollChange:j});return{clientSelection:l,impact:w,scrollJumpRequest:j}}),at=function(t){var r=t.subject.active;return r||ee(),r},c1=(function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,o=e.viewport,i=n.subject.active;if(!i)return null;var s=n.axis,l=Ft(i[s.start],i[s.end]),c=co(a).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return cf(o.frame)(at(d))}).filter(function(d){var p=at(d);return t?i[s.crossAxisEnd]<p[s.crossAxisEnd]:p[s.crossAxisStart]<i[s.crossAxisStart]}).filter(function(d){var p=at(d),m=Ft(p[s.start],p[s.end]);return l(p[s.start])||l(p[s.end])||m(i[s.start])||m(i[s.end])}).sort(function(d,p){var m=at(d)[s.crossAxisStart],x=at(p)[s.crossAxisStart];return t?m-x:x-m}).filter(function(d,p,m){return at(d)[s.crossAxisStart]===at(m[0])[s.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var f=c.filter(function(d){var p=Ft(at(d)[s.start],at(d)[s.end]);return p(r[s.line])});return f.length===1?f[0]:f.length>1?f.sort(function(d,p){return at(d)[s.start]-at(p)[s.start]})[0]:c.sort(function(d,p){var m=vc(r,yc(at(d))),x=vc(r,yc(at(p)));return m!==x?m-x:at(d)[s.start]-at(p)[s.start]})[0]}),jc=function(t,r){var n=t.page.borderBox.center;return Cr(t.descriptor.id,r)?jt(n,r.displacedBy.point):n},u1=function(t,r){var n=t.page.borderBox;return Cr(t.descriptor.id,r)?aa(n,mn(r.displacedBy.point)):n},d1=(function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,o=e.afterCritical,i=a.filter(function(s){return df({target:u1(s,o),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var c=Xn(t,Di(n,jc(s,o))),f=Xn(t,Di(n,jc(l,o)));return c<f?-1:f<c?1:s.descriptor.index-l.descriptor.index});return i[0]||null}),oa=We(function(t,r){var n=r[t.line];return{value:n,point:Br(t.line,n)}}),f1=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return Br(a.line,r[a.line]);var o=t.subject.page.contentBox[a.size],i=gn(t.descriptor.id,n),s=i.reduce(function(f,d){return f+d.client.marginBox[a.size]},0),l=s+r[a.line],c=l-o;return c<=0?null:Br(a.line,c)},gf=function(t,r){return ve({},t,{scroll:ve({},t.scroll,{max:r})})},hf=function(t,r,n){var a=t.frame;hn(r,t)&&ee(),t.subject.withPlaceholder&&ee();var o=oa(t.axis,r.displaceBy).point,i=f1(t,o,n),s={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var l=sn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return ve({},t,{subject:l})}var c=i?Ze(a.scroll.max,i):a.scroll.max,f=gf(a,c),d=sn({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:f});return ve({},t,{subject:d,frame:f})},p1=function(t){var r=t.subject.withPlaceholder;r||ee();var n=t.frame;if(!n){var a=sn({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ve({},t,{subject:a})}var o=r.oldFrameMaxScroll;o||ee();var i=gf(n,o),s=sn({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return ve({},t,{subject:s,frame:i})},m1=(function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,o=e.draggables,i=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:Yn,displacedBy:lf,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=po({impact:c,draggable:a,droppable:i,draggables:o,afterCritical:l}),d=hn(a,i)?i:hf(i,a,o),p=mf({draggable:a,destination:d,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?c:null}var m=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],x=(function(){var j=r.descriptor.index;return r.descriptor.id===a.descriptor.id||m?j:j+1})(),b=oa(i.axis,a.displaceBy);return Za({draggable:a,insideDestination:n,destination:i,viewport:s,displacedBy:b,last:Yn,index:x})}),g1=(function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,o=e.draggables,i=e.droppables,s=e.viewport,l=e.afterCritical,c=c1({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:i,viewport:s});if(!c)return null;var f=gn(c.descriptor.id,o),d=d1({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:f,afterCritical:l}),p=m1({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:o,moveRelativeTo:d,insideDestination:f,viewport:s,afterCritical:l});if(!p)return null;var m=po({impact:p,draggable:n,droppable:c,draggables:o,afterCritical:l}),x=ks({pageBorderBoxCenter:m,draggable:n,viewport:s});return{clientSelection:x,impact:p,scrollJumpRequest:null}}),Et=(function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null}),h1=function(t,r){var n=Et(t);return n?r[n]:null},v1=(function(e){var t=e.state,r=e.type,n=h1(t.impact,t.dimensions.droppables),a=!!n,o=t.dimensions.droppables[t.critical.droppable.id],i=n||o,s=i.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!a)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,m=p.draggables,x=p.droppables;return l?l1({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:f,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):g1({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:f,isOver:i,draggables:m,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})});function Tr(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function vf(e){var t=Ft(e.top,e.bottom),r=Ft(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function y1(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function b1(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,o=n.map(function(i){var s=i.axis,l=Br(i.axis.line,t.center[s.line],i.page.borderBox.center[s.crossAxisLine]);return{id:i.descriptor.id,distance:Xn(a,l)}}).sort(function(i,s){return s.distance-i.distance});return o[0]?o[0].id:null}function x1(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=co(n).filter(function(o){if(!o.isEnabled)return!1;var i=o.subject.active;if(!i||!y1(t,i))return!1;if(vf(i)(t.center))return!0;var s=o.axis,l=i.center[s.crossAxisLine],c=t[s.crossAxisStart],f=t[s.crossAxisEnd],d=Ft(i[s.crossAxisStart],i[s.crossAxisEnd]),p=d(c),m=d(f);return!p&&!m?!0:p?c<l:f>l});return a.length?a.length===1?a[0].descriptor.id:b1({pageBorderBox:t,draggable:r,candidates:a}):null}var yf=function(t,r){return Ht(aa(t,r))},w1=(function(e,t){var r=e.frame;return r?yf(t,r.scroll.diff.value):t});function bf(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function C1(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var j1=(function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,o=e.last,i=e.viewport,s=e.afterCritical,l=n.axis,c=oa(n.axis,r.displaceBy),f=c.value,d=t[l.start],p=t[l.end],m=fo(r,a),x=jr(m,function(j){var w=j.descriptor.id,I=j.page.borderBox.center[l.line],T=Cr(w,s),N=bf({displaced:o,id:w});return T?N?p<=I:d<I-f:N?p<=I+f:d<I}),b=C1({draggable:r,closest:x,inHomeList:hn(r,n)});return Za({draggable:r,insideDestination:a,destination:n,viewport:i,last:o,displacedBy:c,index:b})}),S1=4,k1=(function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,o=e.insideDestination,i=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,l=oa(a.axis,t.displaceBy),c=l.value,f=r[s.start],d=r[s.end],p=fo(t,o),m=jr(p,function(b){var j=b.descriptor.id,w=b.page.borderBox,I=w[s.size],T=I/S1,N=Cr(j,i),D=bf({displaced:n.displaced,id:j});return N?D?d>w[s.start]+T&&d<w[s.end]-T:f>w[s.start]-c+T&&f<w[s.end]-c-T:D?d>w[s.start]+c+T&&d<w[s.end]+c-T:f>w[s.start]+T&&f<w[s.end]-T});if(!m)return null;var x={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}};return x}),xf=(function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,o=e.previousImpact,i=e.viewport,s=e.afterCritical,l=yf(r.page.borderBox,t),c=x1({pageBorderBox:l,draggable:r,droppables:a});if(!c)return _w;var f=a[c],d=gn(f.descriptor.id,n),p=w1(f,l);return k1({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:o,destination:f,insideDestination:d,afterCritical:s})||j1({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:f,insideDestination:d,last:o.displaced,viewport:i,afterCritical:s})}),Es=(function(e,t){var r;return ve({},e,(r={},r[t.descriptor.id]=t,r))}),E1=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,o=Et(r),i=Et(n);if(!o||o===i)return a;var s=a[o];if(!s.subject.withPlaceholder)return a;var l=p1(s);return Es(a,l)},N1=(function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,o=e.impact,i=E1({previousImpact:a,impact:o,droppables:n}),s=Et(o);if(!s)return i;var l=n[s];if(hn(t,l)||l.subject.withPlaceholder)return i;var c=hf(l,t,r);return Es(i,c)}),Rn=(function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,o=e.impact,i=e.scrollJumpRequest,s=a||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,f=jt(c,t.initial.client.selection),d={offset:f,selection:c,borderBoxCenter:Ze(t.initial.client.borderBoxCenter,f)},p={selection:Ze(d.selection,s.scroll.current),borderBoxCenter:Ze(d.borderBoxCenter,s.scroll.current),offset:Ze(d.offset,s.scroll.diff.value)},m={client:d,page:p};if(t.phase==="COLLECTING")return ve({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:m});var x=l.draggables[t.critical.draggable.id],b=o||xf({pageOffset:p.offset,draggable:x,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),j=N1({draggable:x,impact:b,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),w=ve({},t,{current:m,dimensions:{draggables:l.draggables,droppables:j},impact:b,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return w});function D1(e,t){return e.map(function(r){return t[r]})}var wf=(function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,o=e.forceShouldAnimate,i=t.displaced,s=D1(i.all,n),l=Kn({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:o,last:i});return ve({},t,{displaced:l})}),Cf=(function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,o=e.viewport,i=e.afterCritical,s=po({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:i});return ks({pageBorderBoxCenter:s,draggable:r,viewport:o})}),jf=(function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&ee();var a=t.impact,o=n||t.viewport,i=r||t.dimensions,s=i.draggables,l=i.droppables,c=s[t.critical.draggable.id],f=Et(a);f||ee();var d=l[f],p=wf({impact:a,viewport:o,destination:d,draggables:s}),m=Cf({impact:p,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return Rn({impact:p,clientSelection:m,state:t,dimensions:i,viewport:o})}),I1=(function(e){return{index:e.index,droppableId:e.droppableId}}),Sf=(function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,o=oa(r.axis,t.displaceBy),i=gn(r.descriptor.id,n),s=i.indexOf(t);s===-1&&ee();var l=i.slice(s+1),c=l.reduce(function(m,x){return m[x.descriptor.id]=!0,m},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:o,effected:c},d=Kn({afterDragging:l,destination:r,displacedBy:o,last:null,viewport:a.frame,forceShouldAnimate:!1}),p={displaced:d,displacedBy:o,at:{type:"REORDER",destination:I1(t.descriptor)}};return{impact:p,afterCritical:f}}),T1=(function(e,t){return{draggables:e.draggables,droppables:Es(e.droppables,t)}}),P1=(function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=Wa(t.client,r),o=qa(a,n),i=ve({},t,{placeholder:ve({},t.placeholder,{client:a}),client:a,page:o});return i}),O1=(function(e){var t=e.frame;return t||ee(),t}),R1=(function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(o){var i=o.descriptor.droppableId,s=r[i],l=O1(s),c=l.scroll.diff.value,f=Ze(a,c),d=P1({draggable:o,offset:f,initialWindowScroll:n.scroll.initial});return d})}),M1=(function(e){var t=e.state,r=e.published,n=r.modified.map(function(T){var N=t.dimensions.droppables[T.droppableId],D=bs(N,T.scroll);return D}),a=ve({},t.dimensions.droppables,{},of(n)),o=sf(R1({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),i=ve({},t.dimensions.draggables,{},o);r.removals.forEach(function(T){delete i[T]});var s={droppables:a,draggables:i},l=Et(t.impact),c=l?s.droppables[l]:null,f=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=Sf({draggable:f,home:d,draggables:i,viewport:t.viewport}),m=p.impact,x=p.afterCritical,b=c&&c.isCombineEnabled?t.impact:m,j=xf({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:b,viewport:t.viewport,afterCritical:x}),w=ve({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:j,onLiftImpact:m,dimensions:s,afterCritical:x,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return w;var I=ve({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return I}),Ii=function(t){return t.movementMode==="SNAP"},Vo=function(t,r,n){var a=T1(t.dimensions,r);return!Ii(t)||n?Rn({state:t,dimensions:a}):jf({state:t,dimensions:a})};function Go(e){return e.isDragging&&e.movementMode==="SNAP"?ve({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Sc={phase:"IDLE",completed:null,shouldFlush:!1},A1=(function(e,t){if(e===void 0&&(e=Sc),t.type==="FLUSH")return ve({},Sc,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ee();var r=t.payload,n=r.critical,a=r.clientSelection,o=r.viewport,i=r.dimensions,s=r.movementMode,l=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],f={selection:a,borderBoxCenter:l.client.borderBox.center,offset:qe},d={client:f,page:{selection:Ze(f.selection,o.scroll.initial),borderBoxCenter:Ze(f.selection,o.scroll.initial),offset:Ze(f.selection,o.scroll.diff.value)}},p=co(i.droppables).every(function(ie){return!ie.isFixedOnPage}),m=Sf({draggable:l,home:c,draggables:i.draggables,viewport:o}),x=m.impact,b=m.afterCritical,j={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:i,initial:d,current:d,isWindowScrollAllowed:p,impact:x,afterCritical:b,onLiftImpact:x,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return j}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ee();var w=ve({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ee(),M1({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Tr(e)||ee();var I=t.payload.client;return xr(I,e.current.client.selection)?e:Rn({state:e,clientSelection:I,impact:Ii(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Go(e);Tr(e)||ee();var T=t.payload,N=T.id,D=T.newScroll,E=e.dimensions.droppables[N];if(!E)return e;var y=bs(E,D);return Vo(e,y,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tr(e)||ee();var g=t.payload,v=g.id,C=g.isEnabled,k=e.dimensions.droppables[v];k||ee(),k.isEnabled===C&&ee();var O=ve({},k,{isEnabled:C});return Vo(e,O,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tr(e)||ee();var P=t.payload,S=P.id,R=P.isCombineEnabled,A=e.dimensions.droppables[S];A||ee(),A.isCombineEnabled===R&&ee();var _=ve({},A,{isCombineEnabled:R});return Vo(e,_,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Tr(e)||ee(),e.isWindowScrollAllowed||ee();var L=t.payload.newScroll;if(xr(e.viewport.scroll.current,L))return Go(e);var M=pf(e.viewport,L);return Ii(e)?jf({state:e,viewport:M}):Rn({state:e,viewport:M})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Tr(e))return e;var F=t.payload.maxScroll;if(xr(F,e.viewport.scroll.max))return e;var H=ve({},e.viewport,{scroll:ve({},e.viewport.scroll,{max:F})});return ve({phase:"DRAGGING"},e,{viewport:H})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ee();var z=v1({state:e,type:t.type});return z?Rn({state:e,impact:z.impact,clientSelection:z.clientSelection,scrollJumpRequest:z.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var V=t.payload.reason;e.phase!=="COLLECTING"&&ee();var W=ve({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:V});return W}if(t.type==="DROP_ANIMATE"){var $=t.payload,q=$.completed,J=$.dropDuration,ne=$.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ee();var de={phase:"DROP_ANIMATING",completed:q,dropDuration:J,newHomeClientOffset:ne,dimensions:e.dimensions};return de}if(t.type==="DROP_COMPLETE"){var X=t.payload.completed;return{phase:"IDLE",completed:X,shouldFlush:!1}}return e}),L1=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},F1=function(t){return{type:"LIFT",payload:t}},B1=function(t){return{type:"INITIAL_PUBLISH",payload:t}},_1=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},$1=function(){return{type:"COLLECTION_STARTING",payload:null}},z1=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},H1=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},V1=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},kf=function(t){return{type:"MOVE",payload:t}},G1=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},U1=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},W1=function(){return{type:"MOVE_UP",payload:null}},q1=function(){return{type:"MOVE_DOWN",payload:null}},X1=function(){return{type:"MOVE_RIGHT",payload:null}},Y1=function(){return{type:"MOVE_LEFT",payload:null}},Ns=function(){return{type:"FLUSH",payload:null}},K1=function(t){return{type:"DROP_ANIMATE",payload:t}},Ds=function(t){return{type:"DROP_COMPLETE",payload:t}},Ef=function(t){return{type:"DROP",payload:t}},Z1=function(t){return{type:"DROP_PENDING",payload:t}},Nf=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},J1=(function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(o){if(o.type!=="LIFT"){a(o);return}var i=o.payload,s=i.id,l=i.clientSelection,c=i.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(Ds({completed:f.completed})),r().phase!=="IDLE"&&ee(),n(Ns()),n(L1({draggableId:s,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},p={draggableId:s,scrollOptions:d},m=e.startPublishing(p),x=m.critical,b=m.dimensions,j=m.viewport;n(B1({critical:x,dimensions:b,clientSelection:l,movementMode:c,viewport:j}))}}}}),Q1=(function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}}),Is={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Zn={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ts={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dr=Ts.outOfTheWay+"s "+Is.outOfTheWay,Mn={fluid:"opacity "+Dr,snap:"transform "+Dr+", opacity "+Dr,drop:function(t){var r=t+"s "+Is.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Dr,placeholder:"height "+Dr+", width "+Dr+", margin "+Dr},kc=function(t){return xr(t,qe)?null:"translate("+t.x+"px, "+t.y+"px)"},Ti={moveTo:kc,drop:function(t,r){var n=kc(t);return n?r?n+" scale("+Zn.scale.drop+")":n:null}},Pi=Ts.minDropTime,Df=Ts.maxDropTime,e2=Df-Pi,Ec=1500,t2=.6,r2=(function(e){var t=e.current,r=e.destination,n=e.reason,a=Xn(t,r);if(a<=0)return Pi;if(a>=Ec)return Df;var o=a/Ec,i=Pi+e2*o,s=n==="CANCEL"?i*t2:i;return Number(s.toFixed(2))}),n2=(function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,o=e.afterCritical,i=n.draggables,s=n.droppables,l=Et(t),c=l?s[l]:null,f=s[r.descriptor.droppableId],d=Cf({impact:t,draggable:r,draggables:i,afterCritical:o,droppable:c||f,viewport:a}),p=jt(d,r.client.borderBox.center);return p}),a2=(function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,o=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=wf({draggables:t,impact:i,destination:a,viewport:o,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=ve({},n,{displaced:Yn});return{impact:l,didDropInsideDroppable:!0}}),o2=(function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var o=t(),i=a.payload.reason;if(o.phase==="COLLECTING"){r(Z1({reason:i}));return}if(o.phase!=="IDLE"){var s=o.phase==="DROP_PENDING"&&o.isWaiting;s&&ee(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||ee();var l=o.critical,c=o.dimensions,f=c.draggables[o.critical.draggable.id],d=a2({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=d.impact,m=d.didDropInsideDroppable,x=m?ws(p):null,b=m?uo(p):null,j={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:j,reason:i,mode:o.movementMode,destination:x,combine:b},I=n2({impact:p,draggable:f,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),T={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:p},N=!xr(o.current.client.offset,I)||!!w.combine;if(!N){r(Ds({completed:T}));return}var D=r2({current:o.current.client.offset,destination:I,reason:i}),E={newHomeClientOffset:I,dropDuration:D,completed:T};r(K1(E))}}}}),If=(function(){return{x:window.pageXOffset,y:window.pageYOffset}});function i2(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function s2(e){var t=e.onWindowScroll;function r(){t(If())}var n=qn(r),a=i2(n),o=br;function i(){return o!==br}function s(){i()&&ee(),o=Lt(window,[a])}function l(){i()||ee(),n.cancel(),o(),o=br}return{start:s,stop:l,isActive:i}}var l2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},c2=(function(e){var t=s2({onWindowScroll:function(n){e.dispatch(G1({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&l2(n)&&t.stop(),r(n)}}}),u2=(function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return a.wasCalled=function(){return t},a}),d2=(function(){var e=[],t=function(o){var i=xs(e,function(c){return c.timerId===o});i===-1&&ee();var s=e.splice(i,1),l=s[0];l.callback()},r=function(o){var i=setTimeout(function(){return t(i)}),s={timerId:i,callback:o};e.push(s)},n=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}}),f2=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},p2=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},m2=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},Sn=function(t,r){r()},wa=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Uo=function(t,r,n,a){if(!t){n(a(r));return}var o=u2(n),i={announce:o};t(r,i),o.wasCalled()||n(a(r))},g2=(function(e,t){var r=d2(),n=null,a=function(p,m){n&&ee(),Sn("onBeforeCapture",function(){var x=e().onBeforeCapture;if(x){var b={draggableId:p,mode:m};x(b)}})},o=function(p,m){n&&ee(),Sn("onBeforeDragStart",function(){var x=e().onBeforeDragStart;x&&x(wa(p,m))})},i=function(p,m){n&&ee();var x=wa(p,m);n={mode:m,lastCritical:p,lastLocation:x.source,lastCombine:null},r.add(function(){Sn("onDragStart",function(){return Uo(e().onDragStart,x,t,Pa.onDragStart)})})},s=function(p,m){var x=ws(m),b=uo(m);n||ee();var j=!m2(p,n.lastCritical);j&&(n.lastCritical=p);var w=!f2(n.lastLocation,x);w&&(n.lastLocation=x);var I=!p2(n.lastCombine,b);if(I&&(n.lastCombine=b),!(!j&&!w&&!I)){var T=ve({},wa(p,n.mode),{combine:b,destination:x});r.add(function(){Sn("onDragUpdate",function(){return Uo(e().onDragUpdate,T,t,Pa.onDragUpdate)})})}},l=function(){n||ee(),r.flush()},c=function(p){n||ee(),n=null,Sn("onDragEnd",function(){return Uo(e().onDragEnd,p,t,Pa.onDragEnd)})},f=function(){if(n){var p=ve({},wa(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(p)}};return{beforeCapture:a,beforeStart:o,start:i,update:s,flush:l,drop:c,abort:f}}),h2=(function(e,t){var r=g2(e,t);return function(n){return function(a){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var i=o.payload.critical;r.beforeStart(i,o.payload.movementMode),a(o),r.start(i,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var s=o.payload.completed.result;r.flush(),a(o),r.drop(s);return}if(a(o),o.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}}),v2=(function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&ee(),e.dispatch(Ds({completed:n.completed}))}}}),y2=(function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&n(),a(o),o.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(Nf())}};r=requestAnimationFrame(function(){r=null,t=Lt(window,[i])})}}}}),b2=(function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}}),x2=(function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}),w2=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},C2=(function(e){return function(t){return function(r){return function(n){if(w2(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&ee(),e.start(a);return}r(n),e.scroll(t.getState())}}}}),j2=(function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Ef({reason:n.reason})))}}}}),S2=Gd,k2=(function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,o=e.announce,i=e.autoScroller;return Vd(A1,S2(Rx(Q1(n),b2(t),J1(t),o2,v2,y2,j2,C2(i),c2,x2(r),h2(a,o))))}),Wo=function(){return{additions:{},removals:{},modified:{}}};function E2(e){var t=e.registry,r=e.callbacks,n=Wo(),a=null,o=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var f=n,d=f.additions,p=f.removals,m=f.modified,x=Object.keys(d).map(function(w){return t.draggable.getById(w).getDimension(qe)}).sort(function(w,I){return w.descriptor.index-I.descriptor.index}),b=Object.keys(m).map(function(w){var I=t.droppable.getById(w),T=I.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:T}}),j={additions:x,removals:Object.keys(p),modified:b};n=Wo(),r.publish(j)}))},i=function(f){var d=f.descriptor.id;n.additions[d]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],o()},s=function(f){var d=f.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],o()},l=function(){a&&(cancelAnimationFrame(a),a=null,n=Wo())};return{add:i,remove:s,stop:l}}var Tf=(function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,o=jt({x:r,y:t},{x:a,y:n}),i={x:Math.max(0,o.x),y:Math.max(0,o.y)};return i}),Pf=(function(){var e=document.documentElement;return e||ee(),e}),Of=(function(){var e=Pf(),t=Tf({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t}),N2=(function(){var e=If(),t=Of(),r=e.y,n=e.x,a=Pf(),o=a.clientWidth,i=a.clientHeight,s=n+o,l=r+i,c=Ht({top:r,left:n,right:s,bottom:l}),f={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:qe,displacement:qe}}};return f}),D2=(function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=N2(),o=a.scroll.current,i=t.droppable,s=n.droppable.getAllByType(i.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,r)}),l=n.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(o)}),c={draggables:sf(l),droppables:of(s)},f={dimensions:c,critical:t,viewport:a};return f});function Nc(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var I2=(function(e,t){var r=null,n=E2({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(m,x){e.droppable.exists(m)||ee(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:x})},o=function(m,x){r&&(e.droppable.exists(m)||ee(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:x}))},i=function(m,x){r&&(e.droppable.exists(m)||ee(),t.updateDroppableScroll({id:m,newScroll:x}))},s=function(m,x){r&&e.droppable.getById(m).callbacks.scroll(x)},l=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(x){return x.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(m){r||ee();var x=r.critical.draggable;m.type==="ADDITION"&&Nc(e,x,m.value)&&n.add(m.value),m.type==="REMOVAL"&&Nc(e,x,m.value)&&n.remove(m.value)},f=function(m){r&&ee();var x=e.draggable.getById(m.draggableId),b=e.droppable.getById(x.descriptor.droppableId),j={draggable:x.descriptor,droppable:b.descriptor},w=e.subscribe(c);return r={critical:j,unsubscribe:w},D2({critical:j,registry:e,scrollOptions:m.scrollOptions})},d={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:o,scrollDroppable:s,updateDroppableScroll:i,startPublishing:f,stopPublishing:l};return d}),Rf=(function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"}),T2=(function(e){window.scrollBy(e.x,e.y)}),P2=We(function(e){return co(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),O2=function(t,r){var n=jr(P2(r),function(a){return a.frame||ee(),vf(a.frame.pageMarginBox)(t)});return n},R2=(function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var o=O2(t,n);return o}),wr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},M2=(function(e,t){var r=e[t.size]*wr.startFromPercentage,n=e[t.size]*wr.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a}),Mf=(function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var o=n-t,i=o/a;return i}),Ps=1,A2=(function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return wr.maxPixelScroll;if(e===t.startScrollingFrom)return Ps;var r=Mf({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=wr.maxPixelScroll*wr.ease(n);return Math.ceil(a)}),Dc=wr.durationDampening.accelerateAt,Ic=wr.durationDampening.stopDampeningAt,L2=(function(e,t){var r=t,n=Ic,a=Date.now(),o=a-r;if(o>=Ic)return e;if(o<Dc)return Ps;var i=Mf({startOfRange:Dc,endOfRange:n,current:o}),s=e*wr.ease(i);return Math.ceil(s)}),Tc=(function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,o=A2(t,r);return o===0?0:a?Math.max(L2(o,n),Ps):o}),Pc=(function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,o=e.shouldUseTimeDampening,i=M2(t,a),s=r[a.end]<r[a.start];return s?Tc({distanceToEdge:r[a.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o}):-1*Tc({distanceToEdge:r[a.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o})}),F2=(function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,o=r.width>t.width;return!o&&!a?n:o&&a?null:{x:o?0:n.x,y:a?0:n.y}}),B2=nf(function(e){return e===0?0:e}),Af=(function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,o=e.shouldUseTimeDampening,i={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},s=Pc({container:r,distanceToEdges:i,dragStartTime:t,axis:Cs,shouldUseTimeDampening:o}),l=Pc({container:r,distanceToEdges:i,dragStartTime:t,axis:uf,shouldUseTimeDampening:o}),c=B2({x:l,y:s});if(xr(c,qe))return null;var f=F2({container:r,subject:n,proposedScroll:c});return f?xr(f,qe)?null:f:null}),_2=nf(function(e){return e===0?0:e>0?1:-1}),Os=(function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,o=Ze(r,a),i={x:e(o.x,n.x),y:e(o.y,n.y)};return xr(i,qe)?null:i}})(),Lf=function(t){var r=t.max,n=t.current,a=t.change,o={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=_2(a),s=Os({max:o,current:n,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},Rs=function(t,r){return Lf({current:t.scroll.current,max:t.scroll.max,change:r})},$2=function(t,r){if(!Rs(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return Os({current:a,max:n,change:r})},Ms=function(t,r){var n=t.frame;return n?Lf({current:n.scroll.current,max:n.scroll.max,change:r}):!1},z2=function(t,r){var n=t.frame;return!n||!Ms(t,r)?null:Os({current:n.scroll.current,max:n.scroll.max,change:r})},H2=(function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=Af({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:o});return i&&Rs(t,i)?i:null}),V2=(function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,o=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var s=Af({dragStartTime:a,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:o});return s&&Ms(t,s)?s:null}),Oc=(function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,o=e.scrollDroppable,i=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],l=s.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,f=H2({dragStartTime:r,viewport:c,subject:l,center:i,shouldUseTimeDampening:n});if(f){a(f);return}}var d=R2({center:i,destination:Et(t.impact),droppables:t.dimensions.droppables});if(d){var p=V2({dragStartTime:r,droppable:d,subject:l,center:i,shouldUseTimeDampening:n});p&&o(d.descriptor.id,p)}}),G2=(function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=qn(t),a=qn(r),o=null,i=function(f){o||ee();var d=o,p=d.shouldUseTimeDampening,m=d.dragStartTime;Oc({state:f,scrollWindow:n,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:p})},s=function(f){o&&ee();var d=Date.now(),p=!1,m=function(){p=!0};Oc({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),o={dragStartTime:d,shouldUseTimeDampening:p},p&&i(f)},l=function(){o&&(n.cancel(),a.cancel(),o=null)};return{start:s,stop:l,scroll:i}}),U2=(function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(c,f){var d=Ze(c.current.client.selection,f);t({client:d})},o=function(c,f){if(!Ms(c,f))return f;var d=z2(c,f);if(!d)return r(c.descriptor.id,f),null;var p=jt(f,d);r(c.descriptor.id,p);var m=jt(f,p);return m},i=function(c,f,d){if(!c||!Rs(f,d))return d;var p=$2(f,d);if(!p)return n(d),null;var m=jt(d,p);n(m);var x=jt(d,m);return x},s=function(c){var f=c.scrollJumpRequest;if(f){var d=Et(c.impact);d||ee();var p=o(c.dimensions.droppables[d],f);if(p){var m=c.viewport,x=i(c.isWindowScrollAllowed,m,p);x&&a(c,x)}}};return s}),W2=(function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=G2({scrollWindow:r,scrollDroppable:t}),o=U2({move:n,scrollWindow:r,scrollDroppable:t}),i=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&o(c)}},s={scroll:i,start:a.start,stop:a.stop};return s}),ln="data-rbd",cn=(function(){var e=ln+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}})(),Oi=(function(){var e=ln+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),q2=(function(){var e=ln+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}})(),Rc={contextId:ln+"-scroll-container-context-id"},X2=function(t){return function(r){return"["+r+'="'+t+'"]'}},kn=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Y2="pointer-events: none;",K2=(function(e){var t=X2(e),r=(function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(cn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Y2,dropAnimating:s}}})(),n=(function(){var s=`
      transition: `+Mn.outOfTheWay+`;
    `;return{selector:t(Oi.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}})(),a={selector:t(q2.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,a,o];return{always:kn(i,"always"),resting:kn(i,"resting"),dragging:kn(i,"dragging"),dropAnimating:kn(i,"dropAnimating"),userCancel:kn(i,"userCancel")}}),Nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?h.useLayoutEffect:h.useEffect,qo=function(){var t=document.querySelector("head");return t||ee(),t},Mc=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Z2(e,t){var r=Te(function(){return K2(e)},[e]),n=h.useRef(null),a=h.useRef(null),o=me(We(function(d){var p=a.current;p||ee(),p.textContent=d}),[]),i=me(function(d){var p=n.current;p||ee(),p.textContent=d},[]);Nt(function(){!n.current&&!a.current||ee();var d=Mc(t),p=Mc(t);return n.current=d,a.current=p,d.setAttribute(ln+"-always",e),p.setAttribute(ln+"-dynamic",e),qo().appendChild(d),qo().appendChild(p),i(r.always),o(r.resting),function(){var m=function(b){var j=b.current;j||ee(),qo().removeChild(j),b.current=null};m(n),m(a)}},[t,i,o,r.always,r.resting,e]);var s=me(function(){return o(r.dragging)},[o,r.dragging]),l=me(function(d){if(d==="DROP"){o(r.dropAnimating);return}o(r.userCancel)},[o,r.dropAnimating,r.userCancel]),c=me(function(){a.current&&o(r.resting)},[o,r.resting]),f=Te(function(){return{dragging:s,dropping:l,resting:c}},[s,l,c]);return f}var Ff=(function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window});function mo(e){return e instanceof Ff(e).HTMLElement}function J2(e,t){var r="["+cn.contextId+'="'+e+'"]',n=af(document.querySelectorAll(r));if(!n.length)return null;var a=jr(n,function(o){return o.getAttribute(cn.draggableId)===t});return!a||!mo(a)?null:a}function Q2(e){var t=h.useRef({}),r=h.useRef(null),n=h.useRef(null),a=h.useRef(!1),o=me(function(p,m){var x={id:p,focus:m};return t.current[p]=x,function(){var j=t.current,w=j[p];w!==x&&delete j[p]}},[]),i=me(function(p){var m=J2(e,p);m&&m!==document.activeElement&&m.focus()},[e]),s=me(function(p,m){r.current===p&&(r.current=m)},[]),l=me(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var p=r.current;p&&i(p)}))},[i]),c=me(function(p){r.current=null;var m=document.activeElement;m&&m.getAttribute(cn.draggableId)===p&&(r.current=p)},[]);Nt(function(){return a.current=!0,function(){a.current=!1;var p=n.current;p&&cancelAnimationFrame(p)}},[]);var f=Te(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[o,c,l,s]);return f}function eC(){var e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){var m=t.indexOf(d);m!==-1&&t.splice(m,1)}}function n(d){t.length&&t.forEach(function(p){return p(d)})}function a(d){return e.draggables[d]||null}function o(d){var p=a(d);return p||ee(),p}var i={register:function(p){e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:function(p,m){var x=e.draggables[m.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,x=a(m);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:p}))},getById:o,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return Ka(e.draggables).filter(function(m){return m.descriptor.type===p})}};function s(d){return e.droppables[d]||null}function l(d){var p=s(d);return p||ee(),p}var c={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var m=s(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete e.droppables[p.descriptor.id]},getById:l,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Ka(e.droppables).filter(function(m){return m.descriptor.type===p})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:c,subscribe:r,clean:f}}function tC(){var e=Te(eC,[]);return h.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var As=B.createContext(null),Ja=(function(){var e=document.body;return e||ee(),e}),rC={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},nC=function(t){return"rbd-announcement-"+t};function aC(e){var t=Te(function(){return nC(e)},[e]),r=h.useRef(null);h.useEffect(function(){var o=document.createElement("div");return r.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ve(o.style,rC),Ja().appendChild(o),function(){setTimeout(function(){var l=Ja();l.contains(o)&&l.removeChild(o),o===r.current&&(r.current=null)})}},[t]);var n=me(function(a){var o=r.current;if(o){o.textContent=a;return}},[]);return n}var oC=0,iC={separator:"::"};function Ls(e,t){return t===void 0&&(t=iC),Te(function(){return""+e+t.separator+oC++},[t.separator,e])}function sC(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function lC(e){var t=e.contextId,r=e.text,n=Ls("hidden-text",{separator:"-"}),a=Te(function(){return sC({contextId:t,uniqueId:n})},[n,t]);return h.useEffect(function(){var i=document.createElement("div");return i.id=a,i.textContent=r,i.style.display="none",Ja().appendChild(i),function(){var l=Ja();l.contains(i)&&l.removeChild(i)}},[a,r]),a}var go=B.createContext(null);function Bf(e){var t=h.useRef(e);return h.useEffect(function(){t.current=e}),t}function cC(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&ee();var s={abandon:i};return e=s,s}function a(){e||ee(),e=null}function o(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:o}}var uC=9,dC=13,Fs=27,_f=32,fC=33,pC=34,mC=35,gC=36,hC=37,vC=38,yC=39,bC=40,Ca,xC=(Ca={},Ca[dC]=!0,Ca[uC]=!0,Ca),$f=(function(e){xC[e.keyCode]&&e.preventDefault()}),ho=(function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=jr(t,function(n){return"on"+n in document});return r||e})(),zf=0,Ac=5;function wC(e,t){return Math.abs(t.x-e.x)>=Ac||Math.abs(t.y-e.y)>=Ac}var Lc={type:"IDLE"};function CC(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(i){var s=i.button,l=i.clientX,c=i.clientY;if(s===zf){var f={x:l,y:c},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(f);return}d.type!=="PENDING"&&ee();var p=d.point;if(wC(p,f)){i.preventDefault();var m=d.actions.fluidLift(f);a({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var s=n();if(s.type==="PENDING"){t();return}if(i.keyCode===Fs){i.preventDefault(),t();return}$f(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var s=n();if(s.type==="IDLE"&&ee(),s.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:ho,fn:t}]}function jC(e){var t=h.useRef(Lc),r=h.useRef(br),n=Te(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===zf&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var p=e.findClosestDraggableId(d);if(p){var m=e.tryGetLock(p,i,{sourceEvent:d});if(m){d.preventDefault();var x={x:d.clientX,y:d.clientY};r.current(),c(m,x)}}}}}},[e]),a=Te(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var p=e.findClosestDraggableId(d);if(p){var m=e.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||e.canGetLock(p)&&d.preventDefault())}}}}},[e]),o=me(function(){var d={passive:!1,capture:!0};r.current=Lt(window,[a,n],d)},[a,n]),i=me(function(){var f=t.current;f.type!=="IDLE"&&(t.current=Lc,r.current(),o())},[o]),s=me(function(){var f=t.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),l=me(function(){var d={capture:!0,passive:!1},p=CC({cancel:s,completed:i,getPhase:function(){return t.current},setPhase:function(x){t.current=x}});r.current=Lt(window,p,d)},[s,i]),c=me(function(d,p){t.current.type!=="IDLE"&&ee(),t.current={type:"PENDING",point:p,actions:d},l()},[l]);Nt(function(){return o(),function(){r.current()}},[o])}var Xr;function SC(){}var kC=(Xr={},Xr[pC]=!0,Xr[fC]=!0,Xr[gC]=!0,Xr[mC]=!0,Xr);function EC(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===Fs){o.preventDefault(),r();return}if(o.keyCode===_f){o.preventDefault(),n();return}if(o.keyCode===bC){o.preventDefault(),e.moveDown();return}if(o.keyCode===vC){o.preventDefault(),e.moveUp();return}if(o.keyCode===yC){o.preventDefault(),e.moveRight();return}if(o.keyCode===hC){o.preventDefault(),e.moveLeft();return}if(kC[o.keyCode]){o.preventDefault();return}$f(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:ho,fn:r}]}function NC(e){var t=h.useRef(SC),r=Te(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==_f)return;var i=e.findClosestDraggableId(o);if(!i)return;var s=e.tryGetLock(i,f,{sourceEvent:o});if(!s)return;o.preventDefault();var l=!0,c=s.snapLift();t.current();function f(){l||ee(),l=!1,t.current(),n()}t.current=Lt(window,EC(c,f),{capture:!0,passive:!1})}}},[e]),n=me(function(){var o={passive:!1,capture:!0};t.current=Lt(window,[r],o)},[r]);Nt(function(){return n(),function(){t.current()}},[n])}var Xo={type:"IDLE"},DC=120,IC=.15;function TC(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===Fs&&a.preventDefault(),t()}},{eventName:ho,fn:t}]}function PC(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var s=o.touches[0],l=s.clientX,c=s.clientY,f={x:l,y:c};o.preventDefault(),i.actions.move(f)}},{eventName:"touchend",fn:function(o){var i=n();if(i.type!=="DRAGGING"){t();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(o){if(n().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var i=n();i.type==="IDLE"&&ee();var s=o.touches[0];if(s){var l=s.force>=IC;if(l){var c=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){c&&t();return}if(c){if(i.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:ho,fn:t}]}function OC(e){var t=h.useRef(Xo),r=h.useRef(br),n=me(function(){return t.current},[]),a=me(function(m){t.current=m},[]),o=Te(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var x=e.findClosestDraggableId(m);if(x){var b=e.tryGetLock(x,s,{sourceEvent:m});if(b){var j=m.touches[0],w=j.clientX,I=j.clientY,T={x:w,y:I};r.current(),d(b,T)}}}}}},[e]),i=me(function(){var m={capture:!0,passive:!1};r.current=Lt(window,[o],m)},[o]),s=me(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),a(Xo),r.current(),i())},[i,a]),l=me(function(){var p=t.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),c=me(function(){var m={capture:!0,passive:!1},x={cancel:l,completed:s,getPhase:n},b=Lt(window,PC(x),m),j=Lt(window,TC(x),m);r.current=function(){b(),j()}},[l,n,s]),f=me(function(){var m=n();m.type!=="PENDING"&&ee();var x=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[n,a]),d=me(function(m,x){n().type!=="IDLE"&&ee();var b=setTimeout(f,DC);a({type:"PENDING",point:x,actions:m,longPressTimerId:b}),c()},[c,n,a,f]);Nt(function(){return i(),function(){r.current();var x=n();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(Xo))}},[n,i,a]),Nt(function(){var m=Lt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var RC={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Hf(e,t){if(t==null)return!1;var r=!!RC[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Hf(e,t.parentElement)}function MC(e,t){var r=t.target;return mo(r)?Hf(e,r):!1}var AC=(function(e){return Ht(e.getBoundingClientRect()).center});function LC(e){return e instanceof Ff(e).Element}var FC=(function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=jr(t,function(n){return n in Element.prototype});return r||e})();function Vf(e,t){return e==null?null:e[FC](t)?e:Vf(e.parentElement,t)}function BC(e,t){return e.closest?e.closest(t):Vf(e,t)}function _C(e){return"["+cn.contextId+'="'+e+'"]'}function $C(e,t){var r=t.target;if(!LC(r))return null;var n=_C(e),a=BC(r,n);return!a||!mo(a)?null:a}function zC(e,t){var r=$C(e,t);return r?r.getAttribute(cn.draggableId):null}function HC(e,t){var r="["+Oi.contextId+'="'+e+'"]',n=af(document.querySelectorAll(r)),a=jr(n,function(o){return o.getAttribute(Oi.id)===t});return!a||!mo(a)?null:a}function VC(e){e.preventDefault()}function ja(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Gf(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var o=n.draggable.findById(a);return!(!o||!o.options.isEnabled||!Rf(r.getState(),a))}function GC(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,o=e.draggableId,i=e.forceSensorStop,s=e.sourceEvent,l=Gf({lockAPI:t,store:n,registry:a,draggableId:o});if(!l)return null;var c=a.draggable.getById(o),f=HC(r,c.descriptor.id);if(!f||s&&!c.options.canDragInteractiveElements&&MC(f,s))return null;var d=t.claim(i||br),p="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function x(){return t.isActive(d)}function b(E,y){ja({expected:E,phase:p,isLockActive:x,shouldWarn:!0})&&n.dispatch(y())}var j=b.bind(null,"DRAGGING");function w(E){function y(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(y(),p!=="PRE_DRAG"&&ee()),n.dispatch(F1(E.liftActionArgs)),p="DRAGGING";function g(v,C){if(C===void 0&&(C={shouldBlockNextClick:!1}),E.cleanup(),C.shouldBlockNextClick){var k=Lt(window,[{eventName:"click",fn:VC,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}y(),n.dispatch(Ef({reason:v}))}return ve({isActive:function(){return ja({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(C){return g("DROP",C)},cancel:function(C){return g("CANCEL",C)}},E.actions)}function I(E){var y=qn(function(v){j(function(){return kf({client:v})})}),g=w({liftActionArgs:{id:o,clientSelection:E,movementMode:"FLUID"},cleanup:function(){return y.cancel()},actions:{move:y}});return ve({},g,{move:y})}function T(){var E={moveUp:function(){return j(W1)},moveRight:function(){return j(X1)},moveDown:function(){return j(q1)},moveLeft:function(){return j(Y1)}};return w({liftActionArgs:{id:o,clientSelection:AC(f),movementMode:"SNAP"},cleanup:br,actions:E})}function N(){var E=ja({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0});E&&t.release()}var D={isActive:function(){return ja({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:I,snapLift:T,abort:N};return D}var UC=[jC,NC,OC];function WC(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,o=e.enableDefaultSensors,i=[].concat(o?UC:[],a||[]),s=h.useState(function(){return cC()})[0],l=me(function(I,T){I.isDragging&&!T.isDragging&&s.tryAbandon()},[s]);Nt(function(){var I=r.getState(),T=r.subscribe(function(){var N=r.getState();l(I,N),I=N});return T},[s,r,l]),Nt(function(){return s.tryAbandon},[s.tryAbandon]);for(var c=me(function(w){return Gf({lockAPI:s,registry:n,store:r,draggableId:w})},[s,n,r]),f=me(function(w,I,T){return GC({lockAPI:s,registry:n,contextId:t,store:r,draggableId:w,forceSensorStop:I,sourceEvent:T&&T.sourceEvent?T.sourceEvent:null})},[t,s,n,r]),d=me(function(w){return zC(t,w)},[t]),p=me(function(w){var I=n.draggable.findById(w);return I?I.options:null},[n.draggable]),m=me(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Ns()))},[s,r]),x=me(s.isClaimed,[s]),b=Te(function(){return{canGetLock:c,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:x}},[c,f,d,p,m,x]),j=0;j<i.length;j++)i[j](b)}var qC=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function En(e){return e.current||ee(),e.current}function XC(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,o=e.dragHandleUsageInstructions,i=h.useRef(null),s=Bf(e),l=me(function(){return qC(s.current)},[s]),c=aC(t),f=lC({contextId:t,text:o}),d=Z2(t,a),p=me(function(v){En(i).dispatch(v)},[]),m=Te(function(){return sc({publishWhileDragging:_1,updateDroppableScroll:z1,updateDroppableIsEnabled:H1,updateDroppableIsCombineEnabled:V1,collectionStarting:$1},p)},[p]),x=tC(),b=Te(function(){return I2(x,m)},[x,m]),j=Te(function(){return W2(ve({scrollWindow:T2,scrollDroppable:b.scrollDroppable},sc({move:kf},p)))},[b.scrollDroppable,p]),w=Q2(t),I=Te(function(){return k2({announce:c,autoScroller:j,dimensionMarshal:b,focusMarshal:w,getResponders:l,styleMarshal:d})},[c,j,b,w,l,d]);i.current=I;var T=me(function(){var v=En(i),C=v.getState();C.phase!=="IDLE"&&v.dispatch(Ns())},[]),N=me(function(){var v=En(i).getState();return v.isDragging||v.phase==="DROP_ANIMATING"},[]),D=Te(function(){return{isDragging:N,tryAbort:T}},[N,T]);r(D);var E=me(function(v){return Rf(En(i).getState(),v)},[]),y=me(function(){return Tr(En(i).getState())},[]),g=Te(function(){return{marshal:b,focus:w,contextId:t,canLift:E,isMovementAllowed:y,dragHandleUsageInstructionsId:f,registry:x}},[t,b,f,w,E,y,x]);return WC({contextId:t,store:I,registry:x,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),h.useEffect(function(){return T},[T]),B.createElement(go.Provider,{value:g},B.createElement(Bx,{context:As,store:I},e.children))}var YC=0;function KC(){return Te(function(){return""+YC++},[])}function Bs(e){var t=KC(),r=e.dragHandleUsageInstructions||Pa.dragHandleUsageInstructions;return B.createElement(Nw,null,function(n){return B.createElement(XC,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Uf=function(t){return function(r){return t===r}},ZC=Uf("scroll"),JC=Uf("auto"),Fc=function(t,r){return r(t.overflowX)||r(t.overflowY)},QC=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Fc(n,ZC)||Fc(n,JC)},ej=function(){return!1},tj=function e(t){return t==null?null:t===document.body?ej()?t:null:t===document.documentElement?null:QC(t)?t:e(t.parentElement)},Ri=(function(e){return{x:e.scrollLeft,y:e.scrollTop}}),rj=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},nj=(function(e){var t=tj(e),r=rj(e);return{closestScrollable:t,isFixedOnPage:r}}),aj=(function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,o=e.direction,i=e.client,s=e.page,l=e.closest,c=(function(){if(!l)return null;var m=l.scrollSize,x=l.client,b=Tf({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:x,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:b,diff:{value:qe,displacement:qe}}}})(),f=o==="vertical"?Cs:uf,d=sn({page:s,withPlaceholder:null,axis:f,frame:c}),p={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:f,isEnabled:r,client:i,page:s,frame:c,subject:d};return p}),oj=function(t,r){var n=Qd(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,o=n.paddingBox.left-r.scrollLeft,i=a+r.scrollHeight,s=o+r.scrollWidth,l={top:a,right:s,bottom:i,left:o},c=vs(l,n.border),f=ys({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return f},ij=(function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,o=e.direction,i=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,f=oj(t,c),d=qa(f,a),p=(function(){if(!c)return null;var x=Qd(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:x,page:qa(x,a),scroll:Ri(c),scrollSize:b,shouldClipSubject:l}})(),m=aj({descriptor:r,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:o,client:f,page:d,closest:p});return m}),sj={passive:!1},lj={passive:!0},Bc=(function(e){return e.shouldPublishImmediately?sj:lj});function Qa(e){var t=h.useContext(e);return t||ee(),t}var Sa=function(t){return t&&t.env.closestScrollable||null};function cj(e){var t=h.useRef(null),r=Qa(go),n=Ls("droppable"),a=r.registry,o=r.marshal,i=Bf(e),s=Te(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=h.useRef(s),c=Te(function(){return We(function(N,D){t.current||ee();var E={x:N,y:D};o.updateDroppableScroll(s.id,E)})},[s.id,o]),f=me(function(){var N=t.current;return!N||!N.env.closestScrollable?qe:Ri(N.env.closestScrollable)},[]),d=me(function(){var N=f();c(N.x,N.y)},[f,c]),p=Te(function(){return qn(d)},[d]),m=me(function(){var N=t.current,D=Sa(N);N&&D||ee();var E=N.scrollOptions;if(E.shouldPublishImmediately){d();return}p()},[p,d]),x=me(function(N,D){t.current&&ee();var E=i.current,y=E.getDroppableRef();y||ee();var g=nj(y),v={ref:y,descriptor:s,env:g,scrollOptions:D};t.current=v;var C=ij({ref:y,descriptor:s,env:g,windowScroll:N,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),k=g.closestScrollable;return k&&(k.setAttribute(Rc.contextId,r.contextId),k.addEventListener("scroll",m,Bc(v.scrollOptions))),C},[r.contextId,s,m,i]),b=me(function(){var N=t.current,D=Sa(N);return N&&D||ee(),Ri(D)},[]),j=me(function(){var N=t.current;N||ee();var D=Sa(N);t.current=null,D&&(p.cancel(),D.removeAttribute(Rc.contextId),D.removeEventListener("scroll",m,Bc(N.scrollOptions)))},[m,p]),w=me(function(N){var D=t.current;D||ee();var E=Sa(D);E||ee(),E.scrollTop+=N.y,E.scrollLeft+=N.x},[]),I=Te(function(){return{getDimensionAndWatchScroll:x,getScrollWhileDragging:b,dragStopped:j,scroll:w}},[j,x,b,w]),T=Te(function(){return{uniqueId:n,descriptor:s,callbacks:I}},[I,s,n]);Nt(function(){return l.current=T.descriptor,a.droppable.register(T),function(){t.current&&j(),a.droppable.unregister(T)}},[I,s,j,T,o,a.droppable]),Nt(function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Nt(function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Yo(){}var _c={width:0,height:0,margin:Rw},uj=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?_c:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},dj=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,o=uj({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Mn.placeholder:null}};function fj(e){var t=h.useRef(null),r=me(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,o=e.onClose,i=e.contextId,s=h.useState(e.animate==="open"),l=s[0],c=s[1];h.useEffect(function(){return l?n!=="open"?(r(),c(!1),Yo):t.current?Yo:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):Yo},[n,l,r]);var f=me(function(p){p.propertyName==="height"&&(a(),n==="close"&&o())},[n,o,a]),d=dj({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return B.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":i,onTransitionEnd:f,ref:e.innerRef})}var pj=B.memo(fj),_s=B.createContext(null),mj=(function(e){Li(t,e);function t(){for(var n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,o){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t})(B.PureComponent),$c={dragging:5e3,dropAnimating:4500},gj=function(t,r){return r?Mn.drop(r.duration):t?Mn.snap:Mn.fluid},hj=function(t,r){return t?r?Zn.opacity.drop:Zn.opacity.combining:null},vj=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function yj(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,o=e.dropping,i=!!a,s=vj(e),l=!!o,c=l?Ti.drop(n,i):Ti.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:gj(s,o),transform:c,opacity:hj(i,l),zIndex:l?$c.dropAnimating:$c.dragging,pointerEvents:"none"};return f}function bj(e){return{transform:Ti.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function xj(e){return e.type==="DRAGGING"?yj(e):bj(e)}function wj(e,t,r){r===void 0&&(r=qe);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),o=Jd(a,n),i=qa(o,r),s={client:o,tagName:t.tagName.toLowerCase(),display:n.display},l={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:e,placeholder:s,displaceBy:l,client:o,page:i};return c}function Cj(e){var t=Ls("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,o=e.canDragInteractiveElements,i=e.shouldRespectForcePress,s=e.isEnabled,l=Te(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:s}},[o,s,i]),c=me(function(m){var x=a();return x||ee(),wj(r,x,m)},[r,a]),f=Te(function(){return{uniqueId:t,descriptor:r,options:l,getDimension:c}},[r,c,l,t]),d=h.useRef(f),p=h.useRef(!0);Nt(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),Nt(function(){if(p.current){p.current=!1;return}var m=d.current;d.current=f,n.draggable.update(f,m)},[f,n.draggable])}function jj(e){e.preventDefault()}function Sj(e){var t=h.useRef(null),r=me(function(v){t.current=v},[]),n=me(function(){return t.current},[]),a=Qa(go),o=a.contextId,i=a.dragHandleUsageInstructionsId,s=a.registry,l=Qa(_s),c=l.type,f=l.droppableId,d=Te(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:f}},[e.draggableId,e.index,c,f]),p=e.children,m=e.draggableId,x=e.isEnabled,b=e.shouldRespectForcePress,j=e.canDragInteractiveElements,w=e.isClone,I=e.mapped,T=e.dropAnimationFinished;if(!w){var N=Te(function(){return{descriptor:d,registry:s,getDraggableRef:n,canDragInteractiveElements:j,shouldRespectForcePress:b,isEnabled:x}},[d,s,n,j,b,x]);Cj(N)}var D=Te(function(){return x?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:jj}:null},[o,i,m,x]),E=me(function(v){I.type==="DRAGGING"&&I.dropping&&v.propertyName==="transform"&&T()},[T,I]),y=Te(function(){var v=xj(I),C=I.type==="DRAGGING"&&I.dropping?E:null,k={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:v,onTransitionEnd:C},dragHandleProps:D};return k},[o,D,m,I,E,r]),g=Te(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return p(y,I.snapshot,g)}var Wf=(function(e,t){return e===t}),qf=(function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null}),kj=function(t){return t.combine?t.combine.draggableId:null},Ej=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Nj(){var e=We(function(a,o){return{x:a,y:o}}),t=We(function(a,o,i,s,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:a,draggingOver:i,combineWith:s,combineTargetFor:null}}),r=We(function(a,o,i,s,l,c,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:a,dimension:i,forceShouldAnimate:f,snapshot:t(o,s,l,c,null)}}}),n=function(o,i){if(o.isDragging){if(o.critical.draggable.id!==i.draggableId)return null;var s=o.current.client.offset,l=o.dimensions.draggables[i.draggableId],c=Et(o.impact),f=Ej(o.impact),d=o.forceShouldAnimate;return r(e(s.x,s.y),o.movementMode,l,i.isClone,c,f,d)}if(o.phase==="DROP_ANIMATING"){var p=o.completed;if(p.result.draggableId!==i.draggableId)return null;var m=i.isClone,x=o.dimensions.draggables[i.draggableId],b=p.result,j=b.mode,w=qf(b),I=kj(b),T=o.dropDuration,N={duration:T,curve:Is.drop,moveTo:o.newHomeClientOffset,opacity:I?Zn.opacity.drop:null,scale:I?Zn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:x,dropping:N,draggingOver:w,combineWith:I,mode:j,forceShouldAnimate:null,snapshot:t(j,m,w,I,N)}}}return null};return n}function Xf(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Dj={mapped:{type:"SECONDARY",offset:qe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Xf(null)}};function Ij(){var e=We(function(i,s){return{x:i,y:s}}),t=We(Xf),r=We(function(i,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:t(s)}}}),n=function(s){return s?r(qe,s,!0):null},a=function(s,l,c,f){var d=c.displaced.visible[s],p=!!(f.inVirtualList&&f.effected[s]),m=uo(c),x=m&&m.draggableId===s?l:null;if(!d){if(!p)return n(x);if(c.displaced.invisible[s])return null;var b=mn(f.displacedBy.point),j=e(b.x,b.y);return r(j,x,!0)}if(p)return n(x);var w=c.displacedBy.point,I=e(w.x,w.y);return r(I,x,d.shouldAnimate)},o=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:a(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var c=s.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var Tj=function(){var t=Nj(),r=Ij(),n=function(o,i){return t(o,i)||r(o,i)||Dj};return n},Pj={dropAnimationFinished:Nf},Oj=Kd(Tj,Pj,null,{context:As,pure:!0,areStatePropsEqual:Wf})(Sj);function Yf(e){var t=Qa(_s),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:B.createElement(Oj,e)}function $s(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return B.createElement(Yf,ve({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function Rj(e){var t=h.useContext(go);t||ee();var r=t.contextId,n=t.isMovementAllowed,a=h.useRef(null),o=h.useRef(null),i=e.children,s=e.droppableId,l=e.type,c=e.mode,f=e.direction,d=e.ignoreContainerClipping,p=e.isDropDisabled,m=e.isCombineEnabled,x=e.snapshot,b=e.useClone,j=e.updateViewportMaxScroll,w=e.getContainerForClone,I=me(function(){return a.current},[]),T=me(function(k){a.current=k},[]);me(function(){return o.current},[]);var N=me(function(k){o.current=k},[]),D=me(function(){n()&&j({maxScroll:Of()})},[n,j]);cj({droppableId:s,type:l,mode:c,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:d,getDroppableRef:I});var E=B.createElement(mj,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(k){var O=k.onClose,P=k.data,S=k.animate;return B.createElement(pj,{placeholder:P,onClose:O,innerRef:N,animate:S,contextId:r,onTransitionEnd:D})}),y=Te(function(){return{innerRef:T,placeholder:E,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,E,T]),g=b?b.dragging.draggableId:null,v=Te(function(){return{droppableId:s,type:l,isUsingCloneFor:g}},[s,g,l]);function C(){if(!b)return null;var k=b.dragging,O=b.render,P=B.createElement(Yf,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(S,R){return O(S,R,k)});return wp.createPortal(P,w())}return B.createElement(_s.Provider,{value:v},i(y,x),C())}var Ko=function(t,r){return t===r.droppable.type},zc=function(t,r){return r.draggables[t.draggable.id]},Mj=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ve({},t,{shouldAnimatePlaceholder:!1}),n=We(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),a=We(function(i,s,l,c,f,d){var p=f.descriptor.id,m=f.descriptor.droppableId===i;if(m){var x=d?{render:d,dragging:n(f.descriptor)}:null,b={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:x}}if(!s)return r;if(!c)return t;var j={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:j,useClone:null}}),o=function(s,l){var c=l.droppableId,f=l.type,d=!l.isDropDisabled,p=l.renderClone;if(s.isDragging){var m=s.critical;if(!Ko(f,m))return r;var x=zc(m,s.dimensions),b=Et(s.impact)===c;return a(c,d,b,b,x,p)}if(s.phase==="DROP_ANIMATING"){var j=s.completed;if(!Ko(f,j.critical))return r;var w=zc(j.critical,s.dimensions);return a(c,d,qf(j.result)===c,Et(j.impact)===c,w,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var I=s.completed;if(!Ko(f,I.critical))return r;var T=Et(I.impact)===c,N=!!(I.impact.at&&I.impact.at.type==="COMBINE"),D=I.critical.droppable.id===c;return T?N?t:r:D?t:r}return r};return o},Aj={updateViewportMaxScroll:U1};function Lj(){return document.body||ee(),document.body}var Fj={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Lj},Kf=Kd(Mj,Aj,null,{context:As,pure:!0,areStatePropsEqual:Wf})(Rj);Kf.defaultProps=Fj;const Bj=({customField:e,index:t,onDelete:r,expandToEdit:n,length:a})=>u.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:u.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[u.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:u.jsxs("div",{className:"flex min-w-0",children:[u.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),u.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Custom Field"})]})}),a>1&&u.jsx("div",{children:u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:o=>{o.stopPropagation(),r(t)},children:"×"})})]})}),_j=h.memo(Bj),$j=({optionsData:e,save:t,close:r})=>{const[n,a]=h.useState(e),[o,i]=h.useState([]),[s,l]=h.useState({}),c=h.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),f=h.useMemo(()=>{const y=new Date;return y.setMonth(y.getMonth()+3),y.setHours(23,59,59,999),y},[]);h.useEffect(()=>{a(e)},[e]);const d=(y,g,v,C,k)=>{const O=Qo(g,v,C);O&&i(P=>{var S;return{...P,customFields:{...P.customFields,[y]:{...(S=P.customFields)==null?void 0:S[y],[g]:O}}}})},p=(y,g)=>{const{name:v,value:C}=g.target,k=[...n.customFields],O={...k[y]};O[v]=C,k[y]=O,a({...n,customFields:k}),i(P=>{var R,A;const S={...P};if((A=(R=S==null?void 0:S.customFields)==null?void 0:R[y])!=null&&A[v]){delete S.customFields[y][v];const _=S.customFields[y];_&&Object.values(_).every(L=>L==="")&&delete S.customFields[y],Object.keys(S.customFields).length===0&&delete S.customFields}return S})},m=(y,g)=>{var P,S;(S=(P=o==null?void 0:o.customFields)==null?void 0:P[y])==null||delete S[g.target.name];const{value:v}=g.target,{min:C,max:k}=x(v),O=[...n.customFields];O[y].fieldType=v,v!=="phone"&&v!=="email"&&v!=="custom"&&(O[y].min=C,O[y].max=k),v==="custom"&&(O[y].custom=""),a({...n,customFields:O})},x=h.useCallback(y=>{switch(y){case Ee.CUSTOM:return l({min:"Custom Expression",max:""}),{min:"",max:""};case Ee.STRING:return l({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case Ee.NUMBER:return l({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case Ee.DATE:return l({min:"Min Date",max:"Max Date"}),{min:"",max:""};case Ee.DATETIME:return l({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case Ee.TIME:return l({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),b=y=>{const g={customFields:{}},v=new Set;return y.customFields.map((k,O)=>{delete y.customFields[O].isCollapsed;const P={};Object.keys(k).map(S=>{const R=k[S],A=Qo(S,R,k.fieldType,k,v);A&&(P[S]=A)}),P.property===void 0&&v.add(k.property),Object.keys(P).length>0&&(g.customFields[O]=P,k.isCollapsed=!1)}),i(g),Object.keys(g.customFields).some(k=>Object.keys(g.customFields[k]).length>0)},j=y=>{const g=n.customFields.map((v,C)=>C===y?{...v,isCollapsed:!v.isCollapsed}:v);a({...n,customFields:g})},w=()=>{a({...n,customFields:[...n.customFields,{id:$r(),property:"",title:"",whatsAppQuestion:"",fieldType:""}]})},I=y=>{a({...n,customFields:n.customFields.filter((g,v)=>v!==y)})},T=()=>{b(n)||(t(n),r())},N=()=>{b(n)||(t(n),r())},D=()=>{const y=document.querySelector(".p-datepicker");y&&(y.style.visibility="hidden")},E=()=>u.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>D(),children:"Close"});return u.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:u.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[u.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),u.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[n.customFields.map((y,g)=>{var v,C,k,O,P,S,R,A,_,L,M,F,H,z,V,W,$,q,J,ne,de,X,ie,we,Ce,ae,De,Ae,ye,le;return u.jsxs("div",{className:"accordion px-2 mb-2",children:[u.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>j(g),children:[u.jsx("span",{className:"mr-3",children:y.isCollapsed?u.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):u.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),u.jsx("span",{className:"flex-1",children:y.title||`Custom Filed ${g+1}`}),n.customFields.length>1&&u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:K=>{K.stopPropagation(),I(g)},children:"×"})]}),!y.isCollapsed&&u.jsx("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Property Name"}),u.jsx("input",{title:"Property Name",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"property",value:y.property,onChange:K=>p(g,K),onBlur:K=>d(g,"property",K.target.value)}),((C=(v=o.customFields)==null?void 0:v[g])==null?void 0:C.property)&&u.jsx("div",{className:"text-red-500 text-sm",children:(k=o.customFields[g])==null?void 0:k.property.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})}),u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Title"}),u.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:y.title,onChange:K=>p(g,K),onBlur:K=>d(g,"title",K.target.value)}),((P=(O=o.customFields)==null?void 0:O[g])==null?void 0:P.title)&&u.jsx("div",{className:"text-red-500 text-sm",children:(S=o.customFields[g])==null?void 0:S.title.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})}),u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"WhatApp Question"}),u.jsx("input",{title:"whatsAppQuestion",type:"whatsAppQuestion",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"whatsAppQuestion",value:y.whatsAppQuestion,onChange:K=>p(g,K),onBlur:K=>d(g,"whatsAppQuestion",K.target.value)}),((A=(R=o.customFields)==null?void 0:R[g])==null?void 0:A.whatsAppQuestion)&&u.jsx("div",{className:"text-red-500 text-sm",children:(_=o.customFields[g])==null?void 0:_.whatsAppQuestion.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})}),u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Select Category"}),u.jsxs("select",{title:"Field Type",name:"fieldType",value:y.fieldType,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",style:{height:"25px"},onChange:K=>m(g,K),onBlur:K=>d(g,"fieldType",K.target.value,y.fieldType),children:[u.jsx("option",{value:"",children:"Select Value Type"}),nu.map(K=>u.jsx("option",{value:K.value,children:K.label},K.value))]}),((M=(L=o.customFields)==null?void 0:L[g])==null?void 0:M.fieldType)&&u.jsx("div",{className:"text-red-500 text-sm",children:(F=o.customFields[g])==null?void 0:F.fieldType.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})}),[Ee.STRING,Ee.NUMBER].includes(y.fieldType)&&u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Min & Max"}),u.jsxs("div",{className:"flex space-x-2 ",children:[u.jsxs("div",{children:[u.jsx("input",{title:s.min||"Min Length",type:"number",name:"min",placeholder:s.min,value:y.min||"",onChange:K=>p(g,K),onBlur:K=>d(g,"min",K.target.value,y.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),((z=(H=o.customFields)==null?void 0:H[g])==null?void 0:z.min)&&u.jsx("div",{className:"text-red-500 text-sm",children:(V=o.customFields[g])==null?void 0:V.min.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]}),u.jsxs("div",{children:[u.jsx("input",{title:s.max||"Max Length",type:"number",name:"max",placeholder:s.max,value:y.max||"",onChange:K=>p(g,K),style:{height:"25px"},onBlur:K=>d(g,"max",K.target.value,y.fieldType),className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",maxLength:13}),(($=(W=o.customFields)==null?void 0:W[g])==null?void 0:$.max)&&u.jsx("div",{className:"text-red-500 text-sm",children:(q=o.customFields[g])==null?void 0:q.max.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})]})]})}),[Ee.DATE,Ee.DATETIME,Ee.TIME].includes(y.fieldType)&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"min-w-[200px] ",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Select Date Format"}),u.jsxs("select",{title:"Date Format",name:"dateFormat",value:y.dateFormat,onChange:K=>p(g,K),onBlur:K=>d(g,"dateFormat",K.target.value,y.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",children:[u.jsx("option",{value:"",children:"Select Date Format"}),au.map(K=>u.jsx("option",{value:K,children:K},K))]}),((ne=(J=o.customFields)==null?void 0:J[g])==null?void 0:ne.dateFormat)&&u.jsx("div",{className:"text-red-500 text-sm",children:(de=o.customFields[g])==null?void 0:de.dateFormat.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})}),u.jsx("div",{className:"min-w-[200px] mt-2",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Min"}),u.jsx(Ln,{name:"min",tooltip:s.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:s.min||"Min",minDate:c,maxDate:f,value:y.min?new Date(y.min):null,onChange:K=>p(g,K),onBlur:K=>d(g,"min",K.target.value,y.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:y.fieldType!==Ee.DATE,timeOnly:Ee.TIME===y.fieldType,autoZIndex:!0,footerTemplate:E,showButtonBar:!0}),((ie=(X=o.customFields)==null?void 0:X[g])==null?void 0:ie.min)&&u.jsx("div",{className:"text-red-500 text-sm",children:(we=o.customFields[g])==null?void 0:we.min.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})}),u.jsx("div",{className:"min-w-[200px] mt-2",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Max"}),u.jsx(Ln,{name:"max",tooltip:s.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,value:y.max?new Date(y.max):null,placeholder:s.max||"Max",minDate:c,maxDate:f,onChange:K=>p(g,K),onBlur:K=>d(g,"max",K.target.value,y.fieldType),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",showTime:y.fieldType!==Ee.DATE,timeOnly:Ee.TIME===y.fieldType,autoZIndex:!0,footerTemplate:E,showButtonBar:!0}),((ae=(Ce=o.customFields)==null?void 0:Ce[g])==null?void 0:ae.max)&&u.jsx("div",{className:"text-red-500 text-sm",children:(De=o.customFields[g])==null?void 0:De.max.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})})]}),y.fieldType===Ee.CUSTOM&&u.jsx(u.Fragment,{children:u.jsx("div",{className:"min-w-[200px] ",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Custom "}),u.jsx("input",{title:"Custom Expression",name:"custom",type:"text",placeholder:s.min||"Custom Expression",value:y.custom||"",onBlur:K=>d(g,"custom",K.target.value,y.fieldType),onChange:K=>p(g,K),style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded"}),((ye=(Ae=o.customFields)==null?void 0:Ae[g])==null?void 0:ye.custom)&&u.jsx("div",{className:"text-red-500 text-sm",children:(le=o.customFields[g])==null?void 0:le.custom.split(". ").map((K,je)=>u.jsx("small",{children:K},je))})]})})})]})})]},g)}),u.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:u.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[u.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:T,children:[u.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),u.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:N,children:"Save & Close"})]})})]})},zj=h.memo($j),zs=({children:e,...t})=>{const[r,n]=h.useState(!1);return h.useEffect(()=>{const a=requestAnimationFrame(()=>n(!0));return()=>{cancelAnimationFrame(a),n(!1)}},[]),r?u.jsx(Kf,{...t,children:e}):null},Hj=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:a}=e,[o,i]=h.useState(!1),[s,l]=h.useState(!1),[c,f]=h.useState({}),[d,p]=h.useState(r.data),[m,x]=h.useState(r.data.message),b=(y,g)=>{delete r.data.errors;const v={...d,[y]:g};p(v),a(r.id,v)},j=(y,g)=>{const v=Qo(y,g);f(C=>({...C,[y]:v}))},w=()=>{delete r.data.errors;const y={id:$r(),property:"",title:"",whatsAppQuestion:"",fieldType:""},g={...d,customFields:[...d.customFields,y]};p(g),a(r.id,g),i(!0)},I=y=>{delete r.data.errors;const g=d.customFields.filter((C,k)=>k!==y),v={...d,customFields:g};p(v),a(r.id,v)},T=y=>{const g={...y,customFields:y.customFields.map(v=>({...v}))};x(Math.random().toString()),p(g),a(r.id,g)},N=()=>i(!1),D=y=>{d.customFields.forEach(g=>{g.isCollapsed=!0}),d.customFields[y].isCollapsed=!1,i(!0)},E=y=>{const{source:g,destination:v}=y;if(!v)return;const C=Array.from(d.customFields),[k]=C.splice(g.index,1);C.splice(v.index,0,k);const O={...d,customFields:C};p(O),a(r.id,O)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Custom Form"}),u.jsxs("div",{className:"flex",children:[u.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(y=>!y),children:u.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:u.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),u.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&u.jsxs("div",{className:"space-y-2 py-2 px-2",children:[u.jsxs("div",{className:"mb-2",title:"Property Name",children:[u.jsx("input",{type:"text",placeholder:"Property Name",value:d.property,onChange:y=>b("property",y.target.value),onBlur:y=>j("property",y.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&u.jsx("small",{className:"text-red-500",children:c.property})]}),u.jsxs("div",{children:[u.jsx(kt,{maxLength:300,message:d.message,onChange:y=>b("message",y)},m),c.message&&u.jsx("small",{className:"text-red-500",children:c.message})]}),u.jsx(Bs,{onDragEnd:E,children:u.jsx(zs,{droppableId:"customForm",children:y=>{var g;return u.jsxs("div",{...y.droppableProps,ref:y.innerRef,className:"space-y-2",children:[(g=d.customFields)==null?void 0:g.map((v,C)=>u.jsx("div",{className:"nodrag relative subOption-wrapper",children:u.jsx($s,{draggableId:v.id,index:C,children:k=>u.jsx("div",{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,style:{...k.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:u.jsx(_j,{customField:v,index:C,onDelete:I,length:d.customFields.length,expandToEdit:D},C)})},v.id)},C)),y.placeholder]})}})}),u.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,id:t}),u.jsx(Ne,{type:"source",position:Q.Bottom,id:"source"}),u.jsx(fn,{header:"Header",visible:o,style:{width:"100vw"},onHide:()=>{o&&N()},children:u.jsx(zj,{save:T,optionsData:d,close:N})})]})},Vj=h.memo(Hj),Gj={borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",overflow:"hidden",backgroundColor:"#e0e0e0",color:"#555",fontSize:20},Uj=({alt:e,src:t,sx:r,children:n,...a})=>{var o;return u.jsx("div",{style:{...Gj,...r},...a,children:t?u.jsx("img",{src:t,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"},onError:i=>{var s;i.target.style.display="none",i.target.parentElement.textContent=(e==null?void 0:e[0])||((s=n==null?void 0:n.toString())==null?void 0:s[0])||""}}):(e==null?void 0:e[0])||((o=n==null?void 0:n.toString())==null?void 0:o[0])||""})},Wj=({avatar:e,label:t,icon:r,deleteIcon:n,onClick:a,onDelete:o,variant:i="filled",size:s="medium",sx:l,title:c,...f})=>{const d={display:"inline-flex",alignItems:"center",padding:s==="small"?"0 8px":"0 12px",fontSize:s==="small"?11:13,height:s==="small"?28:32,background:i==="outlined"?"transparent":"#e0e0e0",border:i==="outlined"?"1px solid #bdbdbd":"none",cursor:a?"pointer":"default",...l};return u.jsxs("div",{style:d,onClick:a,title:c,...f,children:[e&&u.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:e}),r&&u.jsx("span",{style:{marginRight:6,display:"flex",alignItems:"center"},children:r}),t&&u.jsx("span",{style:{marginRight:n?6:0},children:t}),n&&o&&u.jsx("span",{style:{marginLeft:6,display:"flex",alignItems:"center",cursor:"pointer"},onClick:p=>{p.stopPropagation(),o(p)},children:n})]})},Hc=e=>{switch(e){case"pdf":case"application/pdf":return"application/pdf";case"images":case"image":case"image/*":return"image/*";case"video":case"video/*":return"video/*";default:return"application/pdf"}},qj=({id:e,data:t})=>{var E,y,g,v;const{node:r,onDelete:n,handleChange:a}=t;r.data.fileType=Hc(r.data.fileType);const[o,i]=h.useState({}),[s,l]=h.useState(r.data.fileType),[c,f]=h.useState(!1),[d,p]=h.useState(((E=r.data.files)==null?void 0:E.length)>0?r.data.files:[]),m=(C,k)=>{let O="";C==="message"&&(k?k.length<3?O="Message must be at least 3 characters":k.length>500&&(O="Message must be at most 500 characters"):O="Message is required"),!O&&(C==="files"||C==="urls")&&r.data.files.length<=0&&r.data.urls.length<=0&&(O="Either Files or Image URLs are mandatory"),i(P=>({...P,[C]:O}))},x=(C,k)=>{delete r.data.errors;const O={...r.data,[C]:k};if(a(r.id,O),r.data=O,C==="fileType"){const P=Hc(k);l(P),r.data.files=[],p([])}},b=()=>{f(!0)},j=C=>{r.data.files=C},w=()=>{x("urls",[...r.data.urls,""])},I=C=>{const k=r.data.urls.filter((O,P)=>P!==C);x("urls",k)},T=(C,k)=>{const O=r.data.urls.map((P,S)=>S===C?k:P);x("urls",O)},N=C=>{window.open(C)},D=C=>{const k=d.filter(O=>O.url!==C.url);p(k),r.data.files=k};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"File Upload"}),u.jsx("button",{title:"Delete File Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),u.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx(kt,{message:r.data.message,onChange:C=>x("message",C),maxLength:500,minLength:2}),r.data.errors&&((y=Object.keys(r.data.errors))==null?void 0:y.length)>0&&r.data.errors.message&&u.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),u.jsxs("div",{className:"mb-2",title:"Select File Type",children:[u.jsxs("select",{value:r.data.fileType,onChange:C=>x("fileType",C.target.value),onBlur:C=>m("fileType",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Select File Type"}),u.jsx("option",{value:"application/pdf",children:"PDF"}),u.jsx("option",{value:"image/*",children:"Images"}),u.jsx("option",{value:"video/*",children:"Video"})]}),r.data.errors&&((g=Object.keys(r.data.errors))==null?void 0:g.length)>0&&r.data.errors.fileType&&u.jsx("small",{className:"text-red-500",children:r.data.errors.fileType})]}),d&&u.jsx("div",{className:"d-flex space-y-1",children:d.map((C,k)=>u.jsx(Wj,{title:C.name,avatar:u.jsx(Uj,{alt:C.name,src:C.url}),label:C.name,onClick:()=>N(C.url),onDelete:()=>D(C),deleteIcon:u.jsx(zp,{}),variant:"outlined"},k))}),u.jsx("div",{className:"mb-2",children:u.jsx("button",{title:"Click to Select/Add Files",disabled:!r.data.fileType||r.data.urls.length>0,type:"button",onClick:b,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:"Add Files"})}),u.jsxs("div",{className:"mb-1",title:"URLs",children:[r.data.urls.map((C,k)=>{var O;return u.jsxs("div",{className:"flex items-center mb-1",children:[u.jsx("input",{type:"text",placeholder:"URL",value:C,onChange:P=>T(k,P.target.value),onBlur:P=>m("urls",P.target.value),disabled:r.data.files.length>0,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),u.jsx("button",{type:"button",onClick:()=>I(k),className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-4 w-4 px-1 flex items-center justify-center text-sm font-extrabold ml-2",children:"×"}),r.data.errors&&((O=Object.keys(r.data.errors))==null?void 0:O.length)>0&&r.data.errors.fileOrUrl&&u.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]},k)}),u.jsxs("button",{title:"Click to add Image Url's",type:"button",onClick:w,disabled:d.length>0,className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),r.data.urls.length>0?"Add More":"Add Url"]}),o.urls&&!r.data.errors&&u.jsx("small",{className:"text-red-500",children:o.urls}),r.data.errors&&((v=Object.keys(r.data.errors))==null?void 0:v.length)>0&&r.data.errors.fileOrUrl&&u.jsx("small",{className:"text-red-500",children:r.data.errors.fileOrUrl})]})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"}),c&&console.log(d,p,c,f,s,j)]})},Xj=h.memo(qj),Yj=({data:e,id:t})=>{const{onDelete:r}=e;return u.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"GPT Handler"}),u.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete GPT Handler Node",onClick:()=>r(t),children:"×"})]}),u.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:u.jsx("p",{className:"nodrag",children:"From here on visitors would be handled by GPT"})}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"})]})},Kj=h.memo(Yj);function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(null,arguments)}function Jn(e){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}function Zj(e,t){if(Jn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jj(e){var t=Zj(e,"string");return Jn(t)=="symbol"?t:t+""}function Zf(e,t,r){return(t=Jj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qj(e){if(Array.isArray(e))return e}function eS(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tS(e,t){if(e){if(typeof e=="string")return Vc(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vc(e,t):void 0}}function rS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(e,t){return Qj(e)||eS(e,t)||tS(e,t)||rS()}var nS=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,ka=ea.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:nS}});function Gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gc(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Jf=h.memo(h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),a=ka.getProps(e,n),o=dp(e)||{},i=a.orientation==="vertical",s=a.orientation==="horizontal",l=a.orientation==="both",c=h.useState(l?{rows:0,cols:0}:0),f=or(c,2),d=f[0],p=f[1],m=h.useState(l?{rows:0,cols:0}:0),x=or(m,2),b=x[0],j=x[1],w=h.useState(0),I=or(w,2),T=I[0],N=I[1],D=h.useState(l?{rows:0,cols:0}:0),E=or(D,2),y=E[0],g=E[1],v=h.useState(a.numToleratedItems),C=or(v,2),k=C[0],O=C[1],P=h.useState(a.loading||!1),S=or(P,2),R=S[0],A=S[1],_=h.useState([]),L=or(_,2),M=L[0],F=L[1],H=ka.setMetaData({props:a,state:{first:d,last:b,page:T,numItemsInViewport:y,numToleratedItems:k,loading:R,loaderArr:M}}),z=H.ptm;Jc(ka.css.styles,{name:"virtualscroller"});var V=h.useRef(null),W=h.useRef(null),$=h.useRef(null),q=h.useRef(null),J=h.useRef(l?{top:0,left:0}:0),ne=h.useRef(null),de=h.useRef(null),X=h.useRef({}),ie=h.useRef({}),we=h.useRef(null),Ce=h.useRef(null),ae=h.useRef(null),De=h.useRef(null),Ae=h.useRef(!1),ye=h.useRef(null),le=h.useRef(!1),K=fp({listener:function(U){return Qt()},when:!a.disabled}),je=or(K,1),yt=je[0],bt=Dn({target:"window",type:"orientationchange",listener:function(U){return Qt()},when:!a.disabled}),it=or(bt,1),Ve=it[0],xt=function(){return V},Je=function(U){return Math.floor((U+k*4)/(a.step||1))},st=function(U){W.current=U||W.current||se.findSingle(V.current,".p-virtualscroller-content")},lt=function(U){return a.step?T!==Je(U):!0},ct=function(U){J.current=l?{top:0,left:0}:0,V.current&&V.current.scrollTo(U)},It=function(U){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",re=rt(),oe=re.numToleratedItems,pe=Pt(),fe=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,wt=arguments.length>1?arguments[1]:void 0;return et<=wt?0:et},he=function(et,wt,rr){return et*wt+rr},Pe=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ct({left:et,top:wt,behavior:te})},Ie=l?{rows:0,cols:0}:0,ze=!1;l?(Ie={rows:fe(U[0],oe[0]),cols:fe(U[1],oe[1])},Pe(he(Ie.cols,a.itemSize[1],pe.left),he(Ie.rows,a.itemSize[0],pe.top)),ze=d.rows!==Ie.rows||d.cols!==Ie.cols):(Ie=fe(U,oe),s?Pe(he(Ie,a.itemSize,pe.left),0):Pe(0,he(Ie,a.itemSize,pe.top)),ze=d!==Ie),Ae.current=ze,p(Ie)},_e=function(U,te){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(te){var oe=tt(),pe=oe.first,fe=oe.viewport,he=function(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ct({left:wt,top:rr,behavior:re})},Pe=te==="to-start",Ie=te==="to-end";if(Pe){if(l)fe.first.rows-pe.rows>U[0]?he(fe.first.cols*a.itemSize[1],(fe.first.rows-1)*a.itemSize[0]):fe.first.cols-pe.cols>U[1]&&he((fe.first.cols-1)*a.itemSize[1],fe.first.rows*a.itemSize[0]);else if(fe.first-pe>U){var ze=(fe.first-1)*a.itemSize;s?he(ze,0):he(0,ze)}}else if(Ie){if(l)fe.last.rows-pe.rows<=U[0]+1?he(fe.first.cols*a.itemSize[1],(fe.first.rows+1)*a.itemSize[0]):fe.last.cols-pe.cols<=U[1]+1&&he((fe.first.cols+1)*a.itemSize[1],fe.first.rows*a.itemSize[0]);else if(fe.last-pe<=U+1){var Ue=(fe.first+1)*a.itemSize;s?he(Ue,0):he(0,Ue)}}}else It(U,re)},Ge=function(){return R?a.loaderDisabled?M:[]:tr()},ut=function(){return a.columns&&l||s?R&&a.loaderDisabled?l?M[0]:M:a.columns.slice(l?d.cols:d,l?b.cols:b):a.columns},tt=function(){var U=function(Ie,ze){return Math.floor(Ie/(ze||Ie))},te=d,re=0;if(V.current){var oe=V.current,pe=oe.scrollTop,fe=oe.scrollLeft;if(l)te={rows:U(pe,a.itemSize[0]),cols:U(fe,a.itemSize[1])},re={rows:te.rows+y.rows,cols:te.cols+y.cols};else{var he=s?fe:pe;te=U(he,a.itemSize),re=te+y}}return{first:d,last:b,viewport:{first:te,last:re}}},rt=function(){var U=Pt(),te=V.current?V.current.offsetWidth-U.left:0,re=V.current?V.current.offsetHeight-U.top:0,oe=function(Ie,ze){return Math.ceil(Ie/(ze||Ie))},pe=function(Ie){return Math.ceil(Ie/2)},fe=l?{rows:oe(re,a.itemSize[0]),cols:oe(te,a.itemSize[1])}:oe(s?te:re,a.itemSize),he=k||(l?[pe(fe.rows),pe(fe.cols)]:pe(fe));return{numItemsInViewport:fe,numToleratedItems:he}},nt=function(){var U=rt(),te=U.numItemsInViewport,re=U.numToleratedItems,oe=function(he,Pe,Ie){var ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Tt(he+Pe+(he<Ie?2:3)*Ie,ze)},pe=l?{rows:oe(d.rows,te.rows,re[0]),cols:oe(d.cols,te.cols,re[1],!0)}:oe(d,te,re);g(te),O(re),j(pe),a.showLoader&&F(l?Array.from({length:te.rows}).map(function(){return Array.from({length:te.cols})}):Array.from({length:te})),a.lazy&&Promise.resolve().then(function(){ye.current={first:a.step?l?{rows:0,cols:d.cols}:0:d,last:Math.min(a.step?a.step:pe,(a.items||[]).length)},a.onLazyLoad&&a.onLazyLoad(ye.current)})},Qe=function(U){a.autoSize&&!U&&Promise.resolve().then(function(){if(W.current){W.current.style.minHeight=W.current.style.minWidth="auto",W.current.style.position="relative",V.current.style.contain="none";var te=[se.getWidth(V.current),se.getHeight(V.current)],re=te[0],oe=te[1];(l||s)&&(V.current.style.width=(re<we.current?re:a.scrollWidth||we.current)+"px"),(l||i)&&(V.current.style.height=(oe<Ce.current?oe:a.scrollHeight||Ce.current)+"px"),W.current.style.minHeight=W.current.style.minWidth="",W.current.style.position="",V.current.style.contain=""}})},Tt=function(){var U,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,re=arguments.length>1?arguments[1]:void 0;return a.items?Math.min(re?((U=a.columns||a.items[0])===null||U===void 0?void 0:U.length)||0:(a.items||[]).length,te):0},Pt=function(){if(W.current){var U=getComputedStyle(W.current),te=parseFloat(U.paddingLeft)+Math.max(parseFloat(U.left)||0,0),re=parseFloat(U.paddingRight)+Math.max(parseFloat(U.right)||0,0),oe=parseFloat(U.paddingTop)+Math.max(parseFloat(U.top)||0,0),pe=parseFloat(U.paddingBottom)+Math.max(parseFloat(U.bottom)||0,0);return{left:te,right:re,top:oe,bottom:pe,x:te+re,y:oe+pe}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},Bt=function(){if(V.current){var U=V.current.parentElement,te=a.scrollWidth||"".concat(V.current.offsetWidth||U.offsetWidth,"px"),re=a.scrollHeight||"".concat(V.current.offsetHeight||U.offsetHeight,"px"),oe=function(fe,he){return V.current.style[fe]=he};l||s?(oe("height",re),oe("width",te)):oe("height",re)}},Zt=function(){var U=a.items;if(U){var te=Pt(),re=function(pe,fe,he){var Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return ie.current=Yr(Yr({},ie.current),Zf({},"".concat(pe),(fe||[]).length*he+Pe+"px"))};l?(re("height",U,a.itemSize[0],te.y),re("width",a.columns||U[1],a.itemSize[1],te.x)):s?re("width",a.columns||U,a.itemSize,te.x):re("height",U,a.itemSize,te.y)}},Jt=function(U){if(W.current&&!a.appendOnly){var te=U?U.first:d,re=function(he,Pe){return he*Pe},oe=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;q.current&&(q.current.style.top="-".concat(Pe,"px")),X.current=Yr(Yr({},X.current),{transform:"translate3d(".concat(he,"px, ").concat(Pe,"px, 0)")})};if(l)oe(re(te.cols,a.itemSize[1]),re(te.rows,a.itemSize[0]));else{var pe=re(te,a.itemSize);s?oe(pe,0):oe(0,pe)}}},dt=function(U){var te=U.target,re=Pt(),oe=function(Ke,_t){return Ke?Ke>_t?Ke-_t:Ke:0},pe=function(Ke,_t){return Math.floor(Ke/(_t||Ke))},fe=function(Ke,_t,vn,sa,nr,Nr){return Ke<=nr?nr:Nr?vn-sa-nr:_t+nr-1},he=function(Ke,_t,vn,sa,nr,Nr,yn){return Ke<=Nr?0:Math.max(0,yn?Ke<_t?vn:Ke-Nr:Ke>_t?vn:Ke-2*Nr)},Pe=function(Ke,_t,vn,sa,nr,Nr){var yn=_t+sa+2*nr;return Ke>=nr&&(yn=yn+(nr+1)),Tt(yn,Nr)},Ie=oe(te.scrollTop,re.top),ze=oe(te.scrollLeft,re.left),Ue=l?{rows:0,cols:0}:0,et=b,wt=!1,rr=J.current;if(l){var Er=J.current.top<=Ie,vo=J.current.left<=ze;if(!a.appendOnly||a.appendOnly&&(Er||vo)){var zr={rows:pe(Ie,a.itemSize[0]),cols:pe(ze,a.itemSize[1])},Hs={rows:fe(zr.rows,d.rows,b.rows,y.rows,k[0],Er),cols:fe(zr.cols,d.cols,b.cols,y.cols,k[1],vo)};Ue={rows:he(zr.rows,Hs.rows,d.rows,b.rows,y.rows,k[0],Er),cols:he(zr.cols,Hs.cols,d.cols,b.cols,y.cols,k[1],vo)},et={rows:Pe(zr.rows,Ue.rows,b.rows,y.rows,k[0]),cols:Pe(zr.cols,Ue.cols,b.cols,y.cols,k[1],!0)},wt=Ue.rows!==d.rows||et.rows!==b.rows||Ue.cols!==d.cols||et.cols!==b.cols||Ae.current,rr={top:Ie,left:ze}}}else{var yo=s?ze:Ie,bo=J.current<=yo;if(!a.appendOnly||a.appendOnly&&bo){var xo=pe(yo,a.itemSize),ap=fe(xo,d,b,y,k,bo);Ue=he(xo,ap,d,b,y,k,bo),et=Pe(xo,Ue,b,y,k),wt=Ue!==d||et!==b||Ae.current,rr=yo}}return{first:Ue,last:et,isRangeChanged:wt,scrollPos:rr}},Ut=function(U){var te=dt(U),re=te.first,oe=te.last,pe=te.isRangeChanged,fe=te.scrollPos;if(pe){var he={first:re,last:oe};if(Jt(he),p(re),j(oe),J.current=fe,a.onScrollIndexChange&&a.onScrollIndexChange(he),a.lazy&&lt(re)){var Pe={first:a.step?Math.min(Je(re)*a.step,(a.items||[]).length-a.step):re,last:Math.min(a.step?(Je(re)+1)*a.step:oe,(a.items||[]).length)},Ie=!ye.current||ye.current.first!==Pe.first||ye.current.last!==Pe.last;Ie&&a.onLazyLoad&&a.onLazyLoad(Pe),ye.current=Pe}}},Sr=function(U){if(a.onScroll&&a.onScroll(U),a.delay){if(ne.current&&clearTimeout(ne.current),lt(d)){if(!R&&a.showLoader){var te=dt(U),re=te.isRangeChanged,oe=re||(a.step?lt(d):!1);oe&&A(!0)}ne.current=setTimeout(function(){Ut(U),R&&a.showLoader&&(!a.lazy||a.loading===void 0)&&(A(!1),N(Je(d)))},a.delay)}}else Ut(U)},Qt=function(){de.current&&clearTimeout(de.current),de.current=setTimeout(function(){if(V.current){var U=[se.getWidth(V.current),se.getHeight(V.current)],te=U[0],re=U[1],oe=te!==we.current,pe=re!==Ce.current,fe=l?oe||pe:s?oe:i?pe:!1;fe&&(O(a.numToleratedItems),we.current=te,Ce.current=re,ae.current=se.getWidth(W.current),De.current=se.getHeight(W.current))}},a.resizeDelay)},er=function(U){var te=(a.items||[]).length,re=l?d.rows+U:d+U;return{index:re,count:te,first:re===0,last:re===te-1,even:re%2===0,odd:re%2!==0,props:a}},cr=function(U,te){var re=M.length||0;return Yr({index:U,count:re,first:U===0,last:U===re-1,even:U%2===0,odd:U%2!==0,props:a},te)},tr=function(){var U=a.items;return U&&!R?l?U.slice(a.appendOnly?0:d.rows,b.rows).map(function(te){return a.columns?te:te.slice(a.appendOnly?0:d.cols,b.cols)}):s&&a.columns?U:U.slice(a.appendOnly?0:d,b):[]},kr=function(){V.current&&ge()&&(st(W.current),Wt(),yt(),Ve(),we.current=se.getWidth(V.current),Ce.current=se.getHeight(V.current),ae.current=se.getWidth(W.current),De.current=se.getHeight(W.current))},Wt=function(){!a.disabled&&ge()&&(Bt(),nt(),Zt())},ge=function(){if(se.isVisible(V.current)){var U=V.current.getBoundingClientRect();return U.width>0&&U.height>0}return!1};h.useEffect(function(){!le.current&&ge()&&(kr(),le.current=!0)}),Rt(function(){Wt()},[a.itemSize,a.scrollHeight,a.scrollWidth]),Rt(function(){a.numToleratedItems!==k&&O(a.numToleratedItems)},[a.numToleratedItems]),Rt(function(){a.numToleratedItems===k&&Wt()},[k]),Rt(function(){var ue=o.items!==void 0&&o.items!==null,U=a.items!==void 0&&a.items!==null,te=ue?o.items.length:0,re=U?a.items.length:0,oe=te!==re;if(l&&!oe){var pe=ue&&o.items.length>0?o.items[0].length:0,fe=U&&a.items.length>0?a.items[0].length:0;oe=pe!==fe}(!ue||oe)&&Wt();var he=R;a.lazy&&o.loading!==a.loading&&a.loading!==R&&(A(a.loading),he=a.loading),Qe(he)}),Rt(function(){J.current=l?{top:0,left:0}:0},[a.orientation]),h.useImperativeHandle(t,function(){return{props:a,getElementRef:xt,scrollTo:ct,scrollToIndex:It,scrollInView:_e,getRenderedRange:tt}});var G=function(U){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=cr(U,te),oe=xe.getJSXElement(a.loadingTemplate,re);return h.createElement(h.Fragment,{key:U},oe)},Z=function(){var U="p-virtualscroller-loading-icon",te=r({className:U},z("loadingIcon")),re=a.loadingIcon||h.createElement(eu,Mi({},te,{spin:!0})),oe=Ar.getJSXIcon(re,Yr({},te),{props:a});if(!a.loaderDisabled&&a.showLoader&&R){var pe=Be("p-virtualscroller-loader",{"p-component-overlay":!a.loadingTemplate}),fe=oe;if(a.loadingTemplate)fe=M.map(function(Ie,ze){return G(ze,l&&{numCols:y.cols})});else if(a.loaderIconTemplate){var he={iconClassName:U,element:fe,props:a};fe=xe.getJSXElement(a.loaderIconTemplate,he)}var Pe=r({className:pe},z("loader"));return h.createElement("div",Pe,fe)}return null},ke=function(){if(a.showSpacer){var U=r({ref:$,style:ie.current,className:"p-virtualscroller-spacer"},z("spacer"));return h.createElement("div",U)}return null},Le=function(U,te){var re=er(te),oe=xe.getJSXElement(a.itemTemplate,U,re);return h.createElement(h.Fragment,{key:re.index},oe)},Ye=function(){var U=tr();return U.map(Le)},ce=function(){var U=Ye(),te=Be("p-virtualscroller-content",{"p-virtualscroller-loading":R}),re=r({ref:W,style:X.current,className:te},z("content")),oe=h.createElement("div",re,U);if(a.contentTemplate){var pe={style:X.current,className:te,spacerStyle:ie.current,contentRef:function(he){return W.current=xe.getRefElement(he)},spacerRef:function(he){return $.current=xe.getRefElement(he)},stickyRef:function(he){return q.current=xe.getRefElement(he)},items:tr(),getItemOptions:function(he){return er(he)},children:U,element:oe,props:a,loading:R,getLoaderOptions:function(he,Pe){return cr(he,Pe)},loadingTemplate:a.loadingTemplate,itemSize:a.itemSize,rows:Ge(),columns:ut(),vertical:i,horizontal:s,both:l};return xe.getJSXElement(a.contentTemplate,pe)}return oe};if(a.disabled){var Y=xe.getJSXElement(a.contentTemplate,{items:a.items,rows:a.items,columns:a.columns});return h.createElement(h.Fragment,null,a.children,Y)}var be=Be("p-virtualscroller",{"p-virtualscroller-inline":a.inline,"p-virtualscroller-both p-both-scroll":l,"p-virtualscroller-horizontal p-horizontal-scroll":s},a.className),Oe=Z(),Re=ce(),ft=ke(),pt=r({ref:V,className:be,tabIndex:a.tabIndex,style:a.style,onScroll:function(U){return Sr(U)}},ka.getOtherProps(a),z("root"));return h.createElement("div",pt,Re,ft,Oe)}));Jf.displayName="VirtualScroller";function Qn(e){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(e)}function aS(e,t){if(Qn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oS(e){var t=aS(e,"string");return Qn(t)=="symbol"?t:t+""}function Qf(e,t,r){return(t=oS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mt.apply(null,arguments)}function Ai(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iS(e){if(Array.isArray(e))return Ai(e)}function sS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ep(e,t){if(e){if(typeof e=="string")return Ai(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ai(e,t):void 0}}function lS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(e){return iS(e)||sS(e)||ep(e)||lS()}function cS(e){if(Array.isArray(e))return e}function uS(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function dS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(e,t){return cS(e)||uS(e,t)||ep(e,t)||dS()}var fS={root:function(t){var r=t.props,n=t.focusedState;return Be("p-autocomplete p-component p-inputwrapper",{"p-autocomplete-dd":r.dropdown,"p-autocomplete-multiple":r.multiple,"p-inputwrapper-filled":r.value,"p-invalid":r.invalid,"p-inputwrapper-focus":n})},container:function(t){var r=t.props,n=t.context;return Be("p-autocomplete-multiple-container p-component p-inputtext",{"p-disabled":r.disabled,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},loadingIcon:"p-autocomplete-loader",dropdownButton:"p-autocomplete-dropdown",removeTokenIcon:"p-autocomplete-token-icon",token:"p-autocomplete-token p-highlight",tokenLabel:"p-autocomplete-token-label",inputToken:"p-autocomplete-input-token",input:function(t){var r=t.props,n=t.context;return Be("p-autocomplete-input",{"p-autocomplete-dd-input":r.dropdown,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},panel:function(t){var r=t.context;return Be("p-autocomplete-panel p-component",{"p-ripple-disabled":r&&r.ripple===!1||St.ripple===!1})},listWrapper:"p-autocomplete-items-wrapper",list:function(t){var r=t.virtualScrollerOptions,n=t.options;return r?Be("p-autocomplete-items",n.className):"p-autocomplete-items"},emptyMessage:"p-autocomplete-item",item:function(t){var r=t.suggestion,n=t.optionGroupLabel,a=t.selected;return n?Be("p-autocomplete-item",{"p-disabled":r.disabled},{selected:a}):Be("p-autocomplete-item",{"p-disabled":r.disabled},{"p-highlight":a})},itemGroup:"p-autocomplete-item-group",footer:"p-autocomplete-footer",transition:"p-connected-overlay"},pS=`
@layer primereact {
    .p-autocomplete {
        display: inline-flex;
        position: relative;
    }
    
    .p-autocomplete-loader {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-autocomplete-dd .p-autocomplete-input {
        flex: 1 1 auto;
        width: 1%;
    }
    
    .p-autocomplete-dd .p-autocomplete-input,
    .p-autocomplete-dd .p-autocomplete-multiple-container {
         border-top-right-radius: 0;
         border-bottom-right-radius: 0;
     }
    
    .p-autocomplete-dd .p-autocomplete-dropdown {
         border-top-left-radius: 0;
         border-bottom-left-radius: 0px;
    }
    
    .p-autocomplete .p-autocomplete-panel {
        min-width: 100%;
    }
    
    .p-autocomplete-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-autocomplete-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-autocomplete-item {
        cursor: pointer;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-autocomplete-multiple-container {
        margin: 0;
        padding: 0;
        list-style-type: none;
        cursor: text;
        overflow: hidden;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
    
    .p-autocomplete-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-autocomplete-token-icon {
        cursor: pointer;
    }
    
    .p-autocomplete-input-token {
        flex: 1 1 auto;
        display: inline-flex;
    }
    
    .p-autocomplete-input-token input {
        border: 0 none;
        outline: 0 none;
        background-color: transparent;
        margin: 0;
        padding: 0;
        box-shadow: none;
        border-radius: 0;
        width: 100%;
    }
    
    .p-fluid .p-autocomplete {
        display: flex;
    }
    
    .p-fluid .p-autocomplete-dd .p-autocomplete-input {
        width: 1%;
    }
    
    .p-autocomplete-items-wrapper {
        overflow: auto;
    } 
}
`,Ea=ea.extend({defaultProps:{__TYPE:"AutoComplete",id:null,appendTo:null,autoFocus:!1,autoHighlight:!1,className:null,completeMethod:null,delay:300,disabled:!1,dropdown:!1,dropdownAriaLabel:null,dropdownAutoFocus:!0,dropdownIcon:null,dropdownMode:"blank",emptyMessage:null,field:null,forceSelection:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,variant:null,invalid:!1,itemTemplate:null,loadingIcon:null,maxLength:null,minLength:1,multiple:!1,name:null,onBlur:null,onChange:null,onClear:null,onClick:null,onContextMenu:null,onDblClick:null,onDropdownClick:null,onFocus:null,onHide:null,onKeyPress:null,onKeyUp:null,onMouseDown:null,onSelect:null,onShow:null,onUnselect:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,readOnly:!1,removeTokenIcon:null,scrollHeight:"200px",selectedItemTemplate:null,selectionLimit:null,showEmptyMessage:!1,size:null,style:null,suggestions:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,type:"text",value:null,virtualScrollerOptions:null,children:void 0},css:{classes:fS,styles:pS}});function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uc(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rp=h.memo(h.forwardRef(function(e,t){var r=un(),n=e.ptm,a=e.cx,o=h.useContext(dn),i=function(g,v){return n(g,fr({hostName:e.hostName},v))},s=function(g,v){return i(v,{context:{selected:e.selectedItem.current===g,disabled:g.disabled}})},l=function(g){return xe.resolveFieldData(g,e.optionGroupLabel)},c=function(g){return xe.resolveFieldData(g,e.field)},f=function(){if(e.panelFooterTemplate){var g=xe.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),v=r({className:a("footer")},i("footer"));return h.createElement("div",v,g)}return null},d=function(g,v,C){return g.findIndex(function(k){return k[v]===C})},p=h.useRef({key:null,index:0,keyIndex:0}),m=function(g,v,C,k){var O=e.optionGroupTemplate?xe.getJSXElement(e.optionGroupTemplate,g,C):e.getOptionGroupLabel(g)||g,P=r(fr({index:C,className:a("itemGroup"),"data-p-highlight":!1},k),i("itemGroup"));return h.createElement("li",Mt({},P,{key:v||null}),O)},x=function(g){return e.selectedItem&&e.selectedItem.current&&Array.isArray(e.selectedItem.current)?e.selectedItem.current.some(function(v){return xe.deepEquals(v,g)}):xe.deepEquals(e.selectedItem.current,g)},b=function(g,v,C,k){var O=x(g),P=e.itemTemplate?xe.getJSXElement(e.itemTemplate,g,C):e.field?xe.resolveFieldData(g,e.field):g,S=r(fr({index:C,role:"option",className:a("item",{optionGroupLabel:e.optionGroupLabel,suggestion:g,selected:O}),onClick:function(A){return e.onItemClick(A,g)},"aria-selected":O},k),s(g,"item"));return h.createElement("li",Mt({key:v},S),P,h.createElement(Oa,null))},j=function(g,v){var C=e.getOptionGroupChildren(g);return C.map(function(k,O){var P=v+"_"+O,S=r({"data-group":v,"data-index":O,"data-p-disabled":k.disabled});return b(k,P,O,S)})},w=function(g,v){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k={height:C.props?C.props.itemSize:void 0};if(e.optionGroupLabel){if(e.virtualScrollerOptions){var O=d(e.suggestions,e.optionGroupLabel,g);if(O!==-1){p.current={key:g,index:v,keyIndex:O};var P=v+"_"+l(g);return m(g,P,v,{style:k})}var S=v+"_"+p.current.keyIndex,R=r({style:k,"data-group":p.current.keyIndex,"data-index":v-p.current.index-1,"data-p-disabled":g.disabled});return b(g,S,v,R)}var A=j(g,v),_=v+"_"+l(g);return h.createElement(h.Fragment,{key:_},m(g,void 0,v,{style:k}),A)}var L="".concat(v,"_").concat(xe.isObject(g)?c(g):g),M=r({style:k,"data-p-disabled":g.disabled},s(g,"item"));return b(g,L,v,M)},I=function(){return e.suggestions?e.suggestions.map(w):null},T=function(g){try{return g==null?void 0:g.map(function(v){return[v==null?void 0:v[e==null?void 0:e.optionGroupLabel]].concat(tp(v==null?void 0:v[e==null?void 0:e.optionGroupChildren]))}).flat()}catch{}},N=function(){if(e.showEmptyMessage&&xe.isEmpty(e.suggestions)){var g=e.emptyMessage||Jo("emptyMessage"),v=r({className:a("emptyMessage")},i("emptyMessage")),C=r({className:a("list")},i("list"));return h.createElement("ul",C,h.createElement("li",v,g))}if(e.virtualScrollerOptions){var k=e.suggestions?e.optionGroupLabel?T(e==null?void 0:e.suggestions):e.suggestions:null,O=fr(fr({},e.virtualScrollerOptions),{style:fr(fr({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),autoSize:!0,items:k,itemTemplate:function(_,L){return _&&w(_,L.index,L)},contentTemplate:function(_){var L=r({id:e.listId,ref:_.contentRef,style:_.style,className:a("list",{virtualScrollerProps:O,options:_}),role:"listbox"},i("list"));return h.createElement("ul",L,_.children)}});return h.createElement(Jf,Mt({ref:e.virtualScrollerRef},O,{pt:i("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var P=I(),S=r({id:e.listId,className:a("list"),role:"listbox"},i("list")),R=r({className:a("listWrapper"),style:{maxHeight:e.scrollHeight||"auto"}},i("listWrapper"));return h.createElement("div",R,h.createElement("ul",S,P))},D=function(){var g=fr({},e.panelStyle||{}),v=N(),C=f(),k=r({className:Be(e.panelClassName,a("panel",{context:o})),style:g,onClick:function(S){return e.onClick(S)},"data-pr-is-overlay":!0},i("panel")),O=r({classNames:a("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},i("transition"));return h.createElement($i,Mt({nodeRef:t},O),h.createElement("div",Mt({ref:t},k),v,C))},E=D();return h.createElement(zi,{element:E,appendTo:e.appendTo})}));rp.displayName="AutoCompletePanel";function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wc(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var np=h.memo(h.forwardRef(function(e,t){var r=un(),n=h.useContext(dn),a=Ea.getProps(e,n),o=h.useState(a.id),i=Nn(o,2),s=i[0],l=i[1],c=h.useState(!1),f=Nn(c,2),d=f[0],p=f[1],m=h.useState(!1),x=Nn(m,2),b=x[0],j=x[1],w=h.useState(!1),I=Nn(w,2),T=I[0],N=I[1],D={props:a,state:{id:s,searching:d,focused:b,overlayVisible:T}},E=Ea.setMetaData(D),y=E.ptm,g=E.cx,v=E.sx,C=E.isUnstyled;Fi(Ea.css.styles,C,{name:"autocomplete"});var k=h.useRef(null),O=h.useRef(null),P=h.useRef(a.inputRef),S=h.useRef(null),R=h.useRef(null),A=h.useRef(null),_=h.useRef(null),L=pp({target:k,overlay:O,listener:function(G,Z){var ke=Z.type,Le=Z.valid;Le&&(ke==="outside"?z(G)||X():n.hideOverlaysOnDocumentScrolling?X():se.isDocument(G.target)||ye())},when:T}),M=Nn(L,2),F=M[0],H=M[1],z=function(G){return a.multiple?G.target===S.current||S.current.contains(G.target):G.target===P.current},V=function(G){A.current&&clearTimeout(A.current);var Z=G.target.value;a.multiple||q(G,Z),xe.isEmpty(Z)?(X(),a.onClear&&a.onClear(G)):Z.length>=a.minLength?A.current=setTimeout(function(){W(G,Z,"input")},a.delay):X()},W=function(G,Z,ke){Z!=null&&(ke==="input"&&Z.trim().length===0||a.completeMethod&&(p(!0),a.completeMethod({originalEvent:G,query:Z})))},$=function(G,Z,ke){if(a.multiple){if(P.current.value="",!_e(Z)&&rt()){var Le=a.value?[].concat(tp(a.value),[Z]):[Z];q(G,Le)}}else ne(Z),q(G,Z);a.onSelect&&a.onSelect({originalEvent:G,value:Z}),ke||(se.focus(P.current),X())},q=function(G,Z){a.onChange&&a.onChange({originalEvent:G,value:Z,stopPropagation:function(){G.stopPropagation()},preventDefault:function(){G.preventDefault()},target:{name:a.name,id:s,value:Z}}),_.current=xe.isNotEmpty(Z)?Z:null},J=function(G){if(xe.isEmpty(G))return"";if(typeof G=="string")return G;if(a.selectedItemTemplate){var Z=xe.getJSXElement(a.selectedItemTemplate,G);return a.multiple||typeof Z=="string"?Z:G}if(a.field){var ke;return(ke=xe.resolveFieldData(G,a.field))!==null&&ke!==void 0?ke:G}return G},ne=function(G){P.current.value=J(G)},de=function(){N(!0)},X=function(){N(!1),p(!1)},ie=function(){Xt.set("overlay",O.current,n&&n.autoZIndex||St.autoZIndex,n&&n.zIndex.overlay||St.zIndex.overlay),se.addStyles(O.current,{position:"absolute",top:"0",left:"0"}),ye()},we=function(){a.autoHighlight&&a.suggestions&&a.suggestions.length&&Ce()},Ce=function(){var G,Z=(G=Ge())===null||G===void 0||(G=G.firstChild)===null||G===void 0?void 0:G.firstChild;Z&&(!C()&&se.addClass(Z,"p-highlight"),Z.setAttribute("data-p-highlight",!0))},ae=function(){F(),a.onShow&&a.onShow()},De=function(){H()},Ae=function(){Xt.clear(O.current),a.onHide&&a.onHide()},ye=function(){var G=a.multiple?S.current:P.current;se.alignOverlay(O.current,G,a.appendTo||n&&n.appendTo||St.appendTo)},le=function(G){yp.emit("overlay-click",{originalEvent:G,target:k.current})},K=function(G){a.dropdownAutoFocus&&se.focus(P.current,a.dropdownAutoFocus),a.dropdownMode==="blank"?W(G,"","dropdown"):a.dropdownMode==="current"&&W(G,P.current.value,"dropdown"),a.onDropdownClick&&a.onDropdownClick({originalEvent:G,query:P.current.value})},je=function(G,Z){if(!(a.disabled||a.readOnly)){var ke=a.value[Z],Le=a.value.filter(function(Ye,ce){return Z!==ce});q(G,Le),a.onUnselect&&a.onUnselect({originalEvent:G,value:ke})}},yt=function(G){if(T){var Z=se.findSingle(O.current,'li[data-p-highlight="true"]');switch(G.which){case 40:if(Z){var ke=it(Z);ke&&(!C()&&se.addClass(ke,"p-highlight"),ke.setAttribute("data-p-highlight",!0),!C()&&se.removeClass(Z,"p-highlight"),Z.setAttribute("data-p-highlight",!1),se.scrollInView(Ge(),ke))}else Z=se.findSingle(O.current,"li"),se.getAttribute(Z,"data-pc-section")==="itemgroup"&&(Z=it(Z)),Z&&(!C()&&se.addClass(Z,"p-highlight"),Z.setAttribute("data-p-highlight",!0));G.preventDefault();break;case 38:if(Z){var Le=Ve(Z);Le&&(!C()&&se.addClass(Le,"p-highlight"),Le.setAttribute("data-p-highlight",!0),!C()&&se.removeClass(Z,"p-highlight"),Z.setAttribute("data-p-highlight",!1),se.scrollInView(Ge(),Le))}G.preventDefault();break;case 13:Z&&(bt(G,Z),X(),G.preventDefault());break;case 27:X(),G.preventDefault();break;case 9:Z&&bt(G,Z),X();break}}if(a.multiple)switch(G.which){case 8:if(a.value&&a.value.length&&!P.current.value){var Ye=a.value[a.value.length-1],ce=a.value.slice(0,-1);q(G,ce),a.onUnselect&&a.onUnselect({originalEvent:G,value:Ye})}break}},bt=function(G,Z){if(a.optionGroupLabel){var ke=a.suggestions[Z.dataset.group];$(G,tt(ke)[Z.dataset.index])}else $(G,a.suggestions[Z.getAttribute("index")])},it=function(G){var Z=G.nextElementSibling;return Z?se.getAttribute(Z,"data-pc-section")==="itemgroup"?it(Z):Z:null},Ve=function(G){var Z=G.previousElementSibling;return Z?se.getAttribute(Z,"data-pc-section")==="itemgroup"?Ve(Z):Z:null},xt=function(G){j(!0),a.onFocus&&a.onFocus(G)},Je=function(G){if(a.multiple){P.current.value="";return}var Z=xe.trim(G.target.value).toLowerCase(),ke=(a.suggestions||[]).flatMap(function(Ye){return Ye.items?Ye.items:[Ye]}),Le=ke.find(function(Ye){var ce=a.field?xe.resolveFieldData(Ye,a.field):Ye,Y=ce?xe.trim(ce).toLowerCase():"";return Y&&Z===Y});Le?$(G,Le,!0):(P.current.value="",q(G,null),a.onClear&&a.onClear(G))},st=function(G){j(!1),a.forceSelection&&Je(G),a.onBlur&&a.onBlur(G)},lt=function(G){se.focus(P.current),a.onClick&&a.onClick(G)},ct=function(G){xt(G),!C()&&se.addClass(S.current,"p-focus"),S.current.setAttribute("data-p-focus",!0)},It=function(G){st(G),!C()&&se.removeClass(S.current,"p-focus"),S.current.setAttribute("data-p-focus",!1)},_e=function(G){return a.value?a.value.some(function(Z){return xe.equals(Z,G)}):!1},Ge=function(){var G;return O==null||(G=O.current)===null||G===void 0?void 0:G.firstChild},ut=function(G){return a.optionGroupLabel?xe.resolveFieldData(G,a.optionGroupLabel):G},tt=function(G){return xe.resolveFieldData(G,a.optionGroupChildren)},rt=function(){return!a.value||!a.selectionLimit||a.value.length<a.selectionLimit};h.useEffect(function(){xe.combinedRefs(P,a.inputRef)},[P,a.inputRef]),h.useEffect(function(){xe.isNotEmpty(a.value)&&(_.current=a.value)},[a.value]),Bi(function(){s||l(Zc()),a.autoFocus&&se.focus(P.current,a.autoFocus),ye()}),Rt(function(){d&&a.autoHighlight&&a.suggestions&&a.suggestions.length&&Ce()},[d]),Rt(function(){d&&(xe.isNotEmpty(a.suggestions)||a.showEmptyMessage?de():X(),p(!1))},[a.suggestions]),Rt(function(){P.current&&!a.multiple&&ne(a.value),T&&ye()}),_i(function(){A.current&&clearTimeout(A.current),Xt.clear(O.current)}),h.useImperativeHandle(t,function(){return{props:a,search:W,show:de,hide:X,focus:function(){return se.focus(P.current)},getElement:function(){return k.current},getOverlay:function(){return O.current},getInput:function(){return P.current},getVirtualScroller:function(){return R.current}}});var nt=function(){var G=J(a.value),Z=T?s+"_list":null;return h.createElement(vp,Mt({ref:P,id:a.inputId,type:a.type,name:a.name,defaultValue:G,role:"combobox","aria-autocomplete":"list","aria-controls":Z,"aria-haspopup":"listbox","aria-expanded":T,className:Be(a.inputClassName,g("input",{context:n})),style:a.inputStyle,autoComplete:"off",readOnly:a.readOnly,required:a.required,disabled:a.disabled,placeholder:a.placeholder,size:a.size,maxLength:a.maxLength,tabIndex:a.tabIndex,onBlur:st,onFocus:xt,onChange:V,onMouseDown:a.onMouseDown,onKeyUp:a.onKeyUp,onKeyDown:yt,onKeyPress:a.onKeyPress,onContextMenu:a.onContextMenu,onClick:a.onClick,onDoubleClick:a.onDblClick,pt:y("input"),unstyled:a.unstyled},er,{__parentMetadata:{parent:D}}))},Qe=function(G,Z){switch(G.code){case"Space":case"NumpadEnter":case"Enter":je(G,Z),G.preventDefault(),G.stopPropagation();break}},Tt=function(){return xe.isNotEmpty(a.value)?a.value.map(function(G,Z){var ke=Z+"multi-item",Le=r({className:g("removeTokenIcon"),onClick:function(Re){return je(Re,Z)},tabIndex:a.tabIndex||"0","aria-label":Jo("clear"),onKeyDown:function(Re){return Qe(Re,Z)}},y("removeTokenIcon")),Ye=a.removeTokenIcon||h.createElement(qi,Le),ce=!a.disabled&&Ar.getJSXIcon(Ye,Zo({},Le),{props:a}),Y=r({className:g("token")},y("token")),be=r({className:g("tokenLabel")},y("tokenLabel"));return h.createElement("li",Mt({key:ke},Y),h.createElement("span",be,J(G)),ce)}):(_.current=null,null)},Pt=function(G){var Z=T?s+"_list":null,ke=r({className:g("inputToken")},y("inputToken")),Le=r(Zo({id:a.inputId,ref:P,"aria-autocomplete":"list","aria-controls":Z,"aria-expanded":T,"aria-haspopup":"listbox",autoComplete:"off",className:a.inputClassName,disabled:a.disabled,maxLength:a.maxLength,name:a.name,onBlur:It,onChange:G?V:void 0,onFocus:ct,onKeyDown:G?yt:void 0,onKeyPress:a.onKeyPress,onKeyUp:a.onKeyUp,placeholder:G?a.placeholder:void 0,readOnly:a.readOnly||!G,required:a.required,role:"combobox",style:a.inputStyle,tabIndex:a.tabIndex,type:a.type},er),y("input"));return h.createElement("li",ke,h.createElement("input",Le))},Bt=function(){var G=rt(),Z=Tt(),ke=Pt(G),Le=r({ref:S,className:g("container",{context:n}),onClick:G?lt:void 0,onContextMenu:a.onContextMenu,onMouseDown:a.onMouseDown,onDoubleClick:a.onDblClick,"data-p-focus":b,"data-p-disabled":a.disabled},y("container"));return h.createElement("ul",Le,Z,ke)},Zt=function(){if(a.dropdown){var G=a.dropdownAriaLabel||a.placeholder||Jo("choose");return h.createElement(gp,{type:"button",icon:a.dropdownIcon||h.createElement(hp,null),className:g("dropdownButton"),disabled:a.disabled,onClick:K,"aria-label":G,pt:y("dropdownButton"),__parentMetadata:{parent:D}})}return null},Jt=function(){if(d){var G=r({className:g("loadingIcon")},y("loadingIcon")),Z=a.loadingIcon||h.createElement(eu,Mt({},G,{spin:!0})),ke=Ar.getJSXIcon(Z,Zo({},G),{props:a});return ke}return null},dt=function(){return a.multiple?Bt():nt()},Ut=s+"_list",Sr=xe.isNotEmpty(a.tooltip),Qt=Ea.getOtherProps(a),er=xe.reduceKeys(Qt,se.ARIA_PROPS),cr=Jt(),tr=dt(),kr=Zt(),Wt=r({id:s,ref:k,style:a.style,className:Be(a.className,g("root",{focusedState:b}))},Qt,y("root"));return h.createElement(h.Fragment,null,h.createElement("span",Wt,tr,cr,kr,h.createElement(rp,Mt({hostName:"AutoComplete",ref:O,virtualScrollerRef:R},a,{listId:Ut,onItemClick:$,selectedItem:_,onOverlayHide:X,onClick:le,getOptionGroupLabel:ut,getOptionGroupChildren:tt,in:T,onEnter:ie,onEntering:we,onEntered:ae,onExit:De,onExited:Ae,ptm:y,cx:g,sx:v}))),Sr&&h.createElement(mp,Mt({target:k,content:a.tooltip,pt:y("tooltip")},a.tooltipOptions)))}));np.displayName="AutoComplete";const mS=({paramsData:e,headerData:t,save:r,close:n,properties:a})=>{const[o,i]=h.useState(e),[s,l]=h.useState(t),[c]=h.useState({}),[f,d]=h.useState(a||[]);h.useEffect(()=>{i(e),l(t)},[e,t]);const p=(E,y,g)=>{if(g=="params"){const v=[...o];v[y]={...v[y],value:E.target.value},i(v)}else if(g=="headers"){const v=[...s];v[y]={...v[y],value:E.target.value},l(v)}},m=E=>{const y=f.filter(g=>g.toLowerCase().includes(E.query));d(y)},x=(E,y,g)=>{const{name:v,value:C}=E.target,k=g==="params"?[...o]:[...s];k[y]={...k[y],[v]:C},v==="valueType"&&(k[y].value=C==="date"?new Date:""),g==="params"?i(k):l(k)},b=E=>{const y={key:"",valueType:"",value:""};E==="params"?i(g=>[...g,y]):l(g=>[...g,y])},j=(E,y)=>{const g=y==="params"?o.filter((v,C)=>C!==E):s.filter((v,C)=>C!==E);y==="params"?i(g):l(g)},w=()=>{r(o,s)},I=()=>{r(o,s),n()},T=()=>u.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>N(),children:"Close"}),N=()=>{const E=document.querySelector(".p-datepicker");E&&(E.style.visibility="hidden")},D=(E,y,g)=>u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-800 mb-2 py-2 ",children:[u.jsx("div",{className:"min-w-[200px] px-4 rounded ",children:u.jsx("div",{className:"form-group",children:u.jsx("span",{className:"text-white font-bold",children:"Key"})})}),u.jsx("div",{className:"min-w-[200px] px-4 rounded",children:u.jsx("div",{className:"form-group",children:u.jsx("span",{className:"text-white font-bold",children:"Value Type"})})}),u.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded",children:u.jsx("div",{className:"form-group",children:u.jsx("span",{className:"text-white font-bold",children:"Value"})})}),u.jsx("div",{className:"min-w-[200px] px-4 bg-gray-800 rounded flex justify-end",children:u.jsx("div",{className:"form-group",children:u.jsx("span",{className:"text-white font-bold",children:"Delete"})})})]}),E.map((v,C)=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2 bg-gray-800",children:[u.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded ",children:u.jsxs("div",{className:"form-group",children:[u.jsx("input",{title:`${g} key`,placeholder:`${g} key`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"key",value:v.key,onChange:k=>x(k,C,y)}),c[`key-${C}`]&&u.jsx("small",{className:"text-red-500",children:c[`key-${C}`]})]})}),u.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md rounded",children:u.jsxs("div",{className:"form-group",children:[u.jsxs("select",{title:"Value Type",value:v.valueType,onChange:k=>x(k,C,y),className:"w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",name:"valueType",children:[u.jsx("option",{value:"",children:"Select Value Type"}),kp.map(k=>u.jsx("option",{value:k.toLowerCase(),children:k.charAt(0).toUpperCase()+k.slice(1)},k))]}),c[`valueType-${C}`]&&u.jsx("small",{className:"text-red-500",children:c[`valueType-${C}`]})]})}),u.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded",children:u.jsxs("div",{className:"form-group",children:[(!v.valueType||v.valueType!=="date"&&v.valueType!=="number"&&v.valueType!=="header"&&v.valueType!=="param")&&u.jsx("input",{title:`${g} Value`,placeholder:`${g} Value`,type:"text",maxLength:50,className:"w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:v.value,onChange:k=>x(k,C,y)}),v.valueType&&v.valueType==="number"&&u.jsx("input",{title:`${g} Value`,placeholder:`${g} Value`,type:"number",maxLength:50,className:"appearance-none w-full px-2 py-1 border border-gray-600 bg-gray-700 text-white rounded",name:"value",value:v.value,onChange:k=>x(k,C,y),style:{MozAppearance:"textfield"}}),v.valueType&&(v.valueType==="date"||v.valueType==="time")&&u.jsx(Ln,{tooltipOptions:{position:"top"},showIcon:!0,placeholder:"Date",value:v.value||null,onChange:k=>x(k,C,y),showTime:v.valueType!==Ee.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:Ee.TIME===v.valueType,autoZIndex:!0,footerTemplate:T,showButtonBar:!0}),v.valueType&&(v.valueType==="param"||v.valueType==="header")&&u.jsx(np,{value:v.value,suggestions:f,completeMethod:m,onChange:k=>p(k,C,y),dropdown:!0}),c[`value-${C}`]&&u.jsx("small",{className:"text-red-500",children:c[`value-${C}`]})]})}),u.jsx("div",{className:"min-w-[200px] px-4 py-2 shadow-md bg-gray-800 rounded flex justify-end items-center",children:E.length&&u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold",onClick:k=>{k.stopPropagation(),j(C,y)},children:"×"})})]},C)),u.jsxs("button",{className:"ml-1 px-3 py-1 font-semibold text-white btn-primary-custom rounded flex items-center",onClick:()=>b(y),children:[u.jsx("svg",{className:"w-5 h-5 mr-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add ",g.slice(0,-1)]})]});return u.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:u.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[u.jsx("h5",{className:"modal-title text-lg font-bold",children:"HTTP Params"}),u.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:n,children:"×"})]})}),u.jsxs("div",{className:"overflow-y-auto p-4 mt-16 mb-20",children:[D(o,"params","Params"),D(s,"headers","Headers")]}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:u.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[u.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:w,children:[u.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),u.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded",onClick:I,children:"Save & Close"})]})})]})},gS=h.memo(mS),hS=({checked:e,onChange:t,className:r,size:n=20,...a})=>u.jsx("input",{type:"checkbox",checked:e,onChange:t,className:r,style:{width:n,height:n},...a}),vS=({id:e,data:t})=>{var v,C,k,O,P,S,R,A,_;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i,edges:s}=t,[l,c]=h.useState({...r.data}),[f,d]=h.useState(!1),[p,m]=h.useState([]);i.forEach(L=>L.type==="question");const x=()=>{o(i.map(L=>({...L,selected:!1})))};h.useEffect(()=>{const L=Ep(r.id,s,i),M=Np(L);m(M)},[i]);const b=(L,M)=>{delete r.data.errors;const F={...r.data,[L]:M};c(F),a(r.id,F)},j=L=>{delete r.data.errors;const M=L.target.value;b("requestType",M)},w=(L,M,F)=>{delete r.data.errors;const{statusWiseFlow:H,...z}=r.data;H[L][M]=F;const V={...z,statusWiseFlow:H};c(V),a(r.id,V)},I=L=>{delete r.data.errors;const M={key:"",valueType:"",value:""},F={...l,[L]:[...l[L]||[],M]};c(F),a(r.id,F),d(!0)},T=(L,M)=>{var z,V;delete r.data.errors;let F;M=="params"?F=(z=l.params)==null?void 0:z.filter((W,$)=>$!==L):F=(V=l.headers)==null?void 0:V.filter((W,$)=>$!==L);const H={...l,[M]:F};c(H),a(r.id,H)},N=()=>{delete r.data.errors;const L={id:$r(),statusCode:""},M={...l,statusWiseFlow:[...l.statusWiseFlow||[],L]};c(M),a(r.id,M)},D=L=>{var H;delete r.data.errors;const M=(H=l.statusWiseFlow)==null?void 0:H.filter((z,V)=>V!==L),F={...l,statusWiseFlow:M};c(F),a(r.id,F)},E=(L,M)=>{delete r.data.errors;const F={...l,params:L,headers:M};c(F),a(r.id,F)},y=()=>d(!1),g=()=>d(!0);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(v=r.data)!=null&&v.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"HTTP Node"}),u.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),u.jsxs("div",{className:"py-2 px-2",children:[u.jsx("div",{className:"mb-2",title:"Property Name",children:u.jsx("input",{type:"text",placeholder:"Property Name",value:l.property,onClick:x,onChange:L=>b("property",L.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsx("div",{className:"mb-2",title:"Display Text",children:u.jsx("input",{type:"text",placeholder:"Display Text",value:l.displayText,onClick:x,onChange:L=>b("displayText",L.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsx("div",{className:"mb-2",title:"URL",children:u.jsx("input",{type:"text",placeholder:"URL",value:l.url,onClick:x,onChange:L=>b("url",L.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsx("div",{className:"mb-2",children:u.jsxs("select",{title:"Request Type",value:l.requestType,onClick:x,onChange:j,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Select Request Type"}),Dp.map(L=>u.jsx("option",{value:L,children:L.charAt(0).toUpperCase()+L.slice(1)},L))]})}),u.jsx("div",{className:"mb-2",children:u.jsx(Hp,{label:"Hide Data",className:"text-white cursor-pointer",children:u.jsx(hS,{checked:l.hideData,onChange:L=>b("hideData",L.target.checked),size:28})})}),l.params.map((L,M)=>u.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:u.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"HTTP Request Param",children:[u.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:u.jsxs("div",{className:"flex min-w-0",children:[u.jsxs("svg",{onClick:()=>g(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),u.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"Param"})]})}),l.params.length&&u.jsx("div",{children:u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:F=>{F.stopPropagation(),T(M,"params")},children:"×"})})]})},M)),((k=(C=r.data.errors)==null?void 0:C.params)==null?void 0:k.length)>0&&u.jsx("small",{className:"text-red-500",children:"Errors in Params"}),u.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>I("params"),children:[u.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Param"]}),(O=l.headers)==null?void 0:O.map((L,M)=>u.jsx("div",{className:"bg-gray-700 text-white rounded-md mt-2 px-2 py-0.5 border border-gray-400 rounded-md",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:u.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",title:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"HTTP Request Header",children:[u.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:u.jsxs("div",{className:"flex min-w-0",children:[u.jsxs("svg",{onClick:()=>g(),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),u.jsx("strong",{className:"text-sm grow min-w-0 whitespace-nowrap overflow-hidden text-ellipsis",children:L.key||L.valueType||L.value?`${L.key} - ${L.valueType??""} - ${L.value??""}`:"Header"})]})}),l.headers.length&&u.jsx("div",{children:u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:F=>{F.stopPropagation(),T(M,"headers")},children:"×"})})]})},M)),((S=(P=r.data.errors)==null?void 0:P.headers)==null?void 0:S.length)>0&&u.jsx("small",{className:"text-red-500",children:"Errors in Headers"}),u.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:()=>I("headers"),children:[u.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Header"]}),u.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[u.jsx("div",{className:"col-span-10",title:"Success",children:u.jsx("input",{readOnly:!0,type:"text",value:"Success",onClick:x,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),u.jsx(Ne,{type:"source",position:Q.Right,id:l.successFlowId})]}),u.jsxs("div",{className:"grid grid-cols-10 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[u.jsx("div",{className:"col-span-10",title:"Fail",children:u.jsx("input",{readOnly:!0,type:"text",value:"Fail",onClick:x,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),u.jsx(Ne,{type:"source",position:Q.Right,id:l.failureFlowId})]}),(R=l.statusWiseFlow)==null?void 0:R.map((L,M)=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2 px-1 py-1 border border-gray-400 rounded-md relative",children:[u.jsx("div",{className:"col-span-10",title:"Fail Status Message",children:u.jsx("input",{type:"text",placeholder:"Status Message",value:L.statusCode,onClick:x,onChange:F=>w(M,"statusCode",F.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded capitalize"})}),u.jsx("div",{className:"col-span-2",title:"Delete",children:u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center w-[25px] w-[25px]",onClick:F=>{F.stopPropagation(),D(M)},children:"×"})}),u.jsx(Ne,{type:"source",position:Q.Right,id:L.id})]},M)})),((_=(A=r.data.errors)==null?void 0:A.statusWiseFlow)==null?void 0:_.length)>0&&u.jsx("small",{className:"text-red-500",children:"Errors in statusWiseFlow"}),u.jsxs("button",{className:"flex px-2 py-1 mt-2 text-xs font-semibold text-white btn-primary-custom rounded items-center mb-2",onClick:N,children:[u.jsx("svg",{className:"w-3 h-3 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add More Status"]})]}),u.jsx(Ne,{type:"target",position:Q.Top,id:e})]}),u.jsx(fn,{header:"Edit HTTP Params",visible:f,style:{width:"600px"},onHide:y,children:u.jsx(gS,{save:E,paramsData:l.params||[],headerData:l.headers||[],close:y,properties:p})})]})},yS=h.memo(vS),bS=({data:e,id:t})=>{const{onDelete:r}=e;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:u.jsxs("div",{className:"flex justify-between items-center pb-2 py-2 px-4",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Lead Flow"}),u.jsx("button",{title:"Delete Lead Flow Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:"×"})]})}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"})]})},xS=h.memo(bS),wS=({data:e,id:t})=>{const{onDelete:r}=e;return u.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Lead Form"}),u.jsx("button",{title:"Delete Lead Form Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",onClick:()=>r(t),children:"×"})]}),u.jsx("div",{className:"space-y-2 py-2 px-2 pb-3",children:u.jsx("p",{className:"nodrag",children:"This will display lead form for the visitor"})}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"})]})},CS=h.memo(wS),jS=({id:e,data:t})=>{var i,s,l,c,f;const{node:r,onDelete:n,handleChange:a}=t,o=(d,p)=>{delete r.data.errors;const m={...r.data,[d]:p};a(r.id,m)};return u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(i=r.data)!=null&&i.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Google Maps"}),u.jsx("button",{title:"Delete Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),u.jsxs("div",{className:"py-2 px-2",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx(kt,{maxLength:500,message:r.data.message,onChange:d=>o("message",d)}),((l=(s=r.data)==null?void 0:s.errors)==null?void 0:l.message)&&u.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("input",{title:"Map Url",type:"text",value:r.data.url,onChange:d=>o("url",d.target.value),placeholder:"Google Maps URL",className:"nodrag w-full p-1 rounded-md border border-gray-600 bg-gray-700 text-white"}),((f=(c=r.data)==null?void 0:c.errors)==null?void 0:f.url)&&u.jsx("small",{className:"text-red-500",children:r.data.errors.url})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},SS=h.memo(jS),kS=({data:e})=>{const{node:t,handleChange:r,onDelete:n,setNodes:a}=e,[o,i]=h.useState(!1),s=h.useRef(null),l=h.useCallback(()=>{a(p=>p.map(m=>m.selected?{...m,selected:!1}:m))},[a]),c=()=>{i(!0),l()},f=p=>{delete t.data.errors;const m={...t,data:{...t.data,message:p}};r(t.id,m.data)},d=h.useCallback(p=>{s.current&&!s.current.contains(p.target)&&i(!1)},[]);return h.useEffect(()=>(document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)),[d]),u.jsxs(u.Fragment,{children:[u.jsxs("div",{ref:s,className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${t.data.errors&&Object.keys(t.data.errors).length?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Message"}),u.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",title:"Delete Message Node",onClick:p=>{p.stopPropagation(),n(t.id)},children:"×"})]}),u.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:[o?u.jsx(kt,{message:t.data.message,onChange:f,onClick:l}):u.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onDoubleClick:c,title:"Double Click ro Enter/Edit the Message",children:[u.jsx("span",{children:t.data.message||"Enter your message"}),u.jsx("svg",{className:"w-4 h-4 text-white ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"})})]}),t.data.errors&&u.jsx("small",{className:"text-red-500",children:t.data.errors.message})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},ES=h.memo(kS),NS=({optionsData:e,save:t,close:r})=>{var y;const[n,a]=h.useState(e),[o,i]=h.useState({});h.useEffect(()=>{a(g=>({...g,subOptions:n.dataSource?[e.subOptions[0]]:e.subOptions}))},[e,n.dataSource]);const s=g=>{const{name:v,value:C}=g.target;a({...n,[v]:C})},l=(g,v,C)=>{if(a({...n,message:g}),v&&(C||C==0)){const k=[...n.subOptions],O={...k[C]};O[v]=g,k[C]=O,a({...n,subOptions:k})}},c=(g,v)=>{const C=rn(g,v);i(k=>({...k,[g]:C}))},f=(g,v,C)=>{const k=rn(v,C);i(O=>{var P;return{...O,subOptions:{...O.subOptions,[g]:{...(P=O.subOptions)==null?void 0:P[g],[v]:k}}}})},d=(g,v)=>{const{name:C,value:k}=v.target,O=[...n.subOptions],P={...O[g]};P[C]=k,O[g]=P,a({...n,subOptions:O})},p=(g,v)=>{const{value:C}=v.target,k=[...n.subOptions];k[g].category=C,a({...n,subOptions:k})},m=(g,v)=>{d(g,{...v,target:{name:"isLink",value:v}})},x=g=>{const v=n.subOptions.map((C,k)=>k===g?{...C,isCollapsed:!C.isCollapsed}:C);a({...n,subOptions:v})},b=()=>{a({...n,subOptions:[...n.subOptions,{id:$r(),title:"",subTitle:"",imageUrl:"",value:"",category:"",description:"",isLink:!1,leadEmailTo:"",leadEmailCc:[]}]})},j=(g,v)=>{if(["Enter","Tab",","].includes(v.key)){v.preventDefault();const C=v.currentTarget.value.trim();C&&(w(n.subOptions[g].id,C),v.currentTarget.value="")}},w=(g,v)=>{const C=n.subOptions.find(k=>k.id===g);C&&(Ra(v)?C.leadEmailTo.includes(v)?i(k=>{var O;return{...k,subOptions:{...k.subOptions,[g]:{...(O=k.subOptions)==null?void 0:O[g],leadEmailCc:"This email is already in Lead Email To."}}}}):(a({...n,subOptions:n.subOptions.map(k=>k.id===g?{...k,leadEmailCc:[...k.leadEmailCc,v]}:k)}),i(k=>{var O;return{...k,subOptions:{...k.subOptions,[g]:{...(O=k.subOptions)==null?void 0:O[g],leadEmailCc:""}}}})):i(k=>{var O;return{...k,subOptions:{...k.subOptions,[g]:{...(O=k.subOptions)==null?void 0:O[g],leadEmailCc:"Invalid email address"}}}}))},I=(g,v)=>{v.preventDefault();const k=v.clipboardData.getData("text").split(/[ ,;]/).map(R=>R.trim()).filter(R=>R!==""),O=n.subOptions.find(R=>R.id===g);if(!O)return;if(k.filter(R=>!Ra(R)).length>0){i(R=>{var A;return{...R,subOptions:{...R.subOptions,[g]:{...(A=R.subOptions)==null?void 0:A[g],leadEmailCc:"Invalid email address"}}}});return}if(k.filter(R=>O.leadEmailTo.includes(R)).length>0){i(R=>{var A;return{...R,subOptions:{...R.subOptions,[g]:{...(A=R.subOptions)==null?void 0:A[g],leadEmailCc:"Some emails are already in Lead Email To"}}}});return}a({...n,subOptions:n.subOptions.map(R=>R.id===g?{...R,leadEmailCc:[...R.leadEmailCc,...k]}:R)}),i(R=>{var A;return{...R,subOptions:{...R.subOptions,[g]:{...(A=R.subOptions)==null?void 0:A[g],leadEmailCc:""}}}})},T=(g,v)=>{a({...n,subOptions:n.subOptions.map(C=>C.id===g?{...C,leadEmailCc:C.leadEmailCc.filter(k=>k!==v)}:C)})},N=g=>{a({...n,subOptions:n.subOptions.filter((v,C)=>C!==g)})},D=()=>{t(n)},E=()=>{n.subOptions.forEach(g=>{g.isCollapsed=!0}),t(n),r()};return u.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:u.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[u.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),u.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Display Text"}),u.jsx("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:n.fieldLabel,onChange:s,onBlur:g=>c("fieldLabel",g.target.value)}),o.fieldLabel&&u.jsx("small",{className:"text-red-500",children:o.fieldLabel})]})}),u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Property Name"}),u.jsx("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:n.property,onChange:s,onBlur:g=>c("property",g.target.value)}),o.property&&u.jsx("small",{className:"text-red-500",children:o.property})]})}),u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Message"}),u.jsx(kt,{maxLength:300,message:n.message,onChange:g=>l(g),onBlur:g=>c("message",g)}),o.message&&u.jsx("small",{className:"text-red-500",children:o.message})]})}),u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Fall back"}),u.jsx("input",{title:"Fallback",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fallback",value:n.fallback,onChange:s,onBlur:g=>c("fallback",g.target.value)}),o.fallback&&u.jsx("small",{className:"text-red-500",children:o.fallback})]})}),u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Data Source"}),u.jsx("input",{title:"DataSource",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"dataSource",value:n.dataSource,onChange:s,onBlur:g=>c("dataSource",g.target.value)}),o.dataSource&&u.jsx("small",{className:"text-red-500",children:o.dataSource})]})})]}),(y=n.subOptions)==null?void 0:y.map((g,v)=>{var C,k,O,P,S,R,A,_,L,M,F,H,z,V,W,$,q,J,ne,de,X,ie,we,Ce;return u.jsxs("div",{className:"accordion px-2 mb-2",children:[u.jsxs("div",{className:"accordion-header flex items-center p-1 cursor-pointer border border-gray-600 rounded bg-gray-800 hover:bg-gray-700 transition-colors",onClick:()=>x(v),children:[u.jsx("span",{className:"mr-3",children:g.isCollapsed?u.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):u.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),u.jsx("span",{className:"flex-1",children:g.title||`Sub Option ${v+1}`}),n.subOptions.length>1&&u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:ae=>{ae.stopPropagation(),N(v)},children:"×"})]}),!g.isCollapsed&&u.jsxs("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:[u.jsx("div",{className:"mb-2",children:u.jsx(Vp,{label:"Link",checked:g.isLink,onChange:ae=>m(v,ae),className:"text-white cursor-pointer"})}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Title"}),u.jsx("input",{title:"Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"title",value:g.title,onChange:ae=>d(v,ae),onBlur:ae=>f(v,"title",ae.target.value)}),((k=(C=o.subOptions)==null?void 0:C[v])==null?void 0:k.title)&&u.jsx("small",{className:"text-red-500",children:(O=o.subOptions[v])==null?void 0:O.title})]})}),u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Sub Title"}),u.jsx("input",{title:"Sub Title",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"subTitle",value:g.subTitle,onChange:ae=>d(v,ae),onBlur:ae=>f(v,"subTitle",ae.target.value)}),((S=(P=o.subOptions)==null?void 0:P[v])==null?void 0:S.subTitle)&&u.jsx("small",{className:"text-red-500",children:(R=o.subOptions[v])==null?void 0:R.subTitle})]})}),u.jsx("div",{className:"min-w-[200px",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:g.isLink?"URL":"Value"}),u.jsx("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:g.value,onChange:ae=>d(v,ae),onBlur:ae=>f(v,"value",ae.target.value)}),((_=(A=o.subOptions)==null?void 0:A[v])==null?void 0:_.value)&&u.jsx("small",{className:"text-red-500",children:(L=o.subOptions[v])==null?void 0:L.value})]})}),u.jsx("div",{className:"min-w-[200px",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Image url"}),u.jsx("input",{title:"Image Url",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"imageUrl",value:g.imageUrl,onChange:ae=>d(v,ae),onBlur:ae=>f(v,"imageUrl",ae.target.value)}),((F=(M=o.subOptions)==null?void 0:M[v])==null?void 0:F.value)&&u.jsx("small",{className:"text-red-500",children:(H=o.subOptions[v])==null?void 0:H.value})]})}),!n.dataSource&&!g.isLink&&u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Select Category"}),u.jsxs("select",{title:"Select Category",style:{height:"25px"},className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",value:g.category,onChange:ae=>p(v,ae),onBlur:ae=>f(v,"category",ae.target.value),children:[u.jsx("option",{value:"",children:"Select Category"}),u.jsx("option",{value:"preSale",children:"Presale"}),u.jsx("option",{value:"general",children:"General"}),u.jsx("option",{value:"others",children:"Others"})]}),((V=(z=o.subOptions)==null?void 0:z[v])==null?void 0:V.category)&&u.jsx("small",{className:"text-red-500",children:(W=o.subOptions[v])==null?void 0:W.category})]})}),!g.isLink&&u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Lead Email To"}),u.jsx("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:g.leadEmailTo,onChange:ae=>d(v,ae),onBlur:ae=>f(v,"leadEmailTo",ae.target.value)}),((q=($=o.subOptions)==null?void 0:$[v])==null?void 0:q.leadEmailTo)&&u.jsx("small",{className:"text-red-500",children:(J=o.subOptions[v])==null?void 0:J.leadEmailTo})]})}),!g.isLink&&u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:" Lead Email Cc"}),u.jsxs("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[g.leadEmailCc.map(ae=>u.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[ae,u.jsx("button",{type:"button",onClick:()=>T(g.id,ae),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:"×"})]},ae)),u.jsx("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:ae=>f(v,"leadEmailCc",ae.target.value),onKeyDown:ae=>j(v,ae),onPaste:ae=>I(g.id,ae)})]}),((de=(ne=o.subOptions)==null?void 0:ne[v])==null?void 0:de.leadEmailCc)&&u.jsx("small",{className:"text-red-500",children:(X=o.subOptions[v])==null?void 0:X.leadEmailCc})]})}),u.jsx("div",{className:"min-w-[200px",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Description"}),u.jsx(kt,{maxLength:300,message:g.description,onChange:ae=>l(ae,"description",v),onBlur:ae=>c("description",ae)}),((we=(ie=o.subOptions)==null?void 0:ie[v])==null?void 0:we.description)&&u.jsx("small",{className:"text-red-500",children:(Ce=o.subOptions[v])==null?void 0:Ce.description})]})})]})]})]},v)}),!n.dataSource&&u.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:b,children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:u.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[u.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:D,children:[u.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),u.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:E,children:"Save & Close"})]})})]})},DS=h.memo(NS),IS=({subOption:e,index:t,onDelete:r,expandToEdit:n,length:a})=>u.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:u.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[u.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:u.jsxs("div",{className:"flex min-w-0",children:[u.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),u.jsx("strong",{title:e.title,className:"text-sm grow min-w-0",children:e.title?`${e.title}`:"Sub Option"})]})}),a>1&&u.jsx("div",{children:u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2 w-[25px] w-[25px]",onClick:o=>{o.stopPropagation(),r(t)},children:"×"})})]})}),TS=h.memo(IS),PS=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:a}=e,[o,i]=h.useState(!1),[s,l]=h.useState(!1),[c,f]=h.useState({}),[d,p]=h.useState(r.data),[m,x]=h.useState(r.data.message),b=(y,g)=>{const v=rn(y,g);f(C=>({...C,[y]:v}))},j=(y,g)=>{delete r.data.errors;const v={...d,[y]:g};p(v),a(r.id,v)},w=()=>{delete r.data.errors;const y={id:$r(),title:"",subTitle:"",value:"",imageUrl:"",category:"",description:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1,isLink:!1},g={...d,subOptions:[...d.subOptions,y]};p(g),a(r.id,g),i(!0)},I=y=>{delete r.data.errors;const g=d.subOptions.filter((C,k)=>k!==y),v={...d,subOptions:g};p(v),a(r.id,v)},T=y=>{const g={...y,subOptions:y.subOptions.map(v=>({...v}))};x(Math.random().toString()),p(g),a(r.id,g)},N=()=>i(!1),D=y=>{d.subOptions.forEach(g=>{g.isCollapsed=!0}),d.subOptions[y].isCollapsed=!1,i(!0)},E=y=>{const{source:g,destination:v}=y;if(!v)return;const C=Array.from(d.subOptions),[k]=C.splice(g.index,1);C.splice(v.index,0,k);const O={...d,subOptions:C};p(O),a(r.id,O)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"Option"}),u.jsxs("div",{className:"flex",children:[u.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(y=>!y),children:u.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:u.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),u.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&u.jsxs("div",{className:"space-y-2 py-2 px-2",children:[u.jsxs("div",{children:[u.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:d.fieldLabel,onChange:y=>j("fieldLabel",y.target.value),onBlur:y=>b("fieldLabel",y.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fieldLabel&&u.jsx("small",{className:"text-red-500",children:c.fieldLabel})]}),u.jsxs("div",{children:[u.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:d.property,onChange:y=>j("property",y.target.value),onBlur:y=>b("property",y.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&u.jsx("small",{className:"text-red-500",children:c.property})]}),u.jsxs("div",{children:[u.jsx(kt,{maxLength:300,message:d.message,onChange:y=>j("message",y)},m),c.message&&u.jsx("small",{className:"text-red-500",children:c.message})]}),u.jsxs("div",{children:[u.jsx("input",{title:"Fall back",type:"text",maxLength:50,value:d.fallback,placeholder:"Fall back",onChange:y=>j("fallback",y.target.value),onBlur:y=>b("fallback",y.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fallback&&u.jsx("small",{className:"text-red-500",children:c.fallback})]}),u.jsx(Bs,{onDragEnd:E,children:u.jsx(zs,{droppableId:"subOptions",children:y=>u.jsxs("div",{...y.droppableProps,ref:y.innerRef,className:"space-y-2",children:[d.subOptions.map((g,v)=>u.jsxs("div",{className:"nodrag relative subOption-wrapper",children:[u.jsx($s,{draggableId:g.id,index:v,children:C=>u.jsx("div",{ref:C.innerRef,...C.draggableProps,...C.dragHandleProps,style:{...C.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:u.jsx(TS,{subOption:g,index:v,onDelete:I,length:d.subOptions.length,expandToEdit:D},v)})},g.id),u.jsx(Ne,{type:"source",position:Q.Right,id:g.id})]},v)),y.placeholder]})})}),u.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:w,children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,id:t}),u.jsx(fn,{header:"Header",visible:o,style:{width:"100vw"},onHide:()=>{o&&N()},children:u.jsx(DS,{save:T,optionsData:d,close:N})})]})},OS=h.memo(PS),RS=({id:e,data:t})=>{var p,m;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i}=t,[s,l]=h.useState({}),c=()=>{o(i.map(x=>({...x,selected:!1})))},f=(x,b)=>{delete r.data.errors;const j={...r.data,[x]:b};a(r.id,j)},d=x=>{delete r.data.errors,x.target.value?s.callConnectId&&l(j=>{const w={...j};return delete w.callConnectId,w}):l(j=>({...j,callConnectId:"Call Connect Name is Mandatory"}));const b=x.target.value;f("otpType",b)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg ",children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"OTP Node"}),u.jsx("button",{title:"Delete Call Connect Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),u.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx(kt,{maxLength:500,message:r.data.message,onChange:x=>f("message",x),onClick:c}),r.data.errors&&((p=Object.keys(r.data.errors))==null?void 0:p.length)>0&&r.data.errors.message&&u.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("select",{title:"OTP Type",value:r.data.otpType,onClick:c,onChange:d,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Please select OTP type"}),u.jsx("option",{value:"phoneNumber",children:" Mobile Number"},"phoneNumber"),u.jsx("option",{value:"email",children:"Email"},"email")]}),r.data.errors&&((m=Object.keys(r.data.errors))==null?void 0:m.length)>0&&r.data.errors.otpType&&u.jsx("small",{className:"text-red-500",children:r.data.errors.otpType})]})]})]}),u.jsx(Ne,{id:"target",type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{id:"source",type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},MS=h.memo(RS),AS=({id:e,data:t})=>{var N,D,E,y,g,v;const{node:r,onDelete:n,handleChange:a,setNodes:o,nodes:i}=t,[s,l]=h.useState({}),c=h.useMemo(()=>new Date(new Date().setHours(0,0,0,0)),[]),f=h.useMemo(()=>{const C=new Date;return C.setMonth(C.getMonth()+3),C.setHours(23,59,59,999),C},[]),[d,p]=h.useState({}),m=(C,k)=>{delete r.data.errors,l({});const O={...r.data,[C]:k};a(r.id,O)},x=()=>{o(i.map(C=>({...C,selected:!1})))},b=(C,k)=>{let O="";r.data.fieldType===Ee.CUSTOM&&!k.trim()&&(O="Regex pattern is required for custom type."),l(P=>({...P,[C]:O}))},j=C=>{delete r.data.errors,C.target.value?s.fieldType&&l(R=>{const A={...R};return delete A.fieldType,A}):l(R=>({...R,fieldType:"Question Type is Mandatory"}));const k=C.target.value,{min:O,max:P}=w(k),S={...r.data,fieldType:k,min:O,max:P,custom:""};a(r.id,S)},w=h.useCallback(C=>{switch(C){case Ee.CUSTOM:return p({min:"Custom Expression",max:""}),{min:"",max:""};case Ee.STRING:return p({min:"String Min Length",max:"String Max Length"}),{min:3,max:500};case Ee.NUMBER:return p({min:"Number Min Length",max:"Number Max Length"}),{min:3,max:15};case Ee.DATE:return p({min:"Min Date",max:"Max Date"}),{min:"",max:""};case Ee.DATETIME:return p({min:"Min Date Time",max:"Max Date Time"}),{min:"",max:""};case Ee.TIME:return p({min:"Min Time",max:"Max Time"}),{min:"",max:""};default:return{min:"",max:""}}},[]),I=()=>{const C=document.querySelector(".p-datepicker");C&&(C.style.visibility="hidden")},T=()=>u.jsx("button",{title:"Delete Question Node",className:"w-full text-white bg-red-500 hover:bg-red-700 rounded flex items-center justify-center",onClick:()=>I(),children:"Close"});return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${(N=r.data)!=null&&N.errors&&Object.keys(r.data.errors).length?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center border-b py-1 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Question Node"}),u.jsx("button",{title:"Delete Question Node",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold",onClick:()=>n(e),children:"×"})]}),u.jsxs("div",{className:"space-y-2 py-2 px-2 pb-3",children:[u.jsx("div",{className:"mb-2",title:"Field Label",children:u.jsx("input",{type:"text",placeholder:"Field Label",value:r.data.fieldLabel||"",onClick:x,onChange:C=>m("fieldLabel",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsxs("div",{className:"mb-2",title:"Property Name (Alphanumeric, no spaces)",children:[u.jsx("input",{type:"text",placeholder:"Property Name (Alphanumeric, no spaces)",value:r.data.property||"",onClick:x,onChange:C=>m("property",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((D=Object.keys(r.data.errors))==null?void 0:D.length)>0&&r.data.errors.property&&u.jsx("small",{className:"text-red-500",children:r.data.errors.property})]}),u.jsxs("div",{className:"mb-2",children:[u.jsx(kt,{maxLength:500,message:r.data.message,onChange:C=>m("message",C)}),r.data.errors&&((E=Object.keys(r.data.errors))==null?void 0:E.length)>0&&r.data.errors.message&&u.jsx("small",{className:"text-red-500",children:r.data.errors.message})]}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("select",{title:"Field Type",value:r.data.fieldType,onClick:x,onChange:j,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Select Field Type"}),nu.map(C=>u.jsx("option",{value:C.value,children:C.label},C.value))]}),r.data.errors&&((y=Object.keys(r.data.errors))==null?void 0:y.length)>0&&r.data.errors.fieldType&&u.jsx("small",{className:"text-red-500",children:r.data.errors.fieldType})]}),u.jsxs("div",{className:"mb-2",children:[[Ee.STRING,Ee.NUMBER].includes(r.data.fieldType)&&u.jsxs("div",{className:"flex space-x-2 mt-2",children:[u.jsx("input",{title:d.min||"Min Length",type:"number",placeholder:d.min,value:r.data.min||"",onChange:C=>m("min",C.target.value),onClick:x,className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13}),u.jsx("input",{title:d.max||"Max Length",type:"number",placeholder:d.max,value:r.data.max||"",onClick:x,onChange:C=>m("max",C.target.value),className:"nodrag w-1/2 p-1 border border-gray-600 bg-gray-700 text-white rounded",maxLength:13})]}),[Ee.DATE,Ee.DATETIME,Ee.TIME].includes(r.data.fieldType)&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-2",children:u.jsxs("select",{title:"Date Format",value:r.data.dateFormat,onClick:x,onChange:C=>m("dateFormat",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Select Date Format"}),au.map(C=>u.jsx("option",{value:C,children:C},C))]})}),u.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[u.jsx(Ln,{tooltip:d.min||"Min",tooltipOptions:{position:"top"},showIcon:!0,placeholder:d.min||"Min",minDate:c,maxDate:f,value:r.data.min||null,onFocus:x,onChange:C=>m("min",C.value),showTime:r.data.fieldType!==Ee.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded small-calendar",timeOnly:Ee.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:T,showButtonBar:!0}),u.jsx(Ln,{tooltip:d.max||"Max",tooltipOptions:{position:"top"},showIcon:!0,placeholder:d.max||"Max",minDate:r.data.min||c,maxDate:f,value:r.data.max||null,onFocus:x,onChange:C=>m("max",C.value),showTime:r.data.fieldType!==Ee.DATE,className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",timeOnly:Ee.TIME===r.data.fieldType,autoZIndex:!0,footerTemplate:T,showButtonBar:!0})]})]}),r.data.fieldType===Ee.CUSTOM&&u.jsxs(u.Fragment,{children:[u.jsx("input",{title:"Custom Expression",type:"text",placeholder:d.min||"Custom Expression",value:r.data.custom||"",onClick:x,onBlur:C=>b("custom",C.target.value),onChange:C=>m("custom",C.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded mt-2"}),((g=r.data.errors)==null?void 0:g.custom)&&u.jsx("small",{className:"text-red-500",children:r.data.errors.custom})]}),r.data.errors&&((v=Object.keys(r.data.errors))==null?void 0:v.length)>0&&r.data.errors.answer&&u.jsx("small",{className:"text-red-500",children:r.data.errors.answer})]}),r.data.fieldType&&u.jsx("div",{className:"mb-2",children:u.jsx(kt,{maxLength:500,placeHolder:"Error Message",message:r.data.errorMessage,onChange:C=>m("errorMessage",C)})})]})]}),u.jsx(Ne,{id:"target",type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"}),u.jsx(Ne,{id:"source",type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},LS=h.memo(AS),FS=({data:e})=>{const{message:t}=e.node.data;return u.jsxs("div",{className:"flow-node bg-gray-800 text-white p-2 rounded-md shadow-lg",children:[u.jsx("div",{className:"custom-node-body text-center",children:t}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},BS=h.memo(FS),_S=({data:e,id:t})=>{const{onDelete:r,stop:n}=e;return u.jsxs("div",{className:"flow-node bg-gray-800 text-white rounded-md shadow-lg",children:[u.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold",children:"Stop"}),u.jsx("button",{className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-extrabold pt-px",title:"Delete Stop Node",onClick:()=>r(t),children:"×"})]}),u.jsx("div",{className:"space-y-2 py-2 px-2 pb-3 min-w-36",children:n||"The chat will stop here"}),u.jsx(Ne,{type:"target",position:Q.Top,className:"w-2 h-2 bg-white border-none"})]})},$S=({urlData:e,save:t,close:r})=>{var N;const[n,a]=h.useState(e),[o,i]=h.useState({}),s=D=>{const{name:E,value:y}=D.target;a({...n,[E]:y})},l=(D,E)=>{const y=rn(D,E);i(g=>({...g,[D]:y}))},c=(D,E,y)=>{const g=rn(E,y);i(v=>{var C;return{...v,subUrl:{...v.subUrl,[D]:{...(C=v.subOptions)==null?void 0:C[D],[E]:g}}}})},f=(D,E)=>{const{name:y,value:g}=E.target,v=[...n.subUrls],C={...v[D]};C[y]=g,v[D]=C,a({...n,subUrls:v})},d=D=>{if(D===n.subUrls.length-1)return;const E=n.subUrls.map((y,g)=>g===D?{...y,isCollapsed:!y.isCollapsed}:y);a({...n,subUrls:E})},p=()=>{const D=[...n.subUrls],E=D.pop();D.push({id:$r(),url:"",value:"",leadEmailTo:"",leadEmailCc:[]}),E&&D.push(E),a({...n,subUrls:D})},m=(D,E)=>{if(["Enter","Tab",","].includes(E.key)){E.preventDefault();const y=E.currentTarget.value.trim();y&&(x(n.subUrls[D].id,y),E.currentTarget.value="")}},x=(D,E)=>{const y=n.subUrls.find(g=>g.id===D);y&&(Ra(E)?y.leadEmailTo.includes(E)?i(g=>{var v;return{...g,subOptions:{...g.subOptions,[D]:{...(v=g.subOptions)==null?void 0:v[D],leadEmailCc:"This email is already in Lead Email To."}}}}):(a({...n,subUrls:n.subUrls.map(g=>g.id===D?{...g,leadEmailCc:[...g.leadEmailCc,E]}:g)}),i(g=>{var v;return{...g,subOptions:{...g.subOptions,[D]:{...(v=g.subOptions)==null?void 0:v[D],leadEmailCc:""}}}})):i(g=>{var v;return{...g,subOptions:{...g.subOptions,[D]:{...(v=g.subOptions)==null?void 0:v[D],leadEmailCc:"Invalid email address"}}}}))},b=(D,E)=>{E.preventDefault();const g=E.clipboardData.getData("text").split(/[ ,;]/).map(O=>O.trim()).filter(O=>O!==""),v=n.subUrls.find(O=>O.id===D);if(!v)return;if(g.filter(O=>!Ra(O)).length>0){i(O=>{var P;return{...O,subOptions:{...O.subOptions,[D]:{...(P=O.subOptions)==null?void 0:P[D],leadEmailCc:"Invalid email address"}}}});return}if(g.filter(O=>v.leadEmailTo.includes(O)).length>0){i(O=>{var P;return{...O,subUrl:{...O.subUrl,[D]:{...(P=O.subUrl)==null?void 0:P[D],leadEmailCc:"Some emails are already in Lead Email To"}}}});return}a({...n,subUrls:n.subUrls.map(O=>O.id===D?{...O,leadEmailCc:[...O.leadEmailCc,...g]}:O)}),i(O=>{var P;return{...O,subOptions:{...O.subOptions,[D]:{...(P=O.subOptions)==null?void 0:P[D],leadEmailCc:""}}}})},j=(D,E)=>{a({...n,subUrls:n.subUrls.map(y=>y.id===D?{...y,leadEmailCc:y.leadEmailCc.filter(g=>g!==E)}:y)})},w=D=>{a({...n,subUrls:n.subUrls.filter((E,y)=>y!==D)})},I=()=>{t(n)},T=()=>{n.subUrls.forEach(D=>{D.isCollapsed=!0}),t(n),r()};return u.jsxs("div",{className:"flow-node fixed inset-0 flex flex-col bg-gray-900 text-white",children:[u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-gray-800 text-white shadow-md z-10",children:u.jsxs("div",{className:"modal-header px-4 py-2 flex justify-between items-center",children:[u.jsx("h5",{className:"modal-title text-lg font-bold",children:"Edit Options"}),u.jsx("button",{type:"button",className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xl font-extrabold",title:"Close popup",onClick:r,children:"×"})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 mt-16 mb-20",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mb-4",children:[u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Display Text"}),u.jsx("input",{title:"fieldLabel",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"fieldLabel",value:n.fieldLabel,onChange:s,onBlur:D=>l("fieldLabel",D.target.value)}),o.fieldLabel&&u.jsx("small",{className:"text-red-500",children:o.fieldLabel})]})}),u.jsx("div",{className:"min-w-[200px] px-2 shadow-md",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Property Name"}),u.jsx("input",{title:"Property",type:"text",maxLength:50,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-700 text-white rounded",name:"property",value:n.property,onChange:s,onBlur:D=>l("property",D.target.value)}),o.property&&u.jsx("small",{className:"text-red-500",children:o.property})]})})]}),(N=n.subUrls)==null?void 0:N.map((D,E)=>{var g,v,C,k,O,P,S,R,A,_,L,M;const y=E===n.subUrls.length-1;return u.jsxs("div",{className:"accordion px-2 mb-2",children:[u.jsxs("div",{className:`accordion-header flex items-center p-1 border border-gray-600 rounded bg-gray-800 ${y?"cursor-not-allowed":"cursor-pointer hover:bg-gray-700"} transition-colors`,onClick:()=>!y&&d(E),children:[u.jsx("span",{className:"mr-3",children:y?u.jsxs("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]}):D.isCollapsed?u.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):u.jsx("svg",{className:"w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),u.jsx("span",{className:"flex-1",children:y?"Default":D.title||`Sub Option ${E+1}`}),!y&&n.subUrls.length>1&&u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center justify-center text-xl font-bold ml-4",onClick:F=>{F.stopPropagation(),w(E)},children:"×"})]}),!y&&!D.isCollapsed&&u.jsx("div",{className:"accordion-content bg-gray-700 p-2 rounded",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Url"}),u.jsx("input",{title:"Url",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"url",value:D.url,onChange:F=>f(E,F),onBlur:F=>c(E,"url",F.target.value)}),((v=(g=o.subOptions)==null?void 0:g[E])==null?void 0:v.url)&&u.jsx("small",{className:"text-red-500",children:(C=o.subOptions[E])==null?void 0:C.url})]})}),u.jsx("div",{className:"min-w-[200px",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:D.isLink?"URL":"Value"}),u.jsx("input",{title:"Value",type:"text",maxLength:500,className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"value",value:D.value,onChange:F=>f(E,F),onBlur:F=>c(E,"value",F.target.value)}),((O=(k=o.subUrl)==null?void 0:k[E])==null?void 0:O.value)&&u.jsx("small",{className:"text-red-500",children:(P=o.subUrl[E])==null?void 0:P.value})]})}),!D.isLink&&u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:"Lead Email To"}),u.jsx("input",{title:"Lead Mail To",autoComplete:"off",maxLength:254,type:"text",className:"form-control form-control-sm w-full px-2 border border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailTo",value:D.leadEmailTo,onChange:F=>f(E,F),onBlur:F=>c(E,"leadEmailTo",F.target.value)}),((R=(S=o.subUrl)==null?void 0:S[E])==null?void 0:R.leadEmailTo)&&u.jsx("small",{className:"text-red-500",children:(A=o.subUrl[E])==null?void 0:A.leadEmailTo})]})}),!D.isLink&&u.jsx("div",{className:"min-w-[200px]",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"input-label",children:" Lead Email Cc"}),u.jsxs("div",{className:"flex flex-wrap items-center border border-gray-600 rounded bg-gray-800",children:[D.leadEmailCc.map(F=>u.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm rounded-full mr-2 mb-2 px-3 py-1",children:[F,u.jsx("button",{type:"button",onClick:()=>j(D.id,F),className:"ml-2 text-red-500 hover:text-red-700 focus:outline-none",children:"×"})]},F)),u.jsx("input",{title:"Lead Mail CC",style:{padding:"2px",height:"24px"},autoComplete:"off",placeholder:"Type or paste email addresses and press `Enter`",type:"text",className:"flex-grow border-none text-sm border-gray-600 bg-gray-800 text-white rounded",name:"leadEmailCc",onBlur:F=>c(E,"leadEmailCc",F.target.value),onKeyDown:F=>m(E,F),onPaste:F=>b(D.id,F)})]}),((L=(_=o.subUrl)==null?void 0:_[E])==null?void 0:L.leadEmailCc)&&u.jsx("small",{className:"text-red-500",children:(M=o.subUrl[E])==null?void 0:M.leadEmailCc})]})})]})})]},E)}),u.jsxs("button",{className:"flex ml-2 px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:p,children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white shadow-md",children:u.jsxs("div",{className:"modal-footer py-2 px-4 flex justify-start gap-2",children:[u.jsxs("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:I,children:[u.jsx("svg",{className:"w-6 h-6 text-white cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h10a2 2 0 012 2v14a2 2 0 01-2 2zM7 3v4a1 1 0 001 1h8a1 1 0 001-1V3M7 10h10v11H7V10z"})}),"Save"]}),u.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2 font-semibold text-white btn-primary-custom rounded ",onClick:T,children:"Save & Close"})]})})]})},zS=h.memo($S),HS=({subUrl:e,index:t,onDelete:r,expandToEdit:n,length:a})=>{const o=t===a-1;return u.jsx("div",{className:"bg-gray-700 text-white rounded-md p-1 mt-2",style:{padding:"2px 10px",border:"1px solid grey",borderRadius:"4px"},children:u.jsxs("div",{className:"flex justify-between items-center cursor-pointer grow",children:[u.jsx("div",{className:"flex justify-between items-center grow min-w-0",children:u.jsxs("div",{className:"flex min-w-0",children:[o?u.jsxs("svg",{className:"min-w-4 w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]}):u.jsxs("svg",{onClick:()=>n(t),className:"min-w-4 w-4 h-4 mr-2 text-blue-300 cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),u.jsx("strong",{title:o?"Default":e.url,className:"text-sm grow min-w-0 break-words truncate",children:o?"Default":e.url?`${e.url}`:"Sub URL"})]})}),!o&&a>1&&u.jsx("div",{children:u.jsx("button",{type:"button",className:"text-white bg-red-500 hover:bg-red-700 rounded-full min-w-4 h-6 w-6 text-xl font-semibold pt-px flex items-center justify-center ml-2",onClick:i=>{i.stopPropagation(),r(t)},children:"×"})})]})})},VS=h.memo(HS),GS=({data:e,id:t})=>{const{node:r,onDelete:n,handleChange:a}=e,[o,i]=h.useState(!1),[s,l]=h.useState(!1),[c,f]=h.useState({}),[d,p]=h.useState(r.data),[,m]=h.useState(r.data.message),x=(E,y)=>{const g=rn(E,y);f(v=>({...v,[E]:g}))},b=(E,y)=>{delete r.data.errors;const g={...d,[E]:y};p(g),a(r.id,g)},j=()=>{delete r.data.errors;const E=[...d.subUrls||[]],y=E.pop(),g={id:$r(),url:"",value:"",leadEmailTo:"",leadEmailCc:[],isCollapsed:!1};E.push(g),y&&E.push(y);const v={...d,subUrls:E};p(v),a(r.id,v),i(!0)},w=E=>{delete r.data.errors;const y=d.subUrls.filter((v,C)=>C!==E),g={...d,subUrls:y};p(g),a(r.id,g)},I=E=>{const y={...E,subUrls:E.subUrls.map(g=>({...g}))};m(Math.random().toString()),p(y),a(r.id,y)},T=()=>i(!1),N=E=>{d.subUrls.forEach(y=>{y.isCollapsed=!0}),d.subUrls[E].isCollapsed=!1,i(!0)},D=E=>{const{source:y,destination:g}=E;if(!g||y.index===0||g.index===0)return;const v=Array.from(d.subUrls),[C]=v.splice(y.index,1);v.splice(g.index,0,C);const k={...d,subUrls:v};p(k),a(r.id,k)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>l(!s),children:"URL"}),u.jsxs("div",{className:"flex",children:[u.jsx("button",{className:"text-gray-400 hover:text-white mr-3",title:"Expand",onClick:()=>i(E=>!E),children:u.jsx("svg",{className:"w-4 h-4 text-blue-500 cursor-pointer hover:text-blue-700",fill:"white",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 242.133 242.133",children:u.jsx("path",{id:"XMLID_15_",d:`M227.133,83.033c8.283,0,15-6.716,15-15V15c0-8.284-6.717-15-15-15H174.1c-8.284,0-15,6.716-15,15
	s6.716,15,15,15h16.82l-69.854,69.854L51.213,30h16.82c8.284,0,15-6.716,15-15s-6.716-15-15-15H15C6.717,0,0,6.716,0,15v53.033
	c0,8.284,6.717,15,15,15c8.285,0,15-6.716,15-15v-16.82l69.854,69.854L30,190.92V174.1c0-8.284-6.715-15-15-15
	c-8.283,0-15,6.716-15,15v53.033c0,8.284,6.717,15,15,15h53.033c8.284,0,15-6.716,15-15c0-8.284-6.716-15-15-15h-16.82
	l69.854-69.854l69.854,69.854H174.1c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15h53.033c8.283,0,15-6.716,15-15V174.1
	c0-8.284-6.717-15-15-15c-8.285,0-15,6.716-15,15v16.82l-69.854-69.854l69.854-69.854v16.82
	C212.133,76.317,218.848,83.033,227.133,83.033z`})})}),u.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})]})]}),!s&&u.jsxs("div",{className:"space-y-2 py-2 px-2",children:[u.jsxs("div",{children:[u.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:d.fieldLabel,onChange:E=>b("fieldLabel",E.target.value),onBlur:E=>x("fieldLabel",E.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.fieldLabel&&u.jsx("small",{className:"text-red-500",children:c.fieldLabel})]}),u.jsxs("div",{children:[u.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:d.property,onChange:E=>b("property",E.target.value),onBlur:E=>x("property",E.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),c.property&&u.jsx("small",{className:"text-red-500",children:c.property})]}),u.jsx(Bs,{onDragEnd:D,children:u.jsx(zs,{droppableId:"subUrls",children:E=>{var y;return u.jsxs("div",{...E.droppableProps,ref:E.innerRef,className:"space-y-2",children:[(y=d==null?void 0:d.subUrls)==null?void 0:y.map((g,v)=>{const C=v===d.subUrls.length-1;return u.jsxs("div",{className:"nodrag relative subOption-wrapper",children:[u.jsx($s,{draggableId:g.id,index:v,isDragDisabled:C,children:k=>u.jsx("div",{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,style:{...k.draggableProps.style,left:"auto !important",top:"auto !important",width:"100%"},children:u.jsx(VS,{subUrl:g,index:v,onDelete:w,length:d.subUrls.length,expandToEdit:N},v)})},g.id),u.jsx(Ne,{type:"source",position:Q.Right,id:g.id})]},v)}),E.placeholder]})}})}),u.jsxs("button",{className:"flex px-2 py-1 font-semibold text-white btn-primary-custom rounded items-center",onClick:j,children:[u.jsx("svg",{className:"w-4 h-4 text-white font-semibold cursor-pointer hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,id:t}),u.jsx(fn,{header:"Header",visible:o,style:{width:"100vw"},onHide:()=>{o&&T()},children:u.jsx(zS,{save:I,urlData:d,close:T})})]})},US=h.memo(GS),WS=({data:e,id:t})=>{var f,d,p,m,x,b,j;const{node:r,onDelete:n,handleChange:a}=e,[o,i]=h.useState(!1),[s,l]=h.useState(r.data),c=(w,I)=>{delete r.data.errors;const T={...s,[w]:I};l(T),a(r.id,T)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flow-node bg-gray-800 text-white rounded-md shadow-lg ${r.data&&r.data.errors&&Object.keys(r.data.errors).length>0?"error-in-node":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center py-2 px-2 border-b-4 border-indigo-500",children:[u.jsx("h3",{className:"text-sm font-semibold cursor-pointer mr-3",onClick:()=>i(!o),children:"WhatsApp Flow"}),u.jsx("div",{className:"flex",children:u.jsx("button",{title:"Delete Node",className:"text-white text-xl font-semibold bg-red-500 hover:bg-red-700 rounded-full h-6 w-6 flex items-center pt-px justify-center",onClick:()=>n(t),children:"×"})})]}),!o&&u.jsxs("div",{className:"space-y-2 py-2 px-2",children:[u.jsx("div",{children:u.jsx("input",{title:"Field Label",type:"text",maxLength:50,placeholder:"Field Label",value:s.fieldLabel,onChange:w=>c("fieldLabel",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsxs("div",{children:[u.jsx("input",{title:"Property Name",type:"text",maxLength:50,placeholder:"Property Name",value:s.property,onChange:w=>c("property",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((f=Object.keys(r.data.errors))==null?void 0:f.length)>0&&r.data.errors.property&&u.jsx("small",{className:"text-red-500",children:r.data.errors.property})]}),u.jsx("div",{children:u.jsx("input",{title:"Header",type:"text",maxLength:100,placeholder:"Header",value:s.header,onChange:w=>c("header",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsxs("div",{children:[u.jsx("input",{title:"Body",type:"text",maxLength:200,placeholder:"Body",value:s.body,onChange:w=>c("body",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((d=Object.keys(r.data.errors))==null?void 0:d.length)>0&&r.data.errors.body&&u.jsx("small",{className:"text-red-500",children:r.data.errors.body})]}),u.jsx("div",{children:u.jsx("input",{title:"Footer",type:"text",maxLength:100,placeholder:"Footer",value:s.footer,onChange:w=>c("footer",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsx("div",{children:u.jsx("input",{title:"Flow Token",type:"text",maxLength:200,placeholder:"Flow Token",value:s.flow_token,onChange:w=>c("flow_token",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"})}),u.jsxs("div",{children:[u.jsx("input",{title:"Flow ID",type:"text",maxLength:100,placeholder:"Flow ID",value:s.flow_id,onChange:w=>c("flow_id",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((p=Object.keys(r.data.errors))==null?void 0:p.length)>0&&r.data.errors.flow_id&&u.jsx("small",{className:"text-red-500",children:r.data.errors.flow_id})]}),u.jsxs("div",{children:[u.jsxs("select",{title:"Flow Action",value:s.flow_action,onChange:w=>c("flow_action",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded",children:[u.jsx("option",{value:"",children:"Select Flow Action"}),u.jsx("option",{value:"navigate",children:"Navigate"}),u.jsx("option",{value:"data_exchange",children:"Data Exchange"})]}),r.data.errors&&((m=Object.keys(r.data.errors))==null?void 0:m.length)>0&&r.data.errors.flow_action&&u.jsx("small",{className:"text-red-500",children:r.data.errors.flow_action})]}),u.jsxs("div",{children:[u.jsx("input",{title:"Submit Button",type:"text",maxLength:30,placeholder:"Submit Button (Max 30)",value:s.flow_cta,onChange:w=>c("flow_cta",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((x=Object.keys(r.data.errors))==null?void 0:x.length)>0&&r.data.errors.flow_cta&&u.jsx("small",{className:"text-red-500",children:r.data.errors.flow_cta})]}),u.jsxs("div",{children:[u.jsx("input",{title:"First Screen",type:"text",maxLength:100,placeholder:"First Screen",value:s.screen,onChange:w=>c("screen",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded"}),r.data.errors&&((b=Object.keys(r.data.errors))==null?void 0:b.length)>0&&r.data.errors.screen&&u.jsx("small",{className:"text-red-500",children:r.data.errors.screen})]}),u.jsxs("div",{children:[u.jsx("textarea",{rows:4,title:"Response Data",placeholder:"Response Data (JSON)",value:typeof s.responsedata=="object"?JSON.stringify(s.responsedata,null,2):s.responsedata,onChange:w=>c("responsedata",w.target.value),className:"nodrag w-full p-1 border border-gray-600 bg-gray-700 text-white rounded resize-none"}),r.data.errors&&((j=Object.keys(r.data.errors))==null?void 0:j.length)>0&&r.data.errors.responsedata&&u.jsx("small",{className:"text-red-500",children:r.data.errors.responsedata})]})]})]}),u.jsx(Ne,{type:"target",position:Q.Top,id:t}),u.jsx(Ne,{type:"source",position:Q.Bottom,className:"w-2 h-2 bg-white border-none"})]})},qS=h.memo(WS),XS=e=>e.map(({id:t,type:r,data:n,position:a})=>(n.subOptions&&(n.subOptions=n.subOptions.map(o=>{const{...i}=o;return i})),{id:t,type:r,data:n,position:a})),YS=(e,t,r={})=>{const n=e.slice(1),a=[],o=e.find(c=>c.type==="start"),i=t.find(c=>c.source===(o==null?void 0:o.id)),s=i?i.target:"",l=n.map(c=>{var m,x,b,j,w,I,T;const f=t.find(N=>N.source===c.id),d=f?f.target:null,p={flowId:c.id,nextFlowId:c.type!=="options"&&c.type!=="http"&&c.type!=="url"?d:"",type:c.type,content:((m=c.data.message)==null?void 0:m.trim())||""};if((c.type==="options"||c.type==="question"||c.type==="url"||c.type==="whatsAppFlow")&&(p.fieldLabel=(x=c.data.fieldLabel)==null?void 0:x.trim()),(c.type==="options"||c.type==="question"||c.type==="http"||c.type==="customForm"||c.type==="url"||c.type==="whatsAppFlow")&&(p.property=(b=c.data.property)==null?void 0:b.trim()),c.type==="options"&&(p.meta={fallback:(j=c.data.fallback)==null?void 0:j.trim(),dataSource:(w=c.data.dataSource)==null?void 0:w.trim()}),c.type==="file"){const N=Ip(c.data.fileType);c.data.files.length>0?p.meta={type:N,media:c.data.files.map(D=>{var E,y;return{name:D.name||"Unnamed file",url:((E=D.url)==null?void 0:E.trim())||"",type:Us((y=D.url)==null?void 0:y.trim())}})}:p.meta={type:N,media:c.data.urls.map(D=>({url:(D==null?void 0:D.trim())||"",type:Us(D==null?void 0:D.trim())}))}}if(c.type==="map"&&c.data.url&&(p.meta={url:(I=c.data.url)==null?void 0:I.trim()}),c.type==="question"&&(c.data.fieldType==="number"||c.data.fieldType==="string"||c.data.fieldType==="age"?p.meta={min:c.data.min?parseInt(c.data.min):c.data.min,max:c.data.max?parseInt(c.data.max):c.data.max,type:c.data.fieldType}:c.data.fieldType==="date"?p.meta={min:c.data.min?la(c.data.min,!0):c.data.min,max:c.data.max?la(c.data.max,!1,!0):c.data.min,type:c.data.fieldType}:c.data.fieldType==="datetime"?p.meta={min:c.data.min?la(c.data.min):c.data.min,max:c.data.max?la(c.data.max):c.data.min,type:c.data.fieldType}:c.data.fieldType==="time"?p.meta={min:Ws(c.data.min),max:Ws(c.data.max),type:c.data.fieldType}:c.data.fieldType==="custom"?p.meta={custom:(T=c.data.custom)==null?void 0:T.trim(),type:c.data.fieldType}:p.meta={type:c.data.fieldType},p.meta.dateFormat=c.data.dateFormat||"",p.meta.errorMessage=c.data.errorMessage||""),c.data.subOptions&&(p.children=c.data.subOptions.map(N=>{var E,y,g,v,C,k;const D=t.find(O=>O.sourceHandle===N.id);return{id:N.id,flowId:N.id,isLink:N.isLink,title:(E=N.title)==null?void 0:E.trim(),subTitle:(y=N.subTitle)==null?void 0:y.trim(),imageUrl:(g=N.imageUrl)==null?void 0:g.trim(),value:(v=N.value)==null?void 0:v.trim(),category:(C=N.category)==null?void 0:C.trim(),description:N.description,leadEmailTo:(k=N.leadEmailTo)==null?void 0:k.trim(),leadEmailCc:N.leadEmailCc?[...N.leadEmailCc]:[],nextFlowId:D?D.target:void 0}})),c.data.subUrls&&(p.children=c.data.subUrls.map(N=>{var E,y,g;const D=t.find(v=>v.sourceHandle===N.id);return{id:N.id,flowId:N.id,url:(E=N.url)==null?void 0:E.trim(),value:(y=N.value)==null?void 0:y.trim(),leadEmailTo:(g=N.leadEmailTo)==null?void 0:g.trim(),leadEmailCc:N.leadEmailCc?[...N.leadEmailCc]:[],nextFlowId:D?D.target:void 0}})),c.type==="http"){if(p.meta={displayText:c.data.displayText,requestType:c.data.requestType,hideData:c.data.hideData,url:c.data.url,successFlowId:qc(c.data.successFlowId,t),failureFlowId:qc(c.data.failureFlowId,t)},c.data.params.length>0){const N=c.data.params.map(D=>({key:D.key,valueType:D.valueType,value:Xc(D.valueType,D.value)}));p.meta.params=N}if(c.data.headers.length>0){const N=c.data.headers.map(D=>({key:D.key,valueType:D.valueType,value:Xc(D.valueType,D.value)}));p.meta.headers=N}if(c.data.statusWiseFlow.length>0){const N=c.data.statusWiseFlow.map(D=>{const E=t.find(y=>y.sourceHandle===D.id);return{statusCode:D.statusCode,flowId:D.id,nextFlowId:E?E.target:void 0}});p.meta.statusWiseFlowId=N}}return c.type==="callConnect"&&(p.content=c.data.message,p.meta={callConnectId:c.data.callConnectId,callAccepted:c.data.callAccepted,callRejected:c.data.callRejected,successMessage:c.data.successMessage,failureMessage:c.data.failureMessage}),c.type==="otp"&&(p.content=c.data.message,p.meta={otpType:c.data.otpType}),c.type==="customForm"&&(p.property=c.data.property,p.content=c.data.message,p.meta={customFields:c.data.customFields}),c.type==="url"&&(p.property=c.data.property,p.meta={subUrls:c.data.subUrls}),c.type==="whatsAppFlow"&&(p.meta={header:c.data.header,body:c.data.body,footer:c.data.footer,flow_token:c.data.flow_token,flow_id:c.data.flow_id,flow_action:c.data.flow_action,flow_cta:c.data.flow_cta,screen:c.data.screen,responsedata:c.data.responsedata}),a.push({nodeId:c.id,position:c.position}),p});return{_id:r._id||"",organizationId:r.organizationId||"",botId:r.botId||"",createdAt:new Date().toISOString(),version:0,startFlowId:s,flows:l,__v:0,deployedAt:new Date().toISOString(),modifiedAt:new Date().toISOString(),positions:a}},qc=(e,t)=>{const r=t.find(n=>n.sourceHandle===e);return(r==null?void 0:r.target)||""},Xc=(e,t)=>e==="number"?Number(t):e==="date"?new Date(e):t,KS=({flowData:e,flowList:t,onSave:r,onVersionSelected:n,onDelete:a})=>{const o=h.useMemo(()=>({start:BS,message:ES,options:OS,leadForm:CS,leadFlow:xS,gpt:Kj,stop:_S,file:Xj,map:SS,question:LS,callConnect:Dx,otp:MS,customForm:Vj,url:US,whatsAppFlow:qS,http:yS}),[]),i=h.useMemo(()=>({custom:Sx}),[]),[s,l]=h.useState([]),[c,f]=h.useState([]),[d,p]=h.useState({}),[m,x]=h.useState(!0),[b,j]=h.useState(null),[w,I]=h.useState(!1),T=h.useRef(null),N=h.useRef(!1),D=h.useRef(""),E=h.useRef({}),y=h.useRef({}),g=()=>{p({})};h.useEffect(()=>{N.current&&e&&(N.current=!1,T.current&&T.current.show({severity:"success",summary:"Chatbot Flow",detail:"Chatbot Flow Design has been saved successfully",life:5e3}));const{flowNodes:$,flowEdges:q}=qs(e);l($),f(q)},[e]),h.useEffect(()=>{x(s.length<2||Object.keys(d).length>0)},[s,d,c]);const v=h.useCallback($=>{g(),l(q=>yd($,q))},[]),C=h.useCallback($=>{if($[0].type==="reset"&&!w&&y.current){D.current="Edge Delete",y.current=$,I(!0);return}g(),f(q=>Fl($,q))},[w]),k=$=>{g(),f(q=>Fl($,q))},O=$=>{g(),f(q=>{const J=q.filter(ne=>{const de=ne.source===$.source,X=ne.sourceHandle===$.sourceHandle;return!de||ne.sourceHandle&&!X});return Qu({...$,type:"custom"},J)})},P=h.useCallback($=>{$.preventDefault(),$.dataTransfer.dropEffect="move"},[]),S=h.useCallback($=>{if(!b){console.error("React Flow instance is not initialized yet.");return}if(g(),$.preventDefault(),!$.dataTransfer.getData("application/reactflow"))return;const q=b==null?void 0:b.screenToFlowPosition({x:$.clientX,y:$.clientY}),J=Tp($,q);l(ne=>ne.concat(J))},[b]),R=($,q)=>{g();const J=s.map(ne=>ne.id===$?{...ne,selected:!1,data:{...ne.data,...q}}:{...ne,selected:!1});l(J)},A=h.useCallback($=>{g(),l(q=>q.filter(J=>J.id!==$)),f(q=>q.filter(J=>J.source!==$&&J.target!==$))},[]),_=$=>{if(!w&&$){D.current="Node Delete",E.current=$,I(!0);return}},L=h.useCallback($=>{if($.key==="Delete"){const q=s.filter(ne=>ne.selected),J=c.filter(ne=>ne.selected);if(!w&&q.length>0){D.current="Node Delete",E.current=q[0].id,I(!0);return}if(!w&&J.length>0){D.current="Edge Delete",y.current=J,I(!0);return}q.length>0&&(A(q[0].id),f(ne=>ne.filter(de=>!q.some(X=>X.id===de.source||X.id===de.target)))),J.length>0&&f(ne=>ne.filter(de=>!J.includes(de)))}},[s,c,w,A]),M=h.useCallback($=>{g(),f($.reduce((q,J)=>{const ne=F0(J,s,c),de=L0(J,s,c),X=ls([J],c),ie=q.filter(Ce=>!X.includes(Ce)),we=ne.flatMap(({id:Ce})=>de.map(({id:ae})=>({id:`${Ce}->${ae}`,source:Ce,target:ae})));return[...ie,...we]},c))},[s,c]),F=($,q)=>{$.dataTransfer.setData("application/reactflow",q)},H=$=>{if(s.length<2){const X={};return X.MinNodes="Minimum 2 nodes required for a valid flow",p(X),!1}let q={},J={};for(const X of s)if(X.type==="message"){const ie=Pp(X.data);q={...q,...ie}}else if(X.type==="options"){const ie=Op(X,X.data,s,c);q={...q,...ie}}else if(X.type==="url"){const ie=Rp(X.data);q={...q,...ie}}else if(X.type==="whatsAppFlow"){const ie=Mp(X.data);q={...q,...ie}}else if(X.type==="file"){const ie=Ap(X.data);q={...q,...ie}}else if(X.type==="map"){const ie=Lp(X.data);q={...q,...ie}}else if(X.type==="question"){const ie=Fp(X.data);q={...q,...ie}}else if(X.type==="callConnect"){const ie=Bp(X.data);q={...q,...ie}}else if(X.type==="otp"){const ie=_p(X.data);q={...q,...ie}}else if(X.type==="http"){const{newErrors:ie,newWarnings:we}=$p(X,s,c);q={...q,...ie},J={...we}}if(Object.keys(q).length>0){p(q);const X=Object.values(q);T.current&&T.current.show(X.map(ie=>({severity:"error",summary:"Error",detail:ie,life:3100}))),l(s),x(!0);return}if($&&Object.keys(J).length>0){const X=Object.values(J);T.current&&T.current.show(X.map(ie=>({severity:"warn",summary:"Warning",detail:ie,life:3100}))),x(!0);return}const ne=XS(s),de=YS(ne,c,e);N.current=!0,r(de,$)},z=()=>{D.current="",I(!0)},V=()=>{const{flowNodes:$}=qs(),q=c.filter(J=>J.selected);if(D.current=="Node Delete"){A(E.current),I(!1);return}else if(D.current==="Edge Delete"){y.current.length>0&&f(J=>J.filter(ne=>!q.includes(ne))),I(!1);return}l([$[0]]),f([]),I(!1)},W=()=>{a(e)};return h.useEffect(()=>{const $=document.getElementById("reactflow-wrap");return $&&$.addEventListener("keydown",L),()=>{$&&$.removeEventListener("keydown",L)}},[L]),u.jsxs(bp,{children:[u.jsxs("div",{className:"flow-diagram",children:[u.jsx("div",{id:"reactflow-wrap",className:"reactflow-wrapper",children:u.jsx("div",{className:"flex flex-col h-full",children:u.jsx("div",{className:"reactflow-box",onDrop:S,onDragOver:P,children:u.jsx(ps,{children:u.jsxs(Pd,{nodes:s.map($=>({...$,data:{node:$,nodes:s,handleChange:(q,J)=>R(q,J),onDelete:_,edges:c,updateEdges:k,setNodes:l}})),edges:c,onInit:j,onNodesChange:v,onEdgesChange:C,onConnect:O,nodeTypes:o,edgeTypes:i,onNodesDelete:M,children:[u.jsx(hb,{}),u.jsx(jb,{}),u.jsx(jx,{})]})})})})}),u.jsx(mu,{ref:T}),u.jsx("div",{className:"toolbar",children:u.jsx(Db,{onDragStart:F,clearFlow:z,onSave:$=>H($),errors:d,nodes:s,flowList:t,onFlowSelectionChange:n,flowId:e==null?void 0:e._id,onDelete:W,flowData:e,isSaveDisabled:m})})]}),u.jsx(fn,{header:"Confirmation",visible:w,style:{width:"25vw"},onHide:()=>I(!1),footer:u.jsx(Sb,{onAccept:V,onReject:()=>I(!1)}),children:u.jsx("p",{className:"mb-3 text-red",children:"Are you Sure that you want to proceed?"})})]})};async function Yc(e){const{organizationId:t}=tn.getState(),{selectedBotId:r}=eo.getState();return await ZS(t,r,e)}async function ZS(e,t,r){return await Hi(`/bot/${e}/${t}/chat-flow/${r}`)}async function JS(e){try{const{organizationId:t}=tn.getState(),{selectedBotId:r}=eo.getState(),n=await Hi(`/bot/${t}/${r}/chat-flow/${e}/startup`);if(typeof n=="string"&&n.startsWith("<"))throw new Error("Invalid JSON response, received HTML");return n}catch(t){return console.error("Error fetching startup with Flow ID:",t),null}}async function QS(e,t,r,n=!1){const a=tn.getState(),o=eo.getState();e||(e=a.organizationId),t||(t=o.selectedBotId);const i=`/bot/${e}/${t}/chat-flow${n?"?deploy=true":""}`;return await Cp(i,r)}async function ek(e,t,r){return await jp(`/bot/${e}/${t}/chat-flow/${r}`,null)}async function tk(){const{organizationId:e}=tn.getState(),{selectedBotId:t}=eo.getState();return(await Hi(`/bot/${e}/${t}/chat-flow`)).map(rk).sort((n,a)=>n.label.includes("Draft")?-1:a.label.includes("Draft")?1:0)}function rk(e){return{value:e._id,label:`v${e.version} - ${e.deployedAt?"Deployed":"Draft"}`}}const nk=()=>{};function ak({flowId:e,flow:t}){const[r,n]=ru(),[a,o]=B.useState(),[i,s]=B.useState(!1);return h.useEffect(()=>{let l=!0;return(async()=>{if(!e||(t==null?void 0:t.length)===0){o(null);return}try{s(!0);const f=await JS(e);l&&o(f||null)}catch(f){console.error("Failed to fetch startup flow:",f),l&&o(null)}finally{l&&s(!1)}})(),()=>{l=!1,xp()}},[e,t,r]),n?u.jsx(u.Fragment,{children:i?u.jsx("div",{children:"Loading chat preview..."}):u.jsx(Gp,{botDetails:n,botDesign:n.botDesign,startupFlow:a,autoLaunch:!1,recipientId:Wp(),onReceiveChatResponse:nk,onCallback:Up},r)}):u.jsx(qp,{})}function Mk(){const{botId:e}=ip(),[t,r]=B.useState(null),[n,a]=B.useState(),[o,i]=B.useState(""),s=B.useRef({flow:n});s.current.flow=n;const l=B.useCallback(()=>{tk().then(d=>{var p,m;r(d),(p=d[0])!=null&&p.value?i((m=d[0])==null?void 0:m.value):(a([]),i(""))})},[e]);B.useEffect(l,[l,e]),B.useEffect(()=>{var d;!o||((d=s.current.flow)==null?void 0:d._id)===o||Yc(o).then(p=>{p.length===0&&!p?a([]):a(p)})},[o,e,Yc]);const c=B.useCallback(async(d,p)=>{const m=await QS(d.organizationId,d.botId,d,p===!0);i(m._id),a(m),l()},[l]),f=B.useCallback(async d=>{await ek(d.organizationId,d.botId,d._id)&&(r(null),i(""),l())},[l]);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-6",children:u.jsx(Xp,{title:"Chat Bot Flow"})}),u.jsx(KS,{flowData:n,flowList:t,onSave:c,onVersionSelected:i,onDelete:f}),u.jsx(ak,{flowId:o,flow:n})]})}export{Mk as default};
